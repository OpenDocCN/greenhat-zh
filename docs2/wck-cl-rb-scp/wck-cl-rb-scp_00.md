# 简介

![INTRODUCTION](img/00001.jpg)

所以你已经阅读了一些关于 Ruby 的入门书籍，你对语法有了很好的感觉，你已经用 20 种不同的优化方式写出了 "Hello, world!"——现在怎么办？这本书旨在通过 Ruby 作为脚本语言来锻炼你的思维。

脚本——即自动化那些你不愿意亲自完成的重复性任务——是一个优秀的语言必须能够做到的事情。Perl 和 Python 是最广为人知的脚本语言之一，它们的流行度与它们在脚本编写方面的实用性直接相关。编写实用工具不应该是一项晦涩的任务，脚本也不应该花费过多的时间去创建。正是在这种精神下，Ruby 诞生了。

Ruby 的设计者，Yukihiro "Matz" Matsumoto，有一个整体的目标，那就是创建一个易于在日常任务中使用的语言。他认为语言应该是有趣的，这样就可以把更多的精力投入到创意过程中，减少压力。当程序员没有被语言的特殊性所分散注意力时，他们可以专注于编写更好的程序。当你需要编写脚本时，你最不想担心的是奇怪的语法和编译器解释你的代码。Ruby 的编写方式使得语法和编程流程自然。我发现 Ruby 的自然语法、优秀的社区和简单的编程观让我感到舒适。正如你将在本书的整个过程中看到的那样，Ruby 使得脚本编写变得轻而易举！

掌握 Ruby 的脚本编写技能是一项无价的技能。你会发现，通过自动化重复性任务，你可以节省大量的时间去做更重要的事情……比如编写其他酷炫的 Ruby 脚本。我希望这本书能帮助你看到 Ruby 的多种用途，并让你成为一个更好的程序员。

# 酷炫的 Ruby 脚本

什么让一个酷炫的 Ruby 脚本与一个普通脚本区分开来？一个酷炫的脚本是有用的、有挑战性的，最重要的是，它具有教育意义。这里所说的教育意义并不是指学校老师的意思，而是作为一种刺激，使用 Ruby 充分发挥其潜力——将语言推向极限。

# 你需要 Ruby 的基础知识

我不会专注于教你 Ruby 的基础知识——这本书不是为那些想要学习 Ruby 101 的人准备的。当然，即使你对 Ruby 不够精通，你也可以使用这些脚本并看到 Ruby 的潜在应用。但为了充分利用所提供的信息，我假设你已经熟悉 Ruby，并且不需要解释语言中的简单特性。我将简要地浏览每个脚本，并仅突出最重要的部分。

# 文档

您可能会注意到书中代码和可在 [`www.nostarch.com/wcruby.htm/`](http://www.nostarch.com/wcruby.htm/) 下载的源代码之间有一些细微的差异。为了简洁起见，书中源代码中的大部分注释和文档都被移除了。如果我觉得需要清晰度，一些脚本会有更详细的解释。我强烈建议您注释自己的代码，这样您和其他人都能理解它是如何工作的。

* * *

### 注意

*当我开始编程时，我花了好几个小时来审查我之前编写的代码，以了解它是如何工作的。经过几轮没有注释的代码学习后，我学到了一个重要的教训——在您记忆清晰的时候注释您的代码。注释的数量取决于您，但养成一个好的编码习惯无疑是值得的*。

* * *

# 组织和方式

对于每个脚本，我将向您介绍其逻辑和用法，然后讲解编写脚本所涉及的底层原理。最后，我将让您亲自操作，并建议一些方法，您可以修改脚本以使其更适合自己，并更加灵活。这些脚本可能无法满足您的所有需求，但我的希望是它们能帮助您思考如何编写自己的脚本——通过实例学习。您可以自由下载这些脚本，并按您希望的方式使用它们。

**第一章: 通用工具**

> Ruby 是创建小型日常脚本的理想语言。本章包括用于加密和解密文件、分割和合并文件、压缩和解压缩文件、跟踪文件更改、查看运行进程的完整列表以及计算您的按揭付款等简单任务的实用工具。

**第二章: 网站脚本**

> Ruby 和网络就像马车和马一样相得益彰。如果您熟悉 Ruby，那么您可能已经听说过 Rails，这个推动 Ruby 广泛应用的 Web 框架。本章包含使网站管理、RSS 解析和 Web 表单生成更简单的脚本。您还可以使用本章中的脚本进行质量保证测试，因为它们会检查断开的超链接和孤儿文件。

**第三章: Li(U)nix 系统管理**

> 通过使用脚本，系统管理可以变得更加容易，Ruby 是自动化日常系统管理任务的理想语言。本章包括用于管理用户以及检测和终止设备上进程的脚本来进行系统管理。自动化系统管理任务是脚本的主要用途之一，也是最具创造性的领域。

**第四章: 图片工具**

> 数码摄影已经成为捕捉和分享记忆的新方式，无论是通过网络、电子邮件还是实体介质。然而，我遇到的一个问题是，我拍摄的图片数量变得令人难以承受。我无法做我以前喜欢的事情，比如整理、润色或与他人分享照片，因为图片太多，我没有足够的时间浏览它们。本章将向您展示自动化调整大小、重命名和组织您的数码照片的繁琐任务的方法。我还会向您展示如何通过在照片上添加水印来保护您的创意作品。对于喜欢分析图片信息的读者，本章还演示了如何从元数据中提取信息。

**第五章：游戏和学习工具**

> 本章展示了可以使用 Ruby 开发的简单游戏。你是否已经感受到了数独热潮？数独求解器将比您输入数字所需的时间更短地解决一个谜题。那么，一个互动式的剪刀石头布对手呢？我将向您展示几个其他有趣的脚本，并解释它们，以便您可以制作自己的游戏并娱乐您的朋友。

**第六章：字符串工具**

> Ruby 的文本操作和处理工具非常强大。本章将深入探讨解析逗号分隔值（CSV）文件、生成和操作文档以及搜索文档中的特定字符串。 

**第七章：服务器和抓取器**

> 在互联网的虚空中，有大量的信息漂浮。本章将向您展示如何提取这些信息并将其放入易于使用的格式中。例如，您可以抓取网站上的所有图片并将它们保存到指定文件夹中，使用特定的命名约定。您将学习如何自动化您的网络浏览器以导航网站、填写表格以及像典型用户一样进行操作。我还会向您展示如何使用 Ruby 脚本自动向您的朋友发送短信。

**第八章：参数和文档**

> 在阅读完这本书之后，您将很好地理解如何在现实世界中使用 Ruby。本章将向您展示如何润色并给您的酷炫脚本添加最后的修饰。您将能够迅速编写自己的专业脚本！

**第九章：排序算法**

> 本章收集了在学术界流行的排序算法，以及一些值得了解的算法。这些算法使用 Unit:Test 库进行分析和测试，以展示性能和效率的差异。由于任何给定问题都有无数种解决方案，拥有多个选项将增加你选择最合适答案的机会。你可以使用 Unit:Test 库来发现哪些方法是最高效和最有效的。

**第十章：使用 Ruby 编写 Metasploit 3.1 模块**

> 计算机安全是一个快速发展的领域，Metasploit 是可用于安全研究的一个工具。本章结合了我最喜欢的两个主题，并展示了如何使用 Ruby 和 Metasploit 编写一个漏洞利用程序。我们将一步步指导你如何编写一个自定义的漏洞利用程序。

# 网站信息

本书官方网站为[`www.nostarch.com/wcruby.htm/`](http://www.nostarch.com/wcruby.htm/)。在这里，你可以下载本书中的所有脚本，以及获取关于更改和更新的最新信息。你还可以找到勘误表，其中将包含任何需要的修正（如果你遇到困难，请务必查看此页面）。
