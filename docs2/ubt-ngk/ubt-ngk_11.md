# 第十一章。多语种企鹅

### Linux 支持您的语言

![无标题图片](img/httpatomoreillycomsourcenostarchimages656092.png.jpg)

现在，几乎所有的操作系统都是多语言的，或者至少有成为多语言的能力。Linux 也是如此。只需打开您的网络浏览器，无需进行任何特殊安装，您就可以阅读任何欧洲语言的页面，包括使用西里尔字母的语言，如俄语。您甚至可以查看中文、日语、泰语、阿拉伯语和希伯来语的页面，仅举几个例子。

但 Linux 的多语言能力远不止于此，它处理多语言的方式使得充分利用这些能力变得非常容易。您很快就会看到，您甚至可以设置系统，使其提供完全陌生的语言环境，让您能够完全使用您选择的语言进行操作。再加上不断增多的用于语言学习的免费程序，您就拥有了一个真正有意义的语言学习工具。

# 只读语言支持

如果您只想能够阅读用外语编写的网页或文档，除了少数情况外，您不需要安装任何额外的语言支持。从一开始，您就能查看系统中的任何语言文档——无论是瑞典语、意大利语、中文、日语、阿拉伯语、希伯来语、俄语、越南语、亚美尼亚语还是泰语。您将能够阅读您语言能力范围内的任何内容（参见图 11-1 以获取示例）。

![Firefox 中显示的日语网页](img/httpatomoreillycomsourcenostarchimages656433.png.jpg)

图 11-1. Firefox 中显示的日语网页

Firefox 通常能自动识别网页所使用的语言，并因此正确显示页面。然而，有时页面的作者可能会忘记在 HTML 中包含该页面的字符编码，在这种情况下，Firefox 由于不知道页面是用另一种语言准备的，通常会以您的系统默认语言打开它。结果是，您看到的页面只是一些没有意义的符号和字母的奇怪组合。在这种情况下，尝试将 Firefox 中的字符编码更改为您认为页面使用的语言编码。一些语言使用多种编码方案，所以如果您不确定，可以尝试每一种。您可以通过访问 Firefox 的**查看**菜单并选择**字符编码**来做出选择。在子菜单中，您可以选择该页面的适当编码。

# 输入非标准字符

在 Linux 中输入非标准英语字符，如 *é*, *ç*, *ß*, *ø*, *æ*, 和 *å*，可以非常容易地完成，无需任何修改。在大多数情况下，你可以通过使用系统包含的字符映射表工具来完成此操作，该工具可以在**应用程序** ▸ **附件** ▸ **字符映射表**中找到。运行字符映射表后，将出现一个类似于图 11-2 所示的窗口。

![使用字符映射表工具输入字符](img/httpatomoreillycomsourcenostarchimages656435.png.jpg)

图 11-2. 使用字符映射表工具输入字符

要输入你想要的字符，只需在窗口的左侧面板中选择语言或字符集，然后，在右侧面板中，双击你想要输入的字符。该字符将出现在窗口底部的“要复制的文本”旁边的输入框中。只需点击**复制**按钮，然后将其粘贴到你想要放置的位置。

OpenOffice.org 提供了一种你可以使用的方法。在菜单栏中点击**插入**，然后选择**特殊字符**。将打开一个选择窗口，你可以在那里选择你想要的字符。完成选择后，点击**确定**按钮，字符将出现在你的文档中，之后选择窗口将自动关闭。双击你想要的字符也会完成相同的事情。

## 使用组合键选项

如果你偶尔需要输入重音或变音符号，并且不特别想打开应用程序或进入特殊菜单来这样做，使用键盘的**组合键选项**是一个不错的选择。基本上这意味着你使用键盘上较少使用的键与六个符号（` , ' ˜ " ^）结合使用，以帮助创建，或者说，带重音的字符。

在你可以使用此功能之前，你必须选择你想要用作组合键的键。在这个例子中，我将使用右边的**alt**键，因为大多数人很少使用它。以下是你需要做的：

1.  前往**系统**菜单，然后选择**首选项** ▸ **键盘**。

1.  在出现的键盘首选项窗口中，点击**布局**选项卡，然后点击**选项**按钮。

1.  在键盘布局选项窗口中，点击“**+**”按钮旁边的“**组合键位置**”。

1.  在你想要用作组合键的键旁边的框中勾选（图 11-3). 然后，关闭键盘布局选项窗口和键盘首选项窗口。

    ![选择你的组合键](img/httpatomoreillycomsourcenostarchimages656437.png.jpg)

    图 11-3. 选择你的组合键

完成这些操作后，你可以使用你的组合键来输入这些字符。比如说，如果你想输入带重音的 *u*（即 *ü*）。当你按下右 **alt** 键（或你选择的任何组合键），你会按下 "."。然后你会释放右 **alt** 键，按下 u，*voilà*——你就得到了一个 *ü*！这里有一些更多的例子：

| **á** | 右 **alt** + ' 然后按 a |
| --- | --- |
| **ç** | 右 **alt** + , 然后按 c |
| **è** | 右 **alt** + ` 然后按 e |
| **ñ** | 右 **alt** + ˜ 然后按 n |
| **ô** | 右 **alt** + ^ 然后按 o |

### 注意

这些序列基于美国键盘布局。其他布局的组合可能不同。

## 添加键盘布局

如果你经常使用某种特定的外文进行打字，那么为使用的语言或语言添加全新的键盘布局可能更方便。例如，如果你经常使用瑞典语，并且经常使用字符 *å*、*ä* 和 *ö*，使用适当的键盘布局会比反复使用字符映射表更简单。如果你使用的是希腊语、俄语、塞尔维亚语、格鲁吉亚语或任何使用完全不同字母表的其它语言，这一点尤其正确。当然，你必须熟悉你选择的每种语言的键盘布局，或称 *keymap*，但这相对容易。

要将外文键盘布局添加到系统配置中，这里需要你做的所有事情：

1.  选择 **系统** ▸ **首选项** ▸ **键盘**。

1.  在键盘首选项窗口中，点击 **布局** 选项卡。

1.  在布局选项卡中，点击 **添加** 按钮。

1.  在随后出现的 **选择布局** 窗口中，选择你想要添加的键盘布局，完成后，点击 **添加** (图 11-4)。

1.  重复步骤 3–4 来添加其他布局（最多四个布局）。

1.  完成后，你的窗口应该看起来像 图 11-5，但键盘布局选择略有不同。点击 **关闭** 完成过程。

    ![选择和查看外文键盘映射](img/httpatomoreillycomsourcenostarchimages656439.png.jpg)

    图 11-4. 选择和查看外文键盘映射

    ![查看系统上的活动键盘布局](img/httpatomoreillycomsourcenostarchimages656441.png.jpg)

    图 11-5. 查看系统上的活动键盘布局

关闭键盘首选项窗口后，键盘布局指示器将出现在顶部面板的右上角。会出现*USA*或*GBr*字母，表示你目前正在使用你的英语语言键映射。如果你点击该指示器，你可以在你激活的任何其他布局之间切换。如果你不确定当前键映射中键的位置，你可以通过右键单击指示器并在下拉菜单中选择**显示当前布局**来获得一些帮助，之后一个新布局的图将在一个单独的窗口中出现。该窗口中显示的键映射可能很难辨认，所以你可能需要通过拖动其底部角落之一来扩展窗口。你还可以通过点击**打印**按钮从该窗口打印布局的副本。

如果你只想选择一个键盘布局来替换当前的布局（例如，使用英国英语而不是美国英语或德语而不是西班牙语），你可以在键盘首选项窗口中这样做。只需添加你想要使用的键盘布局，然后通过点击每个布局并点击**移除**按钮来删除任何额外的布局。

# 中文、日文和韩文输入

对于大多数欧洲语言（以及许多其他基于字母的非欧洲语言），在键盘上按下一个字母键会直接将这个字母打印到屏幕上。然而，中文、日文和韩文需要一种转换过程，这个过程由一个特殊的应用程序（实际上是一系列应用程序）处理，称为*输入法编辑器（IME）*。每种语言都有自己的 IME，而且由于三种书写系统的基本差异，每个 IME 都相当不同。

## 中文

尽管大多数人（至少是那些懂语言学的人）会认为中文是最复杂的系统，因为书写系统由数千个字符组成，但实际上它是最简单的。中文 IME 只是将罗马化键盘输入，即*拼音*，转换成中文字符，或*汉字*。对于 IME 来说，这本质上是一个简单的字典查找任务——大字典，简单的 IME。如果拼音输入对应多个字符，会出现一个可能的候选列表，然后用户可以从该列表中选择适当的字符。较新的中文 IME 也具有预测能力，它们根据你迄今为止输入的内容来判断你试图输入的内容（图 11-6). 虽然这些更“智能”的 IME 一开始可能有点难以使用，但一旦你掌握了技巧，它们会变得相当方便。

![中文 IME 可以预测你将要写的内容……某种程度上](img/httpatomoreillycomsourcenostarchimages656443.png.jpg)

图 11-6. 中文 IME 可以预测您将要写的内容……某种程度上。

## 日语

日语的 IME 执行的任务相当复杂，因为它需要处理三种书写系统：*汉字*（很久以前从中国借用的表意文字）、*平假名*（主要用于时态和格尾的音字母系统）和*片假名*（主要用于从其他语言借用的单词）。尽管如此，日语的标准输入方法主要是通过标准的罗马键盘布局，加上一些额外的特殊功能键。因此，在日语中输入是一个两步过程，IME 首先将按下的罗马化文本即时转换成平假名，然后在按下空格键后将其转换成适当的汉字、片假名或平假名元素。

您可以在图 11-7 中看到这些步骤的示例。在第一行，IME 已经即时转换了罗马化输入。它将*rinakkusdenihongonyuuryokugamodekimasu*（意为“您可以在 Linux 中输入日语”）转换成了平假名。当一行平假名被高亮显示时，这意味着该行尚未转换到更高层次。然而，在第二行，用户随后按下了空格键，这导致 IME 将平假名字符串转换成适当的汉字、平假名和片假名元素。第一个单词 *Linux* 被转换成了片假名文本，因为它是一个借词，而 *Japanese input* 被转换成了汉字；其余部分保持为平假名。

![在输入日语时进行 IME 转换](img/httpatomoreillycomsourcenostarchimages656445.png.jpg)

图 11-7. 在输入日语时进行 IME 转换

## 韩语

韩国 IME 的工作与中文和日语 IME 的工作又有所不同，因为语言是以非常不同的方式书写的。韩语要么完全使用字母，称为*韩文*，要么是韩文和从中国借用的表意文字*汉字*的组合。虽然汉字字符本质上与它们的中文和日语对应物相同，即汉字和汉字，但韩语音字母表，韩文，具有其独特的外观，正如您在图 11-8 中看到的韩国单词 *Hangug(k)* 一样。

![韩语（韩文）水平书写](img/httpatomoreillycomsourcenostarchimages656447.png.jpg)

图 11-8. *韩国（韩文）水平书写*

这看起来很简单；然而，这种表示并不完全正确，因为韩文在字母字符排版方式上非常独特。与平假名、片假名以及大多数使用字母书写的语言通常并排排列不同，韩文字母以成对、三联或四联的形式组合，通常按顺时针方向书写。因此，IME 必须在输入时（通常基于韩文字母键盘布局）处理输入，并且它必须调整每个字母的大小、间距和位置，以便将它们放入适当的聚类中（参见 图 11-9）。

![韩国输入法引擎（IME）中的聚类过程示例](img/httpatomoreillycomsourcenostarchimages656449.png.jpg)

图 11-9. 韩国输入法引擎（IME）中的聚类过程示例

# 项目 11：设置亚洲语言支持

那么，如果你想在常规的英文环境中输入中文、日文、韩文、印地语、泰语或尼泊尔语，你会怎么做？如果你想在同一份文档中输入所有这些语言，你能做到吗？

当然。

实际上，有几种方法可以做到这一点，但在 Ubuntu 中默认的方法是易于使用的智能输入总线（IBus）。IBus 支持大多数亚洲语言，包括中文、日文和韩文，并为这些语言中的许多提供了多种输入法。

## 11-1: 选择输入法模块

要使用 IBus，你首先需要为想要输入的语言选择合适的输入模块。为此，转到 **系统** 菜单，然后选择 **首选项** ▸ **IBus 首选项**。随后将弹出一个窗口询问你是否想要启动 IBus 守护进程。点击 **是**，之后可能还会出现另一个窗口告诉你如果无法使 IBus 运作时应该怎么做。在那个窗口中点击 **确定**。（幸运的是，这两个窗口只会在你第一次启动 IBus 时出现。）然后会出现 IBus 首选项窗口。点击 **输入法** 选项卡。

### 注意

*守护进程* 是一种在后台运行的程序，普通用户通常不知道它的存在，它为系统提供额外的功能。在 IBus 的例子中，这种额外功能是输入复杂字符集的能力。

在那个标签页上，点击**选择输入法**下拉按钮，选择所需的输入法，然后点击**添加**。您刚刚添加的输入法将随后出现在窗口的主面板中，位于默认方法英语之下。重复此过程以添加任何其他您想要添加的输入法。完成后，您的窗口应类似于您在图 11-10 中看到的样子，具体取决于您实际选择的哪种语言。完成选择后，点击**关闭**按钮。

![在 IBus 中选择复杂字符输入法](img/httpatomoreillycomsourcenostarchimages656451.png.jpg)

图 11-10. 在 IBus 中选择复杂字符输入法

当您选择输入法时，您会注意到一些语言，如中文，有多种方法可供选择（如图图 11-11 所示）。为了给您提供一些快速的帮助，我将为中文、日语和韩语的学生或普通用户建议合适的选项。

+   要支持简体中文标准拼音输入，请选择**中文 – py**。

+   要支持繁体中文注音/拼音输入，请选择**中文 – bopomofo**。

+   要支持日语输入，请选择**日语 – anthy**。

+   要支持基于标准英文键盘的韩语输入，请选择**韩语 – romaja**。

对于学习或教授中文的人来说，您可能还想选择**中文 – pinyin**，这允许您轻松地用带声调标记的罗马字母输入中文单词，如图图 11-12 所示。只需按拼音逐个输入每个字符，后跟字符的声调数字（例如，输入*zhong1 guo2*代表中国），然后声调标记将出现在罗马化输出的上方。非常方便。

![一些语言有多种输入法可供选择。](img/httpatomoreillycomsourcenostarchimages656453.png.jpg)

图 11-11. 一些语言有多种输入法可供选择。

![IBus 让您轻松显示带声调标记的拼音字符读音。](img/httpatomoreillycomsourcenostarchimages656455.png.jpg)

图 11-12. IBus 让您轻松显示带声调标记的拼音字符读音。

## 11-2: 使用 IBus 输入亚洲语言

一旦您选择了输入法并关闭了 IBus 预设窗口，一个类似迷你键盘的小图标将出现在顶部面板音量控制器右侧。如果您点击该面板，您将看到出现在下拉菜单中的所有可用输入法列表（如图 11-13 所示图 11-13

图 11-13. 从 IBus 面板小程序访问语言输入法

当 gedit 出现后，从 IBus 面板小程序中选择您想要使用的输入法。所选语言的输入面板将出现在您桌面的右下角（图 11-14

图 11-14. IBus 输入面板

要从一种输入法切换到另一种输入法，有三种选项。首先，您可以转到 IBus 面板小程序并从菜单选项更改方法。其次，您可以从输入面板进行更改：点击当前输入法的名称将显示一个菜单，您可以从该菜单中选择一个替代方法（图 11-15

图 11-15. 从 IBus 输入面板切换输入法

# 设置 IBus 在您登录时自动启动

如您可能从第一次打开 IBus 预设窗口时回忆起来，您每次登录系统时都必须启动 IBus。如果您大量使用 IBus 而希望省略这一额外步骤，您可以轻松设置系统在您登录时自动启动它。您只需选择 **系统** ▸ **管理** ▸ **语言支持**。

在“语言”选项卡中，选择“*键盘输入法系统*”旁边的下拉菜单按钮中的**ibus**，如图图 11-16 所示。完成后，关闭窗口。下次您登录时，IBus 将自动启动并准备好供您使用。

![设置系统以便在登录时自动启动 IBus](img/httpatomoreillycomsourcenostarchimages656463.png.jpg)

图 11-16. 设置系统以便在登录时自动启动 IBus

如果 IBus 在您下次登录时仍然没有自动启动，请尝试将其添加到系统启动应用程序列表中。为此，选择**首选项** ▸ **启动应用程序**，然后在启动应用程序首选项窗口中，单击**添加**按钮。在名称框中键入**`Ibus`**，在命令框中键入**`/usr/bin/ibus-daemon -d`**。完成后，单击**添加**，然后关闭启动应用程序首选项窗口。

# 在其他语言中查看您的系统

吸引我最初对 Linux 世界产生兴趣的许多事情之一是能够为除英语以外的语言安装语言支持，并创建一个全新的不同语言系统。在我的某台机器上，我安装了中文、日语、瑞典语以及我的默认语言英语的支持。只需简单的注销和几点击，我就可以用完全不同的语言界面重新登录。我可以在任何时候拥有中文、日语或瑞典语系统。

如果您处于一个并非所有人都使用相同母语的环境中，这将非常有用。例如，在我以前就读的大学，我的日本和中国学生有时会使用我的电脑，额外的语言支持使他们能够使用自己的语言登录。如果您正在学习一门外语并希望尽可能多地接触它，这甚至非常方便。总的来说，这是一个非常有用的功能。

利用 GNOME 环境中的此功能非常简单。基本上，您需要做的只是为要添加到系统中的每种语言安装一组支持文件。您可以通过转到**系统** ▸ **管理** ▸ **语言支持**来完成此操作，之后将出现语言窗口。在那个窗口中，单击**安装/移除语言**按钮。在随后出现的已安装语言窗口中，通过勾选适当的复选框从各种语言中选择。如果您正在安装对具有复杂书写系统的语言（如日语）的语言支持，请确保也勾选了**输入法**和**额外字体**旁边的复选框（图 11-17）。

一旦您完成了选择，请点击**应用更改**按钮。此时，系统将提示您输入密码，请提供所需信息，语言支持工具将开始下载并安装您指定的支持包。完成后，您将收到通知，并保留语言窗口。

![选择要安装的额外语言](img/httpatomoreillycomsourcenostarchimages656465.png.jpg)

图 11-17. 选择要安装的额外语言

一旦您安装了您想要的额外语言支持，您可以通过使用语言窗口（**系统** ▸ **管理** ▸ **语言支持**）选择让您的系统以不同的语言环境打开。在该窗口的语言选项卡中，选择您下次登录时想要使用的语言，并将其拖到列表的顶部（图 11-18）。对于具有复杂输入系统的语言，您还可以在“键盘输入法系统”旁边的菜单按钮中选择您偏好的输入法，例如 IBus。然后您可以关闭窗口，注销，然后重新登录，之后您的系统将以您选择的语言显示。

![选择您下次登录时系统显示的语言](img/httpatomoreillycomsourcenostarchimages656467.png.jpg)

图 11-18. 选择您下次登录时系统显示的语言

如果您愿意，您可以从登录界面进行这些登录选择。一旦您点击用户列表中的您的名字，屏幕底部将出现一组菜单。从该面板的语言菜单中选择您想要使用的语言。如果您想要的语种不在那里，并且您知道您已经安装了它，请选择**其他**，然后在出现的窗口中选择您正在寻找的语言。完成后，点击**确定**，然后正常进行登录。

然后，您的启动过程将继续，一切都将像往常一样进行。根据您选择的语言，一旦您的桌面出现，您将进入另一个语言世界。您的菜单、应用程序，甚至当您将鼠标移至面板图标上时弹出的小贴士窗口都将使用新选定的语言（图 11-19）。

![以塞尔维亚语显示的应用程序和互联网菜单](img/httpatomoreillycomsourcenostarchimages656469.png.jpg)

图 11-19. 以塞尔维亚语显示的应用程序和互联网菜单
