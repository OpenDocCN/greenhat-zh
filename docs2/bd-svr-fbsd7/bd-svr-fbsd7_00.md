## 如何使用本书

本书中的指南构建成以标准格式提供信息。本书分为两部分：第一部分，"基础系统"，和第二部分，"第三方应用"。

第一部分提供了安装 FreeBSD 操作系统的信息。本书的这一部分还包含了设置你的基础 FreeBSD 环境和更新 ports 集合的重要信息。如果你需要有关 FreeBSD 操作系统的更多信息，请查阅 FreeBSD 手册。这是一份无价资源，可以在[`freebsd.org/doc/en/books/handbook`](http://freebsd.org/doc/en/books/handbook)上找到。

第二部分构成了本书的大部分内容。本节提供了使用 ports 集合安装和配置软件所需的信息。应用程序被分为单独的模块，这些模块按字母顺序排列，最大限度地减少了搜索索引或目录的需要。

本书涵盖的应用程序经过精心挑选。在选择要包含哪些应用程序时，稳定性和可用支持是决定因素。在服务器环境中，稳定性至关重要。社区支持对于应用程序的长期可行性也非常重要；一个得到良好支持的应用程序意味着如果你需要帮助，将会有资源可用。社区支持也鼓励开发工作，这可能导致对错误或安全问题的更快响应。

### 格式

让我们检查在整个文档中使用的标准化指南格式。以下图显示了每个模块的标题和头部的信息。

![图片](img/bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzEvMC5uVQ--.jpg)

❶ 模块标题：这种字典式标题使得通过翻页查找你想要的项目变得容易。

❷ 文件路径：FreeBSD ports 树中 Makefile 和其他相关文件的路径在此给出。

❸ 应用程序使用的协议和端口：如果应用程序提供的服务需要可供互联网上的客户端使用，你可能需要配置你的路由器将这些端口转发到你的 FreeBSD 服务器。请查阅路由器的文档以获取有关端口转发的详细信息。

❹ 努力程度：此值是对完成模块所需的时间和努力的估计，范围从 1 到 5。级别 1 需要最少的努力，而级别 5 需要最多的努力。

❺ 模块中涵盖的应用版本和开发者网站：本书中涵盖的应用正在持续开发中，因此版本号会发生变化，但描述的安装程序应保持相对稳定。开发者网站的 URL 提供供参考。

每个模块都包含以下部分的一些或全部：

概述 本节解释了模块中包含的应用程序的功能，它提供的服务或解决方案，以及其历史。

资源 本节展示了提供有关所涵盖应用程序或它所采用的协议的进一步信息的网站。

必需 本节指定在开始模块之前需要安装或完成的模块或任务。

可选 本节列出了增强或扩展应用程序功能的功能模块或项目。

准备 本节包含在开始应用程序安装过程之前需要完成的说明和任务。

安装 本节包含指令和/或命令，使用称为 Makefile 的脚本将应用程序的源代码编译成二进制形式。

配置 本节包含重要的安装后说明，为安装的应用程序准备配置文件。

测试 如果适用，本节提供了测试应用程序或服务安装的步骤。有关启用服务器应用程序自动启动的详细信息也在此处提及。

工具 本节包含对系统管理有用的重要命令或程序。

* * *

***注意：*** 这里提供了常用选项（或开关）的快速参考。有关命令或实用程序的完整文档，请参阅手册页面。有关更多信息，请参阅“手册页面”。

* * *

配置文件 本节包含了一系列重要的配置文件列表，包括它们的简要描述和默认位置。

日志文件 本节包含记录应用程序信息的日志列表；这些日志对于诊断问题和监控活动可能很有用。

备注 本节包含可能有助于扩展应用程序的功能和安全性的信息。可能还包含基于个人偏好的选项。

### WHERE TO START

下面是本书中包含的模块及其关系的视觉表示。服务器角色垂直组织，相关模块位于其下方。

箭头表示在使用本书中的模块时应遵循的逻辑顺序。连接模块的实线显示了模块之间的关系。您可以用这个作为起点，也可以开发自己的构建策略。

![](img/bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzIvMC5uVQ--.jpg)

### BECOMING THE SUPERUSER

本书通篇使用“成为超级用户”这个方向，我想尽早阐明其含义。超级用户一词与 UNIX-like 系统中的 root 账户同义。root 账户是一个具有对系统完全管理权限的特殊用户账户。本书的大部分模块都需要您以超级用户身份执行命令。

要成为超级用户，你可以使用 root 用户名在控制台（使用控制台意味着你正在使用连接到系统的监视器和键盘）登录。有时你可能需要通过 SSH（安全外壳）远程登录。出于安全原因，FreeBSD 不允许 root 用户通过 SSH 登录。你必须首先以普通用户身份登录，然后使用`su`命令切换到超级用户账户。只有属于 wheel 组的用户账户才能切换到超级用户账户。本书中的 FreeBSD 模块解释了如何在安装过程中将你的初始用户添加到 wheel 组。如果你没有遵循该模块或如果你想验证你的组成员资格，登录后输入以下命令：

```
# id
uid=1001(john) gid=1001(john) groups=1001(john), 0(wheel)
```

你可以从上面看到，用户 john 是 wheel 组的成员。要成为超级用户，John 需要输入以下命令：

```
# su
```

在 John 输入超级用户（root）密码后，他将切换到超级用户账户。他可以通过输入以下命令来验证：

```
# whoami
root
```

一旦以超级用户身份登录，你可以使用以下命令将其他用户添加到 wheel 组：

```
# pw user mod `*uname*` -G wheel
```

将`*uname*`替换为你想要添加的用户名。

### EASY EDITOR

与其他类 UNIX 平台类似，FreeBSD 的配置由各种文本配置文件的内容控制。这些配置文件决定了系统的行为，因此能够编辑它们是至关重要的。FreeBSD 包括 ee（Easy Editor），它易于学习，并具有执行管理任务所需的基本功能。要在命令提示符下启动 Easy Editor，只需输入`**ee**`即可。以下是一个界面示例：

代码视图：

```
^[ (escape) menu ^y search prompt ^k delete line   ^p prev li  ^g prev page
^o ascii code    ^x search        ^l undelete line ^n next li  ^v next page
^u end of file   ^a begin of line ^w delete word   ^b back 1 char
^t top of text   ^e end of line   ^r restore word  ^f forward 1 char
^c command       ^d delete char   ^j undelete char ^z next word
============================================================================

```

锚符号表示应该按住[ctrl]键与相邻的字母组合。例如，要搜索当前文本文件中的某个单词，请按[ctrl-Y]。你将看到以下搜索提示：

```
search for:
```

Easy Editor 在屏幕底部显示提示和状态信息。要访问菜单系统，请按[esc]：

```
+---------------------+
| main menu           |
|                     |
| a) leave editor     |
| b) help             |
| c) file operations  |
| d) redraw screen    |
| e) settings         |
| f) search           |
| g) miscellaneous    |
|                     |
| press Esc to cancel |
+---------------------+
```

界面直观，不需要花费太多精力去学习。一旦完成初始的 FreeBSD 安装，花些时间熟悉一下 Easy Editor。
