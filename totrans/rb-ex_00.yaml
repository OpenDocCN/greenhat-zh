- en: 'Introduction: What Is Ruby?'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介：什么是 Ruby？
- en: Ruby is “a dynamic, open source programming language with a focus on simplicity
    and productivity. It has an elegant syntax that is natural to read and easy to
    write.”^([[1](#ftn.PREF-00-FNOTE-1)]) It was released in 1995 by Yukihiro “Matz”
    Matsumoto. It is often described as either a very high-level language or a scripting
    language, depending on whom you ask. As such, it doesn’t require a programmer
    to specify the details of how the computer implements your decisions. Like other
    high-level languages, Ruby is often used in text-processing applications, including
    an increasing number of web applications. I hope that once you’ve become more
    acquainted with the language, you’ll agree that it does a good job of getting
    out of your way and simply letting you get some work done.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Ruby 是“一种注重简洁和高效的开源编程语言。它拥有优雅的语法，易于阅读和编写。”[^([1](#ftn.PREF-00-FNOTE-1))] 它由
    Yukihiro “Matz” Matsumoto 在 1995 年发布。它通常被描述为一种非常高级的语言或脚本语言，这取决于你问的是谁。因此，它不需要程序员指定计算机如何实现你的决策的细节。像其他高级语言一样，Ruby
    通常用于文本处理应用，包括越来越多的网络应用。我希望一旦你更熟悉这门语言，你会同意它很好地帮助你摆脱障碍，让你简单地完成工作。
- en: Ruby has a very interesting pedigree. Matz himself has said that the two most
    influential languages on Ruby’s design were Common Lisp and Smalltalk—they were
    so influential, in fact, that he has jokingly referred to Ruby as *MatzLisp*.
    On the other hand, some Ruby aficionados stress Ruby’s similarities with Smalltalk
    and Perl, as did David Heinemeier Hansson, creator of Rails, in a June 2006 *Linux
    Journal* interview. Hansson also describes Ruby as “a language for writing beautiful
    code that makes programmers happy.” I couldn’t agree more.^([[2](#ftn.PREF-00-FNOTE-2)])
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Ruby 拥有一个非常有趣的血统。Matz 本身曾经说过，对 Ruby 设计影响最大的两种语言是 Common Lisp 和 Smalltalk——它们的影响如此之大，以至于他戏称
    Ruby 为 *MatzLisp*。另一方面，一些 Ruby 爱好者强调 Ruby 与 Smalltalk 和 Perl 的相似性，正如 Rails 的创造者
    David Heinemeier Hansson 在 2006 年 6 月的 *Linux Journal* 采访中所说。Hansson 还将 Ruby 描述为“一种让程序员快乐的编写美观代码的语言。”我完全同意。[^([2](#ftn.PREF-00-FNOTE-2))]
- en: Note
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*If you’re interested in learning more about Ruby’s heritage, see the appendix
    for a comparison of Ruby to other languages*.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果你对 Ruby 的遗产感兴趣，请参阅附录中 Ruby 与其他语言的比较*。'
- en: Acquiring and Configuring Ruby
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取和配置 Ruby
- en: But enough with the history—let’s set these questions aside and actually get
    Ruby installed. It’s flexible, expressive, and released under a free software/open
    source license. (The license is available online at [http://www.ruby-lang.org/en/about/license.txt](http://www.ruby-lang.org/en/about/license.txt).)
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 但历史就到这里吧——让我们把这些问题放一边，实际上安装 Ruby 吧。Ruby 是灵活的、富有表现力的，并且遵循免费软件/开源许可协议。（许可协议可在[http://www.ruby-lang.org/en/about/license.txt](http://www.ruby-lang.org/en/about/license.txt)在线获取。）
- en: On a Unix or Unix-like System
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Unix 或类似 Unix 的系统上
- en: Users of Unix-like operating systems such as Mac OS X, the BSDs, and GNU/Linux
    variants have it easy. Many of these systems either come with Ruby pre-installed
    or make it available as a very convenient package.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 使用类似 Unix 的操作系统（如 Mac OS X、BSD 和 GNU/Linux 变体）的用户会容易一些。许多这些系统要么预先安装了 Ruby，要么将其作为非常方便的软件包提供。
- en: If Ruby came pre-installed on your computer, it will probably include the Interactive
    Ruby Shell (irb) that we’ll use in the next chapter. If you’ve installed Ruby
    with a package manager, irb may come in a separate package, possibly with a specific
    version number as a part of the package name.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Ruby 在您的计算机上预先安装，它可能包括我们在下一章中将要使用的交互式 Ruby Shell (irb)。如果您使用包管理器安装了 Ruby，irb
    可能会作为一个单独的包提供，可能包含在包名中的特定版本号。
- en: If your package manager does not include Ruby or if you’d like to use a more
    up-to-date version than what your package manager offers, you can simply browse
    to [http://www.ruby-lang.org](http://www.ruby-lang.org) and click the Download
    Ruby link. Download the current stable release (1.8.4 at the time of this writing),
    which is a .tar.gz file. Then type the following commands as the superuser, also
    called `root`. (I’ll assume you’re using version 1.8.4, although it will probably
    be a later version when you download Ruby.)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的包管理器不包括 Ruby 或者你想使用比包管理器提供的更新版本的 Ruby，你只需浏览到 [http://www.ruby-lang.org](http://www.ruby-lang.org)
    并点击下载 Ruby 链接。下载当前的稳定版本（在撰写本文时为 1.8.4），这是一个 .tar.gz 文件。然后以超级用户（也称为 `root`）的身份输入以下命令。（我将假设你使用的是
    1.8.4 版本，尽管你下载 Ruby 时可能是一个更晚的版本。）
- en: '[PRE0]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Then follow the instructions in the README file. The usual set of commands for
    installation is as follows.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 然后按照 README 文件中的说明操作。安装的常用命令集如下。
- en: '[PRE1]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'You should now have a working version of Ruby. You can test this by executing
    this command:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在应该有一个可工作的 Ruby 版本。您可以通过执行以下命令来测试：
- en: '[PRE2]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: If it reports `ruby 1.8.4 (2005-12-24) [i486-linux]` or whichever version you
    downloaded and your system, everything worked.^([[3](#ftn.PREF-00-FNOTE-3)])
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果它报告 `ruby 1.8.4 (2005-12-24) [i486-linux]` 或您下载的版本以及您的系统，则一切正常.^([[3](#ftn.PREF-00-FNOTE-3)])
- en: On a Windows System
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Windows 系统上
- en: If you use a Windows system, a One-Click Ruby Installer is available at [http://rubyinstaller.rubyforge.org/wiki/wiki.pl](http://rubyinstaller.rubyforge.org/wiki/wiki.pl).
    Simply follow the instructions there to download Ruby for your system. It’s a
    comprehensive package—check the site for the most up-to-date list of its contents.
    At the time of this writing, it included the base language with various popular
    extensions, including SciTE (a syntax-highlighting text editor), FreeRIDE (a Ruby
    development environment), a help file containing Dave Thomas’ book *Programming
    Ruby* (also called The Pickaxe), and the RubyGems package installer. It also comes
    with irb, which we’ll explore in [Chapter 1](ch01.html "Chapter 1. Interactive
    Ruby and the Ruby Environment").
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是 Windows 系统，可以在 [http://rubyinstaller.rubyforge.org/wiki/wiki.pl](http://rubyinstaller.rubyforge.org/wiki/wiki.pl)
    找到一键 Ruby 安装器。只需按照那里的说明下载适合您系统的 Ruby。这是一个综合性的包——请访问网站查看其内容的最新列表。在撰写本文时，它包括了基础语言和各种流行的扩展，包括
    SciTE（一个语法高亮文本编辑器）、FreeRIDE（一个 Ruby 开发环境）、包含 Dave Thomas 的书 *Programming Ruby*（也称为
    The Pickaxe）的帮助文件，以及 RubyGems 包安装器。它还包含 irb，我们将在 [第 1 章](ch01.html "第 1 章。交互式
    Ruby 和 Ruby 环境") 中探讨。
- en: '* * *'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: ^([[1](#PREF-00-FNOTE-1)]) According to [http://ruby-lang.org](http://ruby-lang.org).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[1](#PREF-00-FNOTE-1)]) 根据 [http://ruby-lang.org](http://ruby-lang.org)。
- en: ^([[2](#PREF-00-FNOTE-2)]) For more on Ruby’s ancestry, refer to the Ruby-Talk
    archives ([http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/179642](http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/179642))
    and O’Reilly’s interview with Matz ([http://www.linuxdevcenter.com/pub/a/linux/2001/11/29/ruby.html](http://www.linuxdevcenter.com/pub/a/linux/2001/11/29/ruby.html)).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[2](#PREF-00-FNOTE-2)]) 关于 Ruby 的起源，请参阅 Ruby-Talk 存档 ([http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/179642](http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/179642))
    和 O’Reilly 对 Matz 的采访 ([http://www.linuxdevcenter.com/pub/a/linux/2001/11/29/ruby.html](http://www.linuxdevcenter.com/pub/a/linux/2001/11/29/ruby.html))。
- en: ^([[3](#PREF-00-FNOTE-3)]) Ruby, like most open source languages, is under constant
    development. The code in this book uses Ruby version 1.8.4, which was the stable
    release at the time I wrote the scripts in this book. Ruby version 1.8.6 was released
    slightly before this book came out.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[3](#PREF-00-FNOTE-3)]) Ruby，像大多数开源语言一样，正在不断开发中。本书中的代码使用的是 Ruby 版本 1.8.4，这是我编写本书中的脚本时的稳定版本。Ruby
    版本 1.8.6 在本书出版前稍早发布。
- en: Motivations for the Book
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 书籍的动机
- en: This book tries to be both useful in the immediate term and informative in the
    long term. These goals have a profound impact on how the book is organized.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 本书旨在在短期内实用，在长期内提供信息。这些目标对本书的组织方式产生了深远的影响。
- en: It’s also meant to be accessible to neophytes, but it focuses on programming
    paradigms and their impact on both language design and language use—topics common
    to academic programming books. These days, you can use any popular language for
    most tasks, but that doesn’t mean that solving a given problem will be equally
    painless in every language. No language exists in a vacuum, and a discussion of
    a language like Ruby should acknowledge the decisions that went into its design.
    You’ll find that it’s a very flexible language that lets you combine different
    approaches in powerful ways. Biologists recognize hybrid vigor; so did Matz when
    he created Ruby.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 它也旨在让新手易于使用，但重点在于编程范式及其对语言设计和语言使用的影响——这些是学术编程书籍中常见的主题。如今，您可以使用任何流行的语言来完成大多数任务，但这并不意味着解决特定问题在每种语言中都会同样轻松。没有一种语言是孤立存在的，讨论像
    Ruby 这样的语言时，应该承认其设计中所做的决策。您会发现它是一个非常灵活的语言，可以让您以强大的方式结合不同的方法。生物学家认识到杂交活力；Matz 在创建
    Ruby 时也是如此。
- en: Note
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*When I mention programming paradigms, I’m referring to three main types: imperative,
    object-oriented, and functional. Broadly speaking*, imperative *languages tell
    computers* Do this, then do that, then do this next thing. Object-oriented *languages
    define* objects *(types of things) that know how to perform* methods *(specific
    actions)*. Functional *languages treat programming problems like mathematical
    relationships. Ruby is flexible, meaning that you can program in any of these
    styles; however, it is primarily object oriented, with some strong functional
    influence. This book focuses slightly more on the functional aspects of Ruby than
    some other books*.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '*当我提到编程范式时，我指的是三种主要类型：命令式、面向对象和函数式。广义而言，*命令式*语言告诉计算机*这样做，然后那样做，然后做下一件事。面向对象*语言定义*对象（事物类型），它们知道如何执行*方法（特定动作）。函数式*语言将编程问题视为数学关系。Ruby非常灵活，这意味着你可以用任何这些风格进行编程；然而，它主要是面向对象的，同时受到一些强烈的函数式影响。本书在Ruby的函数式方面比其他一些书籍略为侧重*。'
- en: Conventions
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 习惯用法
- en: 'This book uses several conventions to distinguish among different types of
    information. When you encounter a new term for the first time, it will be shown
    in *italics*. Since this is a programming book, you’ll often see small `code samples`
    in `code font`, as well. Code listings will be indicated like this:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用几种约定来区分不同类型的信息。当你第一次遇到一个新术语时，它将以*斜体*显示。由于这是一本编程书，你经常会看到以*代码字体*显示的小型`代码示例`。代码列表将如下所示：
- en: '[PRE3]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Summary of Chapters
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 章节总结
- en: 'Here’s a bit about what you’ll find inside the chapters:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是关于章节内容的简要介绍：
- en: '**[Chapter 1](ch01.html "Chapter 1. Interactive Ruby and the Ruby Environment")**'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第一章](ch01.html "第一章。交互式Ruby和Ruby环境")**'
- en: This chapter describes Interactive Ruby (irb), and also introduces some key
    Ruby concepts.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 本章描述了交互式Ruby（irb），并介绍了一些关键的Ruby概念。
- en: '**[Chapter 2](ch02.html "Chapter 2. Amusements and Simple Utilities")**'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第二章](ch02.html "第二章。娱乐和简单工具")**'
- en: This chapter has our first stand-alone programs (or scripts) that continue introducing
    key Ruby concepts while accomplishing simple tasks.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了我们的第一个独立程序（或脚本），在完成简单任务的同时继续引入关键Ruby概念。
- en: '**[Chapter 3](ch03.html "Chapter 3. Programmer Utilities")**'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第三章](ch03.html "第三章。程序员工具")**'
- en: This chapter contains tools that are useful for developers in the form of library
    files intended to be used by other programs.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 本章包含对开发者有用的工具，这些工具以库文件的形式提供，供其他程序使用。
- en: '**[Chapter 4](ch04.html "Chapter 4. Text Manipulation")**'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第四章](ch04.html "第四章。文本处理")**'
- en: This chapter focuses on processing text.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 本章专注于处理文本。
- en: '**[Chapter 5](ch05.html "Chapter 5. Number Utilities")**'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第五章](ch05.html "第五章。数字工具")**'
- en: This chapter focuses on primarily numeric data, including pure math and moving
    into recursion.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 本章主要关注数值数据，包括纯数学和递归。
- en: '**[Chapter 6](ch06.html "Chapter 6. Functionalism with Blocks and Procs")**'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第六章](ch06.html "第六章。使用块和Proc进行函数式编程")**'
- en: This chapter puts a heavy emphasis on functional programming, hinted at in earlier
    chapters.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 本章对函数式编程给予了高度重视，这在前面章节中已有暗示。
- en: '**[Chapter 7](ch07.html "Chapter 7. Using, Optimizing, and Testing Functional
    Techniques")**'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第七章](ch07.html "第七章。使用、优化和测试函数式技术")**'
- en: This chapter details testing, profiling, and optimizing your programs.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 本章详细介绍了测试、分析和优化你的程序。
- en: '**[Chapter 8](ch08.html "Chapter 8. HTML and XML Tools")**'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第八章](ch08.html "第八章。HTML和XML工具")**'
- en: This chapter has a subset of text processing specifically meant for markup,
    like HTML and XML.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 本章包含专门用于标记的文本处理子集，如HTML和XML。
- en: '**Chapters [Chapter 9](ch09.html "Chapter 9. More Complex Utilities and Tricks,
    Part I") and [Chapter 10](ch10.html "Chapter 10. More Complex Utilities and Tricks,
    Part II")**'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第九章](ch09.html "第九章。更复杂的工具和技巧（第一部分”）和[第十章](ch10.html "第十章。更复杂的工具和技巧（第二部分”）**'
- en: These chapters both expand the scale of our programs using techniques introduced
    earlier in the book to tackle larger problems.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 这些章节都通过在书中早期介绍的技术来扩展我们程序的范围，以解决更大的问题。
- en: '**[Chapter 11](ch11.html "Chapter 11. CGI and the Web")**'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第十一章](ch11.html "第十一章。CGI和互联网")**'
- en: This chapter talks about the Common Gateway Interface (CGI) and how to embed
    Ruby code in web documents.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 本章讨论了通用网关接口（CGI）以及如何在网页文档中嵌入Ruby代码。
- en: '**[Chapter 12](ch12.html "Chapter 12. RubyGems and Rails Preparation")**'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第十二章](ch12.html "第十二章。RubyGems和Rails准备")**'
- en: This chapter shows you how to use RubyGems, Ruby’s package manager, and uses
    that system to install Rails, Ruby’s main web development framework.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 本章向您展示如何使用 RubyGems，Ruby 的包管理器，并使用该系统安装 Rails，Ruby 的主要 Web 开发框架。
- en: '**[Chapter 13](ch13.html "Chapter 13. A Simple Rails Project")**'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**[第 13 章](ch13.html "第 13 章。一个简单的 Rails 项目")**'
- en: This chapter contains a sample Rails application, using it to discuss key design
    issues useful for any Rails developer.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 本章包含一个示例 Rails 应用程序，通过它来讨论对任何 Rails 开发者都很有用的关键设计问题。
- en: Now let’s dive in and start using Ruby for some interesting tasks. But before
    we start creating separate program files, we’ll explore how Ruby works with the
    Interactive Ruby environment.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们深入探讨并开始使用 Ruby 来完成一些有趣的任务。但在我们开始创建单独的程序文件之前，我们将探索 Ruby 如何与交互式 Ruby 环境协同工作。
