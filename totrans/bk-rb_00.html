<html><head></head><body><div class="preface" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="introduction"/>Introduction</h1></div></div></div><div class="informalfigure"><a id="image_no_caption"/><div class="mediaobject"><a id="I_mediaobject_d1e161"/><img src="httpatomoreillycomsourcenostarchimages860138.png.jpg" alt="image with no caption"/></div></div><p>As you are now reading a book on Ruby, I think it is safe to assume you don’t need me to persuade you of the merits of the Ruby language. Instead, I’ll take the somewhat unconventional step of starting with a warning: Many people are attracted to Ruby by its simple syntax and its ease of use. They are wrong. Ruby’s syntax may <span class="emphasis"><em>look</em></span> simple at first sight, but the more you get to know the language, the more you will realize that it is, on the contrary, extremely complex. The plain fact of the matter is that Ruby has a number of pitfalls just waiting for unwary programmers to drop into.<a id="IDX-PREFACE-0002" class="indexterm"/></p><p>In this book, it is my aim to guide you safely over the pitfalls and lead you through the choppy waters of Ruby’s syntax and class libraries. In the process, I’ll be exploring both the smooth, well-paved highways and the gnarlier, bumpy little byways of Ruby. By the end of the journey, you should be able to use Ruby safely and effectively without getting caught by unexpected hazards along the way.</p><p><span class="emphasis"><em>The Book of Ruby</em></span> describes versions 1.8.<span class="emphasis"><em>x</em></span> and 1.9.<span class="emphasis"><em>x</em></span> of the Ruby language. In most respects, Ruby 1.8 and 1.9 are very similar, and most programs written for one version will run unmodified in the other. There are important exceptions to this rule, however, and these are noted in the text. Ruby 1.9 may be regarded as a stepping stone toward Ruby 2.0. At the time of writing, a release date for Ruby 2.0 has not been announced. Even so, on the basis of currently available information, I anticipate that most (or all) of the information on Ruby 1.9 in this book should also apply to Ruby 2.0.<a id="IDX-PREFACE-0003" class="indexterm"/><a id="IDX-PREFACE-0004" class="indexterm"/><a id="IDX-PREFACE-0005" class="indexterm"/><a id="IDX-PREFACE-0006" class="indexterm"/><a id="IDX-PREFACE-0007" class="indexterm"/><a id="IDX-PREFACE-0008" class="indexterm"/></p><div class="sect1" title="What Is Ruby?"><div class="titlepage"><div><div><h1 class="title"><a id="what_is_ruby_question"/>What Is Ruby?</h1></div></div></div><p>Ruby is a cross-platform interpreted language that has many features in common with other “scripting” languages such as Perl and Python. It has an easily readable type of syntax that looks somewhat Pascal-like at first sight. It is thoroughly object-oriented and has a good deal in common with the great-granddaddy of “pure” object-oriented languages, Smalltalk. It has been said that the languages that most influenced the development of Ruby were Perl, Smalltalk, Eiffel, Ada, and Lisp. The Ruby language was created by Yukihiro Matsumoto (commonly known as Matz), and it was first released in 1995.<a id="IDX-PREFACE-0009" class="indexterm"/><a id="IDX-PREFACE-0010" class="indexterm"/><a id="IDX-PREFACE-0011" class="indexterm"/><a id="IDX-PREFACE-0012" class="indexterm"/></p></div></div>
<div class="sect1" title="What Is Rails?"><div class="titlepage"><div><div><h1 class="title"><a id="what_is_rails_question"/>What Is Rails?</h1></div></div></div><p>Over the past few years, much of the excitement surrounding Ruby can be attributed to a web development framework called Rails—popularly known as <span class="emphasis"><em>Ruby on Rails</em></span>. Rails is an impressive framework, but it is not the be-all, end-all of Ruby. Indeed, if you were to leap right into Rails development without first mastering Ruby, you might find that you end up creating applications that you don’t even understand. (This is all too common among Ruby on Rails novices.) Understanding Ruby is a necessary prerequisite for understanding Rails. You’ll look at Rails in <a class="xref" href="ch19.html" title="Chapter 19. Ruby on Rails">Chapter 19</a>.</p></div>
<div class="sect1" title="Matters of Ruby Style"><div class="titlepage"><div><div><h1 class="title"><a id="matters_of_ruby_style"/>Matters of Ruby Style</h1></div></div></div><p>Some Ruby programmers have very fixed—or even obsessive—views on what constitutes a “Ruby style” of programming. Some, for example, are passionately wedded to the idea that <code class="literal">method_names_use_underscores</code> while <code class="literal">variableNamesDoNot</code>. The style of naming in which separate words are indicated by capital letters <code class="literal">likeThis</code> is called <span class="emphasis"><em>camel case</em></span>—and that is the last time it will be mentioned in this book.<a id="IDX-PREFACE-0013" class="indexterm"/></p><p>I have never understood why people get so worked up about naming conventions. You like underscores, I can’t stand them; you say po_ta_toes, I say poTaToes. As far as I am concerned, the way in which you choose to write the names of identifiers in Ruby is of no interest to anyone but you or your programming colleagues.</p><p>That is not to say that I have no opinions on programming style. On the contrary, I have very strong opinions. In my view, good programming style has nothing to do with naming conventions and everything to do with good code structure and clarity. Language elements such as parentheses, for instance, are important. Parentheses clarify code and avoid ambiguity that, in a highly dynamic language such as Ruby, can mean the difference between a program that works as you expect and one that is full of surprises (also known as <span class="emphasis"><em>bugs</em></span>). For more on this, refer to the index entries on “ambiguity” and “parentheses.”<a id="IDX-PREFACE-0014" class="indexterm"/><a id="IDX-PREFACE-0015" class="indexterm"/></p><p>In more than two decades of programming, one thing I have learned through bitter experience is that the most important characteristics of well-written code are clarity and lack of ambiguity. Code that is easy to understand and easy to debug is also likely to be easier to <span class="emphasis"><em>maintain</em></span>. If adopting certain naming conventions helps you achieve that goal, that’s fine. If not, that’s fine too. <span class="emphasis"><em>The Book of Ruby</em></span> does not preach on matters of style.</p></div>
<div class="sect1" title="How to Read This Book"><div class="titlepage"><div><div><h1 class="title"><a id="how_to_read_this_book"/>How to Read This Book</h1></div></div></div><p>The book is divided into bite-sized chunks. Each chapter introduces a theme that is subdivided into subtopics. Each programming topic is accompanied by one or more small, self-contained, ready-to-run Ruby programs.</p><p>If you want to follow a well-structured “course,” read each chapter in sequence. If you prefer a more hands-on approach, you can run the programs first and refer to the text when you need an explanation. If you already have some experience with Ruby, feel free to cherry-pick topics in any order you find useful. There are no monolithic applications in this book, so you don’t have to worry you might lose the plot if you read the chapters out of order!</p></div>
<div class="sect1" title="Digging Deeper"><div class="titlepage"><div><div><h1 class="title"><a id="digging_deeper"/>Digging Deeper</h1></div></div></div><p>Every chapter, apart from the first one, includes a section called <a class="xref" href="pr02s05.html" title="Digging Deeper">Digging Deeper</a>. This is where you will explore specific aspects of Ruby (including a few of those gnarly byways I mentioned a moment ago) in greater depth. In many cases, you could skip the “Digging Deeper” sections and still learn all the Ruby you will ever need. On the other hand, it is in these sections that you will often get closest to the inner workings of Ruby, so if you skip them, you are going to miss out on some pretty interesting stuff.</p></div>
<div class="sect1" title="Making Sense of the Text"><div class="titlepage"><div><div><h1 class="title"><a id="making_sense_of_the_text"/>Making Sense of the Text</h1></div></div></div><p>In <span class="emphasis"><em>The Book of Ruby</em></span>, Ruby source code is written like this:</p><a id="I_programlisting_d1e303"/><pre class="programlisting">def saysomething
    puts( "Hello" )
end</pre><p>Often the code will be annotated with <span class="emphasis"><em>comments</em></span>. Ruby comments are any text following a hash mark (<code class="literal">#</code>) on a single line. The comments are ignored by the Ruby interpreter. When I want to draw attention to some output that Ruby displays or to a value returned by a piece of code (even if that value is not displayed), I indicate this with this type of comment: <code class="literal"># =&gt;</code>. Occasionally, when I want to draw attention to some input that the user should enter, I use this type of comment: <code class="literal"># &lt;=</code>. Here is an example to illustrate these commenting conventions:<a id="IDX-PREFACE-0016" class="indexterm"/></p><a id="I_programlisting_d1e324"/><pre class="programlisting">puts("Enter a calculation:" ) # Prompt user        this is a simple comment
exp = gets().chomp()          # &lt;= Enter 2*4    comment shows data to enter
puts( eval( exp ))            # =&gt; 8     comment shows result of evaluation</pre><p>When a piece of code returns or displays too much data to be shown in a single-line comment, the output may be shown like this:</p><a id="I_programlisting_d1e328"/><pre class="programlisting">This is the data returned from method #1
This is the data returned from method #2
This is the data returned from method #3</pre><p><span class="emphasis"><em>helloname.rb</em></span></p><p>When a sample program accompanies the code, the program name is shown in the margin as it is here.</p><p>Explanatory notes that provide hints or extra information are shown like this:</p><div class="note" title="Note"><h3 class="title">Note</h3><p>This is an explanatory note.</p></div><p>More in-depth explanation of points mentioned in the text may be shown in a box like this:</p><div class="sidebar"><a id="further_explanation"/><p class="title">Further Explanation</p><p>This is some additional information. You can skip it if you like—but if you do, you may miss something interesting!</p></div></div>
<div class="sect1" title="Downloading Ruby"><div class="titlepage"><div><div><h1 class="title"><a id="downloading_ruby"/>Downloading Ruby</h1></div></div></div><p>You can download the latest version of Ruby at <a class="ulink" href="http://www.ruby-lang.org/en/downloads/">http://www.ruby-lang.org/en/downloads/</a>. Be sure to download the binaries (not merely the source code). Windows users have the option of installing Ruby using the Ruby Installer, available at <a class="ulink" href="http://www.rubyinstaller.org/">http://www.rubyinstaller.org/</a>. There are also several alternative implementations of Ruby, the most established of which is JRuby. You can find information on where to download these implementations in <a class="xref" href="apd.html" title="Appendix D. Ruby and Rails Development Software">Appendix D</a>.</p></div>
<div class="sect1" title="Getting the Source Code of the Sample Programs"><div class="titlepage"><div><div><h1 class="title"><a id="getting_the_source_code_of_the_sample_pr"/>Getting the Source Code of the Sample Programs</h1></div></div></div><p>All the programs in every chapter in this book are available for download as a <span class="emphasis"><em>.zip</em></span> archive at <a class="ulink" href="http://www.nostarch.com/boruby.htm">http://www.nostarch.com/boruby.htm</a>.<a id="IDX-PREFACE-0017" class="indexterm"/><a id="IDX-PREFACE-0018" class="indexterm"/><a id="IDX-PREFACE-0019" class="indexterm"/></p><p>When you unzip the programs, you will find that they are grouped into a set of directories—one for each chapter.</p></div>
<div class="sect1" title="Running Ruby Programs"><div class="titlepage"><div><div><h1 class="title"><a id="running_ruby_programs"/>Running Ruby Programs</h1></div></div></div><p>It is often useful to keep a command window open in the source directory containing your Ruby program files. Assuming that the Ruby interpreter is correctly pathed on your system, you will then be able to run programs by entering <code class="literal">ruby</code> <em class="replaceable"><code>programname</code></em>. For example, this is the command you would enter in order to run the <span class="emphasis"><em>helloworld.rb</em></span> program:</p><a id="I_programlisting_d1e399"/><pre class="programlisting">ruby helloworld.rb</pre><p>If you use a Ruby IDE, you may be able to load the Ruby programs into the IDE and run them using the integrated tools of that IDE.</p></div>
<div class="sect1" title="The Ruby Library Documentation"><div class="titlepage"><div><div><h1 class="title"><a id="the_ruby_library_documentation"/>The Ruby Library Documentation</h1></div></div></div><p><span class="emphasis"><em>The Book of Ruby</em></span> covers many of the classes and methods in the standard Ruby library—but by no means all of them! At some stage, therefore, you will need to refer to documentation on the full range of classes used by Ruby. Fortunately, the Ruby class library contains embedded documentation that has been extracted and compiled into an easily browsable reference, which is available in several formats. For example, you can find the online documentation for Ruby 1.9 at <a class="ulink" href="http://www.ruby-doc.org/ruby-1.9/index.html">http://www.ruby-doc.org/ruby-1.9/index.html</a>. For Ruby 1.8, go to <a class="ulink" href="http://www.ruby-doc.org/ruby-1.8/index.html">http://www.ruby-doc.org/ruby-1.8/index.html</a>.<a id="IDX-PREFACE-0020" class="indexterm"/></p><p>Okay, that’s enough of the preamble—let’s get down to work.</p></div></body></html>