<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_106">
<a name="ch07" class="calibre6" id="ch07"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="110" class="calibre16" id="110"/><a name="ch07lev1sec15" class="calibre16" id="ch07lev1sec15"/><span class="chapter-titlelabel">Program 95: </span>Sending the Wrong Message</h2><p class="b24-bookeditorial">Why does this program generate strange results?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * hello -- write hello using our message system*
  3  *       to the log file and the screen.        *
  4  ************************************************/
  5 #include &lt;iostream&gt;
  6 #include &lt;fstream&gt;
  7
  8 // The log file
  9 std::ofstream log_file("prog.log");
 10
 11 /************************************************
 12  * print_msg_one -- Write a message to the      *
 13  *      given file.                             *
 14  ************************************************/
 15 void print_msg_one(
 16     // File to write the message to
 17     std::ostream out_file,
 18
 19     // Where to send it
 20     const char msg[]
 21 ) {
 22     out_file &lt;&lt; msg &lt;&lt; std::endl;
 23 }
 24 /************************************************
 25  * print_msg -- send a message to the console   *
 26  *      and to the log file.                    *
 27  ************************************************/
 28 void print_msg(
 29     const char msg[]     // Message to log
 30 ) {
 31     print_msg_one(std::cout, msg);
 32     print_msg_one(log_file, msg);
 33 }
 34 int main()
 35 {
 36     print_msg("Hello World!");
 37     return (0);
 38 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#464" target="_parent" class="calibre2">Hint 328</a>. <a href="LiB0121.html#538" target="_parent" class="calibre2">Answer 40</a>.)</p>
</div>
</div>



</body></html>