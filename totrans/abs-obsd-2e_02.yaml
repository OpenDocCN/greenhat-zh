- en: Chapter 2. Installation Preparations
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '*I am script kiddie.*'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: '*Windows is warm and tasty;*'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: '*blowfish goes down hard.*'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: '![](httpatomoreillycomsourcenostarchimages1616079.png) It’s not enough to install
    OpenBSD and get the machine running; you want a *successful* installation. A successful
    installation means that the system is configured to perform the job you intend
    it to do. A developer’s laptop has very different requirements than those of a
    dedicated firewall, which might look very different from a web server. Proper
    planning will make your OpenBSD installation quick, easy, and successful. We’ll
    spend a great deal of time on installation planning. Once you understand what
    you’re doing, the actual installation process is pretty simple. Many of the problems
    people have with OpenBSD come from not understanding their many choices.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: The guidelines in this chapter cover most situations, but the final word on
    installing OpenBSD is the install document included in the release. For example,
    before installing OpenBSD on an i386 system, read *i386/INSTALL.i386* for your
    release.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: OpenBSD Hardware
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: OpenBSD supports a wide variety of different hardware architectures. Some platforms,
    such as i386 and amd64, have extensive support, and their web pages and release
    notes list pages and pages of supported hardware. Others, such as SGI, support
    only very specific hardware models.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: 'OpenBSD’s currently supported hardware platforms include i386 (standard PC),
    amd64 (64-bit PC-style hardware), sparc64 (Sun-style hardware), SGI (Silicon Graphics),
    and others. It also supports old platforms such as the VAX and tiny computers
    like the Zaurus. The platforms that I find interesting include the following:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: '****i386****. the Intel-compatible computer that has been popular for the past
    couple of decades'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****amd64****. AMD’s 64-bit extensions to the 32-bit i386, copied by Intel
    as EM64T, and sometimes called x64, x86_64, or x86-64 (this hardware can run both
    the 32-bit i386 and 64-bit amd64 versions of OpenBSD)'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****sparc64****. 64-bit Sun UltraSPARC and compatibles'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****macppc****. PowerPC-based Macintosh computers, from the iMac up until Apple
    switched to amd64 hardware'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Zaurus****. Sharp Zaurus personal digital assistants (PDAs)'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This chapter covers installing on the i386 and amd64 platforms. These are the
    standard 32-bit and 64-bit PC systems available from most vendors, and are what
    you’re most likely to find on the secretary’s desk while he is at lunch. They’re
    architecturally close and install in exactly the same way.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: Old systems can run OpenBSD quite well. I’ve run OpenBSD/i386 quite nicely on
    a 166 MHz processor with 128MB of memory. You probably have some old system lying
    around that’s perfectly adequate for learning OpenBSD.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: In this book, I assume that your equipment is PCI bus or newer. I do not cover
    EISA hardware, or ISA other than the onboard chips in modern hardware. If you
    have an EISA SCSI card or network interface card (NIC) that still works, OpenBSD
    probably supports it. I assume that you still have the original hardware configuration
    floppy and remember how to set the IRQ and interrupt to match that assumed by
    the OpenBSD kernel. If you don’t, recycle that card and buy something built this
    millennium.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我假设你的设备是 PCI 总线或更新的版本。我不涵盖 EISA 硬件，或现代硬件中除了板载芯片之外的其他 ISA 硬件。如果你有一张仍然工作的
    EISA SCSI 卡或网络接口卡（NIC），OpenBSD 可能支持它。我假设你仍然有原始的硬件配置软盘，并记得如何设置中断和中断请求以匹配 OpenBSD
    内核所假设的。如果你不记得，就回收这张卡，并购买本世纪建造的设备。
- en: Note that the hardware must be in working condition. If your old Pentium machine
    kept crashing because its RAM is bad, using OpenBSD won’t fix that problem. Also,
    OpenBSD will be most useful if the hardware meets certain minimum levels. I make
    recommendations based on my own experience, but again, the documentation gives
    the current and definitive requirements.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，硬件必须处于工作状态。如果你的旧奔腾机因为内存损坏而经常崩溃，使用 OpenBSD 并不能解决这个问题。此外，如果硬件达到某些最低标准，OpenBSD
    将非常有用。我根据自己的经验提出建议，但再次强调，文档提供了当前和最终的要求。
- en: You can find a full list of supported hardware platforms at *[http://www.OpenBSD.org/plat.html](http://www.OpenBSD.org/plat.html)*.
    This page links to a page for each hardware platform, where you can get details
    on support for that hardware.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 *[http://www.OpenBSD.org/plat.html](http://www.OpenBSD.org/plat.html)*
    找到支持的硬件平台的全列表。这个页面链接到每个硬件平台的页面，你可以获取该硬件的详细支持信息。
- en: Supported Hardware
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 支持的硬件
- en: The good news is that OpenBSD supports most hardware. The bad news is that it
    doesn’t support everything. Generally speaking, OpenBSD supports the most common
    nonproprietary hardware. It might not support the very newest hardware, as the
    OpenBSD team doesn’t get much access to hardware before it’s released. Hardware
    that’s a few months old has better support than bleeding-edge gear.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 好消息是 OpenBSD 支持大多数硬件。坏消息是它并不支持所有硬件。一般来说，OpenBSD 支持最常见的非专有硬件。它可能不支持最新的硬件，因为 OpenBSD
    团队在新硬件发布之前很少有机会接触到硬件。几个月前的硬件支持通常比尖端硬件更好。
- en: To verify if OpenBSD supports your hardware, read the release notes for your
    platform or just give it a try.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 要验证 OpenBSD 是否支持你的硬件，请阅读你平台的发布说明，或者直接尝试一下。
- en: Proprietary Hardware, Blobs, and Firmware
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 专有硬件、二进制对象和固件
- en: 'Some hardware vendors want to keep the inner workings of their equipment secret
    so that competitors can’t copy their designs. They hide their hardware designs
    in two common ways: proprietary hardware and binary object device drivers.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 一些硬件厂商希望保持其设备的内部工作原理的秘密，这样竞争对手就不能复制他们的设计。他们通常通过两种方式隐藏其硬件设计：专有硬件和二进制对象设备驱动程序。
- en: Some vendors will not provide documentation for their hardware. The vendor expects
    that the user will use the vendor-provided driver, and they provide drivers only
    for the most widely used commodity operating systems (such as Windows) or for
    a specific target market (Apple). Without documentation, writing device drivers
    is tedious and difficult. Some hardware can be supported well without complete
    documentation, but much cannot. For example, OpenBSD’s sparc64 platform didn’t
    support newer Sparc processors for several years, until Sun released documentation.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一些厂商不会为其硬件提供文档。厂商期望用户使用他们提供的驱动程序，并且他们只为最广泛使用的商品操作系统（如 Windows）或特定目标市场（如 Apple）提供驱动程序。没有文档，编写设备驱动程序既繁琐又困难。某些硬件在没有完整文档的情况下也能得到很好的支持，但许多硬件则不行。例如，OpenBSD
    的 sparc64 平台在 Sun 发布文档之前，好几年都不支持新的 Sparc 处理器。
- en: Some vendors don’t want to provide documentation, but do want users of open
    source operating systems to buy their hardware. These vendors provide drivers
    for their hardware in the form of binary objects, or *blobs*. This might sound
    reasonable at first, but the operating system must load these blobs into the kernel.
    The OpenBSD team has several objections to this. First, the code is not available
    for audit. If the blob has a security issue, or has some subtle interaction with
    the kernel that destabilizes the system, there’s no way for the developers to
    resolve the problem. The blob might only be inefficient or wasteful, but it could
    negatively impact other kernel subsystems or even include backdoors. Lastly, OpenBSD’s
    philosophy requires that all code be covered under a strict BSD license. In-kernel
    blobs are not free, and so OpenBSD will not support them.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 一些供应商不希望提供文档，但希望开源操作系统的用户购买他们的硬件。这些供应商以二进制对象或 *blob* 的形式提供其硬件的驱动程序。这听起来可能一开始是合理的，但操作系统必须将这些
    blob 加载到内核中。OpenBSD 团队对此有几个反对意见。首先，代码不可用于审计。如果 blob 存在安全漏洞，或者与内核有细微的交互导致系统不稳定，开发者无法解决这个问题。blob
    可能只是低效或浪费，但它可能会对其他内核子系统产生负面影响，甚至可能包含后门。最后，OpenBSD 的哲学要求所有代码都必须在严格的 BSD 许可证下。内核中的
    blob 不是免费的，因此 OpenBSD 不会支持它们。
- en: 'Note that blobs are not the same as *firmware*. Firmware is a binary object
    a piece of hardware needs in order to run, and is loaded into the hardware itself,
    rather than into the operating system. You’ll find firmware in almost every computer
    component: CPUs, motherboards, NICs, disk controllers, and so on. Firmware is
    never loaded into the kernel; the kernel loads the firmware into the card. The
    OpenBSD team considers this acceptable. The firmware lets the hardware provide
    its documented interface to the operating system, and if it wasn’t on the disk,
    it would be on the hardware itself.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，固件与 *固件* 不同。固件是硬件运行所需的二进制对象，它被加载到硬件本身，而不是操作系统。你几乎可以在每个计算机组件中找到固件：CPU、主板、网络接口卡、磁盘控制器等等。固件永远不会加载到内核中；内核将固件加载到卡上。OpenBSD
    团队认为这是可以接受的。固件让硬件能够向操作系统提供其文档化的接口，如果它不在磁盘上，它就会在硬件本身上。
- en: Generally speaking, if OpenBSD developers have a piece of hardware, documentation
    for that hardware, and any use for the hardware, they will probably implement
    support for it. If not, that hardware won’t work. In most cases, unsupported proprietary
    or blob-driven hardware can be replaced with more effective (and less expensive)
    open hardware.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 一般而言，如果 OpenBSD 开发者拥有一块硬件、该硬件的文档以及任何对该硬件的使用需求，他们可能会实现对该硬件的支持。如果没有，那么该硬件将无法工作。在大多数情况下，不受支持的专有或
    blob 驱动的硬件可以用更有效（且更便宜）的开源硬件替换。
- en: Processors
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 处理器
- en: Processor brand is irrelevant. OpenBSD doesn’t care if it’s running on a CPU
    from Intel, AMD, Cyrix, or any other Intel-compatible processor. OpenBSD probes
    the CPU on boot and uses whatever chip features it recognizes. I’ve run very effective
    multimegabit firewalls on 486-class processors, but you’ll be happiest with a
    1 GHz or faster processor.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 处理器品牌无关紧要。OpenBSD 不关心它是否运行在英特尔、AMD、Cyrix 或任何其他兼容英特尔的处理器的 CPU 上。OpenBSD 在启动时探测
    CPU，并使用它所识别的任何芯片功能。我曾在 486 类处理器上运行过非常有效的多兆比特防火墙，但你最满意的是使用 1 GHz 或更快的处理器。
- en: OpenBSD’s multiprocessor support is not as broad as some other operating systems,
    however. The OpenBSD kernel mostly runs with the Big Giant Lock method, so the
    kernel can run on only one processor at a time. (Some small chunks of the kernel
    are not under the Big Giant Lock.) In practical terms, this means that the OpenBSD
    kernel won’t make effective use of more than two processors or cores.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，OpenBSD 的多处理器支持并不像某些其他操作系统那样广泛。OpenBSD 内核主要使用大巨人锁方法运行，因此内核一次只能运行在一个处理器上。（内核的一些小块代码不在大巨人锁之下。）从实际的角度来看，这意味着
    OpenBSD 内核不会有效地使用超过两个处理器或核心。
- en: Does this mean you shouldn’t use OpenBSD on your dual-eight-core-processor server?
    That depends on your expected server load. User processes scale well as long as
    they don’t go into the kernel. Most web log analysis software, for example, runs
    almost entirely in user space, and you run massively parallel analysis jobs that
    scale quite well with the number of processors. Tasks such as forwarding packets,
    however, pass through the kernel. The hardware you need depends entirely on your
    expected workload.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这是否意味着你不应该在双八核处理器的服务器上使用OpenBSD？这取决于你预期的服务器负载。只要用户进程不进入内核，它们就可以很好地扩展。例如，大多数网络日志分析软件几乎完全在用户空间运行，你可以运行大规模并行分析任务，这些任务可以很好地随着处理器数量的增加而扩展。然而，像转发数据包这样的任务会通过内核。你需要什么硬件完全取决于你预期的负载。
- en: Memory (RAM)
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 内存（RAM）
- en: Memory is good. The more memory you have, the happier you will be. Adding RAM
    accelerates your system more than any other generic improvement. You should have
    at least 256MB of RAM, and preferably at least 512MB. If you can get a couple
    of gigabytes in your system, OpenBSD will take full advantage of that memory.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 内存是好的。你拥有的内存越多，你会越快乐。增加RAM比任何其他通用改进都能加速你的系统。你应该至少有256MB的RAM，最好是至少512MB。如果你能在你的系统中获得几个GB，OpenBSD将充分利用这些内存。
- en: If you keep adding memory, you will hit a point where your system has all the
    memory it needs, and more memory won’t further improve performance. This could
    be as low as 128MB for a small firewall, a couple of gigabytes for a desktop machine,
    or more for a large database server.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你继续增加内存，你会达到一个点，你的系统拥有它需要的所有内存，更多的内存不会进一步提高性能。对于一个小型防火墙，这可能是低至128MB，对于桌面机器，可能是几GB，而对于大型数据库服务器，则可能更多。
- en: Most weird crashes and inexplicable, irreproducible problems can be traced back
    to bad memory, so be certain that the memory you are using is good. Memory is
    a common failure point in an old machine.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数奇怪的崩溃和无法解释、无法重现的问题都可以追溯到不良的内存，所以请确保你使用的内存是好的。内存是旧机器中常见的故障点。
- en: Hard Drives
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 硬盘驱动器
- en: The smallest new hard drive you can buy today will run OpenBSD with vast amounts
    of space to spare. On older systems, I recommend at least 40GB of disk space—not
    because OpenBSD won’t fit in less, but because you’ll want room for additional
    files and software. The smaller your disk, the more closely you’ll need to monitor
    its use. It’s easy to fill a small disk when building a desktop environment from
    source, and disks are cheap these days. If you’re running a small firewall from
    a flash drive, I recommend at least 512MB.^([[5](#ftn.id451064)])
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 你今天能买到的最小的新硬盘可以运行OpenBSD，并且还有大量的空间。在较旧的系统中，我建议至少有40GB的磁盘空间——不是因为OpenBSD无法适应更小的空间，而是因为你需要空间来存储额外的文件和软件。你的磁盘越小，你就越需要密切监控其使用情况。当从源代码构建桌面环境时，很容易填满一个小磁盘，而现在的磁盘又很便宜。如果你是从闪存驱动器运行小型防火墙，我建议至少512MB.^([[5](#ftn.id451064)])
- en: Virtualization
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 虚拟化
- en: Many people run new operating systems in a virtual environment while they become
    accustomed to those systems. Some companies even have firm policies mandating
    that all systems be run as virtual servers. OpenBSD runs fine in common virtual
    environments, and even has specific device drivers for virtualization systems
    such as VMware.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 许多人在新操作系统适应期间在虚拟环境中运行它们。一些公司甚至有明确政策，要求所有系统都作为虚拟服务器运行。OpenBSD在常见的虚拟环境中运行良好，甚至为虚拟化系统如VMware提供了特定的设备驱动程序。
- en: The hardware requirements for running OpenBSD on a virtual server are similar
    to the requirements for running OpenBSD on real hardware. Note that no operating
    system running in a virtual environment is as secure as that same operating system
    running on real hardware. Virtual environments do not precisely replicate real
    hardware. Emulated CPUs have their own new and interesting bugs, virtual NICs
    have unique errors, and so on. Additionally, the environment providing the virtual
    server is itself an operating system. An intruder can attack that underlying operating
    system, and once an intruder controls the virtualization server, clients running
    on that machine are much more vulnerable. No operating system can protect itself
    against its hardware. You must consider this risk when planning OpenBSD’s role
    in your environment.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在虚拟服务器上运行OpenBSD的硬件要求与在真实硬件上运行OpenBSD的要求相似。请注意，在虚拟环境中运行的任何操作系统都不如在同一真实硬件上运行的操作系统安全。虚拟环境并不能精确地复制真实硬件。模拟CPU有其自己新奇的错误，虚拟网络接口卡有独特的错误，等等。此外，提供虚拟服务器的环境本身也是一个操作系统。入侵者可以攻击那个底层操作系统，一旦入侵者控制了虚拟化服务器，运行在该机器上的客户端就更加脆弱。没有操作系统可以保护自己免受其硬件的影响。在规划OpenBSD在您环境中的作用时，您必须考虑这种风险。
- en: For learning about OpenBSD, however, a virtual environment is perfectly adequate.
    I run OpenBSD machines in VirtualBox, on ESXi, and on Linux’s KVM hypervisor without
    difficulty.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，对于了解OpenBSD来说，虚拟环境是完全可以接受的。我在VirtualBox、ESXi和Linux的KVM虚拟机管理程序上轻松地运行了OpenBSD机器。
- en: Multiple Operating Systems
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多个操作系统
- en: For many years, I ran multiple operating systems on a single computer. I remember
    being thrilled by my new 6GB hard drive because I could run FreeBSD, OpenBSD,
    Windows, and Linux on one computer with plenty of space for each operating system.
    This was the only way to run multiple operating systems on a single desktop, but
    advances in virtualization technology have made this approach obsolete.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 多年来，我在一台计算机上运行了多个操作系统。我记得我对我的新6GB硬盘感到兴奋，因为我可以在一台计算机上运行FreeBSD、OpenBSD、Windows和Linux，并为每个操作系统留有足够的空间。这是在单台桌面计算机上运行多个操作系统的唯一方法，但虚拟化技术的进步已经使这种方法过时。
- en: Rather than carefully dividing your desktop hard disk to run multiple operating
    systems and hoping that some proprietary disk-partitioning program won’t munch
    its neighbor, I recommend running one operating system that supports a virtualization
    server and running your secondary operating systems as guests. OpenBSD supports
    running virtual guests with `qemu`.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 与其小心翼翼地将您的桌面硬盘分区以运行多个操作系统，并希望某些专有磁盘分区程序不会吞噬其邻居，我建议运行一个支持虚拟化服务器的操作系统，并将您的次要操作系统作为虚拟机运行。OpenBSD支持使用`qemu`运行虚拟客户机。
- en: Getting OpenBSD
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 获取OpenBSD
- en: Once you have hardware, you need OpenBSD. You can get OpenBSD on CD and over
    the Internet.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您有了硬件，您就需要OpenBSD。您可以从CD和互联网上获取OpenBSD。
- en: Official CDs
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 官方CD
- en: Why would you buy an official CD in the 21st century?
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 你为什么要在21世纪购买官方CD？
- en: The OpenBSD project is funded largely by sales of official CDs, along with related
    books, clothing, and so on. You can download a disk image from the Internet and
    burn your own installation disk, but purchasing an official set helps improve
    OpenBSD. The OpenBSD team tries to make the official CD sets interesting pieces
    in and of themselves, and usually packages them in some sort of geek-themed art.
    To get an official CD, go to the OpenBSD website and look for the Getting OpenBSD
    link. You can also find a whole bunch of OpenBSD-related merchandise.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: OpenBSD项目主要依靠官方CD的销售以及相关的书籍、服装等来资助。您可以从互联网上下载磁盘镜像并烧录自己的安装盘，但购买官方套件有助于改进OpenBSD。OpenBSD团队试图使官方CD集本身成为有趣的物品，并且通常将它们包装在某种极客主题的艺术作品中。要获取官方CD，请访问OpenBSD网站并查找获取OpenBSD链接。您还可以找到大量与OpenBSD相关的商品。
- en: You can download installation images from the Internet, but they’re not the
    same as the official CD set. The downloaded disk images don’t contain any packages,
    lack the fancy physical packaging, and work on only one hardware architecture.
    You cannot download the images used for the official disks.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从互联网上下载安装镜像，但它们与官方CD集不同。下载的磁盘镜像不包含任何软件包，缺乏花哨的物理包装，并且只能在一种硬件架构上运行。您无法下载用于官方磁盘的镜像。
- en: The main OpenBSD distribution point is in Canada, which increases delivery costs
    for those living on other continents. The OpenBSD website lists a variety of resellers
    that offer official OpenBSD CDs. Pick a vendor in your country and save on customs
    duties. If that option isn’t available to you, you can at least pick a vendor
    on your same continent and save on shipping.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 主要的OpenBSD分发点位于加拿大，这增加了居住在其他大陆的人的配送成本。OpenBSD网站列出了提供官方OpenBSD CD的各种经销商。选择您国家的经销商可以节省关税。如果此选项对您不可用，您至少可以选择您所在大陆的经销商并节省运费。
- en: Internet Downloads
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 互联网下载
- en: The other OpenBSD installation methods require network access, either to download
    a complete image or to download files during the installation. Start by selecting
    an OpenBSD mirror site close to you. You can find a full list of mirrors at *[http://www.OpenBSD.org/ftp.html](http://www.OpenBSD.org/ftp.html)*.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 其他OpenBSD安装方法需要网络访问，无论是下载完整镜像还是安装过程中下载文件。首先选择一个靠近您的OpenBSD镜像站点。您可以在*[http://www.OpenBSD.org/ftp.html](http://www.OpenBSD.org/ftp.html)*找到镜像的完整列表。
- en: 'You can install the operating system files from an ISO image, FTP, HTTP, rsync,
    or even the Andrew File System (AFS) or Network File System (NFS) on some platforms.
    We will break the task into two parts: getting the target system to boot and getting
    the operating system files on the machine.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从ISO镜像、FTP、HTTP、rsync，甚至在某些平台上从Andrew文件系统（AFS）或网络文件系统（NFS）安装操作系统文件。我们将任务分为两部分：使目标系统启动，以及将操作系统文件放置在机器上。
- en: Mirror Site Layout
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 镜像站点布局
- en: 'All of the OpenBSD mirrors contain files and directories much like these:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 所有OpenBSD镜像都包含类似这些的文件和目录：
- en: '**5.1, 5.2, 5.3, and 5.4**. The numbered directories contain OpenBSD releases.
    Most mirrors contain the last four releases. This particular server contains OpenBSD
    releases 5.1, 5.2, 5.3, and 5.4.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**5.1, 5.2, 5.3, 和 5.4**. 编号目录包含OpenBSD版本。大多数镜像包含最后四个版本。这个特定的服务器包含OpenBSD版本5.1、5.2、5.3和5.4。'
- en: '**Changelogs**. This directory contains collated OpenBSD Concurrent Version
    System (CVS) logs for those interested in OpenBSD’s development. The casual user
    would probably find the web-based CVS browser more useful.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Changelogs**. 此目录包含对OpenBSD并发版本系统（CVS）日志的整理，供对OpenBSD开发感兴趣的用户使用。普通用户可能会发现基于Web的CVS浏览器更有用。'
- en: '**distfiles**. This directory contains the files for building third-party software
    included in the OpenBSD ports collection (see [Chapter 13](ch13.html "Chapter 13. Software
    Management")). Not all mirror sites carry this very large directory.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**distfiles**. 此目录包含构建OpenBSD端口集合中包含的第三方软件所需的文件（见[第13章](ch13.html "第13章. 软件管理"））。并非所有镜像站点都携带这个非常大的目录。'
- en: '**doc**. This directory contains the OpenBSD FAQ and the PF FAQ, as well as
    translated and obsolete versions of the documentation.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**doc**. 此目录包含OpenBSD FAQ和PF FAQ，以及翻译和过时的文档版本。'
- en: '**ftplist**. This file documents the official FTP and HTTP installation mirrors.
    When you install via FTP or HTTP, the installer grabs this file to allow you to
    choose a mirror site close to you.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ftplist**. 此文件记录了官方FTP和HTTP安装镜像。当您通过FTP或HTTP安装时，安装程序会抓取此文件以允许您选择一个靠近您的镜像站点。'
- en: '**OpenBGPD, OpenNTPD, **and** OpenSSH**. These three directories contain software
    that originated in the OpenBSD Project, but has been ported to other operating
    systems. *OpenBGPD* and *OpenNTPD* are newer projects aimed at creating OpenBSD-style
    Border Gateway Protocol (BGP) and Network Time Protocol (NTP) daemons. *OpenSSH*
    is the most widely deployed Secure Shell (SSH) client and server in the world,
    and is ported to all major operating systems.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OpenBGPD, OpenNTPD** 和 **OpenSSH**. 这三个目录包含起源于OpenBSD项目但已移植到其他操作系统的软件。*OpenBGPD*
    和 *OpenNTPD* 是旨在创建类似OpenBSD风格的边界网关协议（BGP）和网络时间协议（NTP）守护进程的新项目。*OpenSSH* 是全球最广泛部署的安全外壳（SSH）客户端和服务器，已移植到所有主要操作系统。'
- en: '**patches**. This directory contains patches for each earlier OpenBSD release.
    These patches address critical security and stability issues.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**patches**. 此目录包含针对每个早期OpenBSD版本的补丁。这些补丁解决了关键的安全和稳定性问题。'
- en: '**snapshots**. This directory contains recent experimental OpenBSD versions,
    snapshots of development between releases. If you want an early preview of the
    next version of OpenBSD, install a snapshot. These are works in progress; the
    developers provide them so that users can help test new code and catch any bugs
    before a release. If you want to be helpful, use a snapshot, but be warned: A
    snapshot might work beautifully, or it might savage your hardware and subtly corrupt
    your data. See [Chapter 20](ch20.html "Chapter 20. Upgrading") for more information
    about snapshots.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**songs**. Each version of OpenBSD includes a song written for the release.
    The *songs* directory contains each of these soundtracks.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**timestamp**. This file contains the time this mirror was last updated.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**tools**. This directory contains add-on tools useful for the OpenBSD Project’s
    internal workings.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Release Directories
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Look within any given release directory on an OpenBSD FTP site or on a CD,
    and you’ll see the following:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: 'A directory for each architecture OpenBSD supports: *amd64*, *i386*, *sparc64*,
    and so on (on the CD, these directories are scattered among different disks as
    space permits)'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A *packages* directory containing precompiled software for this release (see
    [Chapter 13](ch13.html "Chapter 13. Software Management"))
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A *ports.tar.gz* file containing the compressed ports tree (see [Chapter 13](ch13.html
    "Chapter 13. Software Management"))
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A *src.tar.gz* file containing the operating system source code (see [Chapter 20](ch20.html
    "Chapter 20. Upgrading"))
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A *sys.tar.gz* file containing the OpenBSD kernel source code (see [Chapter 19](ch19.html
    "Chapter 19. Building Custom Kernels"))
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A *xenocara.tar.gz* file containing the OpenBSD version of the X Window System
    (see [Chapter 19](ch19.html "Chapter 19. Building Custom Kernels"))
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A *tools* directory with software to help installation
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Several documents such as the release announcement (*ANNOUNCEMENT*), the basic
    instructions (*README*), and notes on OpenBSD’s support for third-party software
    and different hardware
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Look through your CD or the mirror site and find the directory for your hardware
    architecture. The architecture directories contain fairly similar files for every
    hardware platform.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: First, find the installation instructions for your hardware. These are named
    *INSTALL* followed by the platform name (such as *INSTALL.i386*, *INSTALL.amd64*,
    and so on). Always read the installation instructions for your platform. While
    I’ve made every effort for accuracy in this book, OpenBSD continually changes,
    and the install document for your release is the last word on installation instructions.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: Boot Media
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The OpenBSD boot media varies by hardware platform, and each hardware item has
    its own boot media requirements. You can’t expect to boot a Zaurus or a VAX from
    a CD.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: To easily boot the OpenBSD installer on i386 or amd64 hardware, use either a
    floppy disk or a CD (I usually recommend the latter). You can boot the installer
    from a USB disk, but the standard method requires bootstrapping from an OpenBSD
    machine, and nonstandard methods vary widely depending on available equipment.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: If you cannot boot from a CD, use a floppy disk. OpenBSD provides one amd64
    floppy image and three different i386 floppy disk images. If you’re booting i386
    from a floppy, I suggest downloading all floppy images.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: If you cannot boot using either method, you must use the Preboot eXecution Environment
    (PXE) diskless booting method, as described in [Chapter 23](ch23.html "Chapter 23. Customizing
    OpenBSD"). This method works well but requires a bit more preparation.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: Choosing Install Media
  id: totrans-85
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The boot disk can format your hard drive, configure your network, and copy installation
    files to disk. Boot media don’t include those installation files, however. Installation
    files for i386 and amd64 machines come on an ISO image and over the network via
    FTP or HTTP.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: If you intend to install this release on multiple OpenBSD machines, you might
    download the CD image that includes the installation files. It’s much larger than
    the boot-only installer ISO image, however, so downloading it will require some
    sort of broadband connection.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: If you’re doing a single OpenBSD installation, or you don’t have a CD drive,
    I recommend an HTTP installation. If you install from a reasonably close mirror
    site and have sufficient bandwidth, OpenBSD installs from HTTP quickly and reliably,
    and uses only about half as much bandwidth as downloading the installation ISO
    image. If you prefer, you can install from FTP as well.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: Advanced users can install OpenBSD via the PXE method, as mentioned in the previous
    section and covered in detail in [Chapter 23](ch23.html "Chapter 23. Customizing
    OpenBSD").
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: Local Installation Servers
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: One reason CDs are so popular is that you need to download files from the Internet
    only once, but can reuse your downloads to install OpenBSD on many machines. But
    CDs are physically fragile, and not every machine has a CD drive. If you want
    to install OpenBSD on several machines without using up bandwidth for each installation,
    download all of the installation files for your architecture. If you copy these
    files to a local FTP or web server, you can install OpenBSD on any number of machines
    from these files. To install from the local FTP server, you’ll need a username
    and password for the FTP server.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: To help save the OpenBSD Project on bandwidth costs, download only the directories
    for the architectures you need. If you know exactly what you want to install,
    download just those file sets. You might have no respect for your own bandwidth,
    but please respect others’ bandwidth.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: File Sets
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The release directory for each architecture contains several compressed files
    with names like *comp52.tgz*, *base52.tgz*, and so on. These *file sets* contain
    compressed OpenBSD installation files. By choosing to install particular file
    sets, you can pick how much functionality your OpenBSD system will have out of
    the box. For example, the documentation is kept in a separate distribution set.
    If you have documentation elsewhere, you might choose to not install it on a particular
    system. Also, intruders often make use of compilers, so you might not want them
    on a system you want to protect. But if this is your experimental “learning OpenBSD”
    machine, install everything.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 每个架构的发布目录包含几个名为 *comp52.tgz*、*base52.tgz* 等的压缩文件。这些 *文件集* 包含压缩的 OpenBSD 安装文件。通过选择安装特定的文件集，你可以选择你的
    OpenBSD 系统将具有多少开箱即用的功能。例如，文档保存在单独的发行版集中。如果你在其他地方有文档，你可能选择不在特定的系统上安装它。此外，入侵者经常使用编译器，所以你可能不希望在你想保护的系统上安装它们。但如果这是你的实验性“学习
    OpenBSD”机器，请安装所有内容。
- en: Each file set has a name and a version number. For example, one distribution
    set of OpenBSD in release 5.2 is *base52.tgz*. These are the base files of release
    5.2\. In the next release, this same file set will be called *base53.tgz*.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 每个文件集都有一个名称和版本号。例如，OpenBSD 发布 5.2 中的一个发行版集是 *base52.tgz*。这些是 5.2 版本的基文件。在下一个版本中，这个相同的文件集将被称为
    *base53.tgz*。
- en: All architectures include all file sets, unless otherwise noted in the architecture’s
    release notes. If this is your first OpenBSD installation, take a moment to decide
    which distribution sets you need. If at all possible, install them all on your
    test machine. You can always trim them down later for dedicated-purpose machines.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 所有架构都包含所有文件集，除非架构的发布说明中另有说明。如果你是第一次安装 OpenBSD，请花点时间决定你需要哪些发行版集。如果可能的话，在你的测试机器上安装它们。你总是可以在以后为专用目的机器缩减它们。
- en: 'The following file sets are available:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 以下文件集可用：
- en: bsd, bsd.mp, **and** bsd.rd
  id: totrans-98
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: bsd, bsd.mp, **和** bsd.rd
- en: ''
  id: totrans-99
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: These file sets contain only OpenBSD kernels. The kernel is the heart of the
    operating system, containing the device drivers and basic system functions. Without
    a kernel, the system will not boot. The *bsd* kernel is for single-processor machines,
    while the *bsd.mp* kernel supports multiple processors. The *bsd.rd* kernel contains
    the OpenBSD installer, basic userland utilities, and the live system kernel. You
    can run only one kernel at a time.
  id: totrans-100
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这些文件集仅包含 OpenBSD 内核。内核是操作系统的核心，包含设备驱动程序和基本系统功能。没有内核，系统将无法启动。*bsd* 内核适用于单处理器机器，而
    *bsd.mp* 内核支持多处理器。*bsd.rd* 内核包含 OpenBSD 安装程序、基本用户空间实用程序和实时系统内核。一次只能运行一个内核。
- en: baseXX.tgz
  id: totrans-101
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: baseXX.tgz
- en: ''
  id: totrans-102
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This contains OpenBSD’s core programs—all the things that make OpenBSD Unix-like.
    The contents of */bin*, */sbin*, */usr/bin*, and */usr/sbin*; the system libraries;
    and all the miscellaneous programs you expect to find on a minimal Unix-like system
    are in this file set. You must install this file set.
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这包含了 OpenBSD 的核心程序——所有使 OpenBSD 成为类 Unix 系统的东西。包括 */bin*、*/sbin*、*/usr/bin*
    和 */usr/sbin* 的内容；系统库；以及你在最小化类 Unix 系统上期望找到的所有杂项程序都包含在这个文件集中。你必须安装这个文件集。
- en: etcXX.tgz
  id: totrans-104
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: etcXX.tgz
- en: ''
  id: totrans-105
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: You might guess that this file set contains the files from */etc*, but it also
    contains other required files and directories, such as */var/log* and the root
    user’s home directory. You must install this file set.
  id: totrans-106
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你可能会猜测这个文件集包含 */etc* 中的文件，但它还包含其他必需的文件和目录，例如 */var/log* 和 root 用户的家目录。你必须安装这个文件集。
- en: manXX.tgz
  id: totrans-107
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: manXX.tgz
- en: ''
  id: totrans-108
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If you need the man pages for the programs in the base and *etc* file sets,
    install this distribution set. The man pages for other sets are installed with
    their respective file sets.
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你需要基础和 *etc* 文件集中的程序的 man 页面，请安装这个发行版集。其他集的 man 页面将与各自的文件集一起安装。
- en: compXX.tgz
  id: totrans-110
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: compXX.tgz
- en: ''
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This file set contains C and C++ compilers, the assembler, libraries, tools,
    manuals, and the toolchain for each. You need this file set to develop or compile
    software, or use the ports collection (see [Chapter 13](ch13.html "Chapter 13. Software
    Management")). You do not need this file set if you plan to use only precompiled
    software packages. At roughly 60MB, it is the largest file set for most platforms,
    but it’s trivial compared to the size of modern hard disks. You might choose to
    not install it on a secure machine.
  id: totrans-112
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这个文件集包含 C 和 C++ 编译器、汇编器、库、工具、手册以及每个工具链。你需要这个文件集来开发或编译软件，或者使用端口集合（见[第 13 章](ch13.html
    "第 13 章。软件管理"））。如果你只计划使用预编译的软件包，则不需要这个文件集。大约 60MB，对于大多数平台来说，这是最大的文件集，但与现代硬盘的大小相比，它微不足道。你可能选择不在安全机器上安装它。
- en: gameXX.tgz
  id: totrans-113
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: gameXX.tgz
- en: ''
  id: totrans-114
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This file set contains several simple games, based on games originally distributed
    in BSD 4.4\. Some of these, such as *fortune(1)*, are considered UNIX classics,
    and old farts won’t be happy unless they’re installed. Others, such as */usr/games/wargames*,
    assume that you’re familiar with early 1980s films. You don’t need the games file
    set (unless you want to see what passed for “computer games” back when I was in
    high school).
  id: totrans-115
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这个文件集包含几个基于 BSD 4.4 原始版本的游戏。其中一些，如 *fortune(1)*，被认为是 UNIX 经典，除非安装，否则老用户不会高兴。其他，如
    */usr/games/wargames*，假设你熟悉 1980 年代初的电影。你可能不需要游戏文件集（除非你想看看我高中时代所谓的“电脑游戏”）。
- en: xbaseXX.tgz
  id: totrans-116
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: xbaseXX.tgz
- en: ''
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This contains the core of Xenocara, the OpenBSD version of the X Window System.
    If you want to use X, you need this. Although you might not have a console or
    monitor on this computer, remember that X allows programs on this server to display
    remotely.
  id: totrans-118
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这包含 Xenocara 的核心，即 OpenBSD 版本的 X Window 系统。如果你想使用 X，你需要这个。尽管你可能没有在这个计算机上安装控制台或显示器，但请记住，X
    允许这个服务器上的程序远程显示。
- en: ''
  id: totrans-119
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Most OpenBSD packages assume that you have installed this file set. If you find
    that a package crashes with errors about missing X libraries, you need this file
    set.
  id: totrans-120
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 大多数 OpenBSD 软件包都假设你已经安装了这个文件集。如果你发现某个软件包因为缺少 X 库的错误而崩溃，你需要这个文件集。
- en: xetcXX.tgz
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: xetcXX.tgz
- en: ''
  id: totrans-122
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This contains the X configuration files. If you’re using X for more than its
    libraries, you need this file set.
  id: totrans-123
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这包含 X 配置文件。如果你不仅使用 X 的库，还需要这个文件集。
- en: xfontXX.tgz
  id: totrans-124
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: xfontXX.tgz
- en: ''
  id: totrans-125
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This contains X fonts. If you plan to use X on this machine’s console, install
    this file set.
  id: totrans-126
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这包含 X 种字体。如果你计划在这个机器的控制台上使用 X，请安装这个文件集。
- en: xservXX.tgz
  id: totrans-127
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: xservXX.tgz
- en: ''
  id: totrans-128
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This file set contains all the X video card drivers. If you plan to use X on
    this machine’s console, install this file set.
  id: totrans-129
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这个文件集包含所有 X 显卡驱动程序。如果你计划在这个机器的控制台上使用 X，请安装这个文件集。
- en: xshareXX.tgz
  id: totrans-130
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: xshareXX.tgz
- en: ''
  id: totrans-131
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This contains the X documentation. If you plan to use X on this machine’s console,
    install this file set.
  id: totrans-132
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这包含 X 文档。如果你计划在这个机器的控制台上使用 X，请安装这个文件集。
- en: Partitioning
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分区
- en: '*Partitions* are logical subsections of a hard drive. OpenBSD can handle different
    partitions with their own unique privileges. You might make some partitions read-only
    so that files on them cannot be added, moved, or changed.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '*分区* 是硬盘的逻辑子分区。OpenBSD 可以处理具有自己独特特权的不同分区。你可能将一些分区设置为只读，这样它们上的文件就不能被添加、移动或更改。'
- en: OpenBSD might refuse to run programs on a specified partition, and it knows
    that device nodes should appear only on certain partitions. User files should
    not have `setuid` or `setgid` permissions, so the operating system won’t recognize
    those privileges on files on the user data partition. While many operating systems
    support these sorts of privilege controls, OpenBSD uses them by default.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: OpenBSD 可能会拒绝在指定的分区上运行程序，并且它知道设备节点应该只出现在某些分区上。用户文件不应该有 `setuid` 或 `setgid` 权限，因此操作系统不会在用户数据分区上的文件上识别这些特权。虽然许多操作系统支持这类权限控制，但
    OpenBSD 默认使用它们。
- en: The most difficult part of installing OpenBSD is partitioning. When you don’t
    know how partitions work, choosing partitioning can be troublesome.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 OpenBSD 最困难的部分是分区。当你不知道分区如何工作时，选择分区可能会很麻烦。
- en: If you’re familiar with other Unix-like operating systems (such as some distributions
    of Linux), you might be accustomed to using a single large root partition and
    putting everything on it. This is a bad idea for several reasons. OpenBSD uses
    partitions as a security tool. A single large partition eliminates per-partition
    security and privileges. With your log files safely contained on one partition,
    a process or user gone amok cannot fill your entire drive. While it could fill
    a partition, you could still create and edit files on other partitions, giving
    you the flexibility you need to address the problem.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: Unlike many installers that have fancy menus and graphic tools, OpenBSD’s installer
    expects you to know how to use low-level disk management tools such as `disklabel(8)`.
    Unlike with those operating systems, however, OpenBSD can be installed in a much
    wider variety of ways on a wider variety of systems, all with a single installer.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: If this is your first OpenBSD installation, use the default partitioning offered
    by the installer. OpenBSD will provide all its standard partitions, but adjust
    their sizes based on the size of your disk. The discussion here is based on a
    standard i386 installation on a fairly small disk.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: If you’ve previously installed OpenBSD and you’re installing it on a special-purpose
    machine, you might want special partitioning. In that case, get a piece of paper
    and a pencil, and write down the size of your hard disk, each partition you need,
    and each partition’s desired size. Your special-purpose OpenBSD machine should
    almost certainly have all the same partitions as a default installation, but their
    sizes will differ. A web server has very different disk space requirements than
    a desktop machine, which in turn has different requirements than those of a firewall.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
- en: If you have a large disk, leave some space unallocated. Having partitions the
    size you need accelerates filesystem integrity checks; `fsck(8)` doesn’t spend
    cycles integrity-checking unused disk space. On solid-state disks, unused space
    gives wear-leveling algorithms more cells to play with, increasing the life span
    of the disk and decreasing the odds of failure. It’s better to have spare disk
    space you never need than to need disk space you don’t have.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: Standard OpenBSD Partitions
  id: totrans-142
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The standard OpenBSD partitions are */* (root), swap space, */tmp*, */var*,
    */usr*, */usr/X11R6*, */usr/local*, */usr/src*, */usr/obj*, and */home*. If you
    create a custom layout and don’t include one of these partitions, the installer
    will put files that go into that partition into either your root or */usr* partition,
    quickly filling them. If you want to create a partition after installation, you
    must find space on your disk for it. Unless you left unallocated space on your
    disk, you’re better off reinstalling the whole system.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: Root Partition
  id: totrans-144
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: The root partition holds the main OpenBSD configuration files and the most essential
    software needed to get the computer into single-user mode and on the network.
    Your system needs fast access to the root filesystem, so if you have multiple
    disks, put the root partition on the fastest (or smallest) one.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 根分区包含主要的 OpenBSD 配置文件和将计算机带入单用户模式并连接到网络所需的最基本软件。你的系统需要快速访问根文件系统，所以如果你有多个磁盘，请将根分区放在最快的（或最小的）一个上。
- en: The root partition is the only one whose placement on disk is vitally important.
    Over the years, i386 systems have been repeatedly expanded to surpass their own
    limits—they’re based on an architecture that could originally handle only up to
    640KB of RAM, after all! All modern operating system kernels work around these
    limits in a manner mostly transparent to users, but when the system is first booting,
    you’re trapped within the hardware’s limits.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 根分区是唯一一个其磁盘位置至关重要的分区。多年来，i386 系统反复扩展以超越其自身限制——毕竟，它们基于的架构最初只能处理高达 640KB 的 RAM！所有现代操作系统内核都以对用户来说大部分是透明的方式绕过这些限制，但在系统首次启动时，你被硬件的限制所困。
- en: Many old i386 systems have limits on hard drive size. They only recognize 128GB
    drives, 2TB drives, or some other number. The hardware BIOS cannot access anything
    beyond that limit. If you’re using a computer that has a 128GB limit on hard drive
    size, and you put the kernel somewhere beyond the first 128GB of disk space, the
    computer will be unable to find the kernel and thus unable to boot the system.
    Check your hardware manual before you get started. If the manual refers to a disk
    size limit, your entire root partition must fit within that limit.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 许多旧的 i386 系统对硬盘大小有限制。它们只能识别 128GB 的硬盘、2TB 的硬盘或某些其他数字。硬件 BIOS 无法访问超过这个限制的任何内容。如果你使用的是硬盘大小限制为
    128GB 的电脑，并且你将内核放在超过第一个 128GB 磁盘空间的地方，电脑将无法找到内核，因此无法启动系统。在开始之前检查你的硬件手册。如果手册提到了磁盘大小限制，你的整个根分区必须适应那个限制。
- en: If you violate this limit, your system will probably appear to work. The second
    you change the file */bsd*, however, it’s likely that your computer will refuse
    to boot. Save yourself much pain by putting the root partition first on the disk,
    and making sure it’s small enough to fit within the hardware’s limits.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你违反了这个限制，你的系统可能看起来还能工作。然而，当你更改文件 */bsd* 时，你的电脑很可能会拒绝启动。通过将根分区放在磁盘的第一位，并确保它足够小以适应硬件的限制，你可以避免很多痛苦。
- en: Swap Space
  id: totrans-149
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 交换空间
- en: Swap space is used for virtual memory. When your computer runs low on RAM, it
    starts to move information that has been sitting idle in memory into swap space.
    When the computer needs that information, it’s loaded from virtual memory into
    real memory. This isn’t necessarily bad for performance. Many programs spend the
    vast majority of their time executing only a small fraction of their code. OpenBSD
    is pretty good about figuring out which sections of memory can be moved into swap
    space and which are used too frequently to be swapped. If things go well, your
    computer will almost never need swap space.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 交换空间用于虚拟内存。当你的电脑 RAM 不足时，它开始将内存中闲置的信息移动到交换空间。当电脑需要这些信息时，它们从虚拟内存加载到实际内存中。这并不一定对性能有害。许多程序的大部分时间只执行它们代码的一小部分。OpenBSD
    在确定哪些内存部分可以移动到交换空间以及哪些使用频率过高而不适合交换方面做得相当不错。如果一切顺利，你的电脑几乎永远不会需要交换空间。
- en: OpenBSD also uses swap space during system failures. If the kernel panics, the
    computer writes the contents of system memory to the swap partition. This means
    that the swap partition must be, at its smallest, slightly larger than the amount
    of physical RAM in the system.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: OpenBSD 还在系统故障期间使用交换空间。如果内核崩溃，电脑会将系统内存的内容写入交换分区。这意味着交换分区至少要稍微大于系统中的物理 RAM 量。
- en: How much swap space do you need? The short answer is, “It depends on the system.”
    OpenBSD defaults to allocating twice as much swap space as you have physical RAM.
    This isn’t a bad rule, as long as you understand it’s very general. A swap space
    three or four times the size of your physical memory won’t hurt. If your computer
    uses more swap space than that, it’s overloaded and will perform poorly.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要多少交换空间？简短的回答是，“这取决于系统。”OpenBSD 默认分配的交换空间是你物理 RAM 的两倍。只要你知道这是一个非常通用的规则，这并不是一个坏规则。物理内存的三到四倍大小的交换空间不会有害。如果你的电脑使用的交换空间超过这个量，它就过载了，并且性能会下降。
- en: If you find yourself using swap space often, consider increasing your physical
    memory instead. RAM is cheap.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你发现自己经常使用交换空间，考虑增加你的物理内存。RAM很便宜。
- en: Also consider future upgrades. If your system has 2GB of RAM when you install
    OpenBSD, but you intend to increase that to 8GB, assigning 16GB of swap space
    is a good idea. Adding a swap partition later is difficult, unless you leave unallocated
    disk space when you install the software. (Note that, while you can swap to a
    file, OpenBSD can write only crash dumps to an actual swap partition.)
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 也考虑未来的升级。当你安装OpenBSD时，如果你的系统有2GB的RAM，但打算增加到8GB，分配16GB的交换空间是个好主意。除非你在安装软件时留下未分配的磁盘空间，否则以后添加交换分区是困难的。（注意，虽然你可以将交换空间设置为一个文件，但OpenBSD只能将崩溃转储写入实际的交换分区。）
- en: /tmp Directory
  id: totrans-155
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /tmp 目录
- en: The */tmp* directory is temporary space for all users on the system. Space requirements
    for */tmp* are generally a matter of opinion—after all, you can always use a chunk
    of space in your */home* directory for scratch space. Automated software installers
    frequently extract files into */tmp*. I usually recommend at least 3GB in */tmp*,
    but I do horrible things to my temp space. Many people use a */tmp* directory
    of 256MB or 512MB and get along just fine.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '*/tmp* 目录是系统上所有用户的临时空间。*/tmp*的空间需求通常是个人观点的问题——毕竟，你总是可以在你的*/home*目录中使用一块空间作为临时空间。自动软件安装程序通常会提取文件到*/tmp*。我通常建议至少3GB的*/tmp*空间，但我对我的临时空间做了很多糟糕的事情。许多人使用256MB或512MB的*/tmp*目录并且过得很好。'
- en: /var Partition
  id: totrans-157
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /var 分区
- en: The */var* partition contains frequently changing data, such as logs, databases,
    mail spools, temporary run files, websites, and so on. OpenBSD allocates about
    5GB to */var* by default. This should be plenty for an educational installation.
    If you’re building a web, database, or logging server, however, */var* should
    get the majority of your disk space. If you’re on a really tiny system, you could
    use as little as 10MB for */var*.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '*/var* 分区包含经常变化的数据，如日志、数据库、邮件队列、临时运行文件、网站等。OpenBSD默认为*/var*分配大约5GB的空间。这对于教育安装来说应该足够了。然而，如果你正在构建一个网站、数据库或日志服务器，那么*/var*应该获得你大部分的磁盘空间。如果你在一个非常小的系统上，你甚至可以为*/var*使用10MB的空间。'
- en: /usr Partition
  id: totrans-159
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /usr 分区
- en: The */usr* partition holds the operating system programs, compilers, libraries,
    and add-on programs. The majority of */usr* changes only when you upgrade your
    system. OpenBSD assigns */usr* 2GB by default, which is more than sufficient,
    even on a desktop system.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '*/usr* 分区包含操作系统程序、编译器、库和附加程序。*/usr*的大部分变化只在你升级系统时发生。OpenBSD默认为*/usr*分配2GB的空间，这在桌面系统上已经足够了。'
- en: /usr/X11R6 Partition
  id: totrans-161
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /usr/X11R6 分区
- en: The */usr/X11R6* partition contains the X Window System programs and documentation.
    OpenBSD does package software linked against the X Window System, and a lot of
    software you might expect to find on servers (such as ImageMagick) requires X
    libraries.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '*/usr/X11R6* 分区包含X窗口系统的程序和文档。OpenBSD为链接到X窗口系统的软件打包，而且许多你可能在服务器上期望找到的软件（如ImageMagick）需要X库。'
- en: If you are not going to install any X software, and plan to build all your own
    software without X, you don’t need this partition. If you’re in doubt, or if this
    is your first installation, keep this partition.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你打算不安装任何X软件，并且计划完全使用自己的软件而不使用X，那么你不需要这个分区。如果你有疑问，或者这是你的第一次安装，请保留这个分区。
- en: /usr/local Partition
  id: totrans-164
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /usr/local 分区
- en: The */usr/local* partition contains add-on OpenBSD software, usually from packages
    (see [Chapter 13](ch13.html "Chapter 13. Software Management")). This can be much
    larger than the */usr* partition containing the core OpenBSD software. OpenBSD
    allocates 5GB of disk space to */usr/local* by default, and I’ve never needed
    more than that.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '*/usr/local* 分区包含附加的OpenBSD软件，通常来自软件包（参见[第13章](ch13.html "第13章。软件管理")）。这个分区可能比包含核心OpenBSD软件的*/usr*分区大得多。OpenBSD默认为*/usr/local*分配5GB的磁盘空间，我从未需要超过这个量。'
- en: /usr/src Partition
  id: totrans-166
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /usr/src 分区
- en: The */usr/src* partition is dedicated to the OpenBSD source code. On a dedicated-purpose
    machine that doesn’t have a compiler, such as a firewall or a secure web server,
    you probably don’t need a local copy of the source code. If you don’t plan to
    upgrade this machine from source code, and you don’t plan to use the source code
    as a reference on the local machine, you don’t need this partition. If you’re
    in doubt, keep it.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '*/usr/src* 分区专门用于OpenBSD源代码。在一个没有编译器的专用机器上，如防火墙或安全的Web服务器，你可能不需要本地源代码副本。如果你不打算从源代码升级这台机器，也不打算在本地机器上使用源代码作为参考，那么你不需要这个分区。如果你有疑问，请保留它。'
- en: /usr/obj Partition
  id: totrans-168
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /usr/obj 分区
- en: The */usr/obj* partition is where OpenBSD builds new versions of the operating
    system and Xenocara. The files in here are temporary; once you’ve installed a
    new OpenBSD version, you don’t need these files any longer. Creating a new filesystem
    is faster than erasing the individual files in this kind of filesystem, so */usr/obj*
    is configured as its own partition.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '*/usr/obj* 分区是OpenBSD构建操作系统和Xenocara新版本的地方。这里的文件是临时的；一旦你安装了新的OpenBSD版本，你就不需要这些文件了。创建新的文件系统比删除这种文件系统中的单个文件要快，所以*/usr/obj*被配置为独立的分区。'
- en: If you don’t intend to build a new OpenBSD from source code, you don’t need
    */usr/obj*. If you find that you do need this partition later, you can either
    create it from unused space or mount it via NFS.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有打算从源代码构建新的OpenBSD，你不需要*/usr/obj*。如果你后来发现你需要这个分区，你可以从未使用的空间创建它，或者通过NFS挂载它。
- en: /home Partition
  id: totrans-171
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: /home 分区
- en: The */home* partition can be described as “everything else.” User directories
    go into */home*, as well as any random data that’s meant for users. The family
    MP3 and photo collections should go in */home*, as well as your personal source
    code, email, and anything else you want to keep.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '*/home* 分区可以描述为“其他所有东西”。用户目录放入*/home*，以及任何为用户准备的数据。家庭MP3和照片收藏应该放在*/home*，以及你的个人源代码、电子邮件和任何你想要保留的东西。'
- en: Creating Other Partitions
  id: totrans-173
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建其他分区
- en: OpenBSD supports up to 16 partitions per disk. If you want other partitions,
    you can create them using the installer. Does your company have a policy that
    all add-on software must go in */opt* or */usr/companyname*? Fine, create that
    partition. The OpenBSD standards are not a straitjacket, but rather a starting
    point. You own the system. Make it behave according to your needs.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: OpenBSD支持每个磁盘最多16个分区。如果你想创建其他分区，你可以使用安装程序。你的公司是否有政策要求所有附加软件都必须放在*/opt*或*/usr/companyname*？好的，创建那个分区。OpenBSD的标准不是紧身衣，而是一个起点。你拥有系统。让它按照你的需求运行。
- en: Partition Filesystems
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分区文件系统
- en: The words *filesystem* and *partition* are often used interchangeably. They
    are closely related, but two different things. A filesystem is a method of allocating
    and tracking files that are on a partition. You can back up and restore a filesystem,
    but if a partition is damaged, you’re in much worse trouble.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: “文件系统”和“分区”这两个词经常被互换使用。它们密切相关，但却是两件不同的事情。文件系统是一种在分区上分配和跟踪文件的方法。你可以备份和恢复文件系统，但如果分区损坏，你会遇到更大的麻烦。
- en: OpenBSD uses the standard Fast File System (FFS) by default. FFS has been around
    for decades, and is both well debugged and well understood. Unfortunately, with
    its default settings, it can handle partitions only up to slightly less than 1TB
    in size. Modern disks make partitions of that size common.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: OpenBSD默认使用标准的快速文件系统（FFS）。FFS已经存在了几十年，调试得很好，理解得也很透彻。不幸的是，使用默认设置，它只能处理略小于1TB大小的分区。现代硬盘使这种大小的分区变得很常见。
- en: If a partition is 1TB or more in size, the installer automagically formats it
    with FFS version 2 (FFS2). In [Chapter 8](ch08.html "Chapter 8. Disks and Filesystems"),
    we’ll cover how to adjust your filesystems to exactly fit your needs.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 如果分区大小为1TB或更大，安装程序会自动使用FFS版本2（FFS2）格式化它。在[第8章](ch08.html "第8章。磁盘和文件系统")中，我们将介绍如何调整你的文件系统以完全满足你的需求。
- en: Multiple Hard Drives
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 多块硬盘
- en: Disk input/output is usually the slowest part of a computer. If you have more
    than one hard drive, you can use those drives to accelerate your system performance.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 磁盘输入/输出通常是计算机最慢的部分。如果你有多块硬盘，你可以使用这些硬盘来加速你的系统性能。
- en: First, make sure that each drive is on its own port. SCSI and SATA drives usually
    accommodate one drive per port (unless you specifically use a port multiplier),
    but IDE drives usually attach two devices per port. Each port has a maximum throughput.
    It does no good to attach two fast drives to one port, as the drives compete for
    the one port’s throughput.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，确保每个驱动器都在自己的端口上。SCSI和SATA驱动器通常每个端口一个驱动器（除非你特别使用端口多路复用器），但IDE驱动器通常每个端口连接两个设备。每个端口都有最大吞吐量。将两个快速驱动器连接到一个端口上是没有用的，因为驱动器会竞争一个端口的吞吐量。
- en: In general, when you have multiple drives, you want to split the read and write
    activity between the drives. I usually put the data I’m serving on one disk and
    the important system files on another. If I’m building a database server, I might
    dedicate one disk to swap space and */var*, while assigning all other partitions
    to the other disk.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
- en: Split your swap space between the drives. Be sure that at least one partition
    is large enough to hold the contents of your physical RAM, so that OpenBSD can
    do a crash dump if needed. OpenBSD cannot split a crash dump between two different
    swap partitions.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
- en: If you’re a more experienced OpenBSD user, you can use multiple hard drives
    to create a redundant disk with software RAID. We’ll cover how to do that in [Chapter 9](ch09.html
    "Chapter 9. More Filesystems").
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
- en: If your second drive is much slower than your main system drive, don’t bother
    using it. A computer runs only as fast as its slowest component, so adding that
    old IDE drive to your SATA system will drag down the whole machine. Not only will
    its presence degrade performance for the whole system, but it’s also probably
    much older than your main drive and far more likely to fail.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
- en: Understanding Partitions
  id: totrans-186
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As a historical accident, i386 and amd64 systems have two different types of
    partitions. OpenBSD refers to the first as *MBR partitions* and the second as
    *disklabel partitions* (or just *partitions*).
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
- en: MBR Partitions
  id: totrans-188
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: MBR partitions, also known as *primary partitions*, are universally understood
    by operating systems that run on i386 hardware. Every hard drive has four MBR
    partitions. In most cases, only one partition has any space allocated to it; the
    other three partitions have zero size. If you want to install multiple operating
    systems on a single disk, then each operating system needs its own MBR partition.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
- en: Most operating systems manage MBR partitions with a program called *fdisk*.
    It’s not the same program, mind you—OpenBSD’s `fdisk(8)` is not the same as Microsoft’s
    Fdisk, which is different from the program for Linux, FreeBSD, OpenSolaris, and
    so on. Any operating system’s fdisk can see MBR partitions that belong to other
    operating systems, and while they might not recognize what’s on the MBR partition,
    they will recognize that space has been allocated for *something* and will warn
    you about overwriting it. Unfortunately, not all fdisk programs play nicely with
    each other. Do not partition disks for one operating system with another operating
    system’s tools.^([[6](#ftn.id327131)])
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
- en: With the advent of cheap virtualization, installing multiple operating systems
    on a single disk is no longer advisable. Assign each disk a single MBR partition
    that fills the entire disk, and give the other three MBR partitions zero size.
    You will see an example of how to do this in [Chapter 3](ch03.html "Chapter 3. Installation
    Walk-Through").
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
- en: Disklabel Partitions
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: BSD did not originate on i386 hardware; it had its own disk-partitioning system,
    based on labeling the disk’s partitions. When BSD was ported to i386, the disklabel
    was nailed up inside an MBR partition. When someone speaks of “partitions” in
    OpenBSD, they almost certainly mean disklabel partitions.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: BSD 并非起源于 i386 硬件；它拥有自己的磁盘分区系统，该系统基于对磁盘分区的标记。当 BSD 被移植到 i386 时，磁盘标签被固定在 MBR
    分区内部。当有人在 OpenBSD 中提到“分区”时，他们几乎肯定是指磁盘标签分区。
- en: One disklabel can support 16 partitions. If you need more than 16 partitions,
    you must create a second MBR partition and add more disklabels. I would suggest
    that if you need more than 16 partitions on a single disk, you took a wrong turn
    somewhere in your decision-making process. Step back and reassess what you want
    to accomplish and how you’re going about it.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 一个磁盘标签可以支持 16 个分区。如果你需要超过 16 个分区，你必须创建第二个 MBR 分区并添加更多的磁盘标签。我建议，如果你需要在单个磁盘上超过
    16 个分区，你在决策过程中可能走错了方向。退一步，重新评估你想要实现的目标以及你正在如何进行。
- en: Foreign operating systems do not recognize OpenBSD disklabels. BSD-based operating
    systems might appear to understand them, but the disklabel formats used on the
    various BSD-derived systems have diverged in the past 20 years. Use only OpenBSD
    disk tools to manage OpenBSD partitions.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 外部操作系统无法识别 OpenBSD 磁盘标签。基于 BSD 的操作系统可能看似能理解它们，但过去 20 年中，各种基于 BSD 的系统所使用的磁盘标签格式已经发生了分歧。请仅使用
    OpenBSD 磁盘工具来管理 OpenBSD 分区。
- en: Understanding Disklabels
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解磁盘标签
- en: The OpenBSD installer expects you to understand disklabels. You can avoid learning
    about disklabels by blindly accepting the default partitioning OpenBSD offers,
    but that won’t take you very far. Disklabels might look intimidating to the new
    user and require some basic math, but they aren’t that difficult once you walk
    through them slowly. You need to understand disk geometry first.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: OpenBSD 安装程序期望你理解磁盘标签。你可以通过盲目接受 OpenBSD 提供的默认分区来避免学习磁盘标签，但这不会让你走得很远。磁盘标签可能看起来令新用户感到害怕，并需要一些基本的数学知识，但一旦你慢慢走过它们，它们并不那么困难。你需要首先理解磁盘几何形状。
- en: Sectors and Lies
  id: totrans-198
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 扇区和谎言
- en: Once upon a time, disk drives had clearly defined geometry. Each disk was actually
    round, and it spun inside the hard drive. The manufacturer divided each disk into
    tiny sections, called *sectors*. Each sector had a number, with sector 0 at the
    beginning of the disk and the sectors numbered sequentially until the end of the
    disk. Sectors were gathered into rings, or *tracks*. Stacks of tracks were aggregated
    into *cylinders*. Each disk drive had a number of *heads*—data-reading devices
    that read information from the disk as the disk spun beneath them. Taken as a
    whole, sectors, tracks, and cylinders described the disk *geometry*.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 从前，磁盘驱动器有明确定义的几何形状。每个磁盘实际上都是圆形的，并在硬盘内部旋转。制造商将每个磁盘分成许多小部分，称为 *扇区*。每个扇区都有一个编号，扇区
    0 位于磁盘的起始位置，扇区按顺序编号直到磁盘的末端。扇区被聚集到一起形成 *磁道*。磁道堆叠在一起形成 *柱面*。每个磁盘驱动器都有一定数量的 *磁头*——数据读取设备，当磁盘在它们下方旋转时，从磁盘读取信息。整体而言，扇区、磁道和柱面描述了磁盘的
    *几何形状*。
- en: This all seems simple enough, but today you can’t actually count on disk sectors
    to actually map to anything useful. Over the years, both hard drive manufacturers
    and operating systems have set and broken limits. This applies to all aspects
    of machine design, from the 640KB memory limit to the 504MB disk limit. Hard drive
    manufacturers avoided these limits by tricking the system BIOS and/or the operating
    system.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 这听起来似乎很简单，但今天你实际上不能指望磁盘扇区能映射到任何有用的东西。多年来，硬盘制造商和操作系统都设定并打破了限制。这适用于机器设计的各个方面，从
    640KB 的内存限制到 504MB 的磁盘限制。硬盘制造商通过欺骗系统 BIOS 和/或操作系统来避免这些限制。
- en: If you’re a hard drive manufacturer making a hard drive with 126 sectors per
    track, but the most popular operating system can accept only 63 sectors per track,
    you have a problem. The easy solution is to teach your hard drive to lie. If you
    claim you have half as many sectors per track but twice as many platters, the
    numbers still add up, and you can still provide unique sector numbers. Every hard
    drive manufacturer chooses to lie in a slightly different way. The most obvious
    examples are flash drives (which still report cylinders, sectors, and tracks,
    even though they’re not round and don’t spin^([[7](#ftn.id478126)])) and hardware
    RAID (which reports the same information about several disks as if they were one).
    If you read about the history of hard drives, you’ll discover all sorts of interesting
    lies.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您是制造每磁道126个扇区的硬盘驱动器的硬盘制造商，但最流行的操作系统只能接受每磁道63个扇区，您就遇到了问题。简单的解决方案是教会您的硬盘说谎。如果您声称每磁道扇区数量减半但盘片数量加倍，数字仍然相加，您仍然可以提供唯一的扇区编号。每个硬盘制造商都会选择以略微不同的方式说谎。最明显的例子是闪存驱动器（即使它们不是圆形且不旋转，它们仍然报告磁道、扇区和磁头^([[7](#ftn.id478126)]))和硬件RAID（它报告有关多个磁盘的信息，就像它们是一个一样）。如果您了解硬盘的历史，您会发现各种有趣的谎言。
- en: 'By the time disk geometry information reaches the operating system, it has
    been through one or more translations. Reach into your head, find the button that
    says “Accept What You’re Told,” and press it as you repeat the following: Disks
    are divided into sequentially numbered sectors. Partitions fill a number of consecutive
    sectors. Sectors are grouped into cylinders, based on the number of heads in the
    drive. Partitions end on cylinder boundaries.'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 当磁盘几何信息到达操作系统时，它已经经过一次或多次转换。在您的脑海中寻找写着“接受你所被告知的内容”的按钮，并在重复以下内容时按下它：磁盘被划分为顺序编号的扇区。分区填充一定数量的连续扇区。扇区根据驱动器中的磁头数量分组到磁道中。分区在磁道边界处结束。
- en: Sectors and Disklabels
  id: totrans-203
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 扇区和磁盘标签
- en: The installer will display your disk’s disklabel. (You can also see the disklabel
    once the system is installed and running, as discussed in [Chapter 8](ch08.html
    "Chapter 8. Disks and Filesystems").)
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 安装程序将显示您的磁盘标签。（您也可以在系统安装并运行后查看磁盘标签，如第8章[磁盘和文件系统](ch08.html "第8章。磁盘和文件系统")中所述。）
- en: We’ll look at the disk’s physical information first. While the physical information
    doesn’t usually directly impact the installation, you need to know how to read
    it if something goes wrong.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先查看磁盘的物理信息。虽然物理信息通常不会直接影响安装，但如果出现问题，您需要知道如何读取它。
- en: '[PRE0]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Except for the device unique identifier (DUID), you cannot change any of these
    entries without changing the underlying hardware.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 除了设备唯一标识符（DUID）外，您不能更改这些条目而不更改底层硬件。
- en: The first entry is the device name, `/dev/rsd0c` **1**. The leading `/dev` means
    that this is a device node. The `rsd0c` is the disk name. `sd` means that this
    drive uses the `sd(4)` device driver, and the `0` means that this is the first
    drive OpenBSD found and attached. (This is usually, but not always, BIOS drive
    0.) The leading `r` means that we’re addressing the disk in raw mode, while the
    tailing `c` means that we’re examining disklabel partition *c*. Disklabel partition
    *c* always matches the entire MBR partition containing this disklabel. Almost
    any disk that isn’t explicitly IDE will probably show up as a SCSI disk.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 第一条是设备名称，`/dev/rsd0c` **1**。前面的`/dev`表示这是一个设备节点。`rsd0c`是磁盘名称。`sd`表示该驱动器使用`sd(4)`设备驱动程序，而`0`表示这是OpenBSD找到并附加的第一个驱动器。（这通常是，但不总是BIOS驱动器0。）前面的`r`表示我们以原始模式访问磁盘，而尾部的`c`表示我们正在检查磁盘标签分区*c*。磁盘标签分区*c*始终与包含此磁盘标签的整个MBR分区相匹配。几乎所有不是明确IDE的磁盘都可能显示为SCSI磁盘。
- en: The `type` **2** is a general label describing the disk’s physical interface.
    Any IDE disk will show up as ESDI (Enhanced Small Device Interface), while SCSI,
    SAS, SATA, and almost every other type of disk has type SCSI.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '`type` **2** 是一个描述磁盘物理接口的一般标签。任何IDE磁盘都会显示为ESDI（增强型小型设备接口），而SCSI、SAS、SATA和几乎所有其他类型的磁盘类型都是SCSI。'
- en: The `disk` field **3** shows what sort of disk is attached to this interface.
    Here, it shows a SCSI disk, but we knew that already from the type.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '`disk` 字段 **3** 显示连接到此接口的磁盘类型。在这里，它显示为SCSI磁盘，但我们已经从类型中知道了这一点。'
- en: The `label` **4** displays the manufacturer’s name and/or the drive model number.
    In the case of virtualized servers, this shows `virtual drive` or something similar.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '`label` **4** 显示制造商的名称和/或驱动器型号。在虚拟化服务器的案例中，这显示为`虚拟驱动器`或类似内容。'
- en: The `duid` **5** is the DUID for this disk. If you’ve ever managed a system
    with more than a couple of disks in it, you know how easy it is to confuse disks.
    The hardware BIOS identifies disks by the physical port they’re attached to. If
    you need to replace a SATA or SCSI card, and you get the disks mixed up as you
    rerun cables, you will have a hard time finding your boot drive again. By using
    the DUID in your system configuration instead of the BIOS-assigned device name,
    you will always have the same disk used for the same purpose. As noted earlier,
    the DUID is the one editable field in the top of the disklabel information.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '`duid` **5** 是该磁盘的DUID。如果你曾经管理过包含两个以上磁盘的系统，你就会知道混淆磁盘是多么容易的事情。硬件BIOS通过磁盘连接的物理端口来识别磁盘。如果你需要更换SATA或SCSI卡，并且在重新运行电缆时将磁盘搞混了，你将很难再次找到你的启动盘。通过在你的系统配置中使用DUID而不是BIOS分配的设备名称，你将始终使用相同的目的磁盘。如前所述，DUID是磁盘标签信息顶部可编辑的字段。'
- en: The bytes per sector, sectors per track, tracks per cylinder, and sectors per
    cylinder **6** all describe the disk’s geometry. These numbers are all lies, but
    the total number of sectors on the disk **7** *is* accurate. You also see the
    first sector you may fill with disklabel partitions **8**, and the last sector
    you may use **9**. (You lose a few sectors due to the hard drive’s geometry transformations.
    Don’t try to hold the hardware accountable. You can’t win that argument.)
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 每扇区字节数、每磁道扇区数、每柱面磁道数和每柱面扇区数 **6** 都描述了磁盘的几何形状。这些数字都是假的，但磁盘上的总扇区数 **7** *是* 准确的。你还可以看到你可以用disklabel分区填充的第一个扇区
    **8**，以及你可以使用的最后一个扇区 **9**。（由于硬盘的几何变换，你会丢失一些扇区。不要试图追究硬件的责任。你无法赢得那个争论。）
- en: 'The next section displays the disklabel partitions, and you can alter it as
    needed. Here’s a disklabel from my desktop:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个部分显示了disklabel分区，你可以根据需要修改它。以下是我桌面上的一段disklabel：
- en: '[PRE1]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This disklabel declares that it has 16 partitions, but lists only 11\. The disklabel
    has space for 16 partitions, but like the MBR partition table, not all of them
    have space allocated to them. As with most configuration files in Unix-like operating
    systems, a hash mark (`#`) indicates the beginning of a comment. The comments
    here give the headers for the table above.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 这个磁盘标签声明它有16个分区，但只列出了11个。磁盘标签有16个分区的空间，但就像MBR分区表一样，并不是所有的分区都有分配空间。与Unix-like操作系统中的大多数配置文件一样，一个井号（`#`）表示注释的开始。这里的注释给出了上面表格的标题。
- en: The first column is the partition letter. A unique letter identifies each disklabel
    partition. The first partition in our example is *a* **5**, the second is *b*
    **6**, the third is *c* **7**, and so on.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 第一列是分区字母。一个独特的字母标识每个disklabel分区。在我们例子中的第一个分区是 *a* **5**，第二个是 *b* **6**，第三个是
    *c* **7**，以此类推。
- en: The `size` **1** is the number of sectors the drive uses. In this example, partition
    *a* fills 2097121 sectors, partition *b* 4698424 sectors, and partition *c* 312581808
    sectors.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '`size` **1** 是驱动器使用的扇区数。在这个例子中，分区 *a* 占用了2097121个扇区，分区 *b* 占用了4698424个扇区，分区
    *c* 占用了312581808个扇区。'
- en: The `offset` **2** is the number of sectors from the beginning of the MBR partition
    where the disklabel partition begins. If a disk is bootable, it has a master boot
    record (MBR) flagging it as such. The MBR record takes the first 63 disk sectors,
    numbers 0 through 62\. The first sector available for a disklabel partition is
    sector number 63\. Partition *a* begins on sector 64 in order to correctly align
    with the memory cells in solid-state disks.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '`offset` **2** 是从MBR分区开始到disklabel分区开始的扇区数。如果一个磁盘是可引导的，它有一个主引导记录（MBR）标记它为可引导。MBR记录占据了前63个磁盘扇区，编号从0到62。第一个可用于disklabel分区的扇区是扇区号63。分区
    *a* 从扇区64开始，以便正确对齐固态磁盘中的内存单元。'
- en: Take a look at partition *b*. It has an offset of 2097185, meaning it starts
    in sector 2097185\. How do we get there? Well, partition *a* starts in sector
    64 and has a size of 2097121\. 2097121+64=2097185, or the first free sector after
    partition *a* ends. This seems perfectly sensible until you look at partition
    *c*. Disklabel partition *c* is magical. On every disklabel partition, *c* represents
    the entire disk. It has an offset of 0 and a size equal to the number of sectors
    on the disk. You cannot put a filesystem on partition *c*; it’s there only for
    reference. Partition *d* picks up where partition *b* left off.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 看一下分区 *b*。它有一个偏移量 2097185，这意味着它从扇区 2097185 开始。我们如何到达那里？嗯，分区 *a* 从扇区 64 开始，大小为
    2097121。2097121+64=2097185，或者分区 *a* 结束后的第一个空闲扇区。这似乎非常合理，直到你看到分区 *c*。Disklabel
    分区 *c* 是神奇的。在每一个 disklabel 分区中，*c* 代表整个磁盘。它有一个偏移量为 0，大小等于磁盘上的扇区数。你无法在分区 *c* 上放置文件系统；它只用于参考。分区
    *d* 从分区 *b* 的位置继续。
- en: The `fstype` **3** marks the type of filesystem on this partition. OpenBSD filesystems,
    such as partition *a*, are labeled as 4.2BSD. (The OpenBSD filesystem is no longer
    exactly the same as that from BSD 4.2, mind you.) Partition *b* is swap space.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '`fstype` **3** 标记了该分区上的文件系统类型。OpenBSD 文件系统，如分区 *a*，被标记为 4.2BSD。（请注意，OpenBSD
    文件系统与 BSD 4.2 的文件系统不再完全相同。）分区 *b* 是交换空间。'
- en: The next two columns **4** display the fragmentation behavior of the filesystem
    on this partition. These values are set by the filesystem creation tool when putting
    the filesystem on the partition, and should not be changed by hand. If you’re
    curious, read `newfs(8)` and its related man pages. The `fsize` is the fragment
    size for any file fragments on the partition. The *b* is the size of a block on
    disk, in bytes. We talk about FFS fragmentation in [Chapter 8](ch08.html "Chapter 8. Disks
    and Filesystems"). All you really need to know at this point is that FFS and FFS2
    are both highly fragmentation-resistant, and neither requires any sort of defragmentation
    process.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的两列 **4** 展示了该分区文件系统的碎片化行为。这些值是在将文件系统放置到分区时由文件系统创建工具设置的，不应手动更改。如果你好奇，可以阅读
    `newfs(8)` 及其相关的 man 页面。`fsize` 是分区上任何文件碎片的大小。`b` 是磁盘上块的大小，以字节为单位。我们将在 [第 8 章](ch08.html
    "第 8 章。磁盘和文件系统") 中讨论 FFS 碎片化。你真正需要知道的是，FFS 和 FFS2 都具有很强的抗碎片化能力，并且都不需要任何类型的碎片整理过程。
- en: The last column shows the number of cylinders per cylinder group. This is almost
    always 1 for modern disks.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一列显示了每个柱面组中柱面的数量。对于现代磁盘来说，这几乎总是 1。
- en: One interesting thing is that the disklabel can be considered a configuration
    file for formatting a disk. You could save this disklabel to a file, get an identical
    hard drive, write this label to that new disk, and perfectly duplicate the partitioning
    of the old disk on the new.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，disklabel 可以被认为是格式化磁盘的配置文件。你可以将这个 disklabel 保存到文件中，获取一个相同的硬盘，将这个标签写入新硬盘，并完美地复制旧硬盘上的分区。
- en: If at any time you feel confused about your partitioning, print out your current
    disklabel and compare it to how you would like your system to look.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在分区时感到困惑，请打印出当前的 disklabel 并将其与您希望系统看起来的方式进行比较。
- en: Other Information
  id: totrans-226
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他信息
- en: If this machine is going to be on the Internet, you must know its network configuration
    before starting. If your network has DHCP, you’re all set. If not, you need a
    valid IP address, netmask, default gateway, and name server IP addresses.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这台机器将要连接到互联网，在开始之前你必须知道其网络配置。如果你的网络有 DHCP，那么你一切就绪。如果没有，你需要一个有效的 IP 地址、子网掩码、默认网关和名称服务器
    IP 地址。
- en: Decide in advance if this machine will run the X Window System. Generally, desktops
    run X and servers do not.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 提前决定这台机器是否将运行 X Window 系统。通常，桌面运行 X，而服务器则不运行。
- en: At this point, you have all the background you need to install OpenBSD on i386
    or amd64 hardware. Break out your equipment, and let’s get started.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你已经拥有了在 i386 或 amd64 硬件上安装 OpenBSD 所需的所有背景知识。拿出你的设备，让我们开始吧。
- en: '* * *'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: ^([[5](#id451064)]) Yes, that’s megabytes—you know, the unit below gigabytes.
    Yes, megabytes can apply to disks.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[5](#id451064)]) 是的，那是兆字节——你知道，千兆字节以下的单位。是的，兆字节可以应用于磁盘。
- en: ^([[6](#id327131)]) I’m assured by OpenBSD developers that any fdisk should
    suffice for any operating system. Having been repeatedly savaged by buggy fdisk
    programs, I find myself unable to give you carte blanche to try this.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[6](#id327131)]) 我从 OpenBSD 开发者那里得到保证，任何 fdisk 都足以用于任何操作系统。由于反复被有缺陷的 fdisk
    程序折磨，我发现自己无法给你完全的自由去尝试这个。
- en: ^([[7](#id478126)]) Yes, you can make flash drives spin. But a flash drive doing
    5400 RPM has a whole set of problems beyond the scope of normal systems administration.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[7](#id478126)]) 是的，你可以让U盘旋转。但一个以5400 RPM旋转的U盘会有一系列超出常规系统管理范围的问题。
