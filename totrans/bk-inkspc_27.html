<html><head></head><body><div class="appendix" title="Appendix&#xA0;C.&#xA0;The Command Line"><div class="titlepage"><div><div><h1 class="title"><a id="command_line"/>Appendix C. The Command Line</h1></div></div></div><p><a id="iddle1644" class="indexterm"/><a id="iddle2585" class="indexterm"/><a id="iddle2606" class="indexterm"/><a id="iddle4934" class="indexterm"/><a id="iddle4937" class="indexterm"/>Unlike most vector editors, but like the majority of open source software, Inkscape has a powerful command-line interface. It allows you to perform many tasks (exporting, document modifications, queries, and so on) from scripts or from a console, without using Inkscape’s graphical user interface (GUI).</p><p>In most cases, ordering Inkscape to perform some task with command-line parameters does not load the GUI at all; after completing the task, Inkscape simply quits. This makes it run faster and consume less memory, since no time and memory are wasted on creating and destroying the GUI.</p><div class="note" title="Note"><h3 class="title"><a id="app03note01"/>Note</h3><p><span class="emphasis"><em>Microsoft Windows treats command-line programs as second-class citizens compared to the “normal” (GUI) applications. You cannot create a single program which can run both as a GUI application and as a command-line application, so the developers of Inkscape on Windows had to make a choice. Naturally, they chose to position Inkscape as a GUI application, which inevitably damaged its command-line functionality.</em></span></p><p><a id="iddle1458" class="indexterm"/><a id="iddle1649" class="indexterm"/><a id="iddle1651" class="indexterm"/><a id="iddle1852" class="indexterm"/><a id="iddle1855" class="indexterm"/><a id="iddle1874" class="indexterm"/><a id="iddle2034" class="indexterm"/><a id="iddle2057" class="indexterm"/><a id="iddle2071" class="indexterm"/><a id="iddle2075" class="indexterm"/><a id="iddle2082" class="indexterm"/><a id="iddle2086" class="indexterm"/><a id="iddle2090" class="indexterm"/><a id="iddle2552" class="indexterm"/><a id="iddle2559" class="indexterm"/><a id="iddle3434" class="indexterm"/><a id="iddle3438" class="indexterm"/><a id="iddle3539" class="indexterm"/><a id="iddle3566" class="indexterm"/><a id="iddle4500" class="indexterm"/><span class="emphasis"><em>More specifically, while Inkscape on Windows takes command-line parameters and acts on them, it cannot output anything to the command prompt window (which makes the query parameters totally unusable). Also, it returns control to the command interpreter immediately, even though the action you have ordered (such as export) may not finish for several more seconds. This makes it nearly impossible to use Inkscape in sequential scripts. One more minor inconvenience is that you must always supply full paths for all files you specify on the command line.</em></span></p><p><span class="emphasis"><em>It is possible to recompile Inkscape as a Windows command-line application, which in turn will make it less usable as a GUI application (a separate command prompt window will open every time you run such Inkscape). Consult the Inkscape FAQ on the website if you need to obtain such a command-line version of the program.</em></span></p></div></div>
<div class="sect1" title="C.1 Loading Documents"><div class="titlepage"><div><div><h1 class="title"><a id="cdot1_loading_documents"/>C.1 Loading Documents</h1></div></div></div><p>There’s no separate executable for command-line tasks; the regular <code class="literal">inkscape</code> (on Linux or Mac OSX) or <code class="literal">inkscape.exe</code> (on Windows) will work as a command-line utility if you give it the corresponding parameters. The simplest use of the command line is providing the filename(s) of the document(s) you want to load into the GUI. For example:</p><a id="pro_id00034"/><pre class="programlisting">$ inkscape file.svg some/other/document.svg another/file.pdf</pre><p>will start Inkscape’s GUI and load the two SVG documents and one PDF document (automatically imported) into three Inkscape windows. In this case, no task is given to Inkscape, so it simply lets you edit the files. As we will see later, other command-line parameters, usually starting with <code class="literal">--</code>, will force it to skip the GUI and do something to the files on its own.</p></div>
<div class="sect1" title="C.2 Export"><div class="titlepage"><div><div><h1 class="title"><a id="cdot2_export"/>C.2 Export</h1></div></div></div><p>Most often, the command-line interface is used for exporting SVG documents into other formats. There are command-line parameters for exporting to PNG (<span class="strong"><strong><a class="xref" href="ch18s09.html" title="18.9 Bitmap Export">18.9 Bitmap Export</a></strong></span>), PS, EPS, and PDF (<span class="strong"><strong><a class="xref" href="ch01s05.html#onedot5dot1dot1_adobeapostrophes_vector" title="1.5.1.1 Adobe’s Vector Formats">1.5.1.1 Adobe’s Vector Formats</a></strong></span>). For example, exporting to PDF is as simple as:</p><a id="pro_id00035"/><pre class="programlisting">$ inkscape --export-pdf=file.pdf file.svg</pre><p>This will create <span class="emphasis"><em>file.pdf</em></span>; no GUI is loaded, and after completing the export, Inkscape quits. Similarly, you can use <code class="literal">--export-ps</code>, <code class="literal">--export-eps</code>, and <code class="literal">--export-png</code>.</p><p>Also, there is <code class="literal">--export-plain-svg</code> for converting a document into plain SVG (<span class="strong"><strong><a class="xref" href="ch01s04.html" title="1.4 A Brief History of SVG">1.4 A Brief History of SVG</a></strong></span>). It can be used not only for stripping an Inkscape SVG document of Inkscape-specific metadata, but also for converting any of the supported import formats into SVG (<a class="xref" href="apb.html" title="Appendix B. Import and Export">Appendix B</a>). For example, this will convert a CorelDRAW file into SVG format:</p><a id="pro_id00036"/><pre class="programlisting">$ inkscape --export-plain-svg=file.svg file.cdr</pre><div class="sect2" title="C.2.1 Area"><div class="titlepage"><div><div><h2 class="title"><a id="cdot2dot1_area"/>C.2.1 Area</h2></div></div></div><p>By default, the document’s page (<span class="strong"><strong><a class="xref" href="ch02s03.html" title="2.3 Interface Overview">2.3 Interface Overview</a></strong></span>) is exported, so objects falling outside the page are invisible in export. You can add <code class="literal">--export-area-drawing</code> to make the export cover all visible objects of the document, regardless of its page size. The only <a id="iddle1298" class="indexterm"/><a id="iddle1310" class="indexterm"/><a id="iddle1653" class="indexterm"/><a id="iddle1893" class="indexterm"/><a id="iddle2059" class="indexterm"/><a id="iddle2068" class="indexterm"/><a id="iddle2422" class="indexterm"/><a id="iddle2523" class="indexterm"/><a id="iddle3997" class="indexterm"/>exception is EPS, where the default is exporting drawing; for this format, you can limit export to page with <code class="literal">--export-area-page</code> (however, due to the limitations of EPS, this area will be contracted inwards to the edge of objects in the page if they do not reach to the edges of the page). For example:</p><a id="pro_id00037"/><pre class="programlisting">$ inkscape --export-png=file.png --export-area-drawing file.svg</pre><p>You can also export single objects out of a document, so that the exported file covers only that object’s bounding box. The object you need is specified by its <code class="literal">id</code> attribute (<span class="strong"><strong><a class="xref" href="apas09.html" title="A.9 Linking">A.9 Linking</a></strong></span>):</p><a id="pro_id00038"/><pre class="programlisting">$ inkscape --export-eps=file.eps --export-id=text2054 file.svg</pre><p>If other objects overlap with the exported object’s bounding box and are visible, they will also show in the exported PNG file. To suppress them and make a rendering of only the chosen object and nothing else, add <code class="literal">--export-id-only</code>. For PDF, PS, and EPS, this is the only possible mode—other objects are always hidden if you specify <code class="literal">--export-id</code>.</p><p>For PNG export, you can also specify the export area explicitly by specifying the two corner points. For example:</p><a id="pro_id00039"/><pre class="programlisting">$ inkscape --export-png=file.png --export-area=0:0:200:100 file.svg</pre><p>will export the area that spans from the point (0, 0) to the point (200, 100).</p><p>Also for PNG export, no matter which method was used for specifying the area, you can “snap” this area to pixel grid, that is, round it to the nearest whole coordinates in <code class="literal">px</code>. This is very useful when you export at the default 90 dpi and want your objects drawn to the pixel grid (<span class="strong"><strong><a class="xref" href="ch07s02.html" title="7.2 Grids">7.2 Grids</a></strong></span>) to be crisp in the exported bitmap no matter what area you are exporting.</p></div><div class="sect2" title="C.2.2 Size and Resolution"><div class="titlepage"><div><div><h2 class="title"><a id="cdot2dot2_size_and_resolution"/>C.2.2 Size and Resolution</h2></div></div></div><p>For PNG export, you can specify the size of the exported bitmap or its resolution (by default, 90 dpi). For example:</p><a id="pro_id00040"/><pre class="programlisting">$ inkscape --export-png=file.png --export-dpi=600 file.svg
$ inkscape --export-png=file.png --export-width=1000 file.svg
$ inkscape --export-png=file.png --export-height=400 file.svg</pre><p>The first line will export at the resolution of 600 dpi, so that a document <a class="xref" href="ch01s01.html#page_3">1.1 What Vector Graphics Is and Why It Matters</a> inches wide will export to a bitmap 1800 pixels wide. The other two examples explicitly set the pixel size of the export, and the resolution is calculated to match this requirement.</p></div><div class="sect2" title="C.2.3 Background"><div class="titlepage"><div><div><h2 class="title"><a id="cdot2dot3_background"/>C.2.3 Background</h2></div></div></div><p>Areas that have no objects in them come out as transparent in all export formats. However, in PNG export (but not PDF, PS, or EPS), you can specify any <a id="iddle1652" class="indexterm"/><a id="iddle1861" class="indexterm"/><a id="iddle2052" class="indexterm"/><a id="iddle2063" class="indexterm"/><a id="iddle2205" class="indexterm"/><a id="iddle2249" class="indexterm"/><a id="iddle3328" class="indexterm"/><a id="iddle4601" class="indexterm"/>background color or opacity for your document during export. For example, if you want a solid opaque black background, use:</p><a id="pro_id00041"/><pre class="programlisting">$ inkscape --export-png=file.png --export-background=#000000 \
    --export-background-opacity=1.0 file.svg</pre><div class="note" title="Note"><h3 class="title"><a id="app03note02"/>Note</h3><p><span class="emphasis"><em>The</em></span> <code class="literal">\</code> <span class="emphasis"><em>character in this example shows that the command line was wrapped for display; you should type it as a single line without the</em></span> <code class="literal">\</code><span class="emphasis"><em>.</em></span></p></div></div><div class="sect2" title="C.2.4 Export Hints"><div class="titlepage"><div><div><h2 class="title"><a id="cdot2dot4_export_hints"/>C.2.4 Export Hints</h2></div></div></div><p>Every time you export a single selected object to PNG via the GUI (<span class="strong"><strong><a class="xref" href="ch18s09.html" title="18.9 Bitmap Export">18.9 Bitmap Export</a></strong></span>), the export filename and resolution are recorded into an export hint added to the document. If, after that, you save the document with these hints, they can later be used for command-line export to PNG as well. For example, if you write:</p><a id="pro_id00042"/><pre class="programlisting">$ inkscape --export-id=text2035 --export-use-hints file.svg</pre><p>only the object with the ID <code class="literal">text2035</code> will be exported to the same file and with the same resolution it was most recently exported from the GUI. Note that the <code class="literal">--export-png</code> specifying the filename is not present because the name is derived from the export hint.</p></div><div class="sect2" title="C.2.5 Vector Export Options"><div class="titlepage"><div><div><h2 class="title"><a id="cdot2dot5_vector_export_options"/>C.2.5 Vector Export Options</h2></div></div></div><p>For PDF, PS, and EPS, there are more export options that correspond to some of the choices in these formats’ export dialogs in the GUI. Thus:</p><a id="pro_id00043"/><pre class="programlisting">$ inkscape --export-pdf=file.pdf --export-text-to-path file.svg</pre><p>converts all text objects to paths on export, so that the resulting vector file needs and embeds no fonts, whereas:</p><a id="pro_id00044"/><pre class="programlisting">$ inkscape --export-pdf=file.pdf --export-ignore-filters file.svg</pre><p>will ignore any filters, exporting the filtered objects as if they are not filtered, instead of rasterizing them (which is the default).</p></div></div>
<div class="sect1" title="C.3 Querying"><div class="titlepage"><div><div><h1 class="title"><a id="cdot3_querying"/>C.3 Querying</h1></div></div></div><p>The textual nature of SVG makes it very easy to generate and edit SVG documents with simple scripts. However, no matter what your script is supposed to do, chances are that you will find it necessary to figure out the bounding boxes of some SVG objects (for example, to check if the text inserted into SVG from a database fits the provided space, or to create a background rectangle or frame for a specific object). Proper calculation of a bounding box, in a general case, <a id="iddle1364" class="indexterm"/><a id="iddle1655" class="indexterm"/>is way too complex to do in a script—you would have to reimplement a lot of Inkscape’s geometry and rendering code if you want to take into account everything that may affect the bounding box.</p><p>Fortunately, instead of all that you can simply ask Inkscape. For example:</p><a id="pro_id00045"/><pre class="programlisting">$ inkscape --query-width --query-id=text1256 file.svg
45.2916</pre><p>Here, we asked Inkscape to tell us the width (in <code class="literal">px</code> units) of the object with the <code class="literal">id="text1256"</code>. It loaded the document, found that object, printed its width back to the console, and then quit.</p><p>Similarly, you can <code class="literal">--query-height</code>, <code class="literal">--query-x</code>, and <code class="literal">--query-y</code> to find out the dimensions and coordinates of the object’s bounding box. Such Inkscape calls are reasonably fast because they don’t load the GUI and don’t render the document; however, if you need to query the bounding boxes of many objects, this may add up to quite a delay. In this case, it is better to use the <code class="literal">--query-all</code> parameter which returns all bounding box numbers for all objects in a document, as follows:</p><a id="pro_id00046"/><pre class="programlisting">$ inkscape --query-all file.svg
svg2,-55.11053,-29.90404,328.3131,608.6359
layer1,-55.11053,-29.90404,328.3131,608.6359
image2372,-8.917463,349.8089,282.12,212.6382
text2317,-39.85518,454.3014,20.40604,13.32647
tspan2319,-32.58402,454.3014,12.79618,4.989286
tspan2408,-39.85518,462.4921,20.40604,5.135838
path2406,-16.43702,386.617,6.34172,154.7896
text2410,-46.11609,376.8753,34.34841,5.135838
tspan2414,-46.11609,376.8753,34.34841,5.135838
text2418,-55.11053,365.9197,43.02429,5.135838</pre><p>Here, each line is a comma-separated list of: object ID, x, y, width, and height. Parsing such a line in your script should be easy.</p></div>
<div class="sect1" title="C.4 Shell Mode"><div class="titlepage"><div><div><h1 class="title"><a id="cdot4_shell_mode"/>C.4 Shell Mode</h1></div></div></div><p>In order to save the load time (even without a GUI, Inkscape still takes some time to start), you can perform multiple command-line tasks using one instance of the program running in the <span class="emphasis"><em>shell mode</em></span>. For example, this can be used on a server where PNG export requests come from the users and are routed to a shell-mode Inkscape instance for a quick response.</p><p>To enter the shell mode, run Inkscape with a single parameter, <code class="literal">--shell</code>. You will get a prompt where you can type your commands. There’s no special syntax for the shell mode commands; each command is simply a valid command-line invocation of Inkscape, but without the Inkscape program name. For example, if you do:</p><a id="pro_id00047"/><pre class="programlisting">$ inkscape --export-pdf=file.pdf file.svg</pre><p><a id="iddle1656" class="indexterm"/><a id="iddle2109" class="indexterm"/><a id="iddle2211" class="indexterm"/>then in the shell mode, you can type <code class="literal">--export-pdf=file.pdf file.svg</code> as the shell command. Here is an example shell mode session where one document is exported to PDF and another to PNG:</p><a id="pro_id00048"/><pre class="programlisting">$ inkscape --shell
Inkscape 0.47 interactive shell mode. Type 'quit' to quit.
&gt;file.svg --export-pdf=file.pdf
&gt;otherfile.svg --export-png=bitmap.png
Background RRGGBBAA: ffffff00
Area 0:0:744.094:1052.36 exported to 744 x 1052 pixels (90 dpi)
Bitmap saved as: bitmap.png
&gt;quit</pre></div>
<div class="sect1" title="C.5 Verbs"><div class="titlepage"><div><div><h1 class="title"><a id="cdot5_verbs"/>C.5 Verbs</h1></div></div></div><p>Inkscape’s command line is not limited to GUI-less export, conversion, and querying tasks. You can script a certain share of regular editing tasks as well. This is done by the <code class="literal">--verb</code> command-line parameters, which make Inkscape start as usual (with a GUI) and run the specified sequence of verbs on the objects which you select with <code class="literal">--select</code>. When done, Inkscape does not quit (unless you use the <code class="literal">FileQuit</code> verb) but simply stops and allows the user to continue editing.</p><p>A <span class="emphasis"><em>verb</em></span> typically corresponds to a command that you chose from a menu. It is not a one-to-one mapping, however; some verbs are not available via the menus. On the other hand, many verbs require further interaction from the user, such as adjusting parameters in a dialog; it makes little sense to use them in your script except as a last step, so that the user can “continue from here.”</p><p>To get a complete list of verbs your version of Inkscape supports (there are more than 750 verbs in version 0.47), run Inkscape with <code class="literal">--verb-list</code>. Here’s just the very top of the list, showing some verbs commonly used in scripting. The verb names are before the “:” and followed by a brief description:</p><a id="pro_id00049"/><pre class="programlisting">$ inkscape --verb-list
FileNew: Create new document from the default template
FileOpen: Open an existing document
FileSave: Save document
FilePrint: Print document
NextWindow: Switch to the next document window
PrevWindow: Switch to the previous document window
FileClose: Close this document window
FileQuit: Quit Inkscape
EditCut: Cut selection to clipboard
EditCopy: Copy selection to clipboard
EditPaste: Paste objects from clipboard to mouse point, or paste text
EditPasteStyle: Apply the style of the copied object to selection
EditPasteSize: Scale selection to match the size of the copied object</pre><p>Apart from the regular Inkscape commands, all preset filters (<span class="strong"><strong><a class="xref" href="ch17s03.html" title="17.3 Preset Filters">17.3 Preset Filters</a></strong></span>) and extensions (<span class="strong"><strong><a class="xref" href="ch13s03.html" title="13.3 Path Extensions">13.3 Path Extensions</a></strong></span>) have two verbs each: One is the same as running this filter or extension from the menu (which may or may not display a dialog with <a id="iddle1650" class="indexterm"/><a id="iddle1654" class="indexterm"/><a id="iddle1657" class="indexterm"/><a id="iddle2620" class="indexterm"/><a id="iddle3998" class="indexterm"/>parameters); the other, with <code class="literal">.noprefs</code> appended, always runs without a dialog, using default values. For example:</p><a id="pro_id00050"/><pre class="programlisting">org.inkscape.effect.filter.filter2573v: Glossy clumpy jam spread
org.inkscape.effect.filter.filter2573v.noprefs: Jam spread (No preferences)
org.inkscape.text.uppercase: UPPERCASE
org.inkscape.text.uppercase.noprefs: UPPERCASE (No preferences)</pre><p>For scripting, of course, the <code class="literal">.noprefs</code> variants are preferable.</p><p>Usually, one or more <code class="literal">--verb</code> parameters in a command-line script are preceded by a <code class="literal">--select</code> parameter which selects some object by its ID. You can specify multiple <code class="literal">--select</code> parameters to select multiple objects. If you want to do something to all objects at once, or to objects one by one, you don’t need <code class="literal">--select</code>; instead, just use the verbs <code class="literal">--verb=EditSelectAll</code> or iterate through the objects with <code class="literal">--verb=EditSelectNext</code>.</p><p>Here are a few examples. Open the document, select all objects, convert them to paths, save the document, and quit:</p><a id="pro_id00051"/><pre class="programlisting">$ inkscape a.svg --verb=EditSelectAll --verb=ObjectToPath --verb=FileSave \
  --verb=FileQuit</pre><p>Open the document, select a specific group by ID, ungroup it, save, and quit:</p><a id="pro_id00052"/><pre class="programlisting">$ inkscape a.svg --select=g2038 --verb=SelectionUnGroup --verb=FileSave \
  --verb=FileQuit</pre><p>Open a document, select an object by ID, copy it, select another object, paste style, remove any filters it may have had, apply a <span class="strong"><strong>Pixel smear</strong></span> preset filter, save, and quit:</p><a id="pro_id00053"/><pre class="programlisting">$ inkscape file.svg --select=text2328 --verb=EditCopy --verb=EditDeselect \
  --select=text2322 --verb=EditPasteStyle --verb=RemoveFilter \
  --verb=org.inkscape.effect.filter.filter3707-6-6-0.noprefs \
  --verb=FileSave --verb=FileQuit</pre></div>
<div class="sect1" title="C.6 Getting Help"><div class="titlepage"><div><div><h1 class="title"><a id="cdot6_getting_help"/>C.6 Getting Help</h1></div></div></div><p>To get a brief listing of the command-line parameters known to your version of Inkscape, run it with <code class="literal">--help</code>. A more detailed reference is available from Inkscape’s UI in <span class="strong"><strong>Help</strong></span> ▸ <span class="strong"><strong>Command Line Options</strong></span> (this opens a web browser and fetches the page from the Internet) or by typing <code class="literal">man inkscape</code> on the command line (Linux only).</p><p>A very useful parameter (especially if you are going to report a bug or request a feature from Inkscape developers) is <code class="literal">--version</code> which prints the exact version and even the SVN revision number of your copy of Inkscape.</p></div></body></html>