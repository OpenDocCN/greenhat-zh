<html><head></head><body><div class="chapter" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="file_servers"/>Chapter 9. FILE SERVERS</h1></div></div></div><p>File servers are computers on a network that hold text, data, and other files that all the other computers on the same network can use. A file server can also be used as a workstation, a computer dedicated to file storage, or a single-purpose <span class="emphasis"><em>network-attached storage (NAS)</em></span> device. This chapter describes the advantages of connecting one or more file servers to your network and explains how to set them up and use them.</p><p>File servers are much more common in business networks than at home, but they can also be useful as part of a home network. Whether at work or at home, a server can provide these services:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>It can protect files on other computers connected to the network by automatically making and storing backup copies of those files.</p></li><li class="listitem"><p>It can store related files in a central location.</p></li><li class="listitem"><p>It can help control revisions and updates to documents and other files by assuring that everybody is using the same version.</p></li><li class="listitem"><p>It can hold "public" files used by more than one person separate from each user's personal files.</p></li><li class="listitem"><p>It can allow coworkers or family members to create and store new files or use existing ones without needing to turn on somebody else's computer.</p></li><li class="listitem"><p>It can host web pages and other services for an <span class="emphasis"><em>intranet</em></span>, an Internet-like site that can only be viewed within the local network.</p></li><li class="listitem"><p>It can manage email distribution across the network.</p></li><li class="listitem"><p>It can provide remote access to files through the Internet.</p></li></ul></div><p>A server on a home network can also be a central storage location for photographs, music, and video files and allow users to view or play them through any computer in the house, or through a television, stereo, or home entertainment system. <a class="xref" href="ch15.html" title="Chapter 15. OTHER THINGS YOU CAN CONNECT TO YOUR NETWORK">Chapter 15</a> explains how to use a network as part of a home entertainment system.</p><div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="choosing_a_computer_to_use_as_a_file_se"/>Choosing a Computer to Use as a File Server</h1></div></div></div><p>You can use just about any computer as a file server. If you have a spare computer or an older unit that no longer has enough computing power for day-to-day use, that might be a good candidate, especially if you just want to share files and add network storage capacity. You will probably get better performance from an older computer if you add some extra memory and one or more new hard drives—Linux server software only needs about 10GB of hard drive space, but an older hard drive could be more likely to fail due to age and wear. And, of course, you will also need disk space for all the files that you store on the server.<a class="indexterm" id="IDX-CHP-9-0939"/><a class="indexterm" id="IDX-CHP-9-0940"/><a class="indexterm" id="IDX-CHP-9-0941"/><a class="indexterm" id="IDX-CHP-9-0942"/><a class="indexterm" id="IDX-CHP-9-0943"/><a class="indexterm" id="IDX-CHP-9-0944"/><a class="indexterm" id="IDX-CHP-9-0945"/><a class="indexterm" id="IDX-CHP-9-0946"/></p><p>If you want to use the server for more than just storage and file sharing, you can buy or build a new purpose-built server with space for several storage drives and special server software that includes additional features and functions such as web hosting and automatic backups. All of the major office computer manufacturers, including IBM, Dell, Compaq, and Apple, sell server computers with software already installed.<a class="indexterm" id="IDX-CHP-9-0947"/><a class="indexterm" id="IDX-CHP-9-0948"/></p></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="windows_comma_mac_comma_linux"/>Windows, Mac, Linux, or . . . ?</h1></div></div></div><p>Every computer needs an operating system, and servers are no exception. If you're resuscitating an old computer to use as a file server, you might be able to salvage the original operating system that ran on that computer, but connecting anything earlier than Windows 2000 or Mac OS X to your network could cause more trouble than it's worth.<a class="indexterm" id="IDX-CHP-9-0949"/><a class="indexterm" id="IDX-CHP-9-0950"/><a class="indexterm" id="IDX-CHP-9-0951"/><a class="indexterm" id="IDX-CHP-9-0952"/><a class="indexterm" id="IDX-CHP-9-0953"/><a class="indexterm" id="IDX-CHP-9-0954"/><a class="indexterm" id="IDX-CHP-9-0955"/><a class="indexterm" id="IDX-CHP-9-0956"/><a class="indexterm" id="IDX-CHP-9-0957"/></p><p>If you have some experience with Unix or Linux or if you're willing to learn, one of these operating systems might be a better choice because they have up-to-date features and functions, and they won't demand as much processing power or memory as a newer version of Windows (a good introductory book will help get you started).</p><p>If cost is an issue (is cost ever <span class="emphasis"><em>not</em></span> an issue?), many Linux and Unix distributions are available online as free (if time-consuming) downloads or on low-cost CDs and DVDs from distributors such as LinuxCD (<a class="ulink" href="http://www.linuxcd.org/">http://www.linuxcd.org/</a>) and The Linux Store (<a class="ulink" href="http://www.thelinuxstore.ca/">http://www.thelinuxstore.ca/</a>). Several versions, including CentOS and FreeBSD, include server applications along with the core operating system and desktop programs. FreeNAS (available from <a class="ulink" href="http://www.freenas.org/">http://www.freenas.org/</a>) is also worth considering if you want a simple file server. On the other hand, if you haven't used Linux or Unix before, you might not want to deal with the distractions involved in installing and learning a new operating system at the same time that you're trying to set up a new network.<a class="indexterm" id="IDX-CHP-9-0958"/><a class="indexterm" id="IDX-CHP-9-0959"/><a class="indexterm" id="IDX-CHP-9-0960"/><a class="indexterm" id="IDX-CHP-9-0961"/></p><p>Microsoft's Windows Server family and similar products from Apple and Novell include all the features of a simple file server along with many additional business functions such as web and email hosting, calendar coordination, remote access, automated backup, and data management, all with a more-or-less consistent appearance. These server packages are relatively expensive, but their easy installation and available support might be worth the added cost, especially in a large enterprise where additional support staff is an issue. The developers of these commercial server products argue that the <span class="emphasis"><em>total cost of ownership (TCO)</em></span> for their products, including original purchase price and the cost of ongoing maintenance and support, is about the same as the TCO of "free" Linux and Unix servers. Microsoft claims that management and maintenance staffing plus downtime account for roughly 75 percent of a server's TCO, but the experience of many open source software users is quite different. In a very small business, the numbers will probably work out in favor of free or inexpensive server software unless you have to pay for outside support.<a class="indexterm" id="IDX-CHP-9-0962"/><a class="indexterm" id="IDX-CHP-9-0963"/><a class="indexterm" id="IDX-CHP-9-0964"/></p><p>If you're already committed to other Microsoft products, including Access, Microsoft SQL, or Windows Media, Windows Server is likely to be the best choice. On the other hand, many Linux and Unix versions include comparable programs (such as the Apache web server) that perform at least as well as or better than the Microsoft products. If you're a Mac household or business, Apple Server is the logical choice.<a class="indexterm" id="IDX-CHP-9-0965"/><a class="indexterm" id="IDX-CHP-9-0966"/><a class="indexterm" id="IDX-CHP-9-0967"/><a class="indexterm" id="IDX-CHP-9-0968"/><a class="indexterm" id="IDX-CHP-9-0969"/></p><p>Unless your family operates like a business, your home network probably needs a different set of features from the ones used by a business: central storage, backup, and maybe web and email hosting. But you probably won't use other common business-server features, such as database services and project management. Microsoft's Windows Home Server is optimized for home rather than business use, so this product might be a better choice for your household network. Windows Home Server is available already installed on server computers from HP and other manufacturers, and Microsoft also offers an "OEM version" that you could install on an existing computer (if that computer exceeds the minimum requirements, which are considerably more than those needed for a Linux server). However, that version doesn't include any kind of Microsoft support, so you're on your own when you have trouble installing or using it. The OEM version can be difficult to find through local retailers, but plenty of web and mail-order suppliers will be happy to sell you a copy.<a class="indexterm" id="IDX-CHP-9-0970"/><a class="indexterm" id="IDX-CHP-9-0971"/></p><p>For mixed networks that include computers using more than one operating system, Samba (<a class="ulink" href="http://www.samba.org/">http://www.samba.org/</a>) is an excellent choice. It's a well-established open source (and therefore free) cross-platform file-sharing program.</p><p><a class="xref" href="ch09s02.html#the_windows_home_server_console_offers" title="Figure 9-1. The Windows Home Server Console offers many control options on a single screen.">Figure 9-1</a> shows the control console screen for Windows Home Server. The minimum requirements for Windows Home Server are listed in the <span class="emphasis"><em>WHS Getting Started Guide</em></span>, which is available at <a class="ulink" href="http://www.microsoft.com/windows/products/winfamily/windowshomeserver/support.mspx">http://www.microsoft.com/windows/products/winfamily/windowshomeserver/support.mspx</a>.<a class="indexterm" id="IDX-CHP-9-0972"/><a class="indexterm" id="IDX-CHP-9-0973"/></p><div class="figure"><a id="the_windows_home_server_console_offers"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e7716"/><img alt="The Windows Home Server Console offers many control options on a single screen." src="tagoreillycom20090324nostarchimages266294.png.jpg"/></div></div><p class="title"><b>Figure 9-1. The Windows Home Server Console offers many control options on a single screen.</b></p></div><br class="figure-break"/><p>In order to use shared files stored on a Windows Home Server from other computers in your network, you must install the Connector program supplied with WHS onto each client machine. Without this software, the clients won't find the shared files. Connector is only available for Windows XP and Vista, so Home Server is less useful with Macintosh and Linux/Unix clients.</p></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="using_a_server_for_file_storage"/>Using a Server for File Storage</h1></div></div></div><p>The easiest way to set up a file server is simply to connect a computer to the network and designate it as a server. Create one or more folders for shared files, and set the Permissions or Network Sharing characteristics to share files in the directories or folders with network users. If you're storing photos, music, or video files on the server, create one or more separate folders for those files, and set the permissions to <span class="emphasis"><em>read-only</em></span>, allowing network users to open the files but not to change them. <a class="xref" href="ch09s03.html#set_sharing_permissions_for_the_folder" title="Figure 9-2. Set sharing permissions for the folder that holds the files you want to store on your server.">Figure 9-2</a> shows the Sharing tab that controls these settings in Windows XP. For more information about sharing files, see <a class="xref" href="ch12.html" title="Chapter 12. SHARING FILES THROUGH YOUR NETWORK">Chapter 12</a>.<a class="indexterm" id="IDX-CHP-9-0974"/><a class="indexterm" id="IDX-CHP-9-0975"/><a class="indexterm" id="IDX-CHP-9-0976"/><a class="indexterm" id="IDX-CHP-9-0977"/><a class="indexterm" id="IDX-CHP-9-0978"/><a class="indexterm" id="IDX-CHP-9-0979"/><a class="indexterm" id="IDX-CHP-9-0980"/><a class="indexterm" id="IDX-CHP-9-0981"/><a class="indexterm" id="IDX-CHP-9-0982"/><a class="indexterm" id="IDX-CHP-9-0983"/><a class="indexterm" id="IDX-CHP-9-0984"/><a class="indexterm" id="IDX-CHP-9-0985"/><a class="indexterm" id="IDX-CHP-9-0986"/></p><div class="figure"><a id="set_sharing_permissions_for_the_folder"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e7797"/><img alt="Set sharing permissions for the folder that holds the files you want to store on your server." src="tagoreillycom20090324nostarchimages266296.png.jpg"/></div></div><p class="title"><b>Figure 9-2. Set sharing permissions for the folder that holds the files you want to store on your server.</b></p></div><br class="figure-break"/><p>When you work on a document or any other type of data file and when you download a file from the Internet, use the Save As command to store the file through the network in one of the shared folders on the server. To read, view, or listen to a file stored on the server, either open the folder that contains the file you want and select the file, or use the Open command in a program associated with that file type (such as a word processor, spreadsheet, or media player) and use the selection window or chooser to find the file. The program should treat the file exactly the same as a file stored on your own computer.<a class="indexterm" id="IDX-CHP-9-0987"/><a class="indexterm" id="IDX-CHP-9-0988"/></p></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="using_network-attached_storage"/>Using Network-Attached Storage</h1></div></div></div><p>A <span class="emphasis"><em>network-attached storage (NAS)</em></span> device is a dedicated computer—without a keyboard or display screen—used as a network file server. In the small business or home networks that many readers of this book are likely to have, one or more NAS disk drives can be an entirely adequate alternative to a more expensive and complicated network server.<a class="indexterm" id="IDX-CHP-9-0989"/><a class="indexterm" id="IDX-CHP-9-0990"/><a class="indexterm" id="IDX-CHP-9-0991"/><a class="indexterm" id="IDX-CHP-9-0992"/><a class="indexterm" id="IDX-CHP-9-0993"/><a class="indexterm" id="IDX-CHP-9-0994"/><a class="indexterm" id="IDX-CHP-9-0995"/><a class="indexterm" id="IDX-CHP-9-0996"/><a class="indexterm" id="IDX-CHP-9-0997"/><a class="indexterm" id="IDX-CHP-9-0998"/><a class="indexterm" id="IDX-CHP-9-0999"/></p><p>For all practical purposes, a NAS drive is just a disk drive that connects to the network through an Ethernet port. Several disk drive and network equipment manufacturers offer purpose-built NAS devices, including complete hard drive assemblies and network storage enclosures for IDE or SATA hard drives. Some NAS devices have both Ethernet and USB ports, so you can use them with either a direct connection to your network or an external drive connected to a computer with or without a network link. <a class="xref" href="ch09s04.html#a_network-attached_storage_device_conne" title="Figure 9-3. A network-attached storage device connects directly to a network.">Figure 9-3</a> shows a network with a stand-alone disk drive operating as a NAS device.<a class="indexterm" id="IDX-CHP-9-1000"/><a class="indexterm" id="IDX-CHP-9-1001"/><a class="indexterm" id="IDX-CHP-9-1002"/></p><div class="figure"><a id="a_network-attached_storage_device_conne"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e7884"/><img alt="A network-attached storage device connects directly to a network." src="tagoreillycom20090324nostarchimages266298.png.jpg"/></div></div><p class="title"><b>Figure 9-3. A network-attached storage device connects directly to a network.</b></p></div><br class="figure-break"/><p>A NAS server could also be a regular computer, with or without a keyboard and screen. If you already have a spare computer to use as a server, the FreeNAS version of FreeBSD, shown in <a class="xref" href="ch09s04.html#freenas_is_a_simple_version_of_unix_des" title="Figure 9-4. FreeNAS is a simple version of Unix designed for use as a file server.">Figure 9-4</a>, could provide all the services you need for a file server operating system. FreeNAS is designed for remote configuration and operation, and it's relatively easy to set up and use.<a class="indexterm" id="IDX-CHP-9-1003"/><a class="indexterm" id="IDX-CHP-9-1004"/><a class="indexterm" id="IDX-CHP-9-1005"/></p><div class="figure"><a id="freenas_is_a_simple_version_of_unix_des"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e7905"/><img alt="FreeNAS is a simple version of Unix designed for use as a file server." src="tagoreillycom20090324nostarchimages266300.png.jpg"/></div></div><p class="title"><b>Figure 9-4. FreeNAS is a simple version of Unix designed for use as a file server.</b></p></div><br class="figure-break"/><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="usb_device_servers"/>USB Device Servers</h2></div></div></div><p>To add one or more stand-alone USB disk drives to your network as file servers, consider using a USB device server, such as the Lantronix UBox 4100 shown in <a class="xref" href="ch09s04.html#the_lantronix_ubox_connects_external_di" title="Figure 9-5. The Lantronix UBox connects external disk drives and other USB devices directly to your network.">Figure 9-5</a>. The server connects directly to the network through an Ethernet cable, and each disk drive or other USB device connected to the server appears as a local device on every computer connected to the network. Similar devices are also made by Silex Technology, including a wireless USB device server that connects to the network through a Wi-Fi access point.<a class="indexterm" id="IDX-CHP-9-1007"/><a class="indexterm" id="IDX-CHP-9-1008"/><a class="indexterm" id="IDX-CHP-9-1009"/><a class="indexterm" id="IDX-CHP-9-1010"/><a class="indexterm" id="IDX-CHP-9-1011"/><a class="indexterm" id="IDX-CHP-9-1012"/><a class="indexterm" id="IDX-CHP-9-1013"/><a class="indexterm" id="IDX-CHP-9-1014"/><a class="indexterm" id="IDX-CHP-9-1015"/><a class="indexterm" id="IDX-CHP-9-1016"/><a class="indexterm" id="IDX-CHP-9-1017"/><a class="indexterm" id="IDX-CHP-9-1006"/><a class="indexterm" id="IDX-CHP-9-1018"/><a class="indexterm" id="IDX-CHP-9-1019"/><a class="indexterm" id="IDX-CHP-9-1020"/><a class="indexterm" id="IDX-CHP-9-1021"/><a class="indexterm" id="IDX-CHP-9-1022"/><a class="indexterm" id="IDX-CHP-9-1023"/></p><div class="figure"><a id="the_lantronix_ubox_connects_external_di"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e8015"/><img alt="The Lantronix UBox connects external disk drives and other USB devices directly to your network." src="tagoreillycom20090324nostarchimages266302.png.jpg"/></div></div><p class="title"><b>Figure 9-5. The Lantronix UBox connects external disk drives and other USB devices directly to your network.</b></p></div><br class="figure-break"/><p><span class="emphasis"><em>Photo courtesy of Lantronix</em></span></p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="apple_apostrophy_s_airport_extreme"/>Apple's AirPort Extreme</h2></div></div></div><p>Whether or not you're using Macintosh computers in your network, Apple's AirPort Extreme product can be an inexpensive alternative to a full-size file server. Along with its functions as a DSL or cable gateway router, an Ethernet switch, and a Wi-Fi base station, the AirPort Extreme also has a USB port that can connect an external hard drive directly to your network. To use more than one external hard drive, connect them to the AirPort Extreme through a USB hub. <a class="xref" href="ch09s04.html#airport_extreme_can_connect_a_usb_hard" title="Figure 9-6. AirPort Extreme can connect a USB hard drive directly to your network.">Figure 9-6</a> shows the rear panel of an AirPort Extreme.<a class="indexterm" id="IDX-CHP-9-1024"/><a class="indexterm" id="IDX-CHP-9-1025"/><a class="indexterm" id="IDX-CHP-9-1026"/><a class="indexterm" id="IDX-CHP-9-1027"/></p><div class="figure"><a id="airport_extreme_can_connect_a_usb_hard"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e8049"/><img alt="AirPort Extreme can connect a USB hard drive directly to your network." src="tagoreillycom20090324nostarchimages266304.png.jpg"/></div></div><p class="title"><b>Figure 9-6. AirPort Extreme can connect a USB hard drive directly to your network.</b></p></div><br class="figure-break"/><p><span class="emphasis"><em>Photo courtesy of Apple</em></span></p></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="backing_up_files_to_a_server"/>Backing Up Files to a Server</h1></div></div></div><p>There's more than one way to back up files to a server: You can run a backup program on the client machine and specify a drive and folder on the server as the backup storage location, or you can originate the backup from the server and select files on one or more clients (as explained earlier, <span class="emphasis"><em>client</em></span> computers are the ones that receive services from a server).<a class="indexterm" id="IDX-CHP-9-1028"/><a class="indexterm" id="IDX-CHP-9-1029"/><a class="indexterm" id="IDX-CHP-9-1030"/><a class="indexterm" id="IDX-CHP-9-1031"/><a class="indexterm" id="IDX-CHP-9-1032"/><a class="indexterm" id="IDX-CHP-9-1033"/><a class="indexterm" id="IDX-CHP-9-1034"/><a class="indexterm" id="IDX-CHP-9-1035"/><a class="indexterm" id="IDX-CHP-9-1036"/><a class="indexterm" id="IDX-CHP-9-1037"/><a class="indexterm" id="IDX-CHP-9-1038"/><a class="indexterm" id="IDX-CHP-9-1039"/><a class="indexterm" id="IDX-CHP-9-1040"/><a class="indexterm" id="IDX-CHP-9-1041"/><a class="indexterm" id="IDX-CHP-9-1042"/><a class="indexterm" id="IDX-CHP-9-1043"/><a class="indexterm" id="IDX-CHP-9-1044"/></p><p>Before you create your backups, you must decide exactly what you want to accomplish. Several different kinds of backups are possible, each of them appropriate for certain situations:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A <span class="emphasis"><em>complete image</em></span> of your hard drive includes copies of all folders, files, and programs. This backup allows you to restore your computer to its previous state after a disk failure. A complete image of a drive is sometimes described as a <span class="emphasis"><em>clone</em></span>.</p></li><li class="listitem"><p>An <span class="emphasis"><em>incremental backup</em></span> only includes copies of the files that have been installed or have changed since the last backup. Incremental backups are faster than complete backups because they don't include the unchanged files that are already part of your backup.</p></li><li class="listitem"><p>A <span class="emphasis"><em>selective backup</em></span> only includes the important files and programs on your computer. This backup is generally faster and takes up less space on the backup drive than a complete backup because it does not include things like temporary files, old log files, and downloads that you will never use again.</p></li><li class="listitem"><p>A <span class="emphasis"><em>data-file-only backup</em></span> can be useful when you expect to restore the backup to another computer that already has the operating system and application programs installed. You can also re-install the operating system and programs from their CDs or other media. If you do choose this option, remember to check each program's website for the latest patches and upgrades before you try to use that program.</p></li><li class="listitem"><p>A <span class="emphasis"><em>limited backup</em></span> includes only one or more specific types of files, such as music, photos, or documents. This kind of backup is usually a supplement to a more complete backup that includes all the essential programs and files on a drive.</p></li></ul></div><p>The backup programs provided with Windows, Mac OS X, and most versions of Linux and Unix are entirely adequate for most people, but there are plenty of other backup programs with additional features and options (often related to automatic scheduled backups). Backup programs are often supplied with network-attached storage (NAS) devices and external USB hard drives. The important thing to remember about using any backup program is that you must store your backed-up files separately from the originals: You can store the backup on a second hard drive on the same computer (<span class="emphasis"><em>not</em></span> a good idea, however, because it doesn't protect against fire or theft); on a set of CDs, DVDs, or data tapes; or on a computer or other storage device connected to the original computer through a network or the Internet. A network is a great way to move your backup data to another computer for storage, but you will still want some kind of backup on removable media stored off-site to protect your data from fire or theft.<a class="indexterm" id="IDX-CHP-9-1045"/></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The backup methods described in this chapter will work equally well on a network without a designated file server; you can use any other computer or network storage device on the same network as the destination for your backup files.<a class="indexterm" id="IDX-CHP-9-1046"/><a class="indexterm" id="IDX-CHP-9-1047"/><a class="indexterm" id="IDX-CHP-9-1048"/></p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="the_windows_backup_program"/>The Windows Backup Program</h2></div></div></div><p>Microsoft has supplied a backup program with most versions of Windows, including XP and Vista. This example uses Windows XP, but the general principles are the same for any backup program.</p><p>To use the Windows Backup program, follow these steps:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>From the Windows Start menu, select <span class="strong"><strong>All Programs</strong></span> (or <span class="strong"><strong>Programs</strong></span> if you're using the Classic Start Menu)▸ <span class="strong"><strong>Accessories</strong></span> ▸ <span class="strong"><strong>System Tools</strong></span> ▸ <span class="strong"><strong>Backup</strong></span>. The Backup or Restore Wizard window shown in <a class="xref" href="ch09s05.html#use_the_windows_backup_or_restore_wizar" title="Figure 9-7. Use the Windows Backup or Restore Wizard to create backup copies of your files.">Figure 9-7</a> will open.<a class="indexterm" id="IDX-CHP-9-1049"/><a class="indexterm" id="IDX-CHP-9-1050"/></p><div class="figure"><a id="use_the_windows_backup_or_restore_wizar"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e8240"/><img alt="Use the Windows Backup or Restore Wizard to create backup copies of your files." src="tagoreillycom20090324nostarchimages266306.png.jpg"/></div></div><p class="title"><b>Figure 9-7. Use the Windows Backup or Restore Wizard to create backup copies of your files.</b></p></div><br class="figure-break"/></li><li class="listitem"><p>Click <span class="strong"><strong>Next</strong></span> to advance to the next screen. The wizard will ask if you want to make new backups or restore files that you saved earlier. Select the <span class="strong"><strong>Back up file and settings</strong></span> option and click <span class="strong"><strong>Next</strong></span>.</p></li><li class="listitem"><p>The wizard will ask what you want to back up. To save all the information on the computer, select the All information option; this option will allow you to create a new copy of the original hard disk, but this copy takes up a lot of storage space. To create a more selective backup, select the Let me choose option.</p></li><li class="listitem"><p>Click <span class="strong"><strong>Next</strong></span> to advance to the next screen. The wizard will ask where you want to store the backup.</p></li><li class="listitem"><p>Click the <span class="strong"><strong>Browse</strong></span> button to open the Save As dialog. Use either the Save In field or the finder window to navigate through the network to the folder on the file server where you want to store the backup file. Choose that folder and click the <span class="strong"><strong>Save</strong></span> button and then the <span class="strong"><strong>Next</strong></span> button in the wizard window.</p></li><li class="listitem"><p>The wizard will show you the details about the backup you are about to create. If everything is correct, click <span class="strong"><strong>Finish</strong></span>. The backup program will start.</p></li></ol></div><p>To restore data from your backup files, run the same Windows Backup program but select the <span class="strong"><strong>Restore files and settings</strong></span> option in the Backup or Restore Wizard.</p><p>The reason you're making backups is to protect your data against loss or damage. The most common problems that will destroy your original files are caused by either human error—you really didn't mean to reformat that hard drive, did you?—or damage to a disk drive. When either of those events occur, restoring the files from a network server is easy enough, but if you lose your files because of a fire, a power surge, a lightning strike that damages the server along with the client computers, or some other major disaster, the backup files on the dead server won't do you much good. Therefore, creating at least one set of backup files on a set of DVDs, tapes, or removable hard drives and storing them in another location such as a friend's home or office or a safe deposit box at your bank is always good practice.</p><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="installing_backup_in_xp_home_edition"/>Installing Backup in XP Home Edition</h3></div></div></div><p>In Windows XP Home Edition, the Backup utility doesn't automatically load when you install the operating system. Apparently, somebody at Microsoft thought that Home Edition users didn't need to back up their data. Go figure.</p><p>To install Windows Backup from the XP Home Edition CD, follow these steps:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Place the XP CD in your computer's drive.</p></li><li class="listitem"><p>When the Welcome message appears, select <span class="strong"><strong>Perform additional tasks</strong></span>.</p></li><li class="listitem"><p>Select the <span class="strong"><strong>Browse this CD</strong></span> option.</p></li><li class="listitem"><p>Open the <span class="emphasis"><em>ValueAdd</em></span> folder and then the <span class="emphasis"><em>Msft</em></span> folder and finally the <span class="emphasis"><em>Ntbackup</em></span> folder.</p></li><li class="listitem"><p>Run the Ntbackup.msi program. This will start a wizard that installs the Backup program.</p></li></ol></div></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="installing_backup_in_windows_vista"/>Installing Backup in Windows Vista</h3></div></div></div><p>Most versions of Windows Vista (except Vista Starter and Home Basic) include an automatic utility that can store backup files on a network server, but it doesn't run until you turn it on.</p><p>To configure the Vista Backup utility, select <span class="strong"><strong>Start</strong></span> ▸ <span class="strong"><strong>All Programs</strong></span> (or <span class="strong"><strong>Programs</strong></span> in the Classic start menu)▸ <span class="strong"><strong>Accessories</strong></span> ▸ <span class="strong"><strong>System Tools</strong></span> ▸ <span class="strong"><strong>Backup Status and Configuration</strong></span>. The Backup Status and Configuration tool shown in <a class="xref" href="ch09s05.html#use_the_backup_status_and_configuration" title="Figure 9-8. Use the Backup Status and Configuration tool to set up an automatic file backup.">Figure 9-8</a> will appear.<a class="indexterm" id="IDX-CHP-9-1051"/></p><div class="figure"><a id="use_the_backup_status_and_configuration"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e8363"/><img alt="Use the Backup Status and Configuration tool to set up an automatic file backup." src="tagoreillycom20090324nostarchimages266308.png.jpg"/></div></div><p class="title"><b>Figure 9-8. Use the Backup Status and Configuration tool to set up an automatic file backup.</b></p></div><br class="figure-break"/><p>The Backup Status and Configuration tool will step through a series of windows that request the specific information needed to run automatic backups.</p></div></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="macintosh_backup_programs"/>Macintosh Backup Programs</h2></div></div></div><p>The same general principles apply to creating and restoring backups on a Mac: Make backups on a regular schedule and store the backup files on a file server, removable media, or both. The Time Machine program included in OS X can automatically create backups to an external drive or a networked drive, as shown in <a class="xref" href="ch09s05.html#if_you_have_a_new_mac_comma_turn_on_tim" title="Figure 9-9. If you have a new Mac, turn on Time Machine to automatically create backups.">Figure 9-9</a>. Several alternative Mac backup programs can also send backup files to a network, including:<a class="indexterm" id="IDX-CHP-9-1052"/><a class="indexterm" id="IDX-CHP-9-1053"/><a class="indexterm" id="IDX-CHP-9-1054"/><a class="indexterm" id="IDX-CHP-9-1055"/><a class="indexterm" id="IDX-CHP-9-1056"/></p><table border="0" class="simplelist" summary="Simple list"><tr><td><span class="strong"><strong>SuperDuper!</strong></span> <a class="ulink" href="http://www.shirt-pocket.com/SuperDuper/SuperDuperDescription.html">http://www.shirt-pocket.com/SuperDuper/SuperDuperDescription.html</a></td></tr><tr><td><span class="strong"><strong>Synk Backup</strong></span> <a class="ulink" href="http://www.decimus.net/comparison.php">http://www.decimus.net/comparison.php</a></td></tr><tr><td><span class="strong"><strong>iBackup</strong></span> <a class="ulink" href="http://www.grapefruit.ch/iBackup/">http://www.grapefruit.ch/iBackup/</a></td></tr><tr><td><span class="strong"><strong>.Mac Backup</strong></span> <a class="ulink" href="http://www.mac.com/1/solutions/backup.html">http://www.mac.com/1/solutions/backup.html</a></td></tr></table><div class="figure"><a id="if_you_have_a_new_mac_comma_turn_on_tim"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e8422"/><img alt="If you have a new Mac, turn on Time Machine to automatically create backups." src="tagoreillycom20090324nostarchimages266310.png.jpg"/></div></div><p class="title"><b>Figure 9-9. If you have a new Mac, turn on Time Machine to automatically create backups.</b></p></div><br class="figure-break"/><p>Before you trust your critical files to any backup program, run some tests to confirm that the program can accurately restore those files, including the metadata embedded inside them. Some Mac backup programs designed for earlier versions have trouble dealing with OS X files.<a class="indexterm" id="IDX-CHP-9-1057"/></p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="linux_and_unix_backups"/>Linux and Unix Backups</h2></div></div></div><p>Linux and Unix users have a wide choice of backup programs, including several that can originate the backup process from either the server (pulling backup data from client computers) or from individual client computers (pushing the backup files to a server). The Linux Online! website includes an up-to-date list of backup programs at <span class="emphasis"><em>http://www.linux.org/apps/all/Administration/Backup.html</em></span>. Distributions with graphic environments such as Gnome and KDE usually include at least one graphic backup program. One possible backup solution on computers running Linux, Unix, or Mac OS X is to use <code class="literal">rsync</code> over SSH to an external system, and schedule it via <code class="literal">cron</code>. This doesn't have a nice graphical front end, but it gets the job done securely and efficiently, because <code class="literal">rsync</code> does not copy bytes across the network that already exist on the other side—it only copies the "changed" bytes.<a class="indexterm" id="IDX-CHP-9-1058"/><a class="indexterm" id="IDX-CHP-9-1059"/><a class="indexterm" id="IDX-CHP-9-1060"/><a class="indexterm" id="IDX-CHP-9-1061"/><a class="indexterm" id="IDX-CHP-9-1062"/><a class="indexterm" id="IDX-CHP-9-1063"/><a class="indexterm" id="IDX-CHP-9-1064"/><a class="indexterm" id="IDX-CHP-9-1065"/><a class="indexterm" id="IDX-CHP-9-1066"/><a class="indexterm" id="IDX-CHP-9-1067"/><a class="indexterm" id="IDX-CHP-9-1068"/><a class="indexterm" id="IDX-CHP-9-1069"/><a class="indexterm" id="IDX-CHP-9-1070"/><a class="indexterm" id="IDX-CHP-9-1071"/><a class="indexterm" id="IDX-CHP-9-1072"/></p><p><span class="emphasis"><em>Server-side</em></span> programs run on the server and collect backups from each client computer. BackupPC is a good choice as a server-side Linux backup program because it can back up Windows, Linux, and Mac computers through a network. BackupPC is available for download from <a class="ulink" href="http://backuppc.sourceforge.net">http://backuppc.sourceforge.net</a>.<a class="indexterm" id="IDX-CHP-9-1073"/></p><p>Amanda, the Advanced Maryland Automatic Network Disk Archiver (<a class="ulink" href="http://www.amanda.org/">http://www.amanda.org/</a>), is another server-side backup program that supports Windows and multiple versions of Linux and Unix.</p></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="using_a_server_at_home"/>Using a Server at Home</h1></div></div></div><p>A server on a home network can do all the same things that a server on a business network can do, but many of those business functions are probably not particularly important at home. A typical home network server is mainly useful for storing and sharing files (such as music and videos), making automatic backups, and maybe hosting web pages and email.<a class="indexterm" id="IDX-CHP-9-1074"/><a class="indexterm" id="IDX-CHP-9-1075"/><a class="indexterm" id="IDX-CHP-9-1076"/><a class="indexterm" id="IDX-CHP-9-1077"/><a class="indexterm" id="IDX-CHP-9-1078"/></p><p>However, a local server is not always the best way to manage email or host web pages. Using the hosting services that are included with your Internet connection is often easier; a good hosting service will handle all of the security issues and other maintenance for you. Many Internet service providers will give you a separate email address for each family member and provide space on an existing web server for your family's web pages. Or if you prefer, you can obtain individual addresses from one or more of the free or low-cost email services such as Hotmail, Gmail, or any of the others described at <a class="ulink" href="http://www.emailaddresses.com/">http://www.emailaddresses.com/</a>. Adding one or more file servers to a network to share resources goes a long way toward increasing the value of your computers. You can certainly operate your small network without any servers, but like the network itself, a central storage location for documents, images, and other files is often a lot more convenient than storing everything on individual users' machines, especially if you can use an old computer as a server that would otherwise continue to collect dust in a storage closet.<a class="indexterm" id="IDX-CHP-9-1079"/><a class="indexterm" id="IDX-CHP-9-1080"/><a class="indexterm" id="IDX-CHP-9-1081"/><a class="indexterm" id="IDX-CHP-9-1082"/></p></div></body></html>