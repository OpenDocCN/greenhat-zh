<html><head></head><body>

<div class="calibre1"><div class="calibre1"><a name="ddclient_3.7.3" class="calibre8" id="ddclient_3.7.3"/>
<div class="calibre24" id="calibre_pb_0"/><h2 id="title-ID0EM1OM" class="docPrefaceTitle">Chapter 8. DDCLIENT 3.7.3</h2>
<h4 class="calibre32">HT TP://DDCLIENT.SOURC E FORGE.NET</h4>
<a name="summary-id7" class="calibre8" id="summary-id7"/>
<h3 class="docSection1Title" id="-100000">8.1. SUMMARY</h3>
<p class="docText1"><a name="ddclient is" class="calibre8" id="ddclient is"/>ddclient is an open source program written in Perl. It is used to automatically update dynamic DNS (domain name system) entries for a variety of dynamic DNS service providers. When ddclient detects that the system's IP address has changed, it sends the new IP address information to your designated dynamic DNS service provider. This enables systems with dynamically assigned IP addresses to maintain resolvability (stay reachable) by the Internet domain name system, regardless of IP address changes made by their ISPs.<a name="IDX-CHP-8-0143" class="calibre8" id="IDX-CHP-8-0143"/><a name="IDX-CHP-8-0144" class="calibre8" id="IDX-CHP-8-0144"/><a name="IDX-CHP-8-0145" class="calibre8" id="IDX-CHP-8-0145"/></p>
<p class="docText1"><a name="many dynamic" class="calibre8" id="many dynamic"/>ddclient supports many dynamic DNS service providers, including the following:</p>
<p class="docText1">BroadbandReports (<a class="calibre2" target="_blank" href="http://www.dslreports.com">http://www.dslreports.com</a>)</p>
<p class="docText1">DNS Park (<a class="calibre2" target="_blank" href="http://dnspark.com">http://dnspark.com</a>)</p>
<p class="docText1">DynDNS (<a class="calibre2" target="_blank" href="http://www.dyndns.com">http://www.dyndns.com</a>)</p>
<p class="docText1">easyDNS (<a class="calibre2" target="_blank" href="http://www.easydns.com">http://www.easydns.com</a>)</p>
<p class="docText1">Namecheap (<a class="calibre2" target="_blank" href="http://www.namecheap.com">http://www.namecheap.com</a>)</p>
<p class="docText1">ZoneEdit (<a class="calibre2" target="_blank" href="http://zoneedit.com">http://zoneedit.com</a>)</p>
<p class="docText1"><a name="for several" class="calibre8" id="for several"/>ddclient includes native support for several brands of NAT routers. It stays updated by extracting current IP information from the router's built-in status page. If your router is unsupported, ddclient can be configured to retrieve system IP address information via the Web. This guide provides information on retrieving IP address information via the Web rather than using your router's status page.</p>
<p class="docText1"><a name="wrote ddclient" class="calibre8" id="wrote ddclient"/>Paul Burry originally wrote ddclient and remains one of five developers who maintain the project on SourceForge.net.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="resources-id7" class="calibre8" id="resources-id7"/>
<h3 class="docSection1Title" id="-100000">8.2. RESOURCES</h3>
<p class="docText1"><span class="b"><a name="Official ddclient" class="calibre8" id="Official ddclient"/>Official ddclient Home Page</span></p>
<p class="docText1"><a class="calibre2" target="_blank" href="http://ddclient.sourceforge.net">http://ddclient.sourceforge.net</a></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="required-id7" class="calibre8" id="required-id7"/>
<h3 class="docSection1Title" id="-100000">8.3. REQUIRED</h3>
<p class="docText1"><img border="0" id="" src="bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg" alt="" class="calibre33"/><a name="FreeBSD " class="calibre8" id="FreeBSD "/> FreeBSD 7.0-RELEASE (see "<a class="calibre2" href="freebsd_7.0_split_000.html#freebsd_7.0">FreeBSD 7.0</a>")</p>
<p class="docText1"><img border="0" id="" src="bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg" alt="" class="calibre33"/><a name="collection " class="calibre8" id="collection "/> Updated ports collection (see "<a class="calibre2" href="freebsd_ports_collection.html#freebsd_ports_collection">FreeBSD Ports Collection</a>")</p>
<p class="docText1"><img border="0" id="" src="bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg" alt="" class="calibre33"/> Internet connection</p>
<p class="docText1"><img border="0" id="" src="bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg" alt="" class="calibre33"/> Registered domain name</p>
<p class="docText1"><img border="0" id="" src="bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg" alt="" class="calibre33"/> Dynamic DNS update service (see "<a class="calibre2" href="summary_split_001.html#summary">Summary</a>" for a list of providers)</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="preparation-id7" class="calibre8" id="preparation-id7"/>
<h3 class="docSection1Title" id="-100000">8.4. PREPARATION</h3>
<p class="docText1"><a name="Become the" class="calibre8" id="Become the"/>Become the superuser.<a name="IDX-CHP-8-0146" class="calibre8" id="IDX-CHP-8-0146"/><a name="IDX-CHP-8-0147" class="calibre8" id="IDX-CHP-8-0147"/></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="install-id7" class="calibre8" id="install-id7"/>
<h3 class="docSection1Title" id="-100000">8.5. INSTALL</h3>
<p class="docText1"><a name="To begin" class="calibre8" id="To begin"/>To begin the installation of ddclient, enter the following commands:</p>
<pre class="calibre30"># <b class="calibre28">cd /usr/ports/dns/ddclient</b>
# <b class="calibre28">make install clean</b>
# <b class="calibre28">rehash</b></pre>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="configure-id7" class="calibre8" id="configure-id7"/>
<h3 class="docSection1Title" id="-100000">8.6. CONFIGURE</h3>
<p class="docText1"><a name="Once the" class="calibre8" id="Once the"/>Once the installation process is complete, it's time to configure ddclient for use on your system.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="file" class="calibre8" id="file"/>Copy the file <span class="docEmphasis1">ddclient.conf.sample</span> to <span class="docEmphasis1">ddclient.conf</span><a name="Enter the" class="calibre8" id="Enter the"/>, where you'll configure it for use. Enter the following commands to accomplish this:</p><pre class="calibre30"># <b class="calibre28">cd /usr/local/etc</b>
 # <b class="calibre28">cp ddclient.conf.sample ddclient.conf</b>
 # <b class="calibre28">ee ddclient.conf</b></pre>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="uncomment the" class="calibre8" id="uncomment the"/>Scroll down and uncomment the <tt class="calibre20">use=web</tt> declaration (~51) by removing the hash mark (<tt class="calibre20">#</tt>) at the beginning of the line. The line should appear as follows:</p><pre class="calibre30">use=web, web=checkip.dyndns.org/, web-skip='IP Address' # ...</pre><br class="calibre1"/>
<p class="docText1"><a name="from" class="calibre8" id="from"/>This line tells ddclient to obtain current IP address information from <a class="calibre2" target="_blank" href="http://checkip.dyndns.org">http://checkip.dyndns.org</a><a name="service that" class="calibre8" id="service that"/>. DynDNS hosts a public service that returns your public IP address when an HTTP request is made to <a class="calibre2" target="_blank" href="http://checkip.dyndns.org">http://checkip.dyndns.org</a>. Using this information, ddclient keeps your DNS records current.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="update provider" class="calibre8" id="update provider"/>Scroll down and find your dynamic DNS update provider (~89). Uncomment each appropriate line and provide your login, password, and registered domain name (or names) as shown in bold below. (Remove the hash mark for each line; do not modify lines beginning with two hash marks.) Below is an example of a <a class="calibre2" target="_blank" href="http://dyndns.org">dyndns.org</a> configuration:</p><pre class="calibre30">##
## dyndns.org custom addresses
##
## (supports variables: wildcard,mx,backupmx)
##
custom=yes,                           \
server=members.dyndns.org,            \
protocol=dyndns2                      \
<b class="calibre28">login=</b><span class="docEmphBoldItalic">username</span>                        \
<b class="calibre28">password=</b><span class="docEmphBoldItalic">password</span>                     \
<span class="docEmphBoldItalic">example.com</span></pre><br class="calibre1"/>
<p class="docText1">Save and exit.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Since <span class="docEmphasis1">ddclient.conf</span><a name="dynamic DNS" class="calibre8" id="dynamic DNS"/> contains the password of your dynamic DNS provider, make it readable only to root, like this:</p><pre class="calibre30"># <b class="calibre28">chmod 600 /usr/local/etc/ddclient.conf</b></pre><br class="calibre1"/>
</div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="testing-id5" class="calibre8" id="testing-id5"/>
<h3 class="docSection1Title" id="-100000">8.7. TESTING</h3>
<p class="docText1"><a name="The following" class="calibre8" id="The following"/>The following basic tests will show whether ddclient performs as expected.<a name="IDX-CHP-8-0148" class="calibre8" id="IDX-CHP-8-0148"/></p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="ddclient automatically" class="calibre8" id="ddclient automatically"/>To start ddclient automatically at boot time, edit the <span class="docEmphasis1">rc.conf</span> file in <span class="docEmphasis1">/etc</span>. Open <span class="docEmphasis1">rc.conf</span>:</p><pre class="calibre30"># <b class="calibre28">ee /etc/rc.conf</b></pre>
<p class="docText1"><a name="startup lines" class="calibre8" id="startup lines"/>and add the following startup lines:</p><pre class="calibre30">ddclient_enable="YES"
ddclient_flags="-daemon 600"</pre><br class="calibre1"/>
<p class="docText1">The <tt class="calibre20">ddclient_flags="-daemon 600"</tt><a name="ddclient will" class="calibre8" id="ddclient will"/> statement means that ddclient will check your public IP every 600 seconds (10 minutes), but you may use any value you feel is reasonable. (See "<a class="calibre2" href="notes.html#notes">Notes</a>" for details on this value.)</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Save your changes and run the startup script:</p><pre class="calibre30"># <b class="calibre28">/usr/local/etc/rc.d/ddclient.sh start</b></pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Enter this command to confirm that ddclient is running:</p><pre class="calibre30"># <b class="calibre28">ps -ax | grep ddclient</b>

p0  S      0:00.05 ddclient - sleeping for 300 seconds (perl)</pre><br class="calibre1"/>
<p class="docText1">You may repeat the <tt class="calibre20">ps</tt><a name="the sleep" class="calibre8" id="the sleep"/> command to check the status of ddclient at any time. After the sleep time expires, ddclient should check your public IP address and make the appropriate changes to your dynamic DNS provider. Status emails will be sent to the root account's email address. (If you set up forwarding of root's email in the <span class="docEmphasis1">/etc/aliases</span><a name="for status" class="calibre8" id="for status"/> file, check that email address for status updates.)</p></div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="config_files-id7" class="calibre8" id="config_files-id7"/>
<h3 class="docSection1Title" id="-100000">8.8. CONFIG FILES</h3>
<p class="docText1"><span class="b">/usr/local/etc/ddclient.conf</span><a name="IDX-CHP-8-0149" class="calibre8" id="IDX-CHP-8-0149"/><a name="IDX-CHP-8-0150" class="calibre8" id="IDX-CHP-8-0150"/><a name="IDX-CHP-8-0151" class="calibre8" id="IDX-CHP-8-0151"/></p>
<p class="docText1"><a name="This is" class="calibre8" id="This is"/>This is the main configuration file for ddclient.</p>
<p class="docText1"><span class="b">/usr/local/etc/ddclient.cache</span></p>
<p class="docText1"><a name="saves the" class="calibre8" id="saves the"/>This file saves the last known public IP address of the system so ddclient knows when your dynamic DNS provider needs to be updated. This file is located in <span class="docEmphasis1">/var/tmp</span>.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="log_files-id4" class="calibre8" id="log_files-id4"/>
<h3 class="docSection1Title" id="-100000">8.9. LOG FILES</h3>
<p class="docText1"><span class="b">/var/log/messages</span></p>
<p class="docText1"><a name="ddclient records" class="calibre8" id="ddclient records"/>ddclient records status messages as well as errors to this file.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="notes-id5" class="calibre8" id="notes-id5"/>
<h3 class="docSection1Title" id="-100000">8.10. NOTES</h3>
<ul class="calibre15"><li class="calibre16"><p class="docText1"><a name="Setting the" class="calibre8" id="Setting the"/>Setting the daemon update time to 600 seconds is reasonable. If you set this value too low, it will cause unnecessary traffic from your system. Setting this value too high will delay DNS updates to your dynamic DNS provider.</p></li><li class="calibre16"><p class="docText1"><a name="an account" class="calibre8" id="an account"/>When creating an account with a dynamic DNS service provider, avoid using a login and/or password that matches any account on your system. When ddclient updates your public IP address, it may transmit your username and password to your dynamic DNS service provider in the clear (unencrypted). If an attacker analyzed your network traffic, this information could be used to compromise the security of your system. Later versions of ddclient (including version 3.7) support SSL encrypted connections to dynamic DNS providers.</p></li></ul>
</div></div>

</body></html>