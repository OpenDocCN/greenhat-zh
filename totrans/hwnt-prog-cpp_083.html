<html><head></head><body>
<div style="height:0pt" id="ch07"/><h1 class="title" id="calibre_toc_92"><span class="chapter-titlelabel">Chapter 7: </span>Classes with No Class</h1><blockquote class="blockquote">
<p class="b24-bookeditorial">When Bjarne Stroustrup invented C++, he not only created a great programming language, but he created a great language that gave the programmer tremendous power. He also gave the programmer an entirely new set of ways of screwing up. Thanks to his effort all the programs in this chapter are possible.</p>
</blockquote>


<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_3">
<a name="95" class="calibre16" id="95"/><a name="ch07lev1sec1" class="calibre16" id="ch07lev1sec1"/><span class="chapter-titlelabel">Program 81: </span>Thanks for the Memory</h2>
<p class="b24-bookeditorial">Why does this program leak memory?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * play with a variable size stack class.       *
  3  ************************************************/
  4
  5 /************************************************
  6  * stack -- Simple stack class                  *
  7  *                                              *
  8  * Member functions:                            *
  9  *      push -- Push data on to the stack       *
 10  *      pop -- remove an item from the stack.   *
 11  ************************************************/
 12 class stack
 13 {
 14     private:
 15         int *data;      // The data
 16         const int size; // The size of the data
 17
 18         // Number of items in the data
 19         int count;
 20     public:
 21         // Create the stack
 22         stack(
 23             // Max size of the stack
 24             const int _size
 25         ):size(_size), count(0)
 26         {
 27             data = new int[size];
 28         }
 29         ~stack(void) {}
 30     private:
 31         // No copy constructor
 32         stack(const stack &amp;);
 33
 34         // No assignment operator
 35         stack &amp; operator = (const stack &amp;);
 36     public:
 37         // Push something on the stack
 38         void push(
 39             // Value to put on stack
 40             const int value
 41         )
 42         {
 43             data[count] = value;
 44             ++count;
 45         }
 46         // Remove an item from the stack
 47         int pop(void)
 48         {
 49             --count;
 50             return (data[count]);
 51         }
 52 };
 53
 54 int main()
 55 {
 56     stack a_stack(30);
 57
 58     a_stack.push(1);
 59     a_stack.push(3);
 60     a_stack.push(5);
 61     a_stack.push(7);
 62     return (0);
 63 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#192" target="_parent" class="calibre2">Hint 56</a>. <a href="LiB0121.html#530" target="_parent" class="calibre2">Answer 32</a>.)</p>
</div>
</body></html>