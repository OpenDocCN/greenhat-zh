<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;Photographic Effects"><div class="titlepage"><div><div><h1 class="title"><a id="photographic_effects"/>Chapter 2. Photographic Effects</h1></div></div></div><div class="informalfigure"><a id="med_id00122a"/><div class="mediaobject"><a id="med_id00122"/><img src="httpatomoreillycomsourcenostarchimages1222824.png.jpg" alt="image with no caption"/></div></div><p><a id="iddle1337" class="indexterm"/><a id="iddle1847" class="indexterm"/>As a raster image editor, GIMP loves to play with points of color, both individually and in blocks and blobs grouped together in selections. This makes the program perfect for working with photographs. Both your digital camera and GIMP work with pixels, so no data conversion is required. The days of scanning your photos are a thing of the past.</p><p>Now that your images are in digital format, there’s no end to the magic you can perform. Going from average photos to studio-quality productions requires just a few techniques that anyone can learn to use. Many techniques are based on simple color corrections like those provided by the Curves, Levels, and Color Balance tools.</p><p>In addition, you can use various GIMP filters to enhance photographs. The Retinex tool (Colors▸Retinex), for example, normalizes colors in order to enhance focus. Originally produced by NASA’s Langley Research Center to enhance images taken through smoke and haze, this filter has interesting possibilities for portrait enhancement.</p><div class="informalfigure"><a id="med_id00123a"/><div class="mediaobject"><a id="med_id00123"/><img src="httpatomoreillycomsourcenostarchimages1222826.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Setting a steep curve increases color contrast, while changing the color balance maintains the color contrast.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00124a"/><div class="mediaobject"><a id="med_id00124"/><img src="httpatomoreillycomsourcenostarchimages1222828.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>This levels histogram shows that the darkest pixels aren’t completely black. Moving the left and right sliders toward the middle produces the dramatic lighting change shown here.</em></span></p></div></div></div><p>The following tutorials describe techniques that photographers will find useful. Along the way you’ll create vignettes, add focal blurs, adjust color, insert lighting, simulate depth of field and motion, and use cloning methods to clean up damaged photos. Unlike previous tutorials, these won’t start with a blank canvas at the default dimensions and walk you step-by-step through a repeatable process. Instead, I’ll start with a few basic images and apply standard processes that you can use with your own images.</p><div class="informalfigure"><a id="med_id00125a"/><div class="mediaobject"><a id="med_id00125"/><img src="httpatomoreillycomsourcenostarchimages1222830.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The Retinex filter produces a sharper image than the desaturated original (upper left). Applying the Colorize tool and the Filter Pack filter produces further variations.</em></span></p></div></div></div><p>We’re not all professional photographers or graphic artists. You may not have $5,000 digital cameras or fancy studios, but you do have access to many of the same digital effects professionals use: selections, blurs, masks, and layer modes. Taken by themselves these don’t seem like powerful tools. But when you apply them to your own photographic masterpieces, they become the tools of a new graphic artist—you.</p><div class="sect1" title="2.1 Soft Focus"><div class="titlepage"><div><div><h1 class="title"><a id="twodot1_soft_focus"/>2.1 Soft Focus</h1></div></div></div><p><a id="iddle1375" class="indexterm"/><a id="iddle1558" class="indexterm"/><a id="iddle1953" class="indexterm"/>The soft-focus technique has long been used to soften hard edges between shadows and light, allowing a foreground image to fade into the background. This is especially true for studio portraits, where backgrounds are often just painted canvas. Blending foreground and background can pull the eye toward the foreground, if done correctly.</p><p>In photography, the soft-focus effect originated as a result of flaws in camera lenses. Later, with the use of lens filters, the effect was often incorporated into glamour images because it smooths skin wrinkles. In the digital age, soft focus is a handy trick that can remove blemishes while adding charm to any image.</p><p>Fortunately for digital photographers, soft focus is a technique that raster-based programs like GIMP now provide, using common processes such as blurring. But it is also an effect that can be easily overused.</p><p>This tutorial will show you how to soften the focus of a studio portrait. Techniques like this require only modest experience with selections combined with colors tools and the Gaussian Blur filter.</p><div class="informalfigure"><a id="med_id00126a"/><div class="mediaobject"><a id="med_id00126"/><img src="httpatomoreillycomsourcenostarchimages1222832.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>A soft focus (right) draws the viewer into the subject more than the original (left).</em></span></p></div></div></div><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started"/>Getting Started</h2></div></div></div><p>The easiest way to perform this effect is with a <span class="emphasis"><em>high pass filter</em></span>. A high pass filter lets high frequencies pass while blocking low frequencies. In an image, a high pass filter will enhance the areas of greatest contrast. You can use this knowledge to find blemishes, blur them out, and blend with the original image.</p><p>The stock GIMP distribution doesn’t provide a high pass filter, though one is available from the GIMP Plugin Registry. Fortunately, a high pass filter can be simulated very easily with just a couple of layers and some color adjustments, so there’s no need to download and install the filter from the registry.</p><p>Start with a portrait. The portrait I’ve chosen looks fine as it is, but it could look even better—softer and more dreamy. Its best features are the boy’s eyes and the high contrast between the focal points (the faces) and the background and clothing. Be sure to find an image with similar contrast for your own experiment.</p><div class="informalfigure"><a id="med_id00127a"/><div class="mediaobject"><a id="med_id00127"/><img src="httpatomoreillycomsourcenostarchimages1222834.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The original image is well executed, but you can improve it by softening the focus.</em></span></p></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><a id="iddle1373" class="indexterm"/><a id="iddle1374" class="indexterm"/><a id="iddle1454" class="indexterm"/><a id="iddle1627" class="indexterm"/><a id="iddle1951" class="indexterm"/><a id="iddle1952" class="indexterm"/>Open the image and duplicate the Background layer.</p></li><li class="listitem"><p>Name the duplicate layer <span class="emphasis"><em>High Pass</em></span>.</p></li><li class="listitem"><p>Duplicate the High Pass layer once.</p><div class="informalfigure"><a id="med_id00128a"/><div class="mediaobject"><a id="med_id00128"/><img src="httpatomoreillycomsourcenostarchimages1222836.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Two copies of the original layer are required to create the high pass filter. The second gets blurred and merged with the first before additional color adjustments are applied.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Preparing the High Pass Filter"><div class="titlepage"><div><div><h2 class="title"><a id="preparing_the_high_pass_filter"/>Preparing the High Pass Filter</h2></div></div></div><p>The high pass filter starts by blurring the top layer and changing its opacity so it blends with the next layer down.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>If it’s not already selected, click the top layer in the Layers dialog to make it active.</p></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>).</p></li><li class="listitem"><p>Set the Blur Radius, both Horizontal and Vertical, to <span class="strong"><strong>30 pixels</strong></span>. Keep the Blur Method set to <span class="strong"><strong>RLE</strong></span>.</p></li><li class="listitem"><p>Click <span class="strong"><strong>OK</strong></span> to apply the blur to the layer.</p></li><li class="listitem"><p>In the Layers dialog, set the Opacity slider to <span class="strong"><strong>50 percent</strong></span>.</p><div class="informalfigure"><a id="med_id00129a"/><div class="mediaobject"><a id="med_id00129"/><img src="httpatomoreillycomsourcenostarchimages1222838.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>This process will soften the high-contrast areas in preparation for blending with the original image. The blur radius for the Gaussian Blur can be increased or decreased as needed. Higher blurs will increase the softness of the final image. Beware, however, that too much blur will just result in a mess.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Merging Layers"><div class="titlepage"><div><div><h2 class="title"><a id="merging_layers"/>Merging Layers</h2></div></div></div><p>Blurring and transparency are just the first part of the simulated high pass. The next step is to invert the blur layer and blend it with the second layer, which is a copy of the original image.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>The top layer should still be selected in the Layers dialog. If not, select it.</p></li><li class="listitem"><p>Invert (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Invert</strong></span>) the colors of this layer.</p></li><li class="listitem"><p>Merge (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Merge Down</strong></span>) the top layer with the layer below it.</p><div class="informalfigure"><a id="med_id00130a"/><div class="mediaobject"><a id="med_id00130"/><img src="httpatomoreillycomsourcenostarchimages1222840.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1111" class="indexterm"/><a id="iddle1239" class="indexterm"/><a id="iddle1370" class="indexterm"/><a id="iddle1645" class="indexterm"/><a id="iddle1915" class="indexterm"/><a id="iddle1948" class="indexterm"/><span class="emphasis"><em>Note that the merged layer retains the name of the lower layer, in this case High Pass. When the top layer’s colors are inverted and merged down, the result is a mostly gray layer with high detail in the areas of interest (eyes and mouth, for example). You’ll exaggerate the high contrast areas with the next step.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adjusting Light and Shadow in the High Pass Layer"><div class="titlepage"><div><div><h2 class="title"><a id="adjusting_light_and_shadow_in_the_high_p"/>Adjusting Light and Shadow in the High Pass Layer</h2></div></div></div><p>The High Pass layer is ready for color, or rather lightness, correction. To do this, the Curves dialog will be used, followed by the Brightness-Contrast dialog.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>The High Pass layer should still be active in the Layers dialog.</p></li><li class="listitem"><p>Open the Curves dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Curves</strong></span>).</p></li><li class="listitem"><p>Adjust the diagonal line so it has an S shape similar to the one shown here.</p></li><li class="listitem"><p>Click <span class="strong"><strong>OK</strong></span> to apply the changes to the layer.</p></li><li class="listitem"><p>Open the Brightness-Contrast dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Brightness-Contrast</strong></span>).</p><div class="informalfigure"><a id="med_id00131a"/><div class="mediaobject"><a id="med_id00131"/><img src="httpatomoreillycomsourcenostarchimages1222842.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The steeper the middle part of the S curve, the less the original image will be brightened.</em></span></p></div></div></div></li><li class="listitem"><p>Set the Brightness slider to <span class="strong"><strong>–95</strong></span>. Leave the Contrast slider at <span class="strong"><strong>0</strong></span>.</p></li><li class="listitem"><p>Click <span class="strong"><strong>OK</strong></span> to apply the changes to the layer.</p><div class="informalfigure"><a id="med_id00132a"/><div class="mediaobject"><a id="med_id00132"/><img src="httpatomoreillycomsourcenostarchimages1222844.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The result of this step is similar to applying an edge-detect filter to the image. But none of the edge-detect filters in GIMP provide this kind of detail.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Blending Layers"><div class="titlepage"><div><div><h2 class="title"><a id="blending_layers"/>Blending Layers</h2></div></div></div><p><a id="iddle1093" class="indexterm"/><a id="iddle1371" class="indexterm"/><a id="iddle1372" class="indexterm"/><a id="iddle1621" class="indexterm"/><a id="iddle1870" class="indexterm"/><a id="iddle1949" class="indexterm"/><a id="iddle1950" class="indexterm"/><a id="iddle1956" class="indexterm"/>Now the High Pass layer can be merged with the original image.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Invert the colors of the High Pass layer.</p></li><li class="listitem"><p>Set the layer mode to <span class="strong"><strong>Soft Light</strong></span>.</p><div class="informalfigure"><a id="med_id00133a"/><div class="mediaobject"><a id="med_id00133"/><img src="httpatomoreillycomsourcenostarchimages1222846.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The results show the original image with more reflected light, like the glow movie studios add around aging starlets.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Fine Tuning"><div class="titlepage"><div><div><h2 class="title"><a id="fine_tuning"/>Fine Tuning</h2></div></div></div><p>But the soft focus has taken away some of the important features of the portrait, namely the eyes and mouth. To get these back, a layer mask is added and filled with black where the High Pass layer should not be applied.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>The High Pass layer should be active in the Layers dialog. If not, select it.</p></li><li class="listitem"><p>Type <span class="strong"><strong>D</strong></span> in the image window to reset the foreground color to black.</p></li><li class="listitem"><p>Add a white layer mask (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Mask</strong></span>▸<span class="strong"><strong>Add Layer Mask</strong></span>) to this layer.</p></li><li class="listitem"><p>Choose the Airbrush from the Toolbox.</p></li><li class="listitem"><p>Select a soft-edged brush, such as Round Fuzzy.</p></li><li class="listitem"><p>In the Tool Options dialog, adjust the size of the brush to fit the area to be masked, such as the eyes or lips.</p></li><li class="listitem"><p>In the image window, brush over the boy’s eyes and lips.</p></li></ol></div><p>It’s not necessary to be exact using the airbrush in the mask. It won’t be immediately obvious that much is happening in the image window. Continue painting until the blur fades and the eyes and lips become distinct. Adjust the size of the brush for different eyes and lips, and then repeat.</p><div class="informalfigure"><a id="med_id00134a"/><div class="mediaobject"><a id="med_id00134"/><img src="httpatomoreillycomsourcenostarchimages1222848.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The color of the iris is more vivid and the eyelashes more pronounced after masking the high pass filter.</em></span></p></div></div></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00002"/>Further Exploration</h2></div></div></div><p>The high pass layer in this tutorial (and the steps that created it) blurred the background, which also simulated a decreased depth of field. You’ll learn more about how to simulate this effect in <a class="xref" href="ch02.html#twodot5_changing_depth_of_field" title="2.5 Changing Depth of Field">2.5 Changing Depth of Field</a>. This method of edge detection is also used for selective sharpening.</p></div></div><div class="sect1" title="2.2 Photo to Sketch"><div class="titlepage"><div><div><h1 class="title"><a id="twodot2_photo_to_sketch"/>2.2 Photo to Sketch</h1></div></div></div><p><a id="iddle1346" class="indexterm"/><a id="iddle1347" class="indexterm"/><a id="iddle1785" class="indexterm"/><a id="iddle1786" class="indexterm"/><a id="iddle1937" class="indexterm"/><a id="iddle1938" class="indexterm"/>This next technique is for all the would-be artists among us. What you can’t do with a pen and pencil, you can now do with a camera and GIMP. Although an inkjet print on textured paper isn’t quite the same as a fine hand-drawn sketch, it’s close enough for the digital crowd.</p><p>Converting a photo to a sketch basically means detecting the edges in an image and applying a slightly irregular line, one that looks like it might have been drawn by hand. This process isn’t exact—you might substitute a different edge-detect filter or use the Curves or Levels tools to adjust the desaturated layers before applying filters. But these basic steps will get you started.</p><div class="informalfigure"><a id="med_id00135a"/><div class="mediaobject"><a id="med_id00135"/><img src="httpatomoreillycomsourcenostarchimages1222850.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Is it pen or pencil? Actually, it’s just a little GIMP magic.</em></span></p></div></div></div><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00003"/>Getting Started</h2></div></div></div><p>The original image you choose for this effect shouldn’t be too busy. Soft lines are useful, but intricate patterns such as paisley would be problematic. Although I chose a still-life image for this example, the trick also works well with formal portraits and other pictures of people.</p><div class="informalfigure"><a id="med_id00136a"/><div class="mediaobject"><a id="med_id00136"/><img src="httpatomoreillycomsourcenostarchimages1222852.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The subject of this image is a room with lots of lines and shapes but few odd patterns.</em></span></p></div></div></div></div><div class="sect2" title="Converting the Image to a Sketch"><div class="titlepage"><div><div><h2 class="title"><a id="converting_the_image_to_a_sketch"/>Converting the Image to a Sketch</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>First, desaturate the image (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Desaturate</strong></span>).</p></li><li class="listitem"><p>Duplicate the layer twice (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Duplicate Layer</strong></span>). Name the first duplicate <span class="emphasis"><em>Burn</em></span> and the second duplicate <span class="emphasis"><em>Hard Light</em></span>.</p></li><li class="listitem"><p>Turn off the visibility of the two duplicate layers by clicking the eye icon for each one in the Layers dialog. Then select the Background layer again.</p><div class="note" title="Note"><h3 class="title"><a id="ch02note01"/>Note</h3><p><span class="emphasis"><em>The Background layer can also be duplicated once more before the next step. This will allow further experimentation by keeping a copy of the desaturated layer. If you do this, be sure to turn off the visibility of the Background layer and apply the next step to this last duplicate layer.</em></span></p></div><div class="informalfigure"><a id="med_id00137a"/><div class="mediaobject"><a id="med_id00137"/><img src="httpatomoreillycomsourcenostarchimages1222854.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1344" class="indexterm"/><a id="iddle1455" class="indexterm"/><a id="iddle1546" class="indexterm"/><a id="iddle1783" class="indexterm"/><a id="iddle1935" class="indexterm"/><a id="iddle1946" class="indexterm"/><span class="emphasis"><em>The names of the duplicate layers hint at the layer modes to be used later. The Background layer has been renamed to Original Image here to make it easy to identify in the layer stack.</em></span></p></div></div></div></li><li class="listitem"><p>Open the Sobel filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Edge Detect</strong></span>▸<span class="strong"><strong>Sobel</strong></span>). The Sobel filter is an edge-detect filter that looks for nearly horizontal and vertical lines in the layer and keeps those in the resulting image.</p></li><li class="listitem"><p>Keep the default settings and click <span class="strong"><strong>OK</strong></span> to apply them to the Original Image layer. The default settings for this filter, as opposed to the other edge-detect filters available in GIMP, will work best with this image because they’ll produce more solid and distinct lines that appear hand-drawn. However, you may get better results using another edge-detect filter if your image doesn’t look right after applying the Sobel filter.</p></li><li class="listitem"><p>The white lines may need to be enhanced. Use the Levels dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Levels</strong></span>) and pull the White Point slider to the left.</p></li><li class="listitem"><p>Invert the colors (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Invert</strong></span>) for this layer to produce black lines on a white background.</p><div class="informalfigure"><a id="med_id00138a"/><div class="mediaobject"><a id="med_id00138"/><img src="httpatomoreillycomsourcenostarchimages1222856.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The Sobel filter creates nice outlines of the image’s important shapes. Other edge-detect filters might work better for your image, so you should experiment.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding Depth to the Sketch"><div class="titlepage"><div><div><h2 class="title"><a id="adding_depth_to_the_sketch"/>Adding Depth to the Sketch</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Click the <span class="strong"><strong>Burn</strong></span> layer in the Layers dialog to make it active, and click its eye icon to make it visible once again.</p></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>).</p></li><li class="listitem"><p>Set the Horizontal and Vertical Blur Radius to <span class="strong"><strong>10 pixels</strong></span> and apply this filter to the layer.</p></li><li class="listitem"><p>Set the layer mode to <span class="strong"><strong>Burn</strong></span>. This makes dark areas in the background even darker, so the hand-drawn appearance looks as though it was achieved with a dark pencil.</p></li><li class="listitem"><p>In the Layers dialog, click the <span class="strong"><strong>Hard Light</strong></span> layer to make it active, and then click its eye icon to make it visible.</p></li><li class="listitem"><p>Again, open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>).</p></li><li class="listitem"><p>This time, set the Horizontal and Vertical Blur Radius to <span class="strong"><strong>15 pixels</strong></span>. Click <span class="strong"><strong>OK</strong></span> to apply these settings to the layer.</p></li><li class="listitem"><p>Set the layer mode to <span class="strong"><strong>Hard Light</strong></span>. This will simulate the smudged charcoal appearance you get when rubbing your finger over a pencil mark on paper.</p><div class="informalfigure"><a id="med_id00139a"/><div class="mediaobject"><a id="med_id00139"/><img src="httpatomoreillycomsourcenostarchimages1222858.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1345" class="indexterm"/><a id="iddle1740" class="indexterm"/><a id="iddle1784" class="indexterm"/><a id="iddle1936" class="indexterm"/><span class="emphasis"><em>Blending with a blurred original using Burn mode darkens outlines created by the edge-detect filter.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00140a"/><div class="mediaobject"><a id="med_id00140"/><img src="httpatomoreillycomsourcenostarchimages1222860.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Applying the Hard Light mode lends the image a smudged charcoal appearance, just like when you smear a pencil mark with your finger.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding the Finishing Touches"><div class="titlepage"><div><div><h2 class="title"><a id="adding_the_finishing_touches"/>Adding the Finishing Touches</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Let’s take this particular image a little further. Start by duplicating the Original Image layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Duplicate</strong></span>).</p></li><li class="listitem"><p>Set the layer mode of this duplicate layer to <span class="strong"><strong>Multiply</strong></span>.</p></li><li class="listitem"><p>Set the Opacity to <span class="strong"><strong>50 percent</strong></span>. This brings out the image’s lines even more without making the drawing look artificial.</p><div class="informalfigure"><a id="med_id00141a"/><div class="mediaobject"><a id="med_id00141"/><img src="httpatomoreillycomsourcenostarchimages1222862.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Adding this last layer is optional, but it helps to emphasize the lines in this particular image.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00004"/>Further Exploration</h2></div></div></div><p>This simple technique has numerous variations, including hand-smudging the charcoal layer using the Smudge tool and manually tinting the strokes with the Colorize tool to simulate drawing with colored pencils. You can also use the Oilify filter (Filters▸Artistic▸Oilify) to produce impressionistic images, or you can use the Curves, Levels, or Posterize tools to produce images that look more like line drawings. When creating duplicates of the original image layer, make more than one for each type of edge-detect filter and try variations of the filter settings. Larger blurs can soften the pencil strokes.</p></div></div><div class="sect1" title="2.3 Antiquing with Sepia Tones"><div class="titlepage"><div><div><h1 class="title"><a id="twodot3_antiquing_with_sepia_tones"/>2.3 Antiquing with Sepia Tones</h1></div></div></div><p><a id="iddle1062" class="indexterm"/><a id="iddle1147" class="indexterm"/><a id="iddle1296" class="indexterm"/>Antique photos come in two flavors: black and white or tinted. Coloring black-and-white photos is easy with GIMP: you simply choose a color, pick a layer mode, and apply a Bucket Fill. There’s nothing to it. The tricky part is making it look right—adjusting the contrast in the grayscale image appropriately and then choosing the right layer mode.</p><p>Most people associate tinted pictures, rather than plain black-and-white ones, with antique photos. This may be because more old sepia-toned photos have survived. The processing chemistry for sepia prints converts the silver metal, which forms the image in black-and-white prints, into silver sulfide. Silver sulfide is more stable than silver metal. Thus, converting the silver to sulfide gives the photographs a much longer shelf life.</p><p>Sepia prints get their name from the range of brown tints produced by the development process, which resemble the ink of the cuttlefish (<span class="emphasis"><em>sepia</em></span> in Latin). Re-creating true sepia tones digitally therefore limits us to a small set of dark brown colors, some with a slight tint of red. Similar processes could be applied using colors other than shades of brown, though the resulting images would not mimic true sepia prints.</p><p>In this tutorial you’ll try out some possible variations as you produce sepia-toned images using different combinations of colors, contrast, and layer modes.</p><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00005"/>Getting Started</h2></div></div></div><p>This tutorial’s original image comes from an online image archive (available from BigStockPhoto.com) and has been desaturated using the Channel Mixer (Colors▸Components▸Channel Mixer). Alternatives to using the Channel Mixer dialog are using the Desaturate dialog or converting the image to grayscale (Image▸Mode▸Grayscale) and then back to RGB (Image▸Mode▸RGB). The primary difference between these latter two methods is that the Desaturate dialog only works on the current layer. If your image has more than one layer, the Desaturate dialog won’t convert all of those layers at once. For multiple layers, it would be more appropriate to convert the image to grayscale and then back to RGB.</p><div class="informalfigure"><a id="med_id00142a"/><div class="mediaobject"><a id="med_id00142"/><img src="httpatomoreillycomsourcenostarchimages1222864.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Converting an image from full color to sepia is a fairly simple process.</em></span></p></div></div></div><p>But the Channel Mixer is the best option for this tutorial. Old photographs often owe their appearance to the use of <span class="emphasis"><em>orthochromatic</em></span> film. Orthochromatic emulsions cause blue tints to appear brighter and reds darker. The Channel Mixer provides a higher degree of control in setting these channels when converting from color to a monochromatic image.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><a id="iddle1061" class="indexterm"/><a id="iddle1295" class="indexterm"/><a id="iddle1456" class="indexterm"/><a id="iddle1542" class="indexterm"/><a id="iddle1699" class="indexterm"/>Open the original image.</p></li><li class="listitem"><p>Open the Channel Mixer dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Components</strong></span>▸<span class="strong"><strong>Channel Mixer</strong></span>). For this image, set the Red channel to <span class="strong"><strong>47</strong></span>, the Green to <span class="strong"><strong>0</strong></span>, and the Blue to <span class="strong"><strong>73</strong></span>, and click the <span class="strong"><strong>Monochrome</strong></span> option to convert the image to black and white.</p><div class="informalfigure"><a id="med_id00143a"/><div class="mediaobject"><a id="med_id00143"/><img src="httpatomoreillycomsourcenostarchimages1222866.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Desaturate the original image using the Color Mixer.</em></span></p></div></div></div></li></ol></div><p>Since the original image is very crisp, and most old photos are not, a slight blur is applied next.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>).</p></li><li class="listitem"><p>Set both the Horizontal and Vertical Blur Radius to <span class="strong"><strong>2.0 pixels</strong></span>. Only a small amount of blur is necessary, enough to remove bright reflections on the locomotive’s outer shell.</p></li><li class="listitem"><p>Apply this setting to the desaturated image.</p><div class="informalfigure"><a id="med_id00144a"/><div class="mediaobject"><a id="med_id00144"/><img src="httpatomoreillycomsourcenostarchimages1222868.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>A slight blur helps remove crisp reflections from modern photographs.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Increasing the Middle Grays"><div class="titlepage"><div><div><h2 class="title"><a id="increasing_the_middle_grays"/>Increasing the Middle Grays</h2></div></div></div><p>Sepia toning works primarily by colorizing the gray region of the desaturated image. Dark pixels are relatively unaffected, and lighter pixels just get a bit lighter. The locomotive in the image is very dark, so we’ll lighten it using the Levels tool to maximize the sepia tone’s effects.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>The first step in getting more gray into the image is to adjust the Levels histogram (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Levels</strong></span>). There are two types of histograms available: Linear and Logarithmic (see the small icons to the right of the Reset Channel button). The Logarithmic histogram shows a greater number of dark (left side) and light (right side) pixels, and relatively fewer gray (middle) pixels.</p></li><li class="listitem"><p>To increase the amount of gray in the image, we lighten the darker pixels by sliding the middle (gray) slider under the histogram to the left.</p></li><li class="listitem"><p><a id="iddle1063" class="indexterm"/><a id="iddle1297" class="indexterm"/><a id="iddle1911" class="indexterm"/>Apply this change to the image by clicking the <span class="strong"><strong>OK</strong></span> button in the Levels dialog.</p></li><li class="listitem"><p>Looking at the Levels histogram again shows that there are now gaps in the graph on the dark side and spikes on the light side. There are also small spikes in the center area. This shows us visually how darker pixels have been changed to lighter pixels.</p><div class="informalfigure"><a id="med_id00145a"/><div class="mediaobject"><a id="med_id00145"/><img src="httpatomoreillycomsourcenostarchimages1222870.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>There is a wide tonal range in this image. A slight levels adjustment (left) makes it an excellent candidate for application of sepia tones. The result of applying this change is evident when the Levels histogram is checked again.</em></span></p></div></div></div></li><li class="listitem"><p>As an additional measure, you can also reduce the contrast in the image (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Brightness-Contrast</strong></span>). Reducing the contrast simulates the fade that the years will have brought to an old photograph.</p><div class="informalfigure"><a id="med_id00146a"/><div class="mediaobject"><a id="med_id00146"/><img src="httpatomoreillycomsourcenostarchimages1222872.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Reducing the contrast and brightness will make the image appear more aged when the sepia tones are applied.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding the Sepia Tone"><div class="titlepage"><div><div><h2 class="title"><a id="adding_the_sepia_tone"/>Adding the Sepia Tone</h2></div></div></div><p>The image is now ready for a sepia tone. Sepia is a brown color with a slightly reddish tint, varying from light to dark shades. You can use many RGB value sets to achieve a sepia tone, and an Internet search will help you find them. For this image you’ll apply 135/96/40 to two separate layers. Each colored layer will be blended using a different layer mode.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Duplicate the original layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Duplicate Layer</strong></span>) and name the duplicate layer <span class="emphasis"><em>Sepia Screen</em></span>.</p></li><li class="listitem"><p>Fill the new layer with the appropriate sepia tone. To do this, first click the foreground color box to open the Change Foreground Color dialog. Enter your RGB values in the appropriate fields, and then click <span class="strong"><strong>OK</strong></span>. (In this example I used RGB values of 135/96/40 for the sepia tone.)</p></li><li class="listitem"><p><a id="iddle1125" class="indexterm"/><a id="iddle1419" class="indexterm"/>Select the <span class="strong"><strong>Bucket Fill</strong></span> tool, and in the Tool Options dialog set the Mode to <span class="strong"><strong>Multiply</strong></span> and the Affected Area to <span class="strong"><strong>Fill Whole Selection</strong></span>. Click in the duplicate layer to colorize the layer with the sepia tone.</p></li><li class="listitem"><p>To combine this new layer with the original, set the mode for this colored layer to <span class="strong"><strong>Screen</strong></span>.</p></li><li class="listitem"><p>Duplicate the Sepia Screen layer. Name the duplicate layer <span class="emphasis"><em>Sepia Overlay</em></span>. Change the layer mode to <span class="strong"><strong>Overlay</strong></span>.</p><div class="informalfigure"><a id="med_id00147a"/><div class="mediaobject"><a id="med_id00147"/><img src="httpatomoreillycomsourcenostarchimages1222874.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The screen layer lightens the image by adding color to it, while the overlay darkens only the dark areas by also infusing color.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00006"/>Further Exploration</h2></div></div></div><p>Further aging of the image can be accomplished by adding a selective blur to the far end of the locomotive, adding a depth of field common in old photographs. Further blurring of the entire image can also help mimic a faded, aged photograph.</p><p>The sepia toning process lends itself well to experimentation. Use multiple layers with different tinting and layer modes applied, and then flash back and forth between them using the eye icon in the Layers dialog to compare the results.</p><p>Remember that layer modes and Tool Option blend modes can produce distinct results. Blend a solid-colored layer with the layer below using a layer mode from the Layers dialog. Then turn off the solid-colored layer visibility and colorize the lower layer using the Bucket Fill tool with its blend mode in the Tool Options dialog set to the same mode. Compare the results of both techniques and note the difference. Using the layer modes makes it easier to change the sepia tone without altering the original image, and the result may be truer to the faded colors in old photographs.</p></div></div><div class="sect1" title="2.4 Color Swap"><div class="titlepage"><div><div><h1 class="title"><a id="twodot4_color_swap"/>2.4 Color Swap</h1></div></div></div><p><a id="iddle1197" class="indexterm"/><a id="iddle1198" class="indexterm"/><a id="iddle1310" class="indexterm"/><a id="iddle1311" class="indexterm"/><a id="iddle1823" class="indexterm"/>Photographers are often asked to change the color of one or more elements in an image. How easy this process is depends entirely on how easy it is to isolate the objects that need updating.</p><p>This tutorial looks at two examples of color swap. The first is an image in which the color change doesn’t require difficult selections. The second image requires a more delicate hand.</p><div class="informalfigure"><a id="med_id00148a"/><div class="mediaobject"><a id="med_id00148"/><img src="httpatomoreillycomsourcenostarchimages1222876.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Successful color swaps are all a matter of good selections. This image is fairly easy to work with because the items we want to change are easy to isolate.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00149a"/><div class="mediaobject"><a id="med_id00149"/><img src="httpatomoreillycomsourcenostarchimages1222878.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Color swapping is more complicated when the object you want to change is difficult to select. This project uses the Quick Mask to change the color of the vase.</em></span></p></div></div></div><div class="sect2" title="A Simple Color Swap"><div class="titlepage"><div><div><h2 class="title"><a id="simple_color_swap"/>A Simple Color Swap</h2></div></div></div><p>The first example is a collection of boats on a beach. There’s a plethora of color here. Let’s change the yellow trim on some of these boats to a light blue.</p><div class="sect3" title="Isolating the Object"><div class="titlepage"><div><div><h3 class="title"><a id="isolating_the_object"/>Isolating the Object</h3></div></div></div><p>To change the color of only certain objects in an image, you’ll need to isolate those objects from objects of a similar color elsewhere in the image. It’s obvious that some of the boats are yellow. Yellow isn’t so apparent in the rocks and trees in the background, but it’s plentiful there too.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>To isolate the boats, use the <span class="strong"><strong>Rectangle Select</strong></span> tool to make a simple selection encompassing the majority of the boats.</p></li><li class="listitem"><p><a id="iddle1194" class="indexterm"/><a id="iddle1307" class="indexterm"/>Add smaller rectangular selections to squeeze in the highest prow without selecting the rocks around it. Here the unselected region is made darker so you can more easily see what’s selected.</p><div class="informalfigure"><a id="med_id00150a"/><div class="mediaobject"><a id="med_id00150"/><img src="httpatomoreillycomsourcenostarchimages1222880.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>You don’t need to isolate the yellow elements from their immediate surroundings; you just need to isolate the lower half of the image (shown here with the Quick Mask enabled). If you include the upper half of the image, the yellow in the trees and rocks will be also be changed to blue when you swap colors.</em></span></p></div></div></div></li></ol></div></div><div class="sect3" title="Choosing the Destination Color"><div class="titlepage"><div><div><h3 class="title"><a id="choosing_the_destination_color"/>Choosing the Destination Color</h3></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open the Hue-Saturation dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Hue-Saturation</strong></span>). You can use this dialog to edit multiple channels, including the familiar red, green, and blue channels and their counterparts in the world of digital printing: cyan, magenta, and yellow.</p></li><li class="listitem"><p>Choose the yellow channel and adjust the <span class="strong"><strong>Hue</strong></span>, <span class="strong"><strong>Lightness</strong></span>, and <span class="strong"><strong>Saturation</strong></span> sliders until a soft blue replaces the yellow.</p></li></ol></div><p>This process works because the color to be replaced—yellow—is not a major part of the other colors contained within the selection. An exact selection isn’t necessary to swap the color yellow with the color blue. The only places that might be problematic are the log and sand on the beach. Brown contains some yellow, so after the Hue-Saturation changes are applied, the log and sand have a blue tint. This is easily fixed by removing the log from the selection using any of the selection tools, including the Quick Mask. The sawhorse on the beach near the middle of the picture also has heavy yellow content and needs to be handled in a similar manner (unless you want it painted blue as well). Keeping the sand out of the selection requires a more complex process, such as the one in the following tutorial.</p><div class="informalfigure"><a id="med_id00151a"/><div class="mediaobject"><a id="med_id00151"/><img src="httpatomoreillycomsourcenostarchimages1222882.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Use the Hue-Saturation tool to swap yellow with blue.</em></span></p></div></div></div></div></div><div class="sect2" title="A More Complex Color Swap"><div class="titlepage"><div><div><h2 class="title"><a id="more_complex_color_swap"/>A More Complex Color Swap</h2></div></div></div><p>The same trick doesn’t work on the next image. Let’s say you want to change the color of the vase to a shade of yellow. The problem is that although the vase’s reddish-brown color contains a lot of red, red also appears throughout the rest of the image. In fact, if you made the same change to this image’s red channel as you did to the boat image’s yellow channel, you’d change the color of the background chair, the berries, and the table.</p><div class="informalfigure"><a id="med_id00152a"/><div class="mediaobject"><a id="med_id00152"/><img src="httpatomoreillycomsourcenostarchimages1222884.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1193" class="indexterm"/><a id="iddle1195" class="indexterm"/><a id="iddle1202" class="indexterm"/><a id="iddle1205" class="indexterm"/><a id="iddle1306" class="indexterm"/><a id="iddle1308" class="indexterm"/><a id="iddle1453" class="indexterm"/><a id="iddle1810" class="indexterm"/><a id="iddle1890" class="indexterm"/><span class="emphasis"><em>The previous technique doesn’t work here because the color you want to change appears throughout the entire image.</em></span></p></div></div></div><div class="sect3" title="Creating a Complex Selection"><div class="titlepage"><div><div><h3 class="title"><a id="creating_a_complex_selection"/>Creating a Complex Selection</h3></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>This image requires a complex selection. Start by using the <span class="strong"><strong>Fuzzy Select</strong></span> tool with the Threshold set to <span class="strong"><strong>40</strong></span>. Clicking the middle right part of the vase creates an initial selection.</p></li><li class="listitem"><p>To finish off the selection, use the <span class="strong"><strong>Quick Mask</strong></span> and some soft-edged brushes. The problem with using the default Quick Mask in this situation is that it uses a red tint to highlight what isn’t selected, but we’re trying to select objects that have lots of red in them. This makes the selections created with the Fuzzy Select tool difficult to see when converted to the Quick Mask.</p><div class="informalfigure"><a id="med_id00153a"/><div class="mediaobject"><a id="med_id00153"/><img src="httpatomoreillycomsourcenostarchimages1222886.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The default Quick Mask is red, making it difficult to see the reddish selections.</em></span></p></div></div></div></li></ol></div></div><div class="sect3" title="Changing the Quick Mask Color"><div class="titlepage"><div><div><h3 class="title"><a id="changing_the_quick_mask_color"/>Changing the Quick Mask Color</h3></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>This problem is easily fixed. Right-click the <span class="strong"><strong>Quick Mask</strong></span> button in the lower-left corner of the canvas window. A menu opens.</p></li><li class="listitem"><p>Keeping the right mouse button held down, drag to the bottom of the menu to select <span class="strong"><strong>Configure Color and Opacity</strong></span>.</p></li><li class="listitem"><p>In the Quick Mask Attributes dialog, click the preview window (it shows the color and transparency of the mask) to open the Edit Quick Mask Color dialog.</p></li><li class="listitem"><p>Here you can change the RGB values used for the Quick Mask as well as the opacity for the mask (by adjusting the A slider below the B slider). Choose a color for the Quick Mask that contrasts with the colors in the object to be selected. A higher opacity value makes it easier to see what’s been selected but also makes it harder to see what needs to be selected. Here I’ve chosen a cyan mask with an opacity of 70 percent instead of the default 50 percent. The result is that the selected parts of the vase are much easier to see, while the parts of the vase that need to be selected are still visible.</p><div class="informalfigure"><a id="med_id00154a"/><div class="mediaobject"><a id="med_id00154"/><img src="httpatomoreillycomsourcenostarchimages1222888.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Change the Quick Mask color in the Quick Mask Attributes window.</em></span></p></div></div></div></li><li class="listitem"><p><a id="iddle1199" class="indexterm"/><a id="iddle1278" class="indexterm"/><a id="iddle1312" class="indexterm"/><a id="iddle1903" class="indexterm"/>When you’re satisfied with the mask color, click <span class="strong"><strong>OK</strong></span> in the dialogs to close them.</p><div class="informalfigure"><a id="med_id00155a"/><div class="mediaobject"><a id="med_id00155"/><img src="httpatomoreillycomsourcenostarchimages1222890.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Cyan is a high-contrast color for this image, which makes working with the Quick Mask much easier.</em></span></p></div></div></div></li></ol></div></div><div class="sect3" title="Painting the Selection"><div class="titlepage"><div><div><h3 class="title"><a id="painting_the_selection"/>Painting the Selection</h3></div></div></div><p>You learned in <a class="xref" href="ch01.html#onedot4_selections" title="1.4 Selections">1.4 Selections</a> that using the Quick Mask is the most effective way to select oddly shaped objects. Here’s a chance to try it out.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Zoom in on the vase by pressing the <span class="strong"><strong>+</strong></span> key.</p></li><li class="listitem"><p>Draw straight lines in the Quick Mask with the <span class="strong"><strong>Paintbrush</strong></span> tool’s small, hard-edged brushes by clicking at one endpoint of the line, holding down the <span class="smaller">SHIFT</span> key, and then clicking at the other end of the line. When painting (or drawing) with the Quick Mask, you must paint with black or white. Set the foreground color to white to paint over what should be included in the selection, and set the foreground color to black to paint over what shouldn’t be in the selection. When you’re finished, click the <span class="strong"><strong>Quick Mask</strong></span> button again to convert the mask to a selection.</p><div class="informalfigure"><a id="med_id00156a"/><div class="mediaobject"><a id="med_id00156"/><img src="httpatomoreillycomsourcenostarchimages1222892.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Select the vase by painting carefully in the Quick Mask. Remember that whatever you paint with white in the mask will be included when you convert the Quick Mask to a selection.</em></span></p></div></div></div></li><li class="listitem"><p><a id="iddle1196" class="indexterm"/><a id="iddle1285" class="indexterm"/><a id="iddle1309" class="indexterm"/><a id="iddle1562" class="indexterm"/><a id="iddle1622" class="indexterm"/>Grow the selection by <span class="strong"><strong>1 pixel</strong></span> (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Grow</strong></span>), and then feather it by <span class="strong"><strong>2 pixels</strong></span> (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Feather</strong></span>). Save the selection to a channel (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Save to Channel</strong></span>) in case you later decide to undo your color change and edit the selection again.</p></li></ol></div></div><div class="sect3" title="Working in a Duplicate Layer"><div class="titlepage"><div><div><h3 class="title"><a id="working_in_a_duplicate_layer"/>Working in a Duplicate Layer</h3></div></div></div><p>Working in a duplicate layer saves you the headache of making mistakes in the original layer. If you don’t like your changes in the duplicate layer, just try again.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>After saving your selection, click the original layer in the Layers dialog to make it active again.</p></li><li class="listitem"><p>Copy the selection and paste it as a new layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>To New Layer</strong></span>). Name this layer <span class="emphasis"><em>Vase</em></span> and make sure it’s active.</p></li><li class="listitem"><p>At this point you could use the Colorize tool (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Colorize</strong></span>) to change the color of the vase, but the vase has varying shades of red and yellow in it, and the Colorize tool will completely wash out those variations. Instead, use the Hue-Saturation tool again. Open the Hue-Saturation dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Hue-Saturation</strong></span>).</p></li><li class="listitem"><p>Choose the red channel and move the Hue slider to the right to change the red content of the vase to a more yellow color. Then click the yellow channel and do the same. Be sure to make both changes before clicking <span class="strong"><strong>OK</strong></span>. The results will be much greener if you adjust the red channel first, click <span class="strong"><strong>OK</strong></span>, reopen the dialog, and then adjust the yellow channel.</p></li><li class="listitem"><p>Deselect all (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>None</strong></span>) when all color changes are completed.</p><div class="informalfigure"><a id="med_id00157a"/><div class="mediaobject"><a id="med_id00157"/><img src="httpatomoreillycomsourcenostarchimages1222894.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The vase’s color can be changed using the Hue-Saturation tool once the color has been isolated with the Quick Mask selection.</em></span></p></div></div></div></li></ol></div></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00007"/>Further Exploration</h2></div></div></div><p>Swapping the color of objects in stock photos is a very common practice. Objects that have colors not found in the rest of the image are the easiest to change, as we saw with the image of boats on a beach. Changing the color of a vase or shirt or some other oddly shaped subject requires complex selections created using the Fuzzy Select tool, the Quick Mask, and other GIMP selection tools. These selections are more difficult but not impossible.</p><p>Mastery of the Quick Mask tool will help in the next tutorial, in which you’ll use a set of complex selections to add depth to a photograph.</p></div></div><div class="sect1" title="2.5 Changing Depth of Field"><div class="titlepage"><div><div><h1 class="title"><a id="twodot5_changing_depth_of_field"/>2.5 Changing Depth of Field</h1></div></div></div><p><a id="iddle1247" class="indexterm"/><a id="iddle1321" class="indexterm"/>Take a look at any of your personal photos. If you’ve used a consumer-grade camera, you’ll notice that the photo has a deep depth of field. That is, if your subject is more than a few yards away, most of the photo is in focus. Changing the depth of field can alter the feeling an image conveys. If your intended subject is not centered in the frame or not completely obvious, a depth-of-field change can draw attention to the subject and expose the true meaning of the photo.</p><p>Making the depth of field shallow can also make a normal scene appear as if it was a miniature, as you’ll see in <a class="xref" href="ch02.html#twodot11_miniaturizing_a_scene" title="2.11 Miniaturizing a Scene">2.11 Miniaturizing a Scene</a>.</p><p>In reality, computer-aided depth-of-field trickery is no more than a selective blur. You’ve probably seen this trick used in automobile advertisements, where the car is in focus but the background is blurred beyond recognition. In this tutorial you’ll pull a building to the forefront of a photo using modest depth-of-field changes.</p><div class="informalfigure"><a id="med_id00158a"/><div class="mediaobject"><a id="med_id00158"/><img src="httpatomoreillycomsourcenostarchimages1222896.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Changing a photograph’s depth of field is a simple process of selecting and blurring. As is often the case in photography, the trick is making a good selection.</em></span></p></div></div></div><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00008"/>Getting Started</h2></div></div></div><p>This tutorial begins with an image that has a relatively flat depth of field and is completely in focus. The solid blue sky will allow you to create selections of the buildings easily. You’ll still have to make some manual selections, but the solid blue sky will save some time.</p><div class="note" title="Note"><h3 class="title"><a id="ch02note02"/>Note</h3><p><span class="emphasis"><em>The image used in this tutorial is in the public domain and is available from PDPhoto.org.</em></span></p></div><div class="informalfigure"><a id="med_id00159a"/><div class="mediaobject"><a id="med_id00159"/><img src="httpatomoreillycomsourcenostarchimages1222898.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>A solid blue sky makes the initial selections easy.</em></span></p></div></div></div></div><div class="sect2" title="Isolating the Foreground"><div class="titlepage"><div><div><h2 class="title"><a id="isolating_the_foreground"/>Isolating the Foreground</h2></div></div></div><p><a id="iddle1246" class="indexterm"/><a id="iddle1320" class="indexterm"/><a id="iddle1437" class="indexterm"/>The original image is in focus and has an obvious foreground object—the outhouse. Start by creating a selection that includes the outhouse and some of the grasses in front of it. Here the unselected areas are tinted red to better show the selection.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Choose the <span class="strong"><strong>Fuzzy Select</strong></span> tool from the Toolbox. Click the blue sky to create an initial selection. If one click doesn’t select the entire sky, click somewhere in the unselected area while holding down the <span class="smaller">SHIFT</span> key.</p><div class="note" title="Note"><h3 class="title"><a id="ch02note03"/>Note</h3><p><span class="emphasis"><em>Moving the mouse to the right while keeping the left mouse button pressed also enlarges the selection, though this method can sometimes be a little harder to use.</em></span></p></div><div class="informalfigure"><a id="med_id00160a"/><div class="mediaobject"><a id="med_id00160"/><img src="httpatomoreillycomsourcenostarchimages1222900.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Because the sky is a solid color and contrasts so dramatically with the land, you should be able to select the sky using the Fuzzy Select tool in no more than three clicks. Here, the sky selection is shown using the Quick Mask.</em></span></p></div></div></div></li><li class="listitem"><p>Invert the selection (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Invert)</strong></span>, and then click the <span class="strong"><strong>Quick Mask</strong></span> button. As you’ve seen, unselected areas are tinted red when the default Quick Mask properties are in use (<a class="xref" href="ch02.html#twodot4_color_swap" title="2.4 Color Swap">2.4 Color Swap</a> showed you how to change the default color).</p></li><li class="listitem"><p>Select the <span class="strong"><strong>Paintbrush</strong></span> tool and press <span class="strong"><strong>D</strong></span> in the image window to reset the default foreground and background colors, making the foreground black.</p></li><li class="listitem"><p>Paint over the house on the left, some of the background grasses, and the rocky hill on the right. Use smaller brushes until the Quick Mask looks similar to that shown. Everything you paint over will be excluded from the selection.</p></li><li class="listitem"><p>Click the <span class="strong"><strong>Quick Mask</strong></span> button again to convert the mask back into a selection.</p></li><li class="listitem"><p>Save the selection to a channel (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Save to Channel</strong></span>). Then click the channel name in the <span class="strong"><strong>Channels</strong></span> dialog and change the name to <span class="emphasis"><em>Outhouse Selection</em></span>. Saving selections to a channel allows you to easily recall them for further editing should you decide the original selection wasn’t sufficient for your project. Later in this tutorial you’ll retrieve the saved selections and invert them for use with areas outside the original selection.</p></li><li class="listitem"><p>Select the original layer in the Layers dialog (<span class="strong"><strong>Windows</strong></span>▸<span class="strong"><strong>Dockable Dialogs</strong></span>▸<span class="strong"><strong>Layers</strong></span>). Feather the selection by <span class="strong"><strong>10 pixels</strong></span> (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Feather</strong></span>), and then copy (<span class="strong"><strong>Edit</strong></span>▸<span class="strong"><strong>Copy</strong></span>) the selection and paste it (<span class="strong"><strong>Edit</strong></span>▸<span class="strong"><strong>Paste</strong></span>) as a new layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>To New Layer</strong></span>).</p><div class="note" title="Note"><h3 class="title"><a id="ch02note04"/>Note</h3><p><span class="emphasis"><em>Alternatively, combine the paste with the new layer creation using <span class="strong"><strong>Edit</strong></span></em></span>▸<span class="strong"><strong><span class="emphasis"><em>Paste As</em></span></strong></span>▸<span class="strong"><strong><span class="emphasis"><em>New Layer</em></span></strong></span><span class="emphasis"><em>.</em></span></p></div></li><li class="listitem"><p>Click the new layer name and change it to <span class="emphasis"><em>Outhouse</em></span>.</p></li><li class="listitem"><p>In the Channels dialog (<span class="strong"><strong>Windows</strong></span>▸<span class="strong"><strong>Dockable Dialogs</strong></span>▸<span class="strong"><strong>Channels</strong></span>), click the <span class="strong"><strong>Outhouse Selection</strong></span> channel, and then click the <span class="strong"><strong>Channel to Selection</strong></span> button.</p><div class="informalfigure"><a id="med_id00161a"/><div class="mediaobject"><a id="med_id00161"/><img src="httpatomoreillycomsourcenostarchimages1222902.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle2032" class="indexterm"/><span class="emphasis"><em>The outhouse and foreground grasses are isolated with the Quick Mask.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00162a"/><div class="mediaobject"><a id="med_id00162"/><img src="httpatomoreillycomsourcenostarchimages1222904.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The outhouse and foreground grasses are copied to their own layer so that blur operations you perform later won’t affect them.</em></span></p></div></div></div></li><li class="listitem"><p>Select the <span class="strong"><strong>Background</strong></span> layer in the Layers dialog to make that layer active. Invert the selection to select everything except the original outhouse and foreground landscape.</p></li><li class="listitem"><p>Click <span class="strong"><strong>Select by Color</strong></span> in the toolbox. Adjust the <span class="strong"><strong>Threshold</strong></span> level in the Tool Options dialog as necessary (I set it to 50 for this image).</p></li><li class="listitem"><p>Hold down the <span class="smaller">CTRL</span> key and click in the blue sky to remove the sky from the selection, leaving just the background grasses, the house, and the hill. Use <span class="strong"><strong>Quick Mask</strong></span> to remove the house and hill from the selection, leaving some of the grasses. Click the <span class="strong"><strong>Quick Mask</strong></span> button once more to convert the mask to a selection. Save the selection to a channel named <span class="emphasis"><em>Grasses Selection</em></span> (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Save to Channel</strong></span>).</p><div class="informalfigure"><a id="med_id00163a"/><div class="mediaobject"><a id="med_id00163"/><img src="httpatomoreillycomsourcenostarchimages1222906.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The grasses between the foreground outhouse and the background roof are selected in this step. This allows you to blur the middle (grasses) and background (roof) subjects to different degrees, exaggerating the depth of field.</em></span></p></div></div></div></li><li class="listitem"><p><a id="iddle1245" class="indexterm"/><a id="iddle1319" class="indexterm"/><a id="iddle1457" class="indexterm"/>Select the <span class="strong"><strong>Background</strong></span> layer to make it active again. Feather the selection by <span class="strong"><strong>10 pixels</strong></span> (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Feather)</strong></span>, and then copy and paste the selection as a new layer. Name this layer <span class="emphasis"><em>Grasses</em></span> and move it below the Outhouse layer in the Layers dialog. The layer order should be, top to bottom: Outhouse, Grasses, Background.</p></li><li class="listitem"><p>This process has created a secondary focal point that is not in the foreground but not completely in the background.</p></li></ol></div></div><div class="sect2" title="Adding Depth of Field"><div class="titlepage"><div><div><h2 class="title"><a id="adding_depth_of_field"/>Adding Depth of Field</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Now let’s increase the depth of field. Select the <span class="strong"><strong>Background</strong></span> layer.</p></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>). Apply a blur of <span class="strong"><strong>20 pixels</strong></span> to the <span class="strong"><strong>Background</strong></span> layer. Then select the <span class="strong"><strong>Grasses</strong></span> layer and apply a blur of <span class="strong"><strong>5 to 10 pixels</strong></span>.</p></li><li class="listitem"><p>Adjust the levels (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Levels</strong></span>) for the <span class="strong"><strong>Grasses</strong></span> and <span class="strong"><strong>Background</strong></span> layers to darken them slightly and add to the photo’s sense of depth.</p><div class="informalfigure"><a id="med_id00164a"/><div class="mediaobject"><a id="med_id00164"/><img src="httpatomoreillycomsourcenostarchimages1222908.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The grasses behind the outhouse are blurred slightly, and the roof behind those grasses is blurred even more.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00009"/>Further Exploration</h2></div></div></div><p>This process works well on this image because making the initial selection was easy: the sky contrasts dramatically with the outhouse and grasses. This process is often applied to outdoor portraits, and those projects work just like this one, though selecting the foreground object (the bride in a wedding photo, for example) is more difficult. Again, the Quick Mask will be a big help. You can also try the Foreground Select tool, which is designed to make selecting irregularly shaped objects even easier.</p></div></div><div class="sect1" title="2.6 Reflections on Glass"><div class="titlepage"><div><div><h1 class="title"><a id="twodot6_reflections_on_glass"/>2.6 Reflections on Glass</h1></div></div></div><p><a id="iddle1358" class="indexterm"/><a id="iddle1360" class="indexterm"/><a id="iddle1615" class="indexterm"/><a id="iddle1829" class="indexterm"/><a id="iddle1831" class="indexterm"/>Simulating the reflection of an object on a glassy surface is actually pretty simple. In this example I’ll use a yellow rose. The vertical orientation of the rose—stem to flower—will make the reflection easier to see.</p><div class="informalfigure"><a id="med_id00165a"/><div class="mediaobject"><a id="med_id00165"/><img src="httpatomoreillycomsourcenostarchimages1222910.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>GIMP makes this rosy reflection easy.</em></span></p></div></div></div><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00010"/>Getting Started</h2></div></div></div><p>In the original image, a yellow rose is set against a garden background. This image offers high contrast around the edges. When you create reflections using images like this, it’s best to remove the darker edges and leave the lighter color of the object. This allows you to place the selection on just about any background.</p><div class="note" title="Note"><h3 class="title"><a id="ch02note05"/>Note</h3><p><span class="emphasis"><em>The image used in this tutorial is available at PDPhoto.org.</em></span></p></div><div class="informalfigure"><a id="med_id00166a"/><div class="mediaobject"><a id="med_id00166"/><img src="httpatomoreillycomsourcenostarchimages1222912.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Using the Fuzzy Select tool and the Quick Mask is the fastest way to accurately select the rose.</em></span></p></div></div></div></div><div class="sect2" title="Preparing the Image"><div class="titlepage"><div><div><h2 class="title"><a id="preparing_the_image"/>Preparing the Image</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Using the <span class="strong"><strong>Fuzzy Select</strong></span> tool and the <span class="strong"><strong>Quick Mask</strong></span> in combination, make a selection around the rose.</p></li><li class="listitem"><p>Feather the selection (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Feather</strong></span>) by <span class="strong"><strong>3 pixels</strong></span>. Copy the selection, paste it to its own layer, and name the layer <span class="emphasis"><em>Rose</em></span>. Delete the original layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Delete Layer</strong></span>).</p></li><li class="listitem"><p>Add a new layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>New Layer</strong></span>) with a black background and call it <span class="emphasis"><em>Black Background</em></span>. Move it below the Rose layer.</p></li><li class="listitem"><p>The rose doesn’t leave enough space on the canvas for a full reflection, so it needs to be scaled down. Select the <span class="strong"><strong>Rose</strong></span> layer to make it active. Choose the <span class="strong"><strong>Scale</strong></span> tool from the toolbox, select the <span class="strong"><strong>Keep Aspect</strong></span> option in the Tool Options dialog, and then click the canvas. Drag in the canvas to scale the rose to about half its original size.</p></li><li class="listitem"><p><a id="iddle1356" class="indexterm"/><a id="iddle1357" class="indexterm"/><a id="iddle1458" class="indexterm"/><a id="iddle1668" class="indexterm"/><a id="iddle1827" class="indexterm"/><a id="iddle1828" class="indexterm"/><a id="iddle1992" class="indexterm"/>Using the <span class="strong"><strong>Move</strong></span> tool, position the Rose layer in the upper half of the window.</p><div class="informalfigure"><a id="med_id00167a"/><div class="mediaobject"><a id="med_id00167"/><img src="httpatomoreillycomsourcenostarchimages1222914.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The rose is selected and copied to its own layer. The Black Background layer replaces the original image layer.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00168a"/><div class="mediaobject"><a id="med_id00168"/><img src="httpatomoreillycomsourcenostarchimages1222916.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Scale down the rose to about half the size of the canvas to make room for its reflection.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Creating the Reflection"><div class="titlepage"><div><div><h2 class="title"><a id="creating_the_reflection"/>Creating the Reflection</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Duplicate the Rose layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Duplicate Layer</strong></span>) and name the duplicate layer <span class="emphasis"><em>Rose Reflection</em></span>.</p></li><li class="listitem"><p>Enlarge the layer boundary (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Layer Boundary Size</strong></span>) by <span class="strong"><strong>20 percent</strong></span>—choose <span class="strong"><strong>Percent</strong></span> from the drop-down menu next to the Current Height field—and click the <span class="strong"><strong>Center</strong></span> button in the Layer Boundary Size dialog.</p></li><li class="listitem"><p>Make sure the <span class="strong"><strong>Lock Alpha Channel</strong></span> box is unchecked for the Rose Reflection layer (the Lock Alpha Channel box is just below the Opacity slider in the Layers dialog).</p></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>) and blur the Rose Reflection layer by <span class="strong"><strong>8 to 10 pixels</strong></span>.</p><div class="informalfigure"><a id="med_id00169a"/><div class="mediaobject"><a id="med_id00169"/><img src="httpatomoreillycomsourcenostarchimages1222918.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Increasing the layer boundary size of the Rose Reflection layer gives us some extra room for blurring. If we didn’t resize, the blur might bump up against the edge of the original rose.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding a Surface for the Reflection"><div class="titlepage"><div><div><h2 class="title"><a id="adding_a_surface_for_the_reflection"/>Adding a Surface for the Reflection</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Next let’s add a visible surface. Add a new transparent layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>New Layer</strong></span>) and name it <span class="emphasis"><em>Surface Gradient</em></span>.</p></li><li class="listitem"><p>Press <span class="strong"><strong>D</strong></span> and then <span class="strong"><strong>X</strong></span> in the toolbox to set the background to black.</p></li><li class="listitem"><p><a id="iddle1355" class="indexterm"/><a id="iddle1359" class="indexterm"/><a id="iddle1389" class="indexterm"/><a id="iddle1826" class="indexterm"/><a id="iddle1830" class="indexterm"/><a id="iddle1849" class="indexterm"/><a id="iddle1914" class="indexterm"/><a id="iddle1991" class="indexterm"/>Double-click the foreground color box to open the Change Foreground Color dialog. For the cyan color shown here, type <span class="emphasis"><em>cyan</em></span> in the HTML notation field and click <span class="strong"><strong>OK</strong></span>. This color has aesthetic value, as well as contrasting with the color of the rose. Using a high-contrast color for the surface will emphasize the reflection even more.</p></li><li class="listitem"><p>To create the gradient effect shown, select the <span class="strong"><strong>Blend</strong></span> tool from the toolbox. In the Tool Options dialog, set the Gradient to <span class="strong"><strong>FG to Transparent</strong></span> and select the <span class="strong"><strong>Reverse</strong></span> option. Then drag from the middle of the flower to three-fourths of the way down in the image window to apply the cyan gradient to the Surface Gradient layer. Move the Surface Gradient layer beneath the Rose layer, just above the Black Background layer.</p><div class="informalfigure"><a id="med_id00170a"/><div class="mediaobject"><a id="med_id00170"/><img src="httpatomoreillycomsourcenostarchimages1222920.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The rose will be reflected on the surface created by the cyan gradient.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Placing the Reflection on the Surface"><div class="titlepage"><div><div><h2 class="title"><a id="placing_the_reflection_on_the_surface"/>Placing the Reflection on the Surface</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Click the <span class="strong"><strong>Rose Reflection</strong></span> layer in the Layers dialog to make it active.</p></li><li class="listitem"><p>Select the <span class="strong"><strong>Flip</strong></span> tool from the toolbox. In the Tool Options dialog select <span class="strong"><strong>Vertical</strong></span> for the Flip Type, and then click the canvas to flip this layer.</p></li><li class="listitem"><p>Use the <span class="strong"><strong>Move</strong></span> tool to position the reflection beneath the rose on the canvas. Press the <span class="smaller">CTRL</span> key during the move to move straight down (or at any 45 degree angle).</p></li><li class="listitem"><p>Reduce the Opacity of the Rose Reflection layer to <span class="strong"><strong>50 percent</strong></span> and lower this layer between the Rose layer and the Surface Gradient layer.</p><div class="informalfigure"><a id="med_id00171a"/><div class="mediaobject"><a id="med_id00171"/><img src="httpatomoreillycomsourcenostarchimages1222922.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The reflection effect is nearly complete, but a real reflection would include a shadow cast by the reflected object.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding a Shadow"><div class="titlepage"><div><div><h2 class="title"><a id="adding_a_shadow"/>Adding a Shadow</h2></div></div></div><p>Because the rose would block any light shining directly overhead, you must add a shadow to the surface. And because light would shine in multiple directions above the rose, more than one shadow would be cast. Next you’ll create these shadows.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Add a transparent layer named <span class="emphasis"><em>Shadow 1</em></span>.</p></li><li class="listitem"><p>Choose the <span class="strong"><strong>Ellipse Select</strong></span> tool from the toolbox and create an oval selection just below the rose.</p><div class="informalfigure"><a id="med_id00172a"/><div class="mediaobject"><a id="med_id00172"/><img src="httpatomoreillycomsourcenostarchimages1222924.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1459" class="indexterm"/><span class="emphasis"><em>Blurring and reducing the opacity of a simple black oval creates an initial shadow.</em></span></p></div></div></div></li><li class="listitem"><p>Feather the selection by <span class="strong"><strong>10 pixels</strong></span> (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Feather</strong></span>) and fill it with black. Deselect the oval (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>None</strong></span>).</p></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>) and apply a blur of <span class="strong"><strong>45 pixels</strong></span> to the Shadow 1 layer, and then set the layer’s Opacity to <span class="strong"><strong>65 percent</strong></span>. Move this layer to just above the Rose Reflection layer.</p></li><li class="listitem"><p>Duplicate the Rose layer, name the duplicate layer <span class="emphasis"><em>Shadow 2</em></span>, and increase the layer boundary size by <span class="strong"><strong>10 percent</strong></span> (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Layer Boundary Size</strong></span>).</p></li><li class="listitem"><p>Create a selection of the rose (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Transparency</strong></span>▸<span class="strong"><strong>Alpha to Selection</strong></span>), and then grow the selection by <span class="strong"><strong>2 pixels</strong></span> (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Grow</strong></span>).</p></li><li class="listitem"><p>Press <span class="strong"><strong>D</strong></span> in the canvas to reset the foreground color to black. Then fill the selection with black by dragging the foreground color box from the toolbox into the selection. Deselect all (<span class="smaller">CTRL</span>-<span class="smaller">SHIFT</span>-A).</p></li><li class="listitem"><p>Open the <span class="strong"><strong>Gaussian Blur</strong></span> filter and apply a blur of <span class="strong"><strong>45 pixels</strong></span> to the Shadow 2 layer.</p></li><li class="listitem"><p>Use the <span class="strong"><strong>Flip</strong></span> tool to flip the layer vertically, and then use the <span class="strong"><strong>Scale</strong></span> tool to reduce the height of the layer by half.</p></li><li class="listitem"><p>Move the Shadow 2 layer beneath the Rose layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Stack</strong></span>▸<span class="strong"><strong>Lower Layer</strong></span>), and then position it using the <span class="strong"><strong>Move</strong></span> tool so the shadow appears below the yellow rose.</p></li><li class="listitem"><p>Reduce the Opacity of the Shadow 2 layer to <span class="strong"><strong>35 percent</strong></span>.</p><div class="informalfigure"><a id="med_id00173a"/><div class="mediaobject"><a id="med_id00173"/><img src="httpatomoreillycomsourcenostarchimages1222926.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The shaped shadow merges with the oval shadow, making the area directly beneath the rose darkest but also allowing the shadow to mimic the shape of the rose.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00011"/>Further Exploration</h2></div></div></div><p>This technique for creating reflections on glassy surfaces can be extended to surfaces that aren’t quite as flat or reflective. You can also add texture to the surface to distort the reflected shape or change the direction, color, and lighting to make the reflection less distinct. In the next tutorial I’ll show you how to add waves to the surface of a reflection to create a lake effect.</p></div></div><div class="sect1" title="2.7 Lake Reflection"><div class="titlepage"><div><div><h1 class="title"><a id="twodot7_lake_reflection"/>2.7 Lake Reflection</h1></div></div></div><p><a id="iddle1330" class="indexterm"/><a id="iddle1835" class="indexterm"/>The previous tutorial showed you how to create reflections on glass, but much more can be done by expanding on the technique. That section’s tutorial made only slight modifications to the object being reflected (a rose). But what about adding texture to the reflective surface? How can we create a reflection on a surface—like water—that isn’t perfectly flat?</p><p>An easy way to add surface texture is to grab it from another image. A photo that shows the surface of a lake or ocean will work well for this tutorial. Once the sampled image is desaturated and blended with the reflection, it turns a glassy surface into a realistic reflection.</p><div class="informalfigure"><a id="med_id00174a"/><div class="mediaobject"><a id="med_id00174"/><img src="httpatomoreillycomsourcenostarchimages1222928.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The lake looks real, but it has been added digitally using GIMP.</em></span></p></div></div></div><p>This tutorial turns a lawn into an undulating lake. In the real world, creating exactly the image you want usually requires the application of more than one effect, so let’s start by enhancing the colors in the original photo.</p><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00012"/>Getting Started</h2></div></div></div><p>The image we’ll use in this tutorial is perfect for this kind of project. The building makes a dramatic focal point, and the grassy area in front is large enough to provide space for the lake. However, the color of the bricks could be more intense, so you’ll increase the color saturation before reflecting the image of the building. If the image you choose needs similar tweaks, it’s best to handle them now.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>First, auto-adjust the Levels histogram. Open the Levels dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Levels</strong></span>) and click the <span class="strong"><strong>Auto</strong></span> button, and then click <span class="strong"><strong>OK</strong></span> to close the dialog.</p></li><li class="listitem"><p>Next, open the Hue-Saturation dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Hue-Saturation</strong></span>). Click the <span class="strong"><strong>R</strong></span> button just below the red box at the top of the dialog so we only adjust the red colors in the image. Then increase the Saturation to <span class="strong"><strong>75</strong></span> to bring out the details in the building.</p></li><li class="listitem"><p>Finally, open the Brightness-Contrast dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Brightness-Contrast</strong></span>) and set the Brightness to <span class="strong"><strong>30</strong></span> and the Contrast to <span class="strong"><strong>25</strong></span>.</p><div class="informalfigure"><a id="med_id00175a"/><div class="mediaobject"><a id="med_id00175"/><img src="httpatomoreillycomsourcenostarchimages1222930.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1327" class="indexterm"/><a id="iddle1329" class="indexterm"/><a id="iddle1832" class="indexterm"/><a id="iddle1834" class="indexterm"/><a id="iddle1856" class="indexterm"/><span class="emphasis"><em>Adjust the saturation and brightness of the image to make the building’s colors more vivid.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Creating the Initial Reflection"><div class="titlepage"><div><div><h2 class="title"><a id="creating_the_initial_reflection"/>Creating the Initial Reflection</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Make a square selection around the subject—in this case, the building. Also, include some of the grassy area in front of the building. The selection covers from the top of the image to just below where the grass lawn meets the building. Copy the selection and paste it into a new layer. Click the layer name and change it to <span class="emphasis"><em>Reflection</em></span>.</p></li><li class="listitem"><p>Select the <span class="strong"><strong>Flip</strong></span> tool from the toolbox. In the Tool Options dialog set the Flip Type to <span class="strong"><strong>Vertical</strong></span> and click the canvas to flip the layer.</p></li><li class="listitem"><p>Use the <span class="strong"><strong>Move</strong></span> tool to drag the Reflection layer down on the canvas. If the Reflection layer does not span the width of the canvas, select the <span class="strong"><strong>Scale</strong></span> tool and then click the canvas to scale the layer manually.</p><div class="informalfigure"><a id="med_id00176a"/><div class="mediaobject"><a id="med_id00176"/><img src="httpatomoreillycomsourcenostarchimages1222932.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>A simple rectangular selection includes the building and some of the grassy area. This selection is copied and pasted to a new layer, and then the layer is flipped vertically. Finally, the new layer is dragged down on the canvas until positioned as shown here.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding Ripples"><div class="titlepage"><div><div><h2 class="title"><a id="adding_ripples"/>Adding Ripples</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>To look realistic, the reflected image should be more blurred and less saturated than the original. Open the Hue-Saturation dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Hue-Saturation</strong></span>) and click the <span class="strong"><strong>Master</strong></span> button. Reduce the Saturation level to <span class="strong"><strong>–45</strong></span> for this image (your project may require different settings).</p></li><li class="listitem"><p><a id="iddle1112" class="indexterm"/><a id="iddle1129" class="indexterm"/><a id="iddle1328" class="indexterm"/><a id="iddle1460" class="indexterm"/><a id="iddle1833" class="indexterm"/><a id="iddle2117" class="indexterm"/>Open the Ripple filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Distorts</strong></span>▸<span class="strong"><strong>Ripple</strong></span>). Set the Orientation to <span class="strong"><strong>Vertical</strong></span>, the Edges to <span class="strong"><strong>Smear</strong></span>, the Period to <span class="strong"><strong>60</strong></span>, and the Amplitude to <span class="strong"><strong>2</strong></span>, and then apply this filter to the Reflection layer. Repeat this process with the Ripple filter once more, this time setting the Orientation to <span class="strong"><strong>Horizontal</strong></span>, the Period to <span class="strong"><strong>7</strong></span>, and the Amplitude to <span class="strong"><strong>5</strong></span>. Applying the Ripple filter twice applies ripples to ripples, just as waves in water cause interference patterns.</p><div class="informalfigure"><a id="med_id00177a"/><div class="mediaobject"><a id="med_id00177"/><img src="httpatomoreillycomsourcenostarchimages1222934.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The Ripple filter lends an undulating effect to the reflection, though we’ll improve upon this shortly.</em></span></p></div></div></div></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>). Set both the Horizontal and Vertical Blur Radius to <span class="strong"><strong>10 pixels</strong></span> and apply the blur to the Reflection layer.</p></li><li class="listitem"><p>Duplicate the layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Duplicate Layer</strong></span>). Name the layer <span class="emphasis"><em>Color.</em></span></p></li><li class="listitem"><p>Click the foreground color box to open the Change Foreground Color dialog. For the dark blue shown here, set the RGB values to <span class="strong"><strong>5/24/83</strong></span> and click <span class="strong"><strong>OK</strong></span>. Then drag the foreground color into the layer. Finally, move the layer below the original Reflection layer and reduce the Opacity of the Reflection layer to <span class="strong"><strong>80 percent</strong></span>.</p><div class="informalfigure"><a id="med_id00178a"/><div class="mediaobject"><a id="med_id00178"/><img src="httpatomoreillycomsourcenostarchimages1222936.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Adding a blue layer beneath the Reflection layer makes the reflection look more like a lake.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding Waves"><div class="titlepage"><div><div><h2 class="title"><a id="adding_waves"/>Adding Waves</h2></div></div></div><p>The Ripple filter makes the lake’s surface somewhat more realistic, but adding waves would improve the texture even more. To add waves, you can grab a selection from another photo.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Make a selection in a photo of real water waves, and then copy and paste it into a new layer named <span class="emphasis"><em>Water</em></span> in the original project images. Use the <span class="strong"><strong>Scale</strong></span> tool to scale the layer as necessary.</p></li><li class="listitem"><p>Desaturate the Water layer (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Desaturate</strong></span>).</p></li><li class="listitem"><p>Open the Brightness-Contrast dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Brightness-Contrast</strong></span>) and set both sliders to <span class="strong"><strong>70</strong></span>. This will enhance the waves for use as a bump map. Turn off the visibility of the Water layer in the Layers dialog.</p></li><li class="listitem"><p>Click on the Reflection layer in the Layers dialog to make it active.</p></li><li class="listitem"><p>Open the Bump Map filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Map</strong></span>▸<span class="strong"><strong>Bump Map</strong></span>). Set <span class="strong"><strong>Bump Map</strong></span> to the Water layer, the Azimuth to <span class="strong"><strong>145</strong></span>, the Elevation to <span class="strong"><strong>20</strong></span>, and the Depth to <span class="strong"><strong>3</strong></span>. Click <span class="strong"><strong>OK</strong></span> to apply this to the Reflection layer.</p><div class="informalfigure"><a id="med_id00179a"/><div class="mediaobject"><a id="med_id00179"/><img src="httpatomoreillycomsourcenostarchimages1222938.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Waves are copied and pasted into the project image to make the lake look even more realistic.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00180a"/><div class="mediaobject"><a id="med_id00180"/><img src="httpatomoreillycomsourcenostarchimages1222940.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Bump map uses the source image (the Water layer) to distort the active layer (the Reflection layer). Adjusting the source image brightness and saturation and the various Bump Map settings can dramatically affect the final result.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00013"/>Further Exploration</h2></div></div></div><p>This particular image lends itself well to further enhancement. The high contrast between the building and the sky allows you to make changes to the weather, perhaps even changing a sunny day into a starlit evening. Try converting this image to a nighttime scene. The Fuzzy Select tool can be used to capture most of the sky, and what is missed can be picked up easily using the Quick Mask. But be warned: the lake reflection will need to be changed too!</p></div></div><div class="sect1" title="2.8 Photo Restoration"><div class="titlepage"><div><div><h1 class="title"><a id="twodot8_photo_restoration"/>2.8 Photo Restoration</h1></div></div></div><p><a id="iddle1042" class="indexterm"/><a id="iddle1339" class="indexterm"/><a id="iddle1342" class="indexterm"/><a id="iddle1398" class="indexterm"/><a id="iddle1583" class="indexterm"/><a id="iddle1842" class="indexterm"/><a id="iddle1845" class="indexterm"/><a id="iddle1879" class="indexterm"/>Photo restoration and retouching—the art of preserving and enhancing old photographs folded from misuse or cracked and faded with age—is a form of digital image manipulation that is often overlooked. As you’ll see in this tutorial, GIMP’s tools enable you to achieve high-quality photo restoration.</p><p>A number of tricks can be used to restore damaged photos, but the most common technique involves cloning similar areas to use in replacing damaged areas. GIMP’s Clone tool allows you to use brushstrokes of any shape on copied and pasted areas. However, this method is only appropriate for minor cleanup work such as removing specks of dust or hiding thin, short scratches. Cloning is also destructive because it occurs in the layer where the damage exists. If the patches are not to your liking, you may not be able to reverse them easily.</p><p>A better strategy for correcting larger blemishes is to make a selection, copy and paste the selection as a patch layer, and then blend this into the original layer using the Airbrush tool in a layer mask. This approach has the advantage of allowing additional changes to be made later, by either modifying the layer mask or replacing the patch layer completely. Of course, no matter which approach you take, you’ll want to preserve your original damaged art for experimentation. In this tutorial, we’ll look at the copy-and-paste method of fixing heavily damaged images. We’ll also discuss when to use large selections to patch large areas and when to divide a blemish into pieces and patch them individually.</p><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00014"/>Getting Started</h2></div></div></div><p>This image was scanned from a 60-year-old photo that had been creased several times, with one crease actually leaving a slight tear along the subject’s midsection. There are several problems to fix here: correct the black-and-white points in the faded image, remove the creases, and clean up the background.</p><div class="informalfigure"><a id="med_id00181a"/><div class="mediaobject"><a id="med_id00181"/><img src="httpatomoreillycomsourcenostarchimages1222942.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>What was once old is new again.</em></span></p></div></div></div><p>Your candidate for restoration is likely to have many of the same problems, but they may occur in different areas of the image, presenting different challenges. Scanning the original image at a high resolution, such as 250 dpi, will allow you to create a high-quality print once your image has been restored.</p></div><div class="sect2" title="Enhancing the Scanned Image"><div class="titlepage"><div><div><h2 class="title"><a id="enhancing_the_scanned_image"/>Enhancing the Scanned Image</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Let’s start with some basic image enhancement. To correct the black-and-white points, click the <span class="strong"><strong>Auto</strong></span> button in the Levels dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Levels</strong></span>). This automatically moves the left slider (black) to the first entry on that end of the histogram and moves the right slider (white) to the first entry on that end. This increases the image’s contrast so the darkest pixels become black and the lightest pixels become white, making the image clearer overall.</p></li><li class="listitem"><p><a id="iddle1343" class="indexterm"/><a id="iddle1445" class="indexterm"/><a id="iddle1758" class="indexterm"/><a id="iddle1846" class="indexterm"/><a id="iddle2106" class="indexterm"/>The image has also taken on a brown tint as it’s aged. Fix this by desaturating the image (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Desaturate</strong></span>).</p></li><li class="listitem"><p>As is the case with most scanned images, some sharpening is required (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Enhance</strong></span>▸<span class="strong"><strong>Sharpen</strong></span>). The Unsharp Mask filter (Filters▸Enhance▸Unsharp Mask) could also be used, but isn’t best for this image because there are very few straight lines.</p><div class="informalfigure"><a id="med_id00182a"/><div class="mediaobject"><a id="med_id00182"/><img src="httpatomoreillycomsourcenostarchimages1222944.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Sharpen the scan and adjust the levels before you start to patch the blemishes. If you make these changes after the patches are in place, the edges of your patches may be visible.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Correcting with a Single Patch"><div class="titlepage"><div><div><h2 class="title"><a id="correcting_with_a_single_patch"/>Correcting with a Single Patch</h2></div></div></div><p>The big scratch across the woman’s sweater is an example of the kind of damage you can fix with a simple copy-and-paste correction that consists of a single patch. There is enough undamaged sweater in the photo to allow us to use this technique.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Choose the <span class="strong"><strong>Free Select</strong></span> tool and draw an outline around part of the scratch that traverses the woman’s midsection, and then press <span class="smaller">ENTER</span> to convert this to a selection. This will give you the size of the area that must be patched. Choose the <span class="strong"><strong>Move</strong></span> tool from the Toolbox. In the Tool Options dialog, click on the <span class="strong"><strong>Selection</strong></span> option for the Move setting.</p></li><li class="listitem"><p>Click inside the selection and drag the mouse to move the selection to an unblemished area near the scratch.</p></li><li class="listitem"><p>Feather the selection by <span class="strong"><strong>10 pixels</strong></span> (<span class="strong"><strong>Selection</strong></span>▸<span class="strong"><strong>Feather</strong></span>).</p></li><li class="listitem"><p>Copy the selection and paste it in a new layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>To New Layer</strong></span>), and then position the new layer over the scratch. In this case, the sweater’s pleats help us align the patch, but your images will probably provide similar guides. (To show where the patch has been applied, the original image is tinted red.)</p><div class="informalfigure"><a id="med_id00183a"/><div class="mediaobject"><a id="med_id00183"/><img src="httpatomoreillycomsourcenostarchimages1222946.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The Free Select tool is used first, and then the selection is moved to a nearby unblemished area to create a patch.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00184a"/><div class="mediaobject"><a id="med_id00184"/><img src="httpatomoreillycomsourcenostarchimages1222948.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1237" class="indexterm"/><a id="iddle1341" class="indexterm"/><a id="iddle1610" class="indexterm"/><a id="iddle1757" class="indexterm"/><a id="iddle1844" class="indexterm"/><span class="emphasis"><em>This patch covers the blemish quite well because it was taken from a nearby part of the image. The farther away you go from the blemish, the less likely the patch will fit as cleanly.</em></span></p></div></div></div></li><li class="listitem"><p>In this example, the pleats don’t align perfectly, but this can be fixed by using the Scale tool or the IWarp filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Distorts</strong></span>▸<span class="strong"><strong>IWarp</strong></span>) to make minor adjustments. If the patch doesn’t align along its edges with the original layer, add a layer mask (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Add Layer Mask</strong></span>) and use the <span class="strong"><strong>Airbrush</strong></span> tool to spray black in the mask along the edges of the patch.</p></li><li class="listitem"><p>If the patch’s tonal qualities don’t match those of the damaged area, you can use the Curves tool (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Curves</strong></span>). Make sure the patch layer (not its mask) is active by clicking the layer preview in the Layers dialog. To see if the patch lines up well with the original image, turn the layer visibility for the patch on and off quickly (using the eye icon in the Layers dialog). As you do this, it should appear that the pleats (or other guides) are in place and only the scratch is removed.</p><div class="informalfigure"><a id="med_id00185a"/><div class="mediaobject"><a id="med_id00185"/><img src="httpatomoreillycomsourcenostarchimages1222950.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Flash the patch layer’s visibility on and off to see how well the patch fits.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Correcting with Multiple Patches"><div class="titlepage"><div><div><h2 class="title"><a id="correcting_with_multiple_patches"/>Correcting with Multiple Patches</h2></div></div></div><p>The scratches across both of the woman’s sleeves pose a more difficult problem. There’s no single unblemished area large enough to cover these scratches, so they require several smaller patches. Use multiple small patches to fix the scratch on the left sleeve, creating each small patch just as the previous large patch was created.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Use the <span class="strong"><strong>Free Select</strong></span> tool from the Toolbox to select part of the scratch, move the selection over a nearby unblemished region, copy and paste the selection as a new layer (<span class="smaller">CTRL</span>-C, <span class="smaller">CTRL</span>-V, <span class="smaller">CTRL</span>-<span class="smaller">SHIFT</span>-N), and move that layer over the scratch. If necessary, use a layer mask (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Mask</strong></span>▸<span class="strong"><strong>Add Layer Mask</strong></span>) on the patch to blend it with the surrounding areas.</p></li><li class="listitem"><p>In this photo, the dark area between the woman’s sleeve and midsection has a very complex pattern. The patch requires use of the Curves tool (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Curves</strong></span>) because the patch was taken from a region with different tonal qualities. A <a id="iddle1340" class="indexterm"/><a id="iddle1408" class="indexterm"/><a id="iddle1691" class="indexterm"/><a id="iddle1843" class="indexterm"/><a id="iddle2036" class="indexterm"/>simple blend with a layer mask isn’t sufficient to meld the patch over the scratch. The Curves adjustment modifies the tonal qualities so the patch blends seamlessly when combined with the mask.</p></li><li class="listitem"><p>After all the sleeve patches are created and blended, merge them (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Merge Down</strong></span>) one at a time into a single patch.</p><div class="informalfigure"><a id="med_id00186a"/><div class="mediaobject"><a id="med_id00186"/><img src="httpatomoreillycomsourcenostarchimages1222952.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>For small disconnected blemishes like this one, especially in high-contrast areas, use a series of small patches.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Correcting Facial Blemishes"><div class="titlepage"><div><div><h2 class="title"><a id="correcting_facial_blemishes"/>Correcting Facial Blemishes</h2></div></div></div><p>Scratches on a subject’s face are more difficult to fix than those on clothing. It’s easier to spot differences between the patch and the surrounding face than it is to spot those between the sweater and its patches. Even so, facial scratches are best handled by using the Free Select tool, as we’ve done so far. The main difference is that you must make even smaller selections, bounded by high-contrast lines. Areas between the face and the hairline or between the bridge of the nose and the shadowed sides of the nose work especially well. The woman’s eye poses a particular challenge because that part of the image is so complex.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Make a selection of the eye, and copy and paste it to a new layer as a patch (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>To New Layer</strong></span>).</p></li><li class="listitem"><p>Use the <span class="strong"><strong>Clone</strong></span> tool to manually paint out the scratch. In this case it’s safe to use the Clone tool because we’re working on a copy of the original, blemished subject.</p></li><li class="listitem"><p>To use the Clone tool, first specify a clone source location by holding down the <span class="smaller">CTRL</span> key and clicking the image. The click point indicates the region that will be copied from, so make sure it’s a reasonable match to the region you’re patching. Then, once the clone source is established, choose the clone destination. Click and drag the mouse over the scratch. The source is copied over the destination as you drag.</p><div class="informalfigure"><a id="med_id00187a"/><div class="mediaobject"><a id="med_id00187"/><img src="httpatomoreillycomsourcenostarchimages1222954.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>It’s more difficult to fix blemishes on faces than on clothing. The process is the same, but make careful Curves adjustments and blend your patches using layer masks.</em></span></p></div></div></div></li></ol></div><p>When you use the Clone tool, the length and direction of the line between the clone source and the initial clone destination (where you first click when you start to clone the image) always remains uniform. When you drag a line over the scratch, that same line is cloned, positioned to start at the clone source <a id="iddle1078" class="indexterm"/><a id="iddle1189" class="indexterm"/><a id="iddle1338" class="indexterm"/><a id="iddle1781" class="indexterm"/><a id="iddle1811" class="indexterm"/><a id="iddle1841" class="indexterm"/>location. This means that if you drag far enough from the initial clone destination, you can cause the clone source to fall over another blemish. The trick is to keep your brush strokes small and reset your clone source point frequently.</p><div class="informalfigure"><a id="med_id00188a"/><div class="mediaobject"><a id="med_id00188"/><img src="httpatomoreillycomsourcenostarchimages1222956.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>This scratch is fixed using several cloning operations, so more than one clone source is used. In fact, each clone source is used for a very small part of the scratch. This allows the cloned areas to blend seamlessly into the rest of the image.</em></span></p></div></div></div><p>It’s also possible to clone from another layer. In the Tool Options dialog, check the Sample Merged option. With this option you can clone from any layer that is being used to display the composite image.</p></div><div class="sect2" title="Cleaning Up the Background"><div class="titlepage"><div><div><h2 class="title"><a id="cleaning_up_the_background"/>Cleaning Up the Background</h2></div></div></div><p>Cleaning up the background is a no-brainer.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Make a selection using the <span class="strong"><strong>Quick Mask</strong></span> and an appropriate brush. Paint inside locks of hair where the background shows through. The painted areas (which are no longer tinted red) will become the selected area when you click the <span class="strong"><strong>Quick Mask to Selection</strong></span> button in the lower-left corner of the canvas window.</p></li><li class="listitem"><p>Feather the selection by <span class="strong"><strong>15 pixels</strong></span> or more (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Feather</strong></span>). In previous tutorials the feather values were only 1 or 2 pixels, but higher feather values should be used when your image resolution is higher, as it is when restoring a photograph.</p></li><li class="listitem"><p>Use the <span class="strong"><strong>Color Picker</strong></span> tool to select a color from the existing background inside the selection. Drag the foreground color into the selection to fill it with this color. This takes care of all problems in the background.</p><div class="informalfigure"><a id="med_id00189a"/><div class="mediaobject"><a id="med_id00189"/><img src="httpatomoreillycomsourcenostarchimages1222958.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The background is selected using the Quick Mask instead of the Fuzzy Select tool because there’s too much variation in the background, which has faded so much that parts of it match the hair’s outside edges.</em></span></p></div></div></div></li></ol></div><p>All the other large blemishes can be fixed with the same processes used for the sweater and face. In this case, the final results are dramatic. When the original image is scanned at a high resolution, an image restored using GIMP’s tools should produce a high-quality print. The results won’t always be so dramatic, but with practice some people are able to make a living doing this kind of work.</p><div class="informalfigure"><a id="med_id00190a"/><div class="mediaobject"><a id="med_id00190"/><img src="httpatomoreillycomsourcenostarchimages1222960.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>A single pixel is chosen from the background and used to fill the selection.</em></span></p></div></div></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00015"/>Further Exploration</h2></div></div></div><p>Professional image restoration depends upon proper use of selections and layer masks, but it also relies heavily upon other tools in GIMP’s arsenal, including the IWarp filter, Feather command, Curves tool, and Clone tool. As a process, image restoration doesn’t lend itself to automation, so designers who understand how to make the most of these techniques will always be in high demand.</p><p>Restoring old photographs is a time-consuming but rewarding process. In the next section, we’ll discuss a technique that requires far less time but is just as rewarding.</p></div></div><div class="sect1" title="2.9 Casting Light Through a Window"><div class="titlepage"><div><div><h1 class="title"><a id="twodot9_casting_light_through_a_window"/>2.9 Casting Light Through a Window</h1></div></div></div><p><a id="iddle1298" class="indexterm"/><a id="iddle1300" class="indexterm"/><a id="iddle1646" class="indexterm"/><a id="iddle1648" class="indexterm"/><a id="iddle1913" class="indexterm"/><a id="iddle2174" class="indexterm"/><a id="iddle2176" class="indexterm"/>Adding a light source to a photograph can increase the photograph’s dramatic impact—especially when the light is shining through a paned window. But setting up a shot like the one shown here can be time consuming and usually requires a specific location. It would be easier if we could use software to add the light source to any image.</p><p>Fortunately, GIMP allows us to merge multiple shots to achieve this effect. Start with any stock photograph and use an image of a window as a stencil for the shadow. The process is so simple, you’ll probably have more trouble finding suitable stock images than you will producing the effect in GIMP.</p><div class="informalfigure"><a id="med_id00191a"/><div class="mediaobject"><a id="med_id00191"/><img src="httpatomoreillycomsourcenostarchimages1222962.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>It would be difficult to set up a shot like this one, but GIMP makes it easy to merge two stock photographs and achieve a dramatic effect.</em></span></p></div></div></div><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00016"/>Getting Started</h2></div></div></div><p>This shot was created from two stock photographs. The first photo shows a model posing against a wall. Let’s call this layer <span class="emphasis"><em>Source Image</em></span>. The second image shows light shining through an oddly shaped window. Let’s call this layer <span class="emphasis"><em>Shadow Mask</em></span>. You can certainly create a mask in whatever shape you like, but you’ll save time if you can find a suitable stock photo.</p><div class="informalfigure"><a id="med_id00192a"/><div class="mediaobject"><a id="med_id00192"/><img src="httpatomoreillycomsourcenostarchimages1222964.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Two source images are used in this project. The window provides the shadow mask for the light you’ll cast on the model.</em></span></p></div></div></div></div><div class="sect2" title="Setting Up the Shadow Mask"><div class="titlepage"><div><div><h2 class="title"><a id="setting_up_the_shadow_mask"/>Setting Up the Shadow Mask</h2></div></div></div><p>Start by opening up a source image and an image to use as the shadow mask, both from their respective stock image files. If only a portion of the shadow mask image is intended to cover the source image, make a selection around that part of the shadow mask image and paste it into the source image as a new layer. This example doesn’t require a selection, because we want to use the entire shadow mask image, so we can just copy and paste it into a new layer in the source image.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><a id="iddle1461" class="indexterm"/>Copy the shadow mask image (<span class="strong"><strong>Edit</strong></span>▸<span class="strong"><strong>Copy</strong></span>) and paste (<span class="strong"><strong>Edit</strong></span>▸<span class="strong"><strong>Paste</strong></span>) it into the source image as a new layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>To New Layer</strong></span>) as shown here.</p></li><li class="listitem"><p>Reduce the Opacity of the Shadow Mask layer to <span class="strong"><strong>65 percent</strong></span>, and then use the <span class="strong"><strong>Move</strong></span> tool to position the window over the subject. The Shadow Mask was also scaled taller and wider with the <span class="strong"><strong>Scale</strong></span> tool so only a single crosshair in the window is visible.</p><div class="informalfigure"><a id="med_id00193a"/><div class="mediaobject"><a id="med_id00193"/><img src="httpatomoreillycomsourcenostarchimages1222966.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Copy and paste the Shadow Mask into the Source Image layer.</em></span></p></div></div></div></li><li class="listitem"><p>To make the window look more like a shadow, you’ll need to desaturate and blur it. Desaturate the Shadow Mask layer (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Desaturate</strong></span>), and then open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>). The Blur Radius should be set according to the image size. In this example, the Source Image is 2794 pixels wide, so the Blur Radius is set to 90 pixels. That gives roughly a 32:1 ratio, though you may find that a smaller ratio is more appropriate for smaller images.</p><div class="informalfigure"><a id="med_id00194a"/><div class="mediaobject"><a id="med_id00194"/><img src="httpatomoreillycomsourcenostarchimages1222968.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>A blur softens the light areas of the shadow mask, making it look as though light is being cast through a paned window.</em></span></p></div></div></div></li><li class="listitem"><p>Expand the Shadow Mask layer to fit the full image (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Layer to Image Size</strong></span>). Make sure the <span class="strong"><strong>Lock Alpha Channel</strong></span> box in the Layers dialog is not set.</p></li><li class="listitem"><p>Using the <span class="strong"><strong>Fuzzy Select</strong></span> tool, click the transparent regions of the layer to the left and right of the window image. This may require multiple clicks with the <span class="smaller">SHIFT</span> key held down.</p></li><li class="listitem"><p>Grow the selection (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Grow</strong></span>) by <span class="strong"><strong>20</strong></span> to <span class="strong"><strong>50 pixels</strong></span>.</p></li><li class="listitem"><p>With the canvas selected, press <span class="strong"><strong>D</strong></span> to reset the foreground and background colors. Then drag the foreground color (black) into the selection to extend the shadow cast by the wall in which the window is set. If any lighter color lines are still visible along the edges of the selections, undo the drag (<span class="smaller">CTRL</span>-Z) and grow the selection some more, and then drag from the foreground color again.</p><div class="informalfigure"><a id="med_id00195a"/><div class="mediaobject"><a id="med_id00195"/><img src="httpatomoreillycomsourcenostarchimages1222970.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1462" class="indexterm"/><a id="iddle1602" class="indexterm"/><a id="iddle1930" class="indexterm"/><span class="emphasis"><em>After resizing the Shadow Mask layer to fit the canvas, fill the transparent areas with black. This works here because the area around the window is black. For other images, you may need to make some levels adjustments to the Shadow Mask layer first.</em></span></p></div></div></div></li><li class="listitem"><p>Deselect all (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>None</strong></span>).</p></li><li class="listitem"><p>Set the Shadow Mask layer mode to <span class="strong"><strong>Multiply</strong></span>. In this example, the result is good, but more contrast would help. Use the <span class="strong"><strong>Fuzzy Select</strong></span> tool and click in the darker areas of the Shadow Mask. Invert this selection (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Invert</strong></span>) to select just the windowpanes. Shrink (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Shrink</strong></span>) the selection a bit.</p><div class="informalfigure"><a id="med_id00196a"/><div class="mediaobject"><a id="med_id00196"/><img src="httpatomoreillycomsourcenostarchimages1222972.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Select the windowpanes of the shadow mask, shown here with the Quick Mask enabled so the selection is easier to see.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Increasing the Light"><div class="titlepage"><div><div><h2 class="title"><a id="increasing_the_light"/>Increasing the Light</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Create a new transparent layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>New Layer</strong></span>) and call it <span class="emphasis"><em>Light</em></span>.</p></li><li class="listitem"><p>Drag the background color (white) into the selection.</p></li><li class="listitem"><p>Deselect all (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>None</strong></span>).</p></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>) and set the Blur Radius to <span class="strong"><strong>90 pixels</strong></span>.</p></li><li class="listitem"><p>Setting the Light layer’s mode to <span class="strong"><strong>Overlay</strong></span> completes the effect. Adding a layer mask (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Mask</strong></span>▸<span class="strong"><strong>Add Layer Mask</strong></span>) to the Light layer and applying a black-to-white gradient using the <span class="strong"><strong>Blend</strong></span> tool softens the lower edge. It may also be necessary to apply a black-to-white gradient to the Shadow Mask layer, with the layer mode set to Multiply.</p><div class="informalfigure"><a id="med_id00197a"/><div class="mediaobject"><a id="med_id00197"/><img src="httpatomoreillycomsourcenostarchimages1222974.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1299" class="indexterm"/><a id="iddle1647" class="indexterm"/><a id="iddle2175" class="indexterm"/><span class="emphasis"><em>Fill the selection with white in a new layer.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00198a"/><div class="mediaobject"><a id="med_id00198"/><img src="httpatomoreillycomsourcenostarchimages1222976.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The additional light layer increases the contrast between the shadowed and illuminated areas on the wall and model.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00017"/>Further Exploration</h2></div></div></div><p>To take this tutorial further, you might add shadows that are cast by objects outside the window. Imagine a tree, for example. Its shadow would also be cast through the window and onto the source image. The process for adding the tree’s shadow would be similar, except that the tree would be farther away and cast a lighter, more blurred shadow.</p></div></div><div class="sect1" title="2.10 Light Streaks"><div class="titlepage"><div><div><h1 class="title"><a id="twodot10_light_streaks"/>2.10 Light Streaks</h1></div></div></div><p><a id="iddle1334" class="indexterm"/><a id="iddle1660" class="indexterm"/><a id="iddle1764" class="indexterm"/><a id="iddle1978" class="indexterm"/>Lighting alters the mood of an image. So far you’ve added lighting to a project by casting light through an unseen window. Now you’ll combine that idea with artificial effects. This project will add flowing streaks of light to a stock photo. These will dramatically change the mood with only a modest amount of work.</p><p>There isn’t a great trick to this process; getting the best results is mostly a matter of trial and error. The process starts with a little understanding of how to create and stroke paths. Paths are distinct from image layers. This allows paths to be edited without affecting the composite image and to be applied multiple times to any number of image layers.</p><div class="informalfigure"><a id="med_id00199a"/><div class="mediaobject"><a id="med_id00199"/><img src="httpatomoreillycomsourcenostarchimages1222978.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Light streaks are based on the application of multiple stroked paths to stock imagery.</em></span></p></div></div></div><div class="note" title="Note"><h3 class="title"><a id="ch02note06"/>Note</h3><p><span class="emphasis"><em>This tutorial requires some knowledge of using both the Paths tool and the Paths dialog. If you aren’t comfortable with either, check out <a class="xref" href="ch01.html#onedot5_paths" title="1.5 Paths">1.5 Paths</a> for a basic introduction.</em></span></p></div><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00018"/>Getting Started</h2></div></div></div><p>The process starts with a stock photograph that’s dark enough that a streak of light will be a noticeable change. Creating an initial streak is a straightforward process with minimal edits of a single path.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open the stock image. Add a transparent layer (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>New Layer</strong></span>) and name it <span class="emphasis"><em>Streak 1</em></span>.</p></li><li class="listitem"><p>Choose the <span class="strong"><strong>Paths</strong></span> tool from the Toolbox.</p></li><li class="listitem"><p>Click the lower left of the image to drop an anchor. Click the middle right side to drop the opposite end of the path. Click the path near each anchor and drag to bend the line and pull out handles from the anchors. Drag the handles to make a skewed S shape.</p><div class="informalfigure"><a id="med_id00200a"/><div class="mediaobject"><a id="med_id00200"/><img src="httpatomoreillycomsourcenostarchimages1222980.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>This is the initial path to stroke. Multiple paths will be created from it and modified slightly to create the initial streak.</em></span></p></div></div></div></li><li class="listitem"><p><a id="iddle1088" class="indexterm"/><a id="iddle1120" class="indexterm"/><a id="iddle1141" class="indexterm"/><a id="iddle1190" class="indexterm"/><a id="iddle1333" class="indexterm"/><a id="iddle1395" class="indexterm"/><a id="iddle1413" class="indexterm"/><a id="iddle1463" class="indexterm"/><a id="iddle1659" class="indexterm"/><a id="iddle1745" class="indexterm"/><a id="iddle1749" class="indexterm"/><a id="iddle1977" class="indexterm"/><a id="iddle1985" class="indexterm"/>In the Paths dialog, click the Unnamed path and change the name to <span class="emphasis"><em>Streak 1</em></span>.</p></li><li class="listitem"><p>Select the <span class="strong"><strong>Paintbrush</strong></span> tool from the Toolbox. In the Tool Options dialog, choose the <span class="strong"><strong>Calligraphic brush</strong></span>. Set the Size to <span class="strong"><strong>20</strong></span>, enable <span class="strong"><strong>Basic Dynamics</strong></span>, set the Dynamics Options Fade length to <span class="strong"><strong>100,</strong></span> and set the Gradient to <span class="strong"><strong>FG to Transparent</strong></span>. Enable a Smooth stroke of <span class="strong"><strong>Quality 20</strong></span> and <span class="strong"><strong>Weight 50</strong></span>.</p></li><li class="listitem"><p>Type <span class="strong"><strong>D</strong></span>, then <span class="strong"><strong>X</strong></span> in the image window to set the foreground color to white.</p></li><li class="listitem"><p>To stroke the path, click the <span class="strong"><strong>Paint Along Path</strong></span> icon (second from right) at the bottom of the Paths dialog. The Stroke Path dialog will open. Choose the <span class="strong"><strong>Stroke with a Paint Tool</strong></span> option. Make sure the Paintbrush is selected and Emulate brush dynamics checkbox is checked. Then click the Stroke button.</p><div class="informalfigure"><a id="med_id00201a"/><div class="mediaobject"><a id="med_id00201"/><img src="httpatomoreillycomsourcenostarchimages1222982.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The Stroke Path dialog is also found under the Edit menu (Edit</em></span>▸<span class="emphasis"><em>Stroke Path). Stroking the path allows to you apply a brush stroke to a specific shape—in this case a wavy line.</em></span></p></div></div></div></li></ol></div><div class="note" title="Note"><h3 class="title"><a id="ch02note07"/>Note</h3><p><span class="emphasis"><em>The size of the brush depends on the size of the stock image, which in this tutorial is 1600 × 1067 pixels. Adjust the brush size so it produces a moderately thin stroke. Additional strokes in later steps will fatten the streak.</em></span></p></div></div><div class="sect2" title="Adding an Outer Glow"><div class="titlepage"><div><div><h2 class="title"><a id="adding_an_outer_glow"/>Adding an Outer Glow</h2></div></div></div><p>The initial streak is a nice touch, but it needs to glow a bit, reflecting some of the color from the stock image. The glow comes from duplicating, blurring, and then applying color to the streak.</p><p>GIMP doesn’t have an outer glow filter, so the process must be performed manually. Fortunately, an outer glow is a very simple effect.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Duplicate the Streak 1 layer. Name the duplicate layer <span class="emphasis"><em>Outer Glow</em></span>.</p></li><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>). Set both Horizontal and Vertical Radius settings to <span class="strong"><strong>20.0 pixels</strong></span> and apply to the Outer Glow layer.</p></li><li class="listitem"><p>Duplicate this layer. Merge the duplicate (<span class="strong"><strong>Layer</strong></span>▸<span class="strong"><strong>Merge Down</strong></span>) onto the Outer Glow layer.</p></li><li class="listitem"><p>Choose the <span class="strong"><strong>Color Picker</strong></span> tool from the Toolbox. Enable the <span class="strong"><strong>Sample Merged</strong></span> option in the Tool Options dialog. Click on the model’s face to pick a tone to apply to the glow.</p></li><li class="listitem"><p>Choose the <span class="strong"><strong>Bucket Fill</strong></span> tool from the Toolbox. Set the Mode to <span class="strong"><strong>Multiply</strong></span>, Fill Type to <span class="strong"><strong>FG color fill</strong></span>, and Affected Area to <span class="strong"><strong>Fill whole selection</strong></span> in the Tool Options dialog.</p></li><li class="listitem"><p>Click the image window to apply the color to the Outer Glow layer. Move the Outer Glow layer below the Streak 1 layer in the Layers dialog.</p><div class="informalfigure"><a id="med_id00202a"/><div class="mediaobject"><a id="med_id00202"/><img src="httpatomoreillycomsourcenostarchimages1222984.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1331" class="indexterm"/><a id="iddle1332" class="indexterm"/><a id="iddle1464" class="indexterm"/><a id="iddle1596" class="indexterm"/><a id="iddle1657" class="indexterm"/><a id="iddle1658" class="indexterm"/><a id="iddle1910" class="indexterm"/><a id="iddle1975" class="indexterm"/><a id="iddle1976" class="indexterm"/><span class="emphasis"><em>Duplicating the Outer Glow layer after blurring, and then merging the duplicate is a quick way to increase the intensity of that layer by combining two sets of blurs into one. The duplicate layer mode could also be changed to Addition before merging to increase the intensity even more.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Adding an Inner Glow"><div class="titlepage"><div><div><h2 class="title"><a id="adding_an_inner_glow"/>Adding an Inner Glow</h2></div></div></div><p>GIMP doesn’t have an inner glow filter either, though several options exist in the Plugin Registry for those interested in using off-the-shelf solutions. Like the outer glow, however, the inner glow is very easy to produce manually in just a few short steps.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Duplicate the streak layer and name the duplicate layer <span class="emphasis"><em>Inner Glow</em></span>.</p></li><li class="listitem"><p>Choose the <span class="strong"><strong>Fuzzy Select</strong></span> tool from the toolbox. In the Tool Options dialog, enable the <span class="strong"><strong>Select Transparent Areas</strong></span> option. Click anywhere in the image except on the streak to create a selection. Invert the selection (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Invert</strong></span>) to select just the streak.</p></li><li class="listitem"><p>Drag the foreground color from the toolbox into the selection.</p></li><li class="listitem"><p>Shrink the selection (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>Shrink</strong></span>) by <span class="strong"><strong>3 pixels</strong></span>. Cut the selection (<span class="strong"><strong>Edit</strong></span>▸<span class="strong"><strong>Cut</strong></span>). This removes the selected area, leaving just a thin outline in the Inner Glow layer. Clear the selection (<span class="strong"><strong>Select</strong></span>▸<span class="strong"><strong>None</strong></span>).</p></li><li class="listitem"><p>Open the <span class="strong"><strong>Gaussian Blur</strong></span> filter again. Apply a <span class="strong"><strong>5-pixel</strong></span> radius blur to this layer.</p><div class="informalfigure"><a id="med_id00203a"/><div class="mediaobject"><a id="med_id00203"/><img src="httpatomoreillycomsourcenostarchimages1222986.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The inner glow is essentially a blurred outline of the original streak that varies the intensity of the streak.</em></span></p></div></div></div></li></ol></div><p>Selecting and then inverting the transparent area allows selecting the entire streak. If the streak itself had been selected with the Fuzzy Select tool, the semitransparent areas might not have been selected.</p></div><div class="sect2" title="Enhancing the Initial Streak"><div class="titlepage"><div><div><h2 class="title"><a id="enhancing_the_initial_streak"/>Enhancing the Initial Streak</h2></div></div></div><p>This single streak can be improved by adding similar streaks to it. The process used to create the original streak is repeated, except that the path used will be an edited duplicate of the original path.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open the <span class="strong"><strong>Paths</strong></span> dialog. Duplicate the Streak 1 path by clicking the fourth button from the bottom left. Name the new path <span class="emphasis"><em>Streak 1B</em></span>. Click the eye icon in the Paths dialog so the eye is visible. This will make the path visible in the image window, but without the anchors or handles.</p></li><li class="listitem"><p>Choose the <span class="strong"><strong>Paths</strong></span> tool from the Toolbox. Click the path in the image window to show the anchors and handles. Click the anchors to move them slightly. Click the handles to bend the curve a little more or a little less. The changes to the Streak 1B path should not be overly dramatic.</p></li><li class="listitem"><p>Add a transparent layer to the image and name it <span class="emphasis"><em>Streak 1B</em></span>.</p></li><li class="listitem"><p>Repeat the stroke, outer glow, and inner glow steps from the first streak.</p><div class="informalfigure"><a id="med_id00204a"/><div class="mediaobject"><a id="med_id00204"/><img src="httpatomoreillycomsourcenostarchimages1222988.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>The length and curve of the streaks are varied by editing copies of the original path.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00019"/>Further Exploration</h2></div></div></div><p>The ends of each streak can be adjusted using layer masks on streak layers. Variations in the lighting of the streaks can be produced by changing layer blend modes. More dramatic streaks can be applied by varying the size of the brush when stroking paths.</p><p>Blurs were used in this tutorial to simulate glows around the streaks. In the next tutorial you’ll see how blurs can be used to turn the grown-up world into a child’s toy.</p></div></div><div class="sect1" title="2.11 Miniaturizing a Scene"><div class="titlepage"><div><div><h1 class="title"><a id="twodot11_miniaturizing_a_scene"/>2.11 Miniaturizing a Scene</h1></div></div></div><p><a id="iddle1099" class="indexterm"/><a id="iddle1336" class="indexterm"/><a id="iddle1701" class="indexterm"/>An often underappreciated feature of GIMP is the blur filters. A small amount of blur can be used to soften the focus in a photograph, as was shown in <a class="xref" href="ch02.html#twodot1_soft_focus" title="2.1 Soft Focus">2.1 Soft Focus</a>. <a class="xref" href="ch02.html#twodot5_changing_depth_of_field" title="2.5 Changing Depth of Field">2.5 Changing Depth of Field</a> demonstrated how varying amounts of blur can be used to move the background away from the foreground. And long blurs can apply streaks to an image that simulate high-speed flight.</p><p>This tutorial will use blurs to take the very big and make it appear very small. Even better, the process is very simple. This is yet another effect that gives a photo a shallow depth of field. Traditional photographers can achieve this effect with a technique called <span class="emphasis"><em>tilt-shifting</em></span>. We’ll get similar results without the fancy equipment.</p><div class="informalfigure"><a id="med_id00205a"/><div class="mediaobject"><a id="med_id00205"/><img src="httpatomoreillycomsourcenostarchimages1222990.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>From real world to small world is just a blur away.</em></span></p></div></div></div><div class="sect2" title="Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="getting_started-id00020"/>Getting Started</h2></div></div></div><p>The best images for this effect are bird’s-eye views of a city. This particular image is perfect because the focal point of the effect is centered and easy to isolate. Also, miniatures often have highly saturated colors from hand painting with glossy paints. This process will increase the saturation of the stock photo, and then isolate areas outside the focal point of the image.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open the stock image. Open the Hue-Saturation dialog (<span class="strong"><strong>Colors</strong></span>▸<span class="strong"><strong>Hue-Saturation</strong></span>) and increase the saturation. For this image the saturation was increased to its maximum setting of 100 percent. Apply this setting to the image.</p></li><li class="listitem"><p>Click the <span class="strong"><strong>Quick Mask</strong></span> button in the lower left of the image window. This will tint the image red where no selection currently exists.</p></li><li class="listitem"><p>Type <span class="strong"><strong>D</strong></span> in the canvas to reset the foreground and background colors.</p></li><li class="listitem"><p>Choose the <span class="strong"><strong>Blend</strong></span> tool from the Toolbox. In the Tool Options dialog set the Shape to <span class="strong"><strong>Bi-linear</strong></span> and the Gradient to <span class="strong"><strong>FG to BG (RGB)</strong></span>, and leave other options at their default settings. Use the Reset button at the bottom of the dialog if you need to reset defaults.</p></li><li class="listitem"><p>In the image window, click the floor of the stadium and drag up to just above the top of the stadium. Click the <span class="strong"><strong>Quick Mask</strong></span> button again to convert this to a selection of the image’s upper and lower regions.</p></li><li class="listitem"><p>Copy and paste the selection as a new layer. Name the new layer <span class="emphasis"><em>BG and FG</em></span>.</p></li></ol></div><div class="note" title="Note"><h3 class="title"><a id="ch02note08"/>Note</h3><p><span class="emphasis"><em>This image is 1600 × 1067 pixels. Adjust the blur radius accordingly for images of different sizes.</em></span></p></div><div class="informalfigure"><a id="med_id00206a"/><div class="mediaobject"><a id="med_id00206"/><img src="httpatomoreillycomsourcenostarchimages1222992.png.jpg" alt="image with no caption"/><div class="caption"><p><a id="iddle1102" class="indexterm"/><a id="iddle1335" class="indexterm"/><a id="iddle1465" class="indexterm"/><a id="iddle1700" class="indexterm"/><span class="emphasis"><em>A Bi-linear gradient in the Quick Mask, running black to white, is all that’s required to select the foreground and background.</em></span></p></div></div></div></div><div class="sect2" title="Blurring to Miniaturize"><div class="titlepage"><div><div><h2 class="title"><a id="blurring_to_miniaturize"/>Blurring to Miniaturize</h2></div></div></div><p>Using a copy of the original layer allows experimentation with the blur process without affecting the original image. If you mess up the copy, just make the selection of the original image layer again and copy and paste another new layer to continue experimentation.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open the Gaussian Blur filter (<span class="strong"><strong>Filters</strong></span>▸<span class="strong"><strong>Blur</strong></span>▸<span class="strong"><strong>Gaussian Blur</strong></span>). Apply a <span class="strong"><strong>20</strong></span>-<span class="strong"><strong>pixel</strong></span> blur to the new layer.</p></li><li class="listitem"><p>If the first selection failed to select much of the foreground, make another selection with the <span class="strong"><strong>Quick Mask</strong></span> and <span class="strong"><strong>Blend</strong></span> tools, this time using a <span class="strong"><strong>Linear Gradient</strong></span> instead. Drag from the stadium floor straight down to the bottom of the windows in the second floor of the stadium. Convert the <span class="strong"><strong>Quick Mask</strong></span> to a selection, and then copy and paste as a new layer and blur again. Add a layer mask to this new layer and spray-paint black in it where the stadium and some of the greenery in front is out of focus.</p><div class="informalfigure"><a id="med_id00207a"/><div class="mediaobject"><a id="med_id00207"/><img src="httpatomoreillycomsourcenostarchimages1222994.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>A single blur will take the foreground and background out of focus and make it look like you’re zoomed in on a tiny model of the city.</em></span></p></div></div></div><div class="informalfigure"><a id="med_id00208a"/><div class="mediaobject"><a id="med_id00208"/><img src="httpatomoreillycomsourcenostarchimages1222996.png.jpg" alt="image with no caption"/><div class="caption"><p><span class="emphasis"><em>Graphic design work is a series of little touch-ups like this foreground blur.</em></span></p></div></div></div></li></ol></div></div><div class="sect2" title="Further Exploration"><div class="titlepage"><div><div><h2 class="title"><a id="further_exploration-id00021"/>Further Exploration</h2></div></div></div><p>This stock photograph provided a perfect example of the miniaturization effect. Other images are not so well suited. In those cases the selection may require alternative methods. Try using a Radial Gradient with the Blend tool, or the Rectangle or Ellipse select tools with large amounts of feathering.</p></div></div><div class="sect1" title="Tips for Photographic Effects"><div class="titlepage"><div><div><h1 class="title"><a id="tips_for_photographic_effects"/>Tips for Photographic Effects</h1></div></div></div><p><a id="iddle1070" class="indexterm"/><a id="iddle1173" class="indexterm"/><a id="iddle1175" class="indexterm"/><a id="iddle1209" class="indexterm"/><a id="iddle1243" class="indexterm"/><a id="iddle1376" class="indexterm"/><a id="iddle1404" class="indexterm"/><a id="iddle1642" class="indexterm"/><a id="iddle1748" class="indexterm"/><a id="iddle1897" class="indexterm"/><a id="iddle1912" class="indexterm"/><a id="iddle1921" class="indexterm"/><a id="iddle1957" class="indexterm"/><a id="iddle2107" class="indexterm"/>Now that you’ve practiced the basic techniques for working with photographs in GIMP, you’re probably eager to get started on your own photo projects. When you do, keep the following suggestions in mind.</p><div class="sect2" title="Autolevel Option"><div class="titlepage"><div><div><h2 class="title"><a id="autolevel_option"/>Autolevel Option</h2></div></div></div><p>You can autolevel all scanned and digital images using the Levels tool (Colors▸Levels). This flattens the color histogram and automatically makes the darkest pixels black and the lightest pixels white. But this isn’t absolutely required every time. If you don’t like the results, just undo it with <span class="smaller">CTRL</span>-Z.</p></div><div class="sect2" title="Sharp Scans"><div class="titlepage"><div><div><h2 class="title"><a id="sharp_scans"/>Sharp Scans</h2></div></div></div><p>Nearly all scanned photos can benefit from a little sharpening. Digital photos don’t normally need to be sharpened, but scanned photos usually do. The Unsharp Mask filter (Filters▸Enhance▸Unsharp Mask) works best for photos, though you can also get good results using the Sharpen filter (Filters▸Enhance▸Sharpen).</p></div><div class="sect2" title="Selections, Selections, Selections"><div class="titlepage"><div><div><h2 class="title"><a id="selectionscomma_selectionscomma_selectio"/>Selections, Selections, Selections</h2></div></div></div><p>Learn to love ’em (and make them effectively, as described in <a class="xref" href="ch01.html#onedot4_selections" title="1.4 Selections">1.4 Selections</a>). When you’re working with photographs, you can’t do much without them.</p></div><div class="sect2" title="Add More Contrast"><div class="titlepage"><div><div><h2 class="title"><a id="add_more_contrast"/>Add More Contrast</h2></div></div></div><p>Duplicate an image layer and set the new layer to Soft Light. Adjust the opacity to modify the contrast in the original layer.</p></div><div class="sect2" title="Soft Light and Overlay Modes"><div class="titlepage"><div><div><h2 class="title"><a id="soft_light_and_overlay_modes"/>Soft Light and Overlay Modes</h2></div></div></div><p>Add mood to your photos. Fill layers with any color on the color wheel and blend them using the Soft Light or Overlay layer modes.</p></div><div class="sect2" title="Sepia Means Brown"><div class="titlepage"><div><div><h2 class="title"><a id="sepia_means_brown"/>Sepia Means Brown</h2></div></div></div><p>Sepia tones are shades of brown, and they can lend your images an antique quality. Try applying RGB value sets like 124/81/61, 140/89/51, or 181/145/124 to your photographs.</p></div><div class="sect2" title="The Color of Kelvin"><div class="titlepage"><div><div><h2 class="title"><a id="color_of_kelvin"/>The Color of Kelvin</h2></div></div></div><p>Are you using ordinary halogen lamps for indoor shoots? Lighting color is measured in degrees Kelvin, with the sun at sunrise being about 2,500 degrees and the sun at noon being about 5,000 degrees (a bright white). A typical halogen lamp might be around 3,000 degrees, making its light a bit more yellow. Many photographers add a color-correction gel—which can be ordered from various online sources—to change the color of halogen bulbs.</p><p>If you can’t fix a shot with proper lighting, you can try to digitally remove yellow tints from your photos using the Color Balance tool (Colors▸Color Balance) or the Hue-Saturation tool (Colors▸Hue-Saturation).</p></div><div class="sect2" title="Experimentation"><div class="titlepage"><div><div><h2 class="title"><a id="experimentation"/>Experimentation</h2></div></div></div><p>It can take a long time to make color adjustments to an entire image using tools from the toolbox. To experiment first, select a small part of the image and preview the color adjustments on that selection. When you’ve decided on the optimal values, undo the operation and adjust the entire image. Alternatively, try duplicating the image, scaling it down, and then experimenting with color adjustments on the smaller image.</p></div></div></div></body></html>