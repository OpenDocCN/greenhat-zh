- en: Chapter 8. The Ringtone Massacre
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Saturday, March 21, 2009*'
  prefs: []
  type: TYPE_NORMAL
- en: '*Dear Diary*,'
  prefs: []
  type: TYPE_NORMAL
- en: Last week a good friend of mine loaned me his jailbroken,^([[82](ch08s05.html#ftn.CHP-8-FN-1)])
    first-generation iPhone. I was very excited. Ever since Apple announced the iPhone,
    I had wanted to see if I could find a bug in the device, but until last week I
    had never had access to one.
  prefs: []
  type: TYPE_NORMAL
- en: 8.1 Vulnerability Discovery
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I finally had an iPhone to play with, and I wanted to search for bugs. But where
    to start? The first thing I did was make a list of installed applications and
    libraries that seemed most likely to have bugs. The MobileSafari browser, the
    MobileMail app, and the audio libraries were at the top of the list. I decided
    that the audio libraries were the most promising targets since these libraries
    do a lot of parsing and are heavily used on the phone, so I tried my luck on them.
  prefs: []
  type: TYPE_NORMAL
- en: 'I performed the following steps when searching the iPhone audio libraries for
    a bug:'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*I used a first-generation iPhone with firmware 2.2.1 (5H11) as platform for
    all the following steps*.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 1: Research the iPhone’s audio capabilities.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Step 2: Build a simple fuzzer and fuzz the phone.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: I installed all the necessary tools—like the Bash, OpenSSH, and the GNU debugger—on
    the iPhone using Cydia.^([[83](ch08s05.html#ftn.CHP-8-FN-2)])
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 1: Research the iPhone’s Audio Capabilities'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The iPhone, with its iPod-based roots, is a powerful audio-capable device.
    Three frameworks available on the phone provide different levels of sound functionality:
    the Core Audio,^([[84](ch08s05.html#ftn.CHP-8-FN-3)]) Celestial, and Audio Toolbox^([[85](ch08s05.html#ftn.CHP-8-FN-4)])
    frameworks. In addition, the iPhone runs an audio daemon called `mediaserverd`,
    which aggregates the sound output of all applications and governs events such
    as volume and ringer-switch changes.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 2: Build a Simple Fuzzer and Fuzz the Phone'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The iPhone’s audio system with all its different frameworks seemed a bit complicated,
    so I decided to start by building a simple fuzzer to search for obvious bugs.
    The fuzzer that I built does the following:'
  prefs: []
  type: TYPE_NORMAL
- en: 'On a Linux host: Prepares the test cases by mutating a sample target file.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On a Linux host: Serves these test cases via a web server.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On the iPhone: Opens the test cases in MobileSafari.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On the iPhone: Monitors `mediaserverd` for faults.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On the iPhone: In the event a fault is uncovered, logs the findings.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Repeats these steps.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'I created the following simple, mutation-based file fuzzer to prepare the test
    cases on a Linux host:'
  prefs: []
  type: TYPE_NORMAL
- en: Example 8-1. The code I wrote to prepare test cases on the Linux host (*fuzz.c*)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The fuzzer from [Example 8-1](ch08.html#the_code_i_wrote_to_prepare_test "Example 8-1. The
    code I wrote to prepare test cases on the Linux host (fuzz.c)") takes four arguments:
    the size of the sample target file, the file offset to manipulate, a 1-byte value
    that gets written to the given file offset, and the name of the target file. After
    writing the fuzzer, I compiled it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'I then began fuzzing files of the *Advanced Audio Coding*^([[86](ch08s05.html#ftn.CHP-8-FN-5)])
    (*AAC*) format, which is the default audio format used on the iPhone. I chose
    the standard iPhone ringtone, named *Alarm.m4r*, as a sample target file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'I typed the following line into the terminal to get the size of the test-case
    file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'The command-line options below instruct the fuzzer to replace the byte at file
    offset 4 with `0xff` (decimal 255):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'I then verified the result with the help of `xxd`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'The output shows that file offset 4 (file offsets are counted starting with
    0) was replaced with the expected value (`0xff`). Next, I created a bash script
    to automate the file mutation:'
  prefs: []
  type: TYPE_NORMAL
- en: Example 8-2. The bash script I created to automate file mutation (*go.sh*)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'This script, which is just a wrapper for the fuzzer illustrated in [Example 8-1](ch08.html#the_code_i_wrote_to_prepare_test
    "Example 8-1. The code I wrote to prepare test cases on the Linux host (fuzz.c)"),
    automatically creates four test cases of the target file *Alarm.m4r* (see line
    20). Starting at file offset 0 (see line 7), the first 4 bytes of the target file
    (see line 10) are each replaced with a `0xff` (see line 13). When executed, the
    script produced the following output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'I then verified the created test cases:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: As the output shows, the fuzzer worked as expected and modified the appropriate
    byte in each test-case file. One important fact I haven’t mentioned yet is that
    the script in [Example 8-2](ch08.html#the_bash_script_i_created_to_automate "Example 8-2. The
    bash script I created to automate file mutation (go.sh)") changes the file extension
    of the alarm ringtone from *.m4r* to *.m4a* (see line 20). This is necessary because
    MobileSafari doesn’t support the *.m4r* file extension used by iPhone ringtones.
  prefs: []
  type: TYPE_NORMAL
- en: I copied the modified and unmodified alarm ringtone files into the web root
    directory of the Apache webserver that I had installed on the Linux host. I changed
    the file extension of the alarm ringtone from *.m4r* to *.m4a* and pointed MobileSafari
    to the URL of the unmodified ringtone.
  prefs: []
  type: TYPE_NORMAL
- en: As illustrated in [Figure 8-1](ch08.html#playing_the_unmodified_alarm.m4a_with_mo
    "Figure 8-1. Playing the unmodified Alarm.m4a with MobileSafari"), the unmodified
    target file *Alarm.m4a* successfully played on the phone in MobileSafari. I then
    pointed the browser to the URL of the first modified test-case file, named *file0.m4a*.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 8-2](ch08.html#playing_the_modified_test-case_file_open "Figure 8-2. Playing
    the modified test-case file (file0.m4a)") shows that MobileSafari opens the modified
    file but isn’t able to parse it correctly.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Playing the unmodified Alarm.m4a with MobileSafari](httpatomoreillycomsourcenostarchimages939331.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 8-1. Playing the unmodified *Alarm.m4a* with MobileSafari
  prefs: []
  type: TYPE_NORMAL
- en: '![Playing the modified test-case file (file0.m4a)](httpatomoreillycomsourcenostarchimages939333.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 8-2. Playing the modified test-case file (*file0.m4a*)
  prefs: []
  type: TYPE_NORMAL
- en: 'So what had I achieved so far? I was able to prepare audio-file test cases
    via mutation, launch MobileSafari, and instruct it to load the test cases. At
    this point, I wanted to find a way to automatically open the test-case files in
    MobileSafari one by one while monitoring `mediaserverd` for faults. I created
    this small Bash script to do the job on the phone:'
  prefs: []
  type: TYPE_NORMAL
- en: Example 8-3. Code to automatically open test cases while monitoring `mediaserverd`
    for faults (*audiofuzzer.sh*)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'The Bash script illustrated in [Example 8-3](ch08.html#code_to_automatically_open_test_cases
    "Example 8-3. Code to automatically open test cases while monitoring mediaserverd
    for faults (audiofuzzer.sh)") works this way:'
  prefs: []
  type: TYPE_NORMAL
- en: Line 3 displays the IP address of the web server that hosts the test cases.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lines 9 and 10 restart `mediaserverd` and kill all running MobileSafari instances
    in order to create a clean environment.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Line 14 copies the process ID of the `mediaserverd` audio daemon into the variable
    `origpid`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Line 21 contains the main loop that is executed for each test case.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lines 23–34 restart the `mediaserverd` after every 10 test cases. Fuzzing the
    iPhone can be tedious, since some components, including `mediaserverd`, are prone
    to hangs.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Line 38 launches the individual test cases hosted on the web server using the
    `openURL` tool.^([[87](ch08s05.html#ftn.CHP-8-FN-6)])
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Line 40 copies the current process ID of the `mediaserverd` audio daemon into
    the variable `currpid`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Line 42 compares the saved process ID of `mediaserverd` (see line 14) and the
    current process ID of the daemon. The two process IDs differ when `mediaserverd`
    has encountered a fault and restarted while processing one of the test cases.
    This finding is logged to the phone’s terminal (see line 44). The script will
    also send a GET request to the web server that includes the text “`BUG_FOUND`”
    as well as the name of the file that crashed `mediaserverd` (see line 45).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Line 51 kills the current instance of MobileSafari after each test-case run.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: After I implemented this little script, I created 1,000 mutations of the *Alarm.m4r*
    ringtone starting at file offset 0, copied them to the web root directory of the
    web server, and started the *audiofuzzer.sh* script on the iPhone. From time to
    time the phone crashed due to memory leaks. Every time that happened, I had to
    reboot the phone, extract the filename of the last processed test case from the
    access logfile of the web server, adjust line 18 of [Example 8-3](ch08.html#code_to_automatically_open_test_cases
    "Example 8-3. Code to automatically open test cases while monitoring mediaserverd
    for faults (audiofuzzer.sh)"), and continue fuzzing. Fuzzing the iPhone can be
    such a pain . . . but it was worth it! In addition to the memory leaks that froze
    the phone, I also found a bunch of crashes due to memory corruption.
  prefs: []
  type: TYPE_NORMAL
- en: 8.2 Crash Analysis and Exploitation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: After the fuzzer had finished processing the test cases, I searched the access
    logfile of the web server for “`BUG_FOUND`” entries.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'As shown in the excerpt of the logfile, `mediaserverd` encountered a fault
    while attempting to play the test-case files 40, 41, and 42\. To analyze the crashes,
    I rebooted the phone and attached the GNU debugger (see Section B.4) to `mediaserverd`:'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*The iPhone, like most mobile devices, uses an ARM CPU. This is important because
    the ARM assembly language is vastly different from Intel assembly*.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: 'After I started gdb, I used the following command to retrieve the current process
    ID of `mediaserverd`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: 'I then loaded the `mediaserverd` binary into the debugger and attached it to
    the process:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: 'Before I continued the execution of `mediaserverd`, I used the `follow-fork-mode`
    command to instruct the debugger to follow the child process instead of the parent
    process:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: 'I opened MobileSafari on the phone and pointed it to the URL of test-case file
    number 40 (*file40.m4a*). The debugger produced the following result:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: The crash occurred when `mediaserverd` tried to access memory at address `0x01302000`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: 'As the debugger output shows, `mediaserverd` crashed while trying to reference
    an unmapped memory location. To further analyze the crash, I printed the current
    call stack:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: 'This output was intriguing. The address of stack frame #2 had an unusual value
    (`0x00000072`), which seemed to indicate that the stack had become corrupted.
    I used the following command to print the last instruction that was executed in
    `MP4AudioStream::ParseHeader()` (see stack frame #1):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: The last instruction executed in `MP4AudioStream::ParseHeader()` was a call
    to `memcpy()`, which must have caused the crash. At this time, the bug had exhibited
    all the characteristics of a stack buffer overflow vulnerability (see Section
    A.1).
  prefs: []
  type: TYPE_NORMAL
- en: 'I stopped the debugging session and rebooted the device. After the phone started,
    I attached the debugger to `mediaserverd` again, and this time I also defined
    a breakpoint at the `memcpy()` call in `MP4AudioStream::ParseHeader()` in order
    to evaluate the function arguments supplied to `memcpy()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: 'I opened test case number 40 (*file40.m4a*) in MobileSafari in order to trigger
    the breakpoint:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: The arguments of `memcpy()` are usually stored in the registers `r0` (destination
    buffer), `r1` (source buffer), and `r2` (bytes to copy). I asked the debugger
    for the current values of those registers.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: 'I also inspected the data pointed to by `r1` to see if the source data of `memcpy()`
    was user controllable:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: 'I then searched test-case file number 40 for those values. I found them right
    at the beginning of the file in little-endian notation:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs: []
  type: TYPE_PRE
- en: 'So I could control the source data of the memory copy. I continued the execution
    of `mediaserverd` and got the following output in the debugger:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs: []
  type: TYPE_PRE
- en: '`Mediaserverd` crashed again while trying to access unmapped memory. It seemed
    that the size argument supplied to `memcpy()` was too big, so the function tried
    to copy audio-file data beyond the end of the stack. At this point I stopped the
    debugger and opened the test-case file that had actually caused the crash (*file40.m4a*)
    with a hex editor:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs: []
  type: TYPE_PRE
- en: The manipulated byte (`0xff`) that caused the crash can be found at file offset
    40 (`0x28`). I consulted the *QuickTime File Format Specification*^([[88](ch08s05.html#ftn.CHP-8-FN-7)])
    to determine the role of that byte within the file structure. The byte was described
    as part of the atom size of a *movie header atom*, so the fuzzer must have changed
    the size value of that atom. As I mentioned before, the size supplied to `memcpy()`
    was too big, so `mediaserverd` had crashed while trying to copy too much data
    onto the stack. To avoid the crash, I set the atom size to a smaller value. I
    changed the manipulated value at file offset 40 back to `0x00` and the byte value
    at offset 42 to `0x02`. I named the new file *file40_2.m4a*.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is the original test-case file 40 (*file40.m4a*):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  prefs: []
  type: TYPE_PRE
- en: 'And here is the new test-case file (*file40_2.m4a*) with changes underlined:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  prefs: []
  type: TYPE_PRE
- en: I rebooted the device to get a clean environment, attached the debugger to `mediaserverd`
    again, and opened the new file in MobileSafari.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  prefs: []
  type: TYPE_PRE
- en: 'This time the program counter (instruction pointer) was manipulated to point
    to address `0x00000072`. I then stopped the debugging session and started a new
    one while again setting a breakpoint at the `memcpy()` call in `MP4AudioStream::ParseHeader()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  prefs: []
  type: TYPE_PRE
- en: 'When I opened the modified test-case file *file40_2.m4a* in MobileSafari, I
    got the following output in the debugger:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs: []
  type: TYPE_PRE
- en: 'I printed the current call stack:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  prefs: []
  type: TYPE_PRE
- en: 'The first stack frame on the list was the one I was looking for. I used the
    following command to display information about the current stack frame of `MP4AudioStream::ParseHeader()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs: []
  type: TYPE_PRE
- en: The most interesting information was the memory location where the program counter
    (`pc` register) was stored on the stack. As the debugger output shows, `pc` was
    saved at address `0x1301bfc` on the stack (see “`Saved registers`”).
  prefs: []
  type: TYPE_NORMAL
- en: 'I then continued the execution of the process:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  prefs: []
  type: TYPE_PRE
- en: After the crash, I looked at the stack location (memory address `0x1301bfc`)
    where the `MP4AudioStream::ParseHeader()` function expects to find its saved program
    counter.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  prefs: []
  type: TYPE_PRE
- en: The debugger output shows that the saved instruction pointer was overwritten
    with the value `0x00000073`. When the function tried to return to its caller function,
    the manipulated value was assigned to the instruction pointer (`pc` register).
    Specifically, the value `0x00000072` was copied into the instruction pointer instead
    of the file value `0x00000073` due to the instruction alignment of the ARM CPU
    (instruction alignment on a 16-bit or 32-bit boundary).
  prefs: []
  type: TYPE_NORMAL
- en: 'My extremely simple fuzzer had indeed found a classic stack buffer overflow
    in the audio libraries of the iPhone. I searched the test-case file for the byte
    pattern of the debugger output and found the byte sequence at file offset 500
    in *file40_2.m4a*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  prefs: []
  type: TYPE_PRE
- en: 'I then changed the underlined value above to `0x44444444` and named the new
    file *poc.m4a*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  prefs: []
  type: TYPE_PRE
- en: 'I attached the debugger to `mediaserverd` again and opened the new *poc.m4a*
    file in MobileSafari, which resulted in the following debugger output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  prefs: []
  type: TYPE_PRE
- en: Yay! At this point I had full control over the program counter.
  prefs: []
  type: TYPE_NORMAL
- en: 8.3 Vulnerability Remediation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Tuesday, February 2, 2010*'
  prefs: []
  type: TYPE_NORMAL
- en: I informed Apple of the bug on October 4, 2009\. Today they released a new version
    of iPhone OS to address the vulnerability.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*The vulnerability affects the iPhone as well as the iPod touch with iPhone
    OS prior version 3.1.3*.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The bug was easy to find, so I’m sure that I wasn’t the only person who knew
    about it, but I seem to be the only one who informed Apple. More surprising: Apple
    didn’t find such a trivial bug on its own.'
  prefs: []
  type: TYPE_NORMAL
- en: 8.4 Lessons Learned
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As a bug hunter and iPhone user:'
  prefs: []
  type: TYPE_NORMAL
- en: Even dumb mutation-based fuzzers, like the one described in this chapter, can
    be quite effective.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fuzzing the iPhone is tedious but worth it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Do not open untrusted (media) files on your iPhone.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 8.5 Addendum
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Tuesday, February 2, 2010*'
  prefs: []
  type: TYPE_NORMAL
- en: Since the vulnerability has been fixed and a new version of iPhone OS is available,
    I released a detailed security advisory on my website today.^([[89](ch08s05.html#ftn.CHP-8-FN-8)])
    The bug was assigned CVE-2010-0036\. [Figure 8-3](ch08s05.html#timeline_from_the_time_i_notified
    "Figure 8-3. Timeline from the time I notified Apple until I released a security
    advisory") shows a timeline of how the vulnerability was addressed.
  prefs: []
  type: TYPE_NORMAL
- en: '![Timeline from the time I notified Apple until I released a security advisory](httpatomoreillycomsourcenostarchimages939335.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 8-3. Timeline from the time I notified Apple until I released a security
    advisory
  prefs: []
  type: TYPE_NORMAL
- en: Notes
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: ^([[82](#ftn.CHP-8-FN-1)])
  prefs: []
  type: TYPE_NORMAL
- en: ^([[83](#ftn.CHP-8-FN-2)])
  prefs: []
  type: TYPE_NORMAL
- en: ^([[84](#ftn.CHP-8-FN-3)])
  prefs: []
  type: TYPE_NORMAL
- en: ^([[85](#ftn.CHP-8-FN-4)])
  prefs: []
  type: TYPE_NORMAL
- en: ^([[86](#ftn.CHP-8-FN-5)])
  prefs: []
  type: TYPE_NORMAL
- en: ^([[87](#ftn.CHP-8-FN-6)])
  prefs: []
  type: TYPE_NORMAL
- en: ^([[88](#ftn.CHP-8-FN-7)])
  prefs: []
  type: TYPE_NORMAL
- en: ^([[89](#ftn.CHP-8-FN-8)])
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: ^([[82](#CHP-8-FN-1)]) See [http://en.wikipedia.org/wiki/IOS_jailbreaking](http://en.wikipedia.org/wiki/IOS_jailbreaking).
  prefs: []
  type: TYPE_NORMAL
- en: ^([[83](#CHP-8-FN-2)]) See [http://cydia.saurik.com/](http://cydia.saurik.com/).
  prefs: []
  type: TYPE_NORMAL
- en: '^([[84](#CHP-8-FN-3)]) See “iOS Developer Library: Core Audio Overview” at
    [http://developer.apple.com/library/ios/#documentation/MusicAudio/Conceptual/CoreAudioOverview/Introduction/Introduction.html](http://developer.apple.com/library/ios/#documentation/MusicAudio/Conceptual/CoreAudioOverview/Introduction/Introduction.html).'
  prefs: []
  type: TYPE_NORMAL
- en: '^([[85](#CHP-8-FN-4)]) See “iOS Developer Library: Audio Toolbox Framework
    Reference” at [http://developer.apple.com/library/ios/#documentation/MusicAudio/Reference/CAAudioTooboxRef/_index.html](http://developer.apple.com/library/ios/#documentation/MusicAudio/Reference/CAAudioTooboxRef/_index.html).'
  prefs: []
  type: TYPE_NORMAL
- en: ^([[86](#CHP-8-FN-5)]) See [http://en.wikipedia.org/wiki/Advanced_Audio_Coding](http://en.wikipedia.org/wiki/Advanced_Audio_Coding).
  prefs: []
  type: TYPE_NORMAL
- en: ^([[87](#CHP-8-FN-6)]) See [http://ericasadun.com/ftp/EricaUtilities/](http://ericasadun.com/ftp/EricaUtilities/).
  prefs: []
  type: TYPE_NORMAL
- en: ^([[88](#CHP-8-FN-7)]) The QuickTime File Format Specification is available
    at [http://developer.apple.com/mac/library/documentation/QuickTime/QTFF/QTFFPreface/qtffPreface.html](http://developer.apple.com/mac/library/documentation/QuickTime/QTFF/QTFFPreface/qtffPreface.html).
  prefs: []
  type: TYPE_NORMAL
- en: ^([[89](#CHP-8-FN-8)]) My security advisory that describes the details of the
    iPhone vulnerability can be found at [http://www.trapkit.de/advisories/TKADV2010-002.txt](http://www.trapkit.de/advisories/TKADV2010-002.txt).
  prefs: []
  type: TYPE_NORMAL
