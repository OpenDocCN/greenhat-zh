<html><head></head><body><div class="chapter" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="hubs_comma_switches_comma_and_routers"/>Chapter 3. HUBS, SWITCHES, AND ROUTERS</h1></div></div></div><p>Any time a network includes more than two nodes, it must have some way to connect any pair of nodes. Large networks can have very complicated structures with many branches and extensions, but the core of every network can be reduced to just a few patterns. The simplified layout of a network is known as its <span class="emphasis"><em>topology</em></span>.</p><p>The most common network topologies are a big loop known as a <span class="emphasis"><em>ring</em></span>; a hub system with everything connected to a central core called a <span class="emphasis"><em>star</em></span>, a common path (not a loop) that connects nodes using a time-sharing method; and a <span class="emphasis"><em>mesh</em></span>, in which there's a direct connection from every node to every other node. <a class="xref" href="ch03.html#every_network_uses_a_specific_topology" title="Figure 3-1. Every network uses a specific topology.">Figure 3-1</a> shows simplified diagrams of each network topology.<a class="indexterm" id="IDX-CHP-3-0265"/><a class="indexterm" id="IDX-CHP-3-0266"/></p><p>In a loop network, such as IBM's old token ring design, data moves around the loop until it reaches its destination. In the much more common hub system, each data packet travels to a central location, where a control device reads the address and sends it back out to the right destination. Ethernet networks, which include most small LANs, are hub systems.</p><div class="figure"><a id="every_network_uses_a_specific_topology"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e2178"/><img alt="Every network uses a specific topology." src="tagoreillycom20090324nostarchimages266220.png.jpg"/></div></div><p class="title"><b>Figure 3-1. Every network uses a specific topology.</b></p></div><br class="figure-break"/><p>Mesh topology is not common in small home or office networks, but the wide area networks that connect your small network to the Internet often use mesh designs.<a class="indexterm" id="IDX-CHP-3-0267"/></p><p>This chapter describes the equipment at the center of a star network that connects the computers and other nodes to one another, and the related devices that provide connections between networks. Unless you're connecting just two nodes, these hubs, switches, and routers are essential network building blocks.</p><div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="hubs_and_switches"/>Hubs and Switches</h1></div></div></div><p>Both hubs and switches are exchange points at the logical center of an Ethernet network, as shown in <a class="xref" href="ch03.html#a_hub_or_switch_is_the_central_connecti" title="Figure 3-2. A hub or switch is the central connection point in an Ethernet network.">Figure 3-2</a>. Each computer or other network node connects to a hub or switch through a cable plugged into a socket called a <span class="emphasis"><em>port</em></span>. In a small network, a hub or switch is almost always a tabletop box with indicator lights on the front and Ethernet ports on the back. In a larger network, the hub or switch might be a panel that mounts in an equipment rack.<a class="indexterm" id="IDX-CHP-3-0268"/><a class="indexterm" id="IDX-CHP-3-0269"/><a class="indexterm" id="IDX-CHP-3-0270"/><a class="indexterm" id="IDX-CHP-3-0271"/><a class="indexterm" id="IDX-CHP-3-0272"/><a class="indexterm" id="IDX-CHP-3-0273"/><a class="indexterm" id="IDX-CHP-3-0274"/><a class="indexterm" id="IDX-CHP-3-0275"/></p><div class="figure"><a id="a_hub_or_switch_is_the_central_connecti"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e2242"/><img alt="A hub or switch is the central connection point in an Ethernet network." src="tagoreillycom20090324nostarchimages266222.png.jpg"/></div></div><p class="title"><b>Figure 3-2. A hub or switch is the central connection point in an Ethernet network.</b></p></div><br class="figure-break"/><p>The maximum data transfer speed of a network is the data-handling speed of the hub or switch. You might find a 10 Mbps Ethernet hub, but as faster devices have become less expensive, there's not much reason to use one. Today, the most common hubs and switches are designed for both 10 Mbps and 100 Mbps operation. The latest generation of switches and hubs supports even faster Gigabit Ethernet (1000 Mbps) switches, often at prices only slightly higher than those of older 100 Mbps versions.<a class="indexterm" id="IDX-CHP-3-0276"/><a class="indexterm" id="IDX-CHP-3-0277"/></p><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="hubs"/>Hubs</h2></div></div></div><p>When a data packet enters a hub, the hub relays that packet to all of the hub's ports (and onward to the nodes connected to those ports). Each node compares the address on the packet with its own address and either accepts it if the address is the same or ignores it if the packet is addressed to some other node. Because the hub sends each packet to every port, only one packet can travel through the network at a time (we're talking about many packets per second, but they still move through the network one at a time). If two or more computers try to send packets at exactly the same time, Ethernet's collision detection feature forces them to stop, wait, and try again a fraction of a second later.<a class="indexterm" id="IDX-CHP-3-0278"/><a class="indexterm" id="IDX-CHP-3-0279"/><a class="indexterm" id="IDX-CHP-3-0280"/><a class="indexterm" id="IDX-CHP-3-0281"/><a class="indexterm" id="IDX-CHP-3-0282"/><a class="indexterm" id="IDX-CHP-3-0283"/></p><p>In order to prevent collisions, each node must examine the network to be certain that no other node is already using the hub before it transmits a packet. Therefore, a network with a 10/100 hub is no faster than the slowest node. If all the computers in your network use 100 Mbps network adapters but the printer connects through a 10 Mbps port, the whole network will run at only 10 Mbps or less.</p><p>As more nodes try to use a hub at the same time, the data transfer speed through the entire network drops. This could have a significant effect on a busy network that uses a hub: The actual data transfer could be only a fraction of the nominal 10 Mbps or 100 Mbps.<a class="indexterm" id="IDX-CHP-3-0284"/></p><p>In general, hubs are slow, simple, and cheap. But the difference in cost between a hub and a switch is often insignificant, so a switch is almost always the better choice.</p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="switches"/>Switches</h2></div></div></div><p>A data switch performs the same function as a hub—it connects the nodes of a network to one another—but it does the job quite differently. Rather than sending every packet to every port, a switch reads the address section of each incoming packet and sets up a direct connection from the source of each packet to its destination. In the meantime, if some other node tries to send a data packet to another unused port, the switch can set up the link without breaking the other connection. As <a class="xref" href="ch03.html#an_ethernet_switch_can_support_two_or_m" title="Figure 3-3. An Ethernet switch can support two or more simultaneous connections.">Figure 3-3</a> shows, a switch can handle more than one connection at the same time. Because a network node connected to a switch doesn't have to monitor the entire network for possible collisions, it can send and receive data at the same time (this is called <span class="emphasis"><em>full duplex</em></span> mode). Both of these features—multiple segments and full duplex operation—mean that data can move through a switch more quickly than through a hub.<a class="indexterm" id="IDX-CHP-3-0286"/><a class="indexterm" id="IDX-CHP-3-0287"/><a class="indexterm" id="IDX-CHP-3-0285"/></p><div class="figure"><a id="an_ethernet_switch_can_support_two_or_m"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e2325"/><img alt="An Ethernet switch can support two or more simultaneous connections." src="tagoreillycom20090324nostarchimages266224.png.jpg"/></div></div><p class="title"><b>Figure 3-3. An Ethernet switch can support two or more simultaneous connections.</b></p></div><br class="figure-break"/><p>Data switches (and hubs) come in several sizes and shapes. The smallest switches often have four, five, or eight ports, inside a box that can sit on a table or shelf, like the one shown in <a class="xref" href="ch03.html#this_switch_connects_five_network_nodes" title="Figure 3-4. This switch connects five network nodes.">Figure 3-4</a>. When your network expands to need more ports than your original switch can provide, you can connect one or more additional switches to one of the ports on the original unit.<a class="indexterm" id="IDX-CHP-3-0288"/></p><div class="figure"><a id="this_switch_connects_five_network_nodes"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e2342"/><img alt="This switch connects five network nodes." src="tagoreillycom20090324nostarchimages266226.png.jpg"/></div></div><p class="title"><b>Figure 3-4. This switch connects five network nodes.</b></p></div><br class="figure-break"/><p><span class="emphasis"><em>Photo courtesy of Linksys, a division of Cisco Systems, Inc.</em></span></p><p>Networks in larger business offices usually run cables from each computer back to a central space where all the switching equipment is mounted on a wall plate or an equipment rack. This is often the same room where in-house telephone equipment connects to the telephone company's outside lines. This space is often called a <span class="emphasis"><em>wiring closet</em></span>.</p></div></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="lans_and_wans"/>LANs and WANs</h1></div></div></div><p>The network in your home or office is known as a <span class="emphasis"><em>local area network (LAN)</em></span>. All of the computers connected to a LAN can share peripheral devices (such as a printer or a scanner), they can run programs and read data from other computers on the same LAN, and they all share a common connection to the Internet. In a home network, the LAN might also include home entertainment systems and game controllers.<a class="indexterm" id="IDX-CHP-3-0289"/><a class="indexterm" id="IDX-CHP-3-0290"/><a class="indexterm" id="IDX-CHP-3-0291"/><a class="indexterm" id="IDX-CHP-3-0292"/><a class="indexterm" id="IDX-CHP-3-0293"/></p><p>A LAN also uses the same set of rules and settings to control communication among all the networked computers. These include the name of the network itself and names (or address numbers, or both) for each computer, and sometimes firewalls that protect the privacy of the people using the LAN.</p><p>When you want to connect several LANs, you can create a "network of networks" called a <span class="emphasis"><em>wide area network (WAN)</em></span> that can use communications channels such as telephone lines or a cable TV service to provide the links. <a class="xref" href="ch03s02.html#a_lan_is_usually_limited_to_a_single_bu" title="Figure 3-5. A LAN is usually limited to a single building or some other small space; a WAN can connect several LANs.">Figure 3-5</a> shows a simple LAN connected to a WAN. Your Internet service provider (<span class="emphasis"><em>ISP</em></span>) uses a WAN to connect you to the Internet. The Internet itself is a set of connection points that link a lot of WANs.</p><p>It's also possible to connect a single computer directly to a WAN without going through a LAN. If you have just one computer, and it's connected directly to a modem, your computer is on your ISP's WAN.</p><div class="figure"><a id="a_lan_is_usually_limited_to_a_single_bu"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e2401"/><img alt="A LAN is usually limited to a single building or some other small space; a WAN can connect several LANs." src="tagoreillycom20090324nostarchimages266228.png.jpg"/></div></div><p class="title"><b>Figure 3-5. A LAN is usually limited to a single building or some other small space; a WAN can connect several LANs.</b></p></div><br class="figure-break"/></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="bridges_and_routers"/>Bridges and Routers</h1></div></div></div><p>Any time you connect two networks, you must use a tool that translates the address and control data used by each network into values that the other network can understand. When the device simply examines the address on each packet and decides which packets to forward to the other network, it's a <span class="emphasis"><em>bridge</em></span>. When the device examines the address (or routing) information in each packet and sends the packet along to its ultimate destination (which might be in yet another LAN far from the original), it's a <span class="emphasis"><em>router</em></span>.<a class="indexterm" id="IDX-CHP-3-0294"/><a class="indexterm" id="IDX-CHP-3-0295"/><a class="indexterm" id="IDX-CHP-3-0296"/><a class="indexterm" id="IDX-CHP-3-0297"/><a class="indexterm" id="IDX-CHP-3-0298"/></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Bridges and routers operate between two different networks. Don't confuse them with switches and hubs that distribute data <span class="emphasis"><em>within</em></span> a network. However, many routers combine functions with a switch in a single device.</p></div><p>When you connect your LAN to the Internet, you add a router as a node on the LAN. This kind of router is sometimes called a <span class="emphasis"><em>gateway router</em></span> because packets from your LAN must pass through it on their way to the Internet (and, of course, packets from the Internet also pass through the router on their way to your LAN). The most common gateway routers are specifically designed to supply the right kind of signaling and address conversion required by DSL or cable TV connections.<a class="indexterm" id="IDX-CHP-3-0299"/><a class="indexterm" id="IDX-CHP-3-0300"/><a class="indexterm" id="IDX-CHP-3-0301"/><a class="indexterm" id="IDX-CHP-3-0302"/></p></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="combination_boxes"/>Combination Boxes</h1></div></div></div><p>In relatively small networks, the functions of two or more network control devices are often combined into a single box. For example, a router that connects the network to the Internet could also include a built-in switch that connects several nodes, or a DSL modem might be matched with a gateway router. Many other combinations are also widely available.<a class="indexterm" id="IDX-CHP-3-0303"/><a class="indexterm" id="IDX-CHP-3-0304"/><a class="indexterm" id="IDX-CHP-3-0305"/><a class="indexterm" id="IDX-CHP-3-0306"/><a class="indexterm" id="IDX-CHP-3-0307"/><a class="indexterm" id="IDX-CHP-3-0308"/><a class="indexterm" id="IDX-CHP-3-0309"/><a class="indexterm" id="IDX-CHP-3-0310"/><a class="indexterm" id="IDX-CHP-3-0311"/><a class="indexterm" id="IDX-CHP-3-0312"/><a class="indexterm" id="IDX-CHP-3-0313"/><a class="indexterm" id="IDX-CHP-3-0314"/></p><p>If you can find one that meets your network's requirements, a combined package is almost always a better choice than two or more separate pieces. A single unit is almost always less costly than separate components because the case and the power supply account for a major portion of the total price, and it's often easier to configure the network when one device handles several activities.</p><p>Using a single device that combines two or more activities offers another advantage that might not be obvious until you have been using your network for a while, and you either need to troubleshoot a problem or you want to add more devices to the network: The connections inside a combined device don't require external cables. As <a class="xref" href="ch03s04.html#the_cables_connected_to_your_network_co" title="Figure 3-6. The cables connected to your network controls can often form a confusing mess.">Figure 3-6</a> shows, the area where your network cables plug into your switches, routers, modems, and so forth is almost always a rat's nest of confusing wiring; anything you can do to reduce the number of cables will make things a lot easier.</p><div class="figure"><a id="the_cables_connected_to_your_network_co"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject3_d1e2536"/><img alt="The cables connected to your network controls can often form a confusing mess." src="tagoreillycom20090324nostarchimages266230.png.jpg"/></div></div><p class="title"><b>Figure 3-6. The cables connected to your network controls can often form a confusing mess.</b></p></div><br class="figure-break"/></div></body></html>