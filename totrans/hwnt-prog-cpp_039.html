<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_45">
<a name="ch04" class="calibre6" id="ch04"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="46" class="calibre16" id="46"/><a name="ch04lev1sec11" class="calibre16" id="ch04lev1sec11"/><span class="chapter-titlelabel">Program 37: </span>This Program Has a Point</h2><p class="b24-bookeditorial">The following program is designed to zero the array <span>data</span>, but sometimes it does something else.</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * Pointer demonstration.                       *
  3  ************************************************/
  4 #include &lt;iostream&gt;
  5
  6 static int data[16];    // Data to be stored
  7 static int n_data = 0;  // Number of items stored
  8
  9 int main()
 10 {
 11     int *data_ptr;      // Pointer to current item
 12
 13     // Zero the data array
 14     for (data_ptr = data+16-1;
 15          data_ptr &gt;= data;
 16          --data_ptr)
 17     {
 18         *data_ptr = 0;
 19     }
 20
 21     // Enter data into the array
 22     for (n_data = 0; n_data &lt; 16; ++n_data) {
 23         std::cout &lt;&lt;
 24             "Enter an item or 0 to end: ";
 25         std::cin &gt;&gt; data[n_data];
 26
 27         if (data[n_data] == 0)
 28             break;
 29     }
 30
 31     // Index for summing
 32     int index;
 33
 34     // Total of the items in the array
 35     int total = 0;
 36
 37     // Add up the items in the array
 38     for (index = 0; index &lt; n_data; ++index)
 39         total += data[index];
 40
 41     // Print the total
 42     std::cout &lt;&lt; "The total is: " &lt;&lt;
 43         total &lt;&lt; std::endl;
 44
 45     return (0);
 46 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#223" target="_parent" class="calibre2">Hint 87</a>. <a href="LiB0121.html#519" target="_parent" class="calibre2">Answer 21</a>.)</p>
<div class="calibre1">
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="Start Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
<p class="b24-bookeditorial">A company I worked with had a communications line that would fail every day at exactly 5:00 p.m. Every morning it would automatically start up around 7:00 a.m. Extensive checks of both the hardware revealed nothing. Finally, an engineer was assigned to stay after hours and watch the communications line. That night the problem went away.</p>
<p class="b24-bookeditorial">The next night the communications went down as usual. The next night the engineer stayed late and the problem went away. After several cycles of this it was determined that the communications line would crash at 5:00 p.m. unless an engineer was watching it.</p>
<p class="b24-bookeditorial">Finally one night an engineer decided to make a final check of the communications modem before leaving for the day. It was working. He turned out the lights and happened to glance back at the modem. It was dead. Turned on the lights, it came back on. Flipping the light switch on and off he found out that the modem was plugged into a switch wall socket.</p>
<p class="b24-bookeditorial">Mystery solved. When the staff left for the day, they turned off the lights, killing the modem. When they came in the next day, they turned on the lights. The engineer couldn't find the problem when he pulled his all-nighters because he left the lights on so he could watch the equipment.</p>
<p class="b24-bookeditorial">The modem was plugged into a regular wall socket, and all communications problems disappeared.</p>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="End Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
</div>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td height="16" class="calibre8"/>
</tr>
</table>
</div>
</div>



</body></html>