- en: Part I-2. THE OPEN SYSTEMS INTERCONNECTION (OSI) REFERENCE MODEL
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一部分-2. 开放系统互联（OSI）参考模型
- en: '[Chapter 5](ch05.html "Chapter 5. GENERAL OSI REFERENCE MODEL ISSUES AND CONCEPTS")'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '[第五章](ch05.html "第五章. 一般OSI参考模型问题和概念")'
- en: '[Chapter 6](ch06.html "Chapter 6. OSI REFERENCE MODEL LAYERS")'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '[第六章](ch06.html "第六章. OSI参考模型层次")'
- en: '[Chapter 7](ch07.html "Chapter 7. OSI REFERENCE MODEL SUMMARY")'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[第七章](ch07.html "第七章. OSI参考模型总结")'
- en: Models are useful because they help us understand difficult concepts and complicated
    systems. When it comes to networking, there are several models that are used to
    explain the roles played by various technologies and how they interact. Of these,
    the most popular and commonly used is the Open Systems Interconnection (OSI) Reference
    Model. The OSI Reference Model makes it easier for networks to be analyzed, designed,
    built, and rearranged, by allowing them to be considered as modular pieces that
    interact in predictable ways, rather than enormous, complex monoliths.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 模型是有用的，因为它们帮助我们理解复杂的概念和系统。当涉及到网络时，有几个模型被用来解释各种技术所扮演的角色以及它们是如何相互作用的。在这些模型中，最流行和最常用的就是开放系统互联（OSI）参考模型。OSI参考模型通过允许网络被视为以可预测的方式相互作用的模块化组件，而不是庞大的、复杂的单体，使得网络的分析、设计、构建和重新排列变得更加容易。
- en: You'll find that it's nearly impossible to read a lot about networking without
    encountering discussions that presume at least some knowledge of how the OSI Reference
    Model works. This is why I strongly advise that if you are new to the OSI Reference
    Model, you read this part carefully. While it is all arguably background material,
    this information will give you a foundation for understanding networks, as well
    as make the rest of the book easier to follow. If you are quite familiar with
    the OSI Reference Model, you may wish to skip this part or just skim through it.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 你会发现，在阅读大量关于网络的内容时，几乎不可能不遇到一些讨论，这些讨论假设至少对OSI参考模型的工作方式有一些了解。这就是为什么我强烈建议，如果你是OSI参考模型的新手，你应该仔细阅读这部分内容。虽然这所有内容都可以说是背景材料，但这些信息将为你理解网络打下基础，并使本书的其余部分更容易理解。如果你对OSI参考模型非常熟悉，你可能希望跳过这部分内容或只是快速浏览一下。
- en: This part is geared to a discussion of networks and internetworks in general,
    and not specifically to the TCP/IP protocol suite. Therefore, not all of the material
    in this section is directly relevant to learning about TCP/IP, although much of
    it is. You may also wish to refer to [Part I-3](pt03.html "Part I-3. TCP/IP PROTOCOL
    SUITE AND ARCHITECTURE"), which includes a discussion of how the TCP/IP and OSI
    models compare.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分旨在讨论网络和互联网的一般性，而不是专门针对TCP/IP协议套件。因此，本节中并非所有材料都与学习TCP/IP直接相关，尽管其中很多是。你也可以参考[第一部分-3](pt03.html
    "第一部分-3. TCP/IP协议套件和架构")，其中讨论了TCP/IP和OSI模型之间的比较。
- en: In this part, I describe the OSI Reference Model in detail. I begin with a discussion
    of some general concepts related to the OSI Reference Model and networking models
    overall. I then describe each of the seven layers of the OSI Reference Model.
    I conclude with a summary chapter that includes a useful analogy to help you understand
    how the reference model works to explain the interaction of networks on multiple
    levels. That chapter also presents a reference table of the layers and their respective
    functions.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在这部分，我详细描述了OSI参考模型。我首先讨论了一些与OSI参考模型和网络模型总体相关的一般概念。然后，我描述了OSI参考模型的七个层次。最后，我通过一个有用的类比来总结，帮助你理解参考模型是如何在多个层面上解释网络交互的。那一章还提供了一个层次及其相应功能的参考表。
- en: Chapter 5. GENERAL OSI REFERENCE MODEL ISSUES AND CONCEPTS
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第五章. 一般OSI参考模型问题和概念
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages287681.png.jpg)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图片](httpatomoreillycomsourcenostarchimages287681.png.jpg)'
- en: The idea behind the OSI Reference Model is to provide a framework for both designing
    networking systems and explaining how they work. As you read about networking,
    you will frequently find references to the various levels, or layers, of the OSI
    Reference Model. However, before I can properly discuss the actual OSI model *layers*,
    you need to understand the model as a whole.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型背后的理念是为设计网络系统和解释它们的工作提供框架。当你阅读有关网络的内容时，你经常会发现对OSI参考模型的各个级别或层次的引用。然而，在我能够正确讨论实际的OSI模型层次之前，你需要理解整个模型。
- en: In this chapter, I introduce the OSI Reference Model and provide some useful
    background information to help you understand it. I begin with a brief history
    of the model, including a look at its development and goals. I then introduce
    networking models in general terms, describing why they are beneficial and how
    they can best be used. The bulk of the chapter contains important OSI model concepts,
    which will help you begin to really understand the way model works, the terminology
    used to describe it, and how it can be of value in explaining the operation of
    networking technologies.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我介绍了OSI参考模型，并提供了一些有用的背景信息，以帮助您理解它。我首先简要回顾了该模型的历史，包括其发展和目标。然后，我以一般术语介绍了网络模型，描述了它们的好处以及如何最好地使用它们。本章的大部分内容包含重要的OSI模型概念，这将帮助您真正理解模型的工作方式，描述它的术语以及它如何有助于解释网络技术的操作。
- en: History of the OSI Reference Model
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OSI参考模型的历史
- en: A look at the origins of the OSI Reference Model takes us back to several issues
    related to standards and standards organizations that were discussed in [Chapter 3](ch03.html
    "Chapter 3. NETWORK STANDARDS AND STANDARDS ORGANIZATIONS"). The idea behind the
    creation of networking standards is to define widely accepted ways of setting
    up networks and connecting them together. The OSI Reference Model represented
    an early attempt to get all of the various hardware and software manufacturers
    to agree on a framework for developing various networking technologies.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 查看OSI参考模型的起源，将我们带回到[第3章](ch03.html "第3章. 网络标准和标准组织")中讨论的与标准和标准组织相关的几个问题。创建网络标准的理念是为了定义广泛接受的设置网络和连接网络的方式。OSI参考模型代表了早期尝试让所有各种硬件和软件制造商就开发各种网络技术框架达成一致的努力。
- en: 'In the late 1970s, two projects began independently with the same goal: to
    define a unifying standard for the architecture of networking systems. One was
    administered by the *International Organization for Standardization (ISO)*, while
    the other was undertaken by the *International Telegraph and Telephone Consultative
    Committee*, or *CCITT* (the abbreviation is from the French version of the name).
    These two international standards bodies each developed a document that defined
    similar networking models.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在20世纪70年代末，两个项目独立开始，目标相同：为网络系统的架构定义一个统一的标准。一个是国际标准化组织（ISO）管理的，另一个是由国际电报电话咨询委员会（CCITT）或简称*CCITT*（该缩写来自法语名称）承担的。这两个国际标准机构各自开发了一份定义类似网络模型的文件。
- en: In 1983, these two documents were merged to form a standard called *The Basic
    Reference Model for Open Systems Interconnection*. That's a mouthful, so the standard
    is usually referred to as the *Open Systems Interconnection Reference Model*,
    the *OSI Reference Model*, or even just the *OSI model*. It was published in 1984
    by both the ISO, as standard ISO 7498, and the renamed CCITT (now called the *Telecommunications
    Standardization Sector of the International Telecommunication Union* or *ITU-T*)
    as standard X.200\. (Incidentally, isn't the new name for the CCITT *much* catchier
    than the old one? Just rolls off the old tongue, doesn't it?)
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 到1983年，这两份文件合并形成了一个名为*开放系统互连基本参考模型*的标准。这个名字听起来很复杂，所以这个标准通常被称为*开放系统互连参考模型*、*OSI参考模型*，甚至简称为*OSI模型*。它于1984年由ISO作为ISO
    7498标准以及更名为CCITT（现在称为国际电信联盟的*电信标准化部门*或*ITU-T*）作为X.200标准发布。（顺便说一句，CCITT的新名字不是比旧名字*有趣得多*吗？听起来是不是顺耳多了？）
- en: One interesting aspect of the history of the OSI Reference Model is that the
    original objective was *not* to create a model primarily for educational purposes,
    even though many people today think that this was the case. It was intended to
    serve as the foundation for the establishment of a widely adopted suite of protocols
    that would be used by international internetworks—basically, what the Internet
    became. This was called, unsurprisingly, the OSI protocol suite.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型的历史中一个有趣的方面是，其原始目标并不是为了创建一个主要用于教育目的的模型，尽管今天许多人认为这是事实。它的目的是作为建立一个广泛采用的协议套件的基石，这些协议将被国际互联网使用——基本上，这就是互联网成为的样子。这被称为OSI协议套件，毫不奇怪。
- en: However, things didn't quite work out as planned. The rise in popularity of
    the Internet and its TCP/IP protocols met the OSI protocol suite head on, and
    in a nutshell, TCP/IP won. Some of the OSI protocols were implemented, but as
    a whole, the OSI protocols lost out to TCP/IP when the Internet started to grow.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，事情并没有按计划进行。互联网的普及及其TCP/IP协议与OSI协议套件正面相遇，简而言之，TCP/IP取得了胜利。一些OSI协议得到了实施，但当互联网开始增长时，OSI协议整体上输给了TCP/IP。
- en: The OSI model itself, however, found a home as a device for explaining the operation
    of not just the OSI protocols, but networking in general. It's used widely as
    an educational tool—much as I use it myself—and it's also used to help describe
    interactions between the components of other protocol suites and even hardware
    devices. Although most technologies were not designed specifically to meet the
    dictates of the OSI model, many are described in terms of how they fit into its
    layers. This includes networking protocols, software applications, and even different
    types of hardware devices, such as switches and routers. The model is also useful
    to those who develop software and hardware products because it clarifies the roles
    performed by each of the components in a networking system.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，OSI模型本身找到了一个家，作为一个解释不仅OSI协议，而且网络总体运作的设备。它被广泛用作教育工具——就像我本人使用它一样——并且也被用来帮助描述其他协议套件组件和甚至硬件设备之间的交互。尽管大多数技术并非专门为满足OSI模型的要求而设计，但许多都是根据它们如何适应其层级来描述的。这包括网络协议、软件应用，甚至不同类型的硬件设备，如交换机和路由器。该模型对开发软件和硬件产品的那些人也非常有用，因为它阐明了网络系统中每个组件所执行的角色。
- en: Tip
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** The *Open Systems Interconnection Reference Model* (*OSI Reference
    Model* or *OSI model*) was originally created as the basis for designing a universal
    set of protocols called the *OSI protocol suite*. This suite never achieved widespread
    success, but the model became a very useful tool for both education and development.
    The model defines a set of layers and a number of concepts for their use that
    make understanding networks easier.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** *开放系统互联参考模型*（*OSI参考模型*或*OSI模型*）最初被创建作为设计一套通用协议的基础，这套协议被称为*OSI协议套件*。这个套件从未取得广泛的成功，但该模型成为了一个非常有用的工具，既适用于教育，也适用于开发。该模型定义了一系列层级及其使用概念，使得理解网络变得更加容易。'
- en: General Reference Model Issues
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一般参考模型问题
- en: Let's discuss some of the basic issues related to reference models. In part,
    I want to explain why I place so much emphasis on the OSI model, even going so
    far as to build much of this book's organization around this model and its layers.
    I also want you to understand why the model is important, and how it benefits
    networking not only on a conceptual level, but in reality.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们讨论一些与参考模型相关的基本问题。部分原因是我想要解释为什么我对OSI模型如此重视，甚至将本书的大部分组织结构都围绕这个模型及其层级构建。我还希望您理解这个模型的重要性，以及它在现实中对网络的好处。
- en: In the topics that follow, I describe several issues that relate to reference
    models in general terms, and of course, to the OSI Reference Model specifically.
    I begin with an overview of why networking models are beneficial and why it is
    important for you to understand how the OSI model works. I then talk about how
    best to use the model and contrast it with some "real-world" network architectures
    and protocol stacks.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的主题中，我以一般性的方式描述了与参考模型相关的一些问题，当然，特别是与OSI参考模型相关。我首先概述了为什么网络模型是有益的，以及为什么了解OSI模型的工作原理对您来说很重要。然后，我讨论了如何最好地使用该模型，并将其与一些“现实世界”的网络架构和协议栈进行对比。
- en: The Benefits of Networking Models
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络模型的好处
- en: Networking is complicated, and special pains must be taken to try to *simplify*
    it. One of the ways in which networking technology is made easier to understand
    is by splitting it into pieces, each of which plays a particular role or is responsible
    for a specific job or function.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 网络很复杂，必须特别努力来尝试*简化*它。网络技术变得更容易理解的一种方式是将它分解成各个部分，每个部分都扮演特定的角色或负责特定的任务或功能。
- en: However, if this is to be done, you must have a way of ensuring that these various
    pieces can interoperate; that is, each must know what is expected of it and also
    what it can expect from the other pieces. This is one of the important roles of
    networking models. They split the multitude of tasks required to implement modern
    networks into smaller chunks that can be more easily managed. Just as importantly,
    they establish "walls" between those pieces and rules for passing information
    over those walls.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果要做这件事，你必须有一种确保这些不同部分可以互操作的方法；也就是说，每个部分都必须知道对其的期望以及它可以从其他部分期望什么。这是网络模型的一个重要角色。它们将实现现代网络所需的大量任务分解为更小的块，这些块可以更容易地管理。同样重要的是，它们在这些部分之间建立“墙壁”以及跨越这些墙壁传递信息的规则。
- en: 'A good analogy of a networking model is that of an assembly line at a manufacturer.
    No company attempts to have one person build an entire car; even if the company
    did, it wouldn''t expect that individual to be able to learn how to do it all
    at once. The division of labor offers several advantages to a company that builds
    a complex product, such as an automobile. Generally speaking, these include the
    following:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 一个网络模型的良好类比是制造商的装配线。没有公司试图让一个人构建一辆完整的汽车；即使公司这样做，也不会期望这个人能够一次性学会如何完成所有工作。劳动分工为构建复杂产品（如汽车）的公司提供了几个优势。一般来说，这些包括以下内容：
- en: '**Training and Documentation** It is easier to explain how to build a complex
    system by breaking the process into smaller parts. Training can be done for a
    specific job without everyone needing to know how everything else works.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**培训和文档** 通过将构建复杂系统的过程分解为更小的部分，解释如何构建系统会更容易。可以为特定的工作进行培训，而不需要每个人都了解其他所有工作的运作方式。'
- en: '**Specialization** If everyone is responsible for doing every job, no one gets
    enough experience to become an expert at anything. Through specialization, certain
    individuals develop expertise at particular jobs.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**专业化** 如果每个人都负责做每一项工作，没有人会积累足够经验成为任何领域的专家。通过专业化，某些个人会在特定工作中发展出专业知识。'
- en: '**Easier Design Modification and Enhancement** By separating the automobile
    into systems as well as the particular jobs required to build those systems, you
    can make changes in the future more easily. Without such divisions, it would be
    much more difficult to determine what the impact might be of a change, which would
    serve as a disincentive for innovation.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**更易进行设计和改进** 通过将汽车分解为系统以及构建这些系统所需的特定工作，你可以在未来更容易地进行更改。如果没有这样的划分，确定更改可能产生的影响将会非常困难，这会抑制创新。'
- en: '**Modularity** This is related to each of the previous items. If the automobile''s
    systems and manufacturing steps are broken down according to a sensible architecture
    or model, it becomes easier to interchange parts and procedures between vehicles.
    This saves time and money.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '**模块化** 这与前面提到的每一项都有关。如果汽车的系统和生产步骤根据合理的架构或模型分解，那么在车辆之间交换零件和程序就会变得更容易。这节省了时间和金钱。'
- en: Networking models yield very similar benefits to the networking world. They
    represent a framework for dividing up the tasks needed to implement a network
    by splitting the work into different levels, or *layers*. Hardware and software
    running on each layer are responsible for interacting with corresponding hardware
    and software that are running on other devices on the same layer. The responsibilities
    of each hardware or software element are defined in part by specifically dividing
    lines between the layers.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 网络模型为网络世界带来了非常相似的好处。它们代表了一个框架，通过将工作分割为不同的级别或*层*来划分实现网络所需的任务。运行在每个层上的硬件和软件负责与其他设备上运行的同层硬件和软件进行交互。每个硬件或软件元素的责任部分是通过在层之间划分特定的界限来定义的。
- en: 'As a result, you get all of the benefits listed in the previous points: easier
    training, specialized capabilities at each layer, improved capabilities for modification,
    and modularity. Modularity is particularly important, because it allows you to
    interchange technologies that run at different layers. While no one would try
    to build a vehicle that is partly a compact sedan, partly an SUV, and partly a
    motorcycle, there are situations in networking for which you may want to do something
    surprisingly similar to this. Networking models help make this possible.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你将获得前面列出的所有好处：更容易的培训、每一层的专用功能、改进的修改能力以及模块化。模块化尤其重要，因为它允许你交换在不同层运行的技术。虽然没有人会尝试建造一辆部分是紧凑型轿车、部分是SUV、部分是摩托车的车辆，但在网络中，你可能想要做类似的事情。网络模型有助于实现这一点。
- en: Tip
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** Networking models such as the *OSI Reference Model* provide
    a framework for breaking down complex internetworks into components that can more
    easily be understood and utilized. The model defines networking functions not
    as a large, complicated whole, but as a set of layered, modular components, each
    of which is responsible for a particular function. The result is better comprehension
    of network operations, improved performance and functionality, easier design and
    development, and the ability to combine different components in a way that''s
    best suited to the needs of the network.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 网络模型，如*OSI参考模型*，提供了一个框架，将复杂的互连网络分解为更容易理解和利用的组件。该模型将网络功能定义为不是一个大而复杂的整体，而是一组分层、模块化的组件，每个组件负责特定的功能。结果是更好地理解网络操作、提高性能和功能、更容易的设计和开发，以及以最适合网络需求的方式组合不同组件的能力。'
- en: Why Understanding the OSI Reference Model Is Important to You
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为什么理解OSI参考模型对你很重要
- en: A lot of networking books and other resources gloss over the OSI Reference Model
    or relegate it to the back pages of a hard-to-find appendix. The reason usually
    stated for this is that the OSI model is "too theoretical" and "doesn't apply
    to modern networking protocols like TCP/IP."
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 许多网络书籍和其他资源都忽略了OSI参考模型，或者将其放在难以找到的附录的最后一页。通常给出的原因是OSI模型“过于理论化”并且“不适用于现代网络协议如TCP/IP”。
- en: This is a misguided notion. While it is certainly true that the OSI model is
    primarily theoretical, and that networking protocols aren't always designed to
    fit strictly within the confines of their layers, it's *not* true that the OSI
    model has little applicability to the real world. In fact, it is difficult to
    read about networking technology today without seeing references to the OSI model
    and its layers, because the model's structure helps to frame discussions of protocols
    and contrast various technologies.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个错误的观念。虽然确实如此，OSI模型主要是理论性的，而且网络协议并不总是严格地设计在它们的层内，但OSI模型对现实世界的适用性很小这一说法是不正确的。事实上，现在很难阅读关于网络技术的文章而不看到对OSI模型及其层的引用，因为该模型的结构有助于构建对协议的讨论和对比各种技术。
- en: For example, the OSI Reference Model provides the basis for understanding how
    technologies like Ethernet and HomePNA are similar; it explains how a PC can communicate
    using any of several different sets of protocols, even simultaneously; it is an
    important part of understanding the differences between interconnection devices
    such as repeaters, hubs, bridges, switches, and routers; and it also explains
    how many WAN technologies interoperate.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，OSI参考模型为理解像以太网和HomePNA这样的技术如何相似提供了基础；它解释了PC如何使用几组不同的协议进行通信，甚至可以同时使用；它是理解诸如中继器、集线器、网桥、交换机和路由器等互连设备之间差异的重要组成部分；它还解释了许多广域网技术如何互操作。
- en: Far from being obsolete, the OSI model layers are now showing up more than ever
    in discussions of technology. In fact, some protocols are even *named* specifically
    in terms of their place in the OSI Reference Model! For an example, consider the
    Layer Two Tunneling Protocol. Also, switches are now commonly categorized as layer
    2, layer 3, or even higher-layer switches.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: OSI模型层远非过时，现在在技术讨论中出现的频率比以往任何时候都要高。事实上，一些协议甚至被*特别命名*，以反映它们在OSI参考模型中的位置！例如，考虑第二层隧道协议。此外，交换机现在通常被分类为第2层、第3层，甚至更高层的交换机。
- en: In theoretical discussions, the OSI Reference Model helps you to understand
    how networks and network protocols function in the real world. It also helps you
    to figure out which protocols and devices can interact with each other. So I encourage
    you to read on. It's time well spent.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在理论讨论中，OSI参考模型帮助你理解网络和网络协议在现实世界中的运作方式。它还帮助你确定哪些协议和设备可以相互交互。因此，我鼓励你继续阅读。这是值得花费的时间。
- en: Tip
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** While many people scoff at the notion of studying the OSI Reference
    Model, understanding it is very helpful in making sense of networking protocols
    and technologies. The model is theoretical, but its concepts are employed regularly
    to describe the operation of real-world networks.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 当许多人嘲笑研究OSI参考模型这一概念时，理解它对于理解网络协议和技术非常有帮助。该模型是理论性的，但其概念经常被用来描述现实世界中网络的运作。'
- en: How to Use the OSI Reference Model
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何使用OSI参考模型
- en: Although some people tend to downplay the OSI model too much, others go to the
    opposite extreme. They use it too much, overanalyzing and trying to use it in
    a way that was never intended.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管有些人过分贬低OSI模型，但其他人则走向另一个极端。他们过度使用它，过度分析，并试图以从未打算的方式使用它。
- en: The most common mistake is made when attempting to try to "make everything fit"
    into the layered structure of the OSI model. I must confess to falling into this
    trap myself on occasion. When I first started laying out the structure of this
    book, I wanted to organize *everything* based on where it fell in terms of OSI
    model layers. I quickly discovered that this was like attempting to put pegs of
    various shapes into a board containing only round holes. I had to change my approach.
    I ended up organizing it based on the OSI layers where it made sense and using
    a different structure where it did not.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 最常见的错误是在尝试将“一切”都“适应”到OSI模型的分层结构中时犯下的。我必须承认，有时我也会陷入这个陷阱。当我最初开始安排这本书的结构时，我希望根据OSI模型层的位置来组织*所有*内容。我很快发现，这就像试图将各种形状的钉子放入只有圆形孔的板上。我不得不改变我的方法。最终，我根据它对OSI层的合理性来组织，在不合理的地方则采用不同的结构。
- en: 'Learn from my experience. A simple rule of thumb is this: Refer to the OSI
    Reference Model if it helps you make sense of technologies and understand how
    they work; *don''t* use it if it makes things more complicated. In particular,
    bear the following in mind:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 从我的经验中学习。一个简单的经验法则是这样的：如果参考OSI参考模型能帮助你理解技术及其工作原理，那么就使用它；如果它使事情变得更复杂，那么就*不要*使用它。特别是，请记住以下几点：
- en: It can be very hard to figure out where some technologies fall within the model.
    Many protocols were designed without the OSI model in mind, and they may not fall
    neatly into one layer or another. Some overlap two or more layers; other protocol
    suites may have two protocols that share a layer.
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定某些技术在该模型中的位置可能非常困难。许多协议在设计时并未考虑OSI模型，它们可能无法整齐地归入某一层。有些协议可能跨越两层或多层；其他协议集可能有两个协议共享同一层。
- en: The boundaries between the upper layers (session, presentation, and application)
    get particularly fuzzy. Some protocols are clearly designed to fit on one of these
    layers, while others may overlap all three. This is one reason why I do not categorize
    higher-level protocols by layer. (The OSI Reference Model was designed to account
    for the fact that differentiating between these layers might not make sense.)
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上层（会话、表示和应用）之间的界限尤其模糊。有些协议显然是为适应这些层之一而设计的，而其他协议可能重叠所有三个层。这也是为什么我不按层对高级协议进行分类的原因之一。（OSI参考模型是为了解释区分这些层可能没有意义而设计的。）
- en: The OSI Reference Model was designed primarily with LANs in mind. WAN technologies
    often fit very poorly into the model, with a lot of overlapping and partial layer
    coverage. However, it's still useful in most cases to look at these protocols
    in terms of their approximate fit in the OSI model, since parts of WAN technologies
    are sometimes interchanged.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OSI参考模型主要是为了考虑局域网（LANs）而设计的。广域网（WAN）技术往往很难适应该模型，存在大量重叠和部分层覆盖。然而，在大多数情况下，从OSI模型的大致适应角度来考虑这些协议仍然是有用的，因为WAN技术的某些部分有时可以互换。
- en: The people who design products don't generally worry about ensuring that their
    latest inventions implement only specific layers of the model. Thus, sometimes
    new products come out that break the rules and implement functions across more
    than one layer, which used to be done by multiple devices at the individual layers.
    This is usually progress—a good thing!
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设计产品的人们通常不会担心确保他们的最新发明只实现模型的具体层级。因此，有时新产品会违反规则，在多个层级上实现功能，这在以前是由多个设备在各个层级上完成的。这通常被视为进步——一件好事！
- en: 'Finally, an observation: I have noticed that people learning about networking—especially
    those trying to memorize easy answers to difficult questions so they can pass
    exams—often ask, "At what layer does this piece of hardware operate?" The problem
    here is not the answer but rather the question, which is simplistic. With the
    exception of simple physical devices such as connectors and cables, pretty much
    *all* networking devices operate at many layers. While a router, for example,
    is usually associated with layer 3, it has two or more device interfaces that
    implement layers 2 and 1\. A better question is what is the *highest* layer at
    which a device functions?'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，一个观察：我注意到学习网络知识的人——尤其是那些试图记住简单答案以应对难题以便通过考试的人——经常问：“这块硬件在哪个层级运行？”这里的问题不在于答案，而在于问题本身过于简单。除了简单的物理设备，如连接器和电缆之外，几乎所有网络设备都在多个层级上运行。例如，虽然路由器通常与第3层相关联，但它有两个或更多设备接口，实现了第2层和第1层。一个更好的问题是，设备在哪个**最高**层级上运行？
- en: The bottom line is that the OSI Reference Model is a tool. If you use it wisely,
    it can be immensely helpful to you. Just remember not to be too inflexible in
    how you apply it, and you'll be fine.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要记住，OSI参考模型是一个工具。如果你明智地使用它，它可以对你非常有帮助。只需记住不要在应用它时过于僵化，你就会没事的。
- en: Tip
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** It is just as much a mistake to assign too much importance
    to the OSI Reference Model as too little. While the model defines a framework
    for understanding networks, not all networking components, protocols, and technologies
    will necessarily fall into the model''s strict layering architecture. There are
    cases in which trying to use the model to describe certain concepts can lead to
    less clarity rather than more. You should remember that the OSI model is a *tool*
    and should be used accordingly.'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 过分重视OSI参考模型和过分轻视模型一样都是错误。虽然该模型定义了理解网络的一个框架，但并非所有网络组件、协议和技术都必然符合模型严格的分层架构。有些情况下，试图使用该模型来描述某些概念可能会导致理解更加模糊，而不是更加清晰。你应该记住，OSI模型是一个**工具**，应该相应地使用。'
- en: Other Network Architectures and Protocol Stacks
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他网络架构和协议栈
- en: The OSI Reference Model is not the only model used to describe the structure
    of networks; several other models and systems are used to describe various sets
    of networking technologies that work together. These don't generally describe
    theoretical models, but rather groupings of protocols that are actively used in
    actual networks. They are, therefore, more often called *networking architectures*
    and *protocol suites* than models.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型不是唯一用于描述网络结构的模型；还有其他几个模型和系统被用来描述各种协同工作的网络技术集合。这些通常不是描述理论模型，而是实际网络中积极使用的协议分组。因此，它们更常被称为**网络架构**和**协议套件**，而不是模型。
- en: As you just saw, many technologies and protocols don't "fit" well into the specific
    layers used in the OSI model. Similarly, most of the protocol suites used in the
    real world don't fit the OSI model exactly. This happens, of course, because they
    were developed independently of the OSI model. Still, most of these architectures
    and suites still use layers—they are just different from the ones that the OSI
    model uses.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，许多技术和协议并不很好地适应OSI模型中使用的特定层级。同样，在现实世界中使用的多数协议套件也不完全符合OSI模型。当然，这是因为它们是在独立于OSI模型的情况下开发的。尽管如此，这些架构和套件仍然使用层级——只是与OSI模型使用的层级不同。
- en: Since the OSI model is referenced so often, it can be very helpful in making
    sense of other architectures and even comparing them. Regardless of what the individual
    layers and technologies are called, networking protocol suites all try to accomplish
    the same goals in implementing a network. Thus, even though the layers are not
    the same, they are often comparable.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 由于OSI模型经常被引用，它对于理解其他架构甚至比较它们非常有帮助。无论各个层和技术被称为什么，网络协议套件都试图在实现网络时达到相同的目标。因此，尽管层不相同，但它们通常是可以比较的。
- en: In the case of TCP/IP, a special model called the DoD (Department of Defense)
    model or TCP/IP model is usually used in discussions of the suite (see [Chapter 8](ch08.html
    "Chapter 8. TCP/IP PROTOCOL SUITE AND ARCHITECTURE")). This model has many similarities
    to the OSI model, but also some important differences. In other areas in the field
    of networking, still other models are used, such as the IEEE 802 networking architecture
    model. These, too, are similar in some ways to the OSI model, but they have their
    own unique characteristics.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在TCP/IP的情况下，通常在讨论套件时使用一个特殊的模型，称为国防部（DoD）模型或TCP/IP模型（参见第8章[Chapter 8. TCP/IP
    PROTOCOL SUITE AND ARCHITECTURE]）。这个模型与OSI模型有许多相似之处，但也有一些重要的区别。在网络领域的其他领域，还使用其他模型，例如IEEE
    802网络架构模型。这些模型在某些方面与OSI模型相似，但它们也有自己独特的特点。
- en: Even within the scope of some individual specific technologies, you can see
    a layered structure of related protocols. There are technologies that are generally
    considered to implement a single level of the OSI model, even though they actually
    have portions that overlap several OSI layers; examples include Ethernet and Asynchronous
    Transfer Mode (ATM). In fact, some protocols even have *subprotocols* that are
    layered within the confines of what is considered a single layer under OSI. A
    good example is the TCP/IP Point-to-Point Protocol (PPP), which, despite the name,
    is not a single protocol but a protocol suite unto itself (see [Part II-1](pt04.html
    "Part II-1. TCP/IP NETWORK INTERFACE LAYER PROTOCOLS")).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在某些特定技术的范围内，你也能看到相关协议的分层结构。有些技术通常被认为实现了OSI模型的一个级别，尽管它们实际上有部分重叠多个OSI层；例如，以太网和异步传输模式（ATM）。事实上，一些协议甚至有*子协议*，这些子协议在OSI认为的单个层内分层。一个很好的例子是TCP/IP点对点协议（PPP），尽管名称如此，但它不是一个单独的协议，而是一个自身就是协议套件的协议（参见[Part
    II-1. TCP/IP 网络接口层协议][Part II-1](pt04.html "Part II-1. TCP/IP NETWORK INTERFACE
    LAYER PROTOCOLS")）。
- en: Key OSI Reference Model Concepts
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OSI参考模型的关键概念
- en: The OSI Reference Model is valuable as a tool for explaining how networks function,
    and for describing the relationships between different networking technologies
    and protocols. To accomplish this, the model relies on a number of important concepts
    and terms, which I'll discuss in the following sections.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型作为解释网络如何工作以及描述不同网络技术和协议之间关系的工具非常有价值。为了实现这一目标，模型依赖于许多重要的概念和术语，我将在以下章节中进行讨论。
- en: 'I''ll begin with a discussion of how the model uses layers. This is perhaps
    the single most important of all model concepts. I then talk about some of the
    notation and jargon you are likely to see in general discussions of the model.
    I define in more detail what *interfaces* and *protocols* are in the context of
    the model. I then explain the important concept of data encapsulation and the
    terminology used to refer to messages in the OSI Reference Model: protocol data
    units (PDUs) and service data units (SDUs). Finally, I connect most of the preceding
    issues by describing how the various layers work to handle the routing of messages
    on a theoretical basis.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 我将从讨论模型如何使用层开始。这可能是所有模型概念中最重要的一个。然后，我将谈论一些你可能在模型的一般讨论中看到的符号和术语。我在模型背景下更详细地定义了*接口*和*协议*的含义。接着，我解释了数据封装的重要概念以及用于指代OSI参考模型中消息的术语：协议数据单元（PDUs）和服务数据单元（SDUs）。最后，我通过描述各个层如何从理论上处理消息的路由来连接前面讨论的大部分问题。
- en: OSI Reference Model Networking Layers, Sublayers, and Layer Groupings
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: OSI参考模型网络层、子层和层分组
- en: The most important OSI Reference Model concept is that of networking *layers*.
    It's not an exaggeration to say that layers are really the heart of the OSI model—the
    entire point of the model is to separate networking into distinct functions that
    operate at different levels. Each layer is responsible for performing a specific
    task or set of tasks and dealing with the layers above and below it.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型最重要的概念是网络*层*的概念。说层实际上是OSI模型的核心并不过分——整个模型的目的就是将网络分离成不同级别上操作的独立功能。每一层都负责执行特定的任务或一系列任务，并处理其上下的层。
- en: 'The OSI Reference Model is composed of seven conceptual layers, each of which
    is assigned a number from 1 to 7\. The layer number represents the position of
    the layer in the model as a whole, and indicates how close the layer is to the
    actual hardware used to implement a network. The first and lowest layer is the
    *physical layer*, which is where low-level signaling and hardware are implemented.
    The seventh and highest layer is the *application layer*, which deals with high-level
    applications employed by users: both end users and the operating system software.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型由七个概念层组成，每个层都被分配了一个从1到7的数字。层号代表层在整个模型中的位置，并表明层与实现网络的实际硬件的接近程度。第一层也是最低层是*物理层*，这是低级信号和硬件实现的地方。第七层也是最高层是*应用层*，它处理用户使用的高级应用：既包括最终用户也包括操作系统软件。
- en: You can see that as you proceed from the first layer to the seventh, you move
    up the *layer stack* and, in so doing, increase your level of *abstraction*. This
    means that the higher a layer is in the stack, the more it deals with logical
    concepts and software, and the less it deals with the hardware of a network and
    the nuts and bolts of making it work. The first layer is the most concrete, because
    it deals with the actual hardware of networks and the specific methods of sending
    bits from one device to another. It is the domain of hardware engineers and signaling
    experts. The second layer is a bit more abstract but still deals with signaling
    and hardware. As you proceed through the third, fourth, and subsequent layers,
    the technologies at those layers become increasingly abstract. By the time you
    reach the seventh layer, you are no longer dealing with hardware or even operating
    system concepts very much; you are in the realm of the user and high-level programs
    that rely on lower levels to do the "heavy lifting" for them.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，当你从第一层移动到第七层时，你是在向上移动*层堆栈*，并且在这个过程中，你的抽象级别在增加。这意味着层堆栈中层的级别越高，它就越处理逻辑概念和软件，而越少处理网络的硬件以及使其工作的细节。第一层是最具体的，因为它处理网络的实际硬件以及将比特从一台设备发送到另一台设备的特定方法。这是硬件工程师和信号专家的领域。第二层稍微抽象一些，但仍然处理信号和硬件。当你通过第三、第四和随后的层时，那些层的科技变得越来越抽象。当你到达第七层时，你不再处理硬件甚至操作系统概念，你处于用户和依赖较低级别来完成“重活”的高级程序的领域。
- en: 'The OSI Reference Model does not formally assign any relationship between groups
    of adjacent layers. However, to help explain how the layers work, it is common
    to categorize them into two *layer groupings*:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型并没有正式地将相邻层之间的关系分配给任何组。然而，为了帮助解释层是如何工作的，通常将它们分为两种*层分组*：
- en: '**Lower Layers (Layers 1, 2, 3, and 4)** As shown in [Figure 5-1](ch05s03.html#osi_reference_model_layers_the_osi_refer
    "Figure 5-1. OSI Reference Model layers The OSI Reference Model divides networking
    functions into a stack of seven layers, numbered 1 through 7 from the bottom up,
    and sometimes divided into two layer groupings—the lower layers and the upper
    layers."), the lower layers of the model—*physical, data link, network,* and *transport*—are
    primarily concerned with the formatting, encoding, and transmission of data over
    the network. They don''t care that much about what the data is or what it is being
    used for; instead, they just want to know about moving it around. They are implemented
    in both hardware and software, with the transition from hardware to software occurring
    as you proceed up from layer 1 to layer 4.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '**底层（第1层、第2层、第3层和第4层）** 如[图5-1](ch05s03.html#osi_reference_model_layers_the_osi_refer
    "图5-1. OSI参考模型 OSI参考模型将网络功能划分为一个由下至上的七层堆栈，编号从1到7，有时分为两个层分组——底层和上层")所示，模型的底层——*物理层、数据链路层、网络层*和*传输层*——主要关注在网络中数据的格式化、编码和传输。它们并不太关心数据是什么或者它被用于什么目的；相反，它们只想知道如何移动数据。这些层既可以用硬件实现，也可以用软件实现，从第1层到第4层的过渡是从硬件到软件的。'
- en: '**Upper Layers (Layers 5, 6, and 7)** The higher layers of the model—*session,
    presentation*, and *application*—are concerned primarily with interacting with
    the user and implementing the applications that run over the network. The protocols
    that run at higher layers are less concerned with the low-level details of how
    data gets sent from one place to another; they rely on the lower layers to deliver
    the data. These layers are almost always implemented as software running on a
    computer or other hardware device.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**上层（第5层、第6层和第7层）** 模型的上层——*会话层、表示层*和*应用层*——主要关注与用户的交互以及实现通过网络运行的应用程序。在较高层运行的协议对数据如何从一个地方发送到另一个地方的低级细节不太关心；它们依赖于底层来传递数据。这些层几乎总是作为在计算机或其他硬件设备上运行的软件来实现。'
- en: There are some people who would not necessarily agree with how I have chosen
    to divide the layers in [Figure 5-1](ch05s03.html#osi_reference_model_layers_the_osi_refer
    "Figure 5-1. OSI Reference Model layers The OSI Reference Model divides networking
    functions into a stack of seven layers, numbered 1 through 7 from the bottom up,
    and sometimes divided into two layer groupings—the lower layers and the upper
    layers."). In particular, valid arguments can be made for including the transport
    layer in the upper layer group, since it is usually implemented as software and
    is fairly abstract. I place it in the lower layer group because its primary job
    is still providing services to higher layers for moving data. Really, layer 4
    is somewhat of a transition zone and is hard to categorize. [Figure 5-1](ch05s03.html#osi_reference_model_layers_the_osi_refer
    "Figure 5-1. OSI Reference Model layers The OSI Reference Model divides networking
    functions into a stack of seven layers, numbered 1 through 7 from the bottom up,
    and sometimes divided into two layer groupings—the lower layers and the upper
    layers.") indicates the special position of layer 4 in the stack.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 有些人可能不会完全同意我对[图5-1](ch05s03.html#osi_reference_model_layers_the_osi_refer "图5-1.
    OSI参考模型 OSI参考模型将网络功能划分为一个由下至上的七层堆栈，编号从1到7，有时分为两个层分组——底层和上层")中层次划分的选择。特别是，可以提出合理的论点来支持将传输层包含在上层分组中，因为它通常作为软件实现并且相当抽象。我将其放在底层分组中，因为它的主要任务仍然是为上层提供数据传输的服务。实际上，第4层可以看作是一个过渡区域，很难归类。[图5-1](ch05s03.html#osi_reference_model_layers_the_osi_refer
    "图5-1. OSI参考模型 OSI参考模型将网络功能划分为一个由下至上的七层堆栈，编号从1到7，有时分为两个层分组——底层和上层")显示了第4层在堆栈中的特殊位置。
- en: Tip
  id: totrans-73
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**KEY CONCEPT** The most fundamental concept in the OSI Reference Model is
    the division of networking functions into a set of *layers*, from layer 1 at the
    bottom to layer 7 at the top. As you go up the layer stack, you move away from
    concrete, hardware-specific functions to ones that are increasingly abstract,
    until you reach the realm of user applications at layer 7\. The seven layers are
    sometimes divided into groupings: the lower layers (1 through 3) and the upper
    layers (4 through 7). There is some disagreement on whether layer 4 is a lower
    or upper layer.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** OSI参考模型中最基本的概念是将网络功能划分为一组*层*，从底部的第1层到顶部的第7层。随着你向上移动层堆栈，你将远离具体的、硬件特定的功能，转向越来越抽象的功能，直到你达到第7层的用户应用领域。这七层有时被分为分组：底层（1到3层）和高层（4到7层）。关于第4层是底层还是高层，存在一些争议。'
- en: '![OSI Reference Model layers The OSI Reference Model divides networking functions
    into a stack of seven layers, numbered 1 through 7 from the bottom up, and sometimes
    divided into two layer groupings—the lower layers and the upper layers.](httpatomoreillycomsourcenostarchimages287703.png.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![OSI参考模型层 OSI参考模型将网络功能划分为一个由七层组成的堆栈，从底部向上编号为1到7，有时分为两层分组——底层和高层。](httpatomoreillycomsourcenostarchimages287703.png.jpg)'
- en: Figure 5-1. OSI Reference Model layers The OSI Reference Model divides networking
    functions into a stack of seven layers, numbered 1 through 7 from the bottom up,
    and sometimes divided into two layer groupings—the lower layers and the upper
    layers.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-1. OSI参考模型层 OSI参考模型将网络功能划分为一个由七层组成的堆栈，从底部向上编号为1到7，有时分为两层分组——底层和高层。
- en: There are also certain OSI layers that have natural relationships to each other.
    The physical and data link layers, in particular, are closely related. For example,
    most people talk about Ethernet as a layer 2 technology, but Ethernet specifications
    really deal with both layer 2 and layer 1\. Similarly, layers 3 and 4 are often
    related; protocol suites are often designed so that layer 3 and 4 protocols work
    together. Good examples are TCP and IP in the TCP/IP protocol suite, and IPX and
    SPX in the Novell suite.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还有一些OSI层之间存在着自然的关系。特别是物理层和数据链路层，它们之间关系密切。例如，大多数人将以太网视为第2层技术，但以太网规范实际上处理了第2层和第1层。同样，第3层和第4层也经常相关；协议套件通常设计得使得第3层和第4层协议可以协同工作。TCP/IP协议套件中的TCP和IP，以及Novell套件中的IPX和SPX是很好的例子。
- en: In some areas, the layers are so closely related that the lines between them
    become *blurry*. This is particularly the case when looking at the higher layers;
    many technologies implement two or even all three of these layers, which is another
    reason why I feel they best belong in a group together. One important reason why
    the distinctions between layers 5 through 7 are blurry is that the TCP/IP protocols
    are based on the TCP/IP model (covered in [Chapter 8](ch08.html "Chapter 8. TCP/IP
    PROTOCOL SUITE AND ARCHITECTURE")), which combines the functions of layers 5 through
    7 in a single, thick layer.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些领域，层与层之间的关系非常紧密，以至于它们之间的界限变得*模糊不清*。这尤其是在观察更高层时更为明显；许多技术实现了两层甚至三层这些层，这也是我认为它们最好被归为一组的原因之一。5到7层之间的界限之所以模糊不清，一个重要原因是TCP/IP协议是基于TCP/IP模型（在第8章中介绍，[第8章](ch08.html
    "第8章。TCP/IP协议套件和架构")），该模型将5到7层的功能合并为一个单一、厚重的层。
- en: Tip
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** The four lower layers of the OSI model are most often discussed
    individually, because the boundaries between them are reasonably clear-cut. In
    contrast, the lines between the session, presentation, and application layers
    are somewhat blurry. As a result, sometimes protocols span two or even all three
    of these layers; this is especially true of TCP/IP application protocols, since
    the TCP/IP model treats layers 5 through 7 as a single layer.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** OSI模型的四层以下通常被单独讨论，因为它们之间的界限相对清晰。相比之下，会话层、表示层和应用层之间的界限则有些模糊。因此，有时协议跨越两层甚至所有这三层；这在TCP/IP应用协议中尤为如此，因为TCP/IP模型将5到7层视为一个单一的层。'
- en: Finally, note that some OSI Reference Model layers are further divided into
    *sublayers* to help define more precisely the internal details of protocols and
    technologies at those layers. This is commonly done at the lower layers, especially
    at the physical layer and the data link layer.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，请注意，某些OSI参考模型层被进一步划分为*子层*，以更精确地定义这些层中协议和技术内部细节。这通常在底层进行，尤其是在物理层和数据链路层。
- en: '"N" Notation and Other OSI Model Layer Terminology'
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: “N”表示法和其他OSI模型层术语
- en: As a theoretical model, the OSI Reference Model comes complete with a set of
    terminology that is used to describe it and its constituent parts. This is sort
    of both good news and bad news. The good news is that if you understand this terminology,
    it can help you comprehend how technologies relate to the model as well as most
    OSI model discussions in general. The bad news is that the terminology can also
    increase confusion—especially since it isn't always used consistently.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一种理论模型，OSI参考模型附带了一套术语，用于描述它及其组成部分。这既是好消息也是坏消息。好消息是，如果你理解这些术语，它可以帮助你理解技术如何与模型相关，以及大多数关于OSI模型的讨论。坏消息是，这些术语也可能增加混淆——尤其是在它们并不总是被一致使用的情况下。
- en: 'Here are a few terminology concepts you will often see used to refer to the
    OSI Reference Model:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些术语概念，你经常会看到它们被用来指代OSI参考模型：
- en: '**Layer Names and Numbers** The various layers of the OSI Reference Model are
    referred to in a variety of ways. They may have their names spelled out in full,
    or they may be abbreviated. They are also often simply referenced by their layer
    number. So, for example, all of these refer to the same thing: data link layer,
    Data Link Layer, DLL, L2, layer two, and layer 2\. Similarly, you will often see
    layer names being used as adjectives to describe protocols and technologies. For
    example, a layer 3 technology is one that operates primarily at the network layer.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**层名称和编号** OSI参考模型的各个层可以用多种方式来指代。它们的名字可能被完整拼写，也可能被缩写。它们也经常简单地通过层编号来引用。例如，所有这些都指代同一事物：数据链路层，数据链路层，DLL，L2，第二层，和层2。同样，你经常会看到层名称被用作形容词来描述协议和技术。例如，层3技术主要在网络层操作。'
- en: '**N Notation** The letter *N* is often used to generically refer to a number
    within the computer world. With respect to the OSI model, it''s common to see
    this letter used in discussions that relate generically to individual layers without
    mentioning a specific layer. You will hear terms like *N-functions* and *N-services*,
    which just refer to the functions and services provided within a particular layer.
    As another example, you might hear someone say that a particular technology "provides
    a useful service to the N+1 layer." This just means it provides a function to
    the layer above the one at which it operates. Conceptually, every layer but the
    first and seventh have an N-1 layer, an N+1 layer, and so on. If you are looking
    at the network layer (layer 3), then the N+2 layer is the session layer (layer
    5).'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '**N表示法** 字母*N*常被用来泛指计算机世界中的数字。就OSI模型而言，在讨论与单个层相关的通用内容而不提及特定层时，经常看到这个字母被使用。你会听到像*N-功能*和*N-服务*这样的术语，它们只是指特定层内提供的功能和服务的简称。作为另一个例子，你可能会听到有人说某种特定的技术“为N+1层提供了一种有用的服务。”这仅仅意味着它为其操作的层之上的层提供了一个功能。从概念上讲，除了第一层和第七层之外，每个层都有一个N-1层，一个N+1层，依此类推。如果你正在查看网络层（层3），那么N+2层就是会话层（层5）。'
- en: '**Protocols and Interfaces** These words have special meaning within the context
    of the OSI model. A *protocol* represents communication between logical or physical
    devices at the same layer of the model. An *interface* represents information
    moving between adjacent layers within the same device. Thus, in N notation, protocols
    represent communication between layer N on one device and layer N on another device,
    while interfaces deal with communication between layer N and N+1 or layer N and
    N-1 on the same device.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**协议和接口** 这些词在OSI模型中具有特殊含义。一个**协议**代表模型同一层中逻辑或物理设备之间的通信。一个**接口**代表同一设备相邻层之间的信息移动。因此，在N表示法中，协议代表一个设备上的层N与另一个设备上的层N之间的通信，而接口处理同一设备上层N与N+1或层N与N-1之间的通信。'
- en: '**Network Stacks** What do you get when you take a bunch of layers and pile
    them up on top of each other? You get a *stack*. This term is used to refer to
    the entire set of layers in a model or suite of technologies, or a partial set.
    Since each layer has protocols associated with it, this is also sometimes called
    the *protocol stack*.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**网络栈** 当你把许多层堆叠在一起时，你会得到一个**栈**。这个术语用来指代模型或技术套件中的整个层集，或者部分层集。由于每个层都与协议相关联，这有时也被称为**协议栈**。'
- en: '**Entities, Functions, Facilities, and Services** These often interchanged,
    somewhat vague terms refer to specific tasks or jobs performed at various layers
    in the model. An *N-entity* is a term that refers to a specific operation or job
    done at layer N. A *function* is basically the same thing. *Facilities* and *services*
    are what a layer provides to the layers above it. This is often expressed in N-notation
    as well: the N+1 layer often uses a set of N services or N facilities provided
    by the N layer.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '**实体、功能、设施和服务** 这些术语经常互换使用，有些模糊，它们指的是在模型中各个层执行的具体任务或工作。*N 实体*是一个指代在层 N 执行的特定操作或工作的术语。*功能*基本上是同一件事。*设施*和*服务*是层为其上层提供的内容。这通常也用
    N-notation 表示：N+1 层通常使用由 N 层提供的 N 组服务或 N 设施。'
- en: '[Figure 5-2](ch05s03.html#osi_reference_model_layer_relationships_ "Figure 5-2. OSI
    Reference Model layer relationships and terminology Each layer has a relationship
    with the layer above and below it; here, if the network layer is layer N, it provides
    services to the transport layer (layer N+1) and uses services of the data link
    layer (layer N-1).") serves as a summary of the previous information by showing
    the relationships between OSI model layers and the terminology used to refer to
    adjacent layers in the context of any particular layer. Each layer (except layer
    7) provides services to the layer above it; each layer (other than layer 1) uses
    services provided by the layer below it. Another way of saying this is that each
    layer N provides services to layer N+1 and uses the services of layer N-1\. Taking
    the example of layer 3, the network layer, you see that it provides services to
    layer 4 and uses services of layer 2\. From the standpoint of the network layer,
    the transport layer is layer N+1 and the data link layer is N-1.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 5-2](ch05s03.html#osi_reference_model_layer_relationships_ "图 5-2. OSI 参考模型层之间的关系和术语
    每一层都与它上面的和下面的层有关联；在这里，如果网络层是层 N，它为传输层（层 N+1）提供服务，并使用数据链路层（层 N-1）的服务。") 通过展示 OSI
    模型层之间的关系以及在任何特定层上下文中用于指代相邻层的术语，总结了之前的信息。每一层（除了第 7 层）都为其上层提供服务；每一层（除了第 1 层）都使用其下层提供的服务。另一种说法是，每一层
    N 为层 N+1 提供服务，并使用层 N-1 的服务。以第 3 层，即网络层为例，你可以看到它为第 4 层提供服务，并使用第 2 层的服务。从网络层的角度来看，传输层是层
    N+1，数据链路层是 N-1。'
- en: '![OSI Reference Model layer relationships and terminology Each layer has a
    relationship with the layer above and below it; here, if the network layer is
    layer N, it provides services to the transport layer (layer N+1) and uses services
    of the data link layer (layer N-1).](httpatomoreillycomsourcenostarchimages287705.png.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![OSI 参考模型层之间的关系和术语 每一层都与它上面的和下面的层有关联；在这里，如果网络层是层 N，它为传输层（层 N+1）提供服务，并使用数据链路层（层
    N-1）的服务。](httpatomoreillycomsourcenostarchimages287705.png.jpg)'
- en: Figure 5-2. OSI Reference Model layer relationships and terminology Each layer
    has a relationship with the layer above and below it; here, if the network layer
    is layer N, it provides services to the transport layer (layer N+1) and uses services
    of the data link layer (layer N-1).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-2. OSI 参考模型层之间的关系和术语 每一层都与它上面的和下面的层有关联；在这里，如果网络层是层 N，它为传输层（层 N+1）提供服务，并使用数据链路层（层
    N-1）的服务。
- en: You may have just read all of that and said to yourself, "Why do they bother
    making this so *complicated* anyway?" Good question. Remember, I *did* say there
    was bad news here! Now that you know what all of this stuff is about, if you run
    into it, you won't be *too* confused.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能刚刚读完了所有这些内容，然后对自己说：“他们为什么要使这一切如此**复杂**？”这是个好问题。记住，我**确实**说过这里有个坏消息！现在你知道了所有这些内容，如果你遇到它，你不会感到**太**困惑。
- en: Fortunately, the use of the previous buzzwords is somewhat limited. Most references
    are to specific layer names or numbers, and in particular, the N-1 and N+1 stuff
    is rarely used in discussions of real-world technologies. However, it can be very
    useful in explaining the model itself, as you will see in some of these terms
    when you read the rest of this chapter.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，之前使用的热门词汇的使用范围有限。大多数参考文献都是针对特定的层名称或数字，特别是 N-1 和 N+1 的内容在现实技术的讨论中很少使用。然而，在解释模型本身时，这可以非常有用，正如你在阅读本章其余部分时将看到的一些术语一样。
- en: 'Interfaces: Vertical (Adjacent Layer) Communication'
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 接口：垂直（相邻层）通信
- en: The seven layers of the OSI Reference Model are used to divide the various functions
    that are required to implement a networking system. On any given device in a network,
    different software and hardware routines and devices may be functioning on any
    or all of these layers simultaneously. Because, in general, all of these are supposed
    to be working together to implement networking functions, there is a need for
    layers to communicate *vertically* between the layers within a particular host.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: OSI 参考模型的七层被用来划分实现网络系统所需的各种功能。在任何网络设备上，不同的软件和硬件例程和设备可能同时在这些层的任何一层或所有层上运行。因为，一般来说，所有这些都应该共同工作来实现网络功能，所以在特定主机内的层之间进行垂直通信是必要的。
- en: In OSI Reference Model parlance, the mechanism for communication between adjacent
    layers in the model is called an *interface*. Of course, the term *interface*
    is also used widely in other contexts in the computer and networking worlds, since
    its generic meaning refers to connecting just about *anything* together. However,
    when someone talks about an interface between OSI model layers, that person typically
    refers to the process by which data is passed between layer N of the model and
    layer N-1 or layer N+1\. These relationships are demonstrated in [Figure 5-3](ch05s03.html#osi_reference_model_interfaces_for_verti
    "Figure 5-3. OSI Reference Model interfaces for vertical communication In OSI
    model terminology, an interface is a conduit for communication between adjacent
    layers in the layer stack."). For example, the *layer 2/3 interface* is used by
    a layer 2 and layer 3 protocol to pass data and control information; the *layer
    3/4 interface* connects layers 3 and 4 together.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在 OSI 参考模型术语中，模型中相邻层之间通信的机制被称为“接口”。当然，“接口”一词在计算机和网络世界的其他环境中也被广泛使用，因为它的通用含义是指连接几乎所有“任何东西”。然而，当某人谈论
    OSI 模型层之间的接口时，那个人通常指的是数据在模型层 N 和层 N-1 或层 N+1 之间传递的过程。这些关系在[图 5-3](ch05s03.html#osi_reference_model_interfaces_for_verti
    "图 5-3. 垂直通信的 OSI 参考模型接口 在 OSI 模型术语中，接口是层堆栈中相邻层之间通信的通道。")中得到了展示。例如，“层 2/3 接口”被层
    2 和层 3 协议用来传递数据和控制信息；“层 3/4 接口”将层 3 和层 4 连接在一起。
- en: '![OSI Reference Model interfaces for vertical communication In OSI model terminology,
    an interface is a conduit for communication between adjacent layers in the layer
    stack.](httpatomoreillycomsourcenostarchimages287707.png.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![垂直通信的 OSI 参考模型接口 在 OSI 模型术语中，接口是层堆栈中相邻层之间通信的通道。](httpatomoreillycomsourcenostarchimages287707.png.jpg)'
- en: Figure 5-3. OSI Reference Model interfaces for vertical communication In OSI
    model terminology, an interface is a conduit for communication between adjacent
    layers in the layer stack.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-3. 垂直通信的 OSI 参考模型接口 在 OSI 模型术语中，接口是层堆栈中相邻层之间通信的通道。
- en: Note
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Remember that not all layers may be implemented in every system or protocol
    stack in the real world. So it''s possible that a process that is technically
    running at layer 7 might communicate with one running at layer 5\. However, I
    am talking about the theoretical model here*.'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '*请记住，并非所有层都可能在现实世界的每个系统或协议堆栈中得到实现。因此，一个在技术上运行在层 7 的进程可能与运行在层 5 的进程进行通信。然而，我这里讨论的是理论模型*。'
- en: Vertical communication is done up and down the protocol stack every time anything
    is sent across the network, and of course, whenever anything is received. This
    occurs because the higher levels are implemented as logical functions in software;
    there is no actual physical connection. The higher layers package data and send
    it down to the lower layers for it to be sent across the network. At the very
    lowest level, the data is sent over the network. On the receiving end, the process
    is reversed, with the data traveling back up to the higher layers on the receiving
    device. I'll discuss this logical interaction between corresponding layers momentarily.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 每当在网络上发送任何东西时，都会在协议堆栈的上下方向进行垂直通信，当然，在接收任何东西时也是如此。这是因为高层被实现为软件中的逻辑功能；没有实际的物理连接。高层将数据打包并发送到低层，以便在网络中发送。在最低层，数据通过网络发送。在接收端，过程相反，数据从接收设备的高层向上传输。我稍后会讨论这种对应层之间的逻辑交互。
- en: One of the primary goals of the OSI Reference Model is to allow the interconnection
    of different implementations of various layers. Thus, the intention is to have
    somewhat autonomous individual layers that you can mix and match—to a point. The
    only way to make this work is to have well-defined ways that the layers connect
    together, and that brings me back to the matter of interfaces. Each layer must
    present a consistent, well-documented interface to the layers above it so that
    any upper layer implementation can use the lower layer properly.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型的一个主要目标是允许不同层实现之间的互连。因此，意图是有一定自主权的单个层，你可以混合搭配——到一定程度。使这一切得以工作的唯一方法是定义层之间连接的明确方式，这又让我回到了接口的问题。每一层必须向其上层的层提供一个一致、良好记录的接口，以便任何上层实现都能正确使用下层。
- en: I'll provide an example from the world of TCP/IP to illustrate what I mean.
    The heart of the TCP/IP protocol suite is the Internet Protocol (IP). Whenever
    you use any application on the Internet—email, websites, FTP, chat rooms, and
    so on—you are indirectly using IP.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 我将从TCP/IP世界的例子中提供一个例子来说明我的意思。TCP/IP协议套件的核心是互联网协议（IP）。无论你使用互联网上的任何应用程序——电子邮件、网站、FTP、聊天室等等——你都是在间接使用IP。
- en: 'However, you never use IP directly—you generally use one of two transport layer
    (layer 4) protocols: the Transmission Control Protocol (TCP) or the User Datagram
    Protocol (UDP) (see [Part II-8](pt11.html "Part II-8. TCP/IP TRANSPORT LAYER PROTOCOLS")).
    A standard interface exists between the network layer and the transport layer
    in the TCP/IP protocol stack, which defines how IP is to be used by upper layer
    protocols; this enables TCP and UDP to interface to it. Similarly, both TCP and
    UDP present a particular interface to the hundreds of higher-layer protocols and
    applications that use them at higher layers.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，你通常不会直接使用IP——你一般会使用两种传输层（层4）协议之一：传输控制协议（TCP）或用户数据报协议（UDP）（见[第二部分-8](pt11.html
    "第二部分-8. TCP/IP传输层协议")). 在TCP/IP协议栈中，网络层和传输层之间存在一个标准接口，它定义了上层协议如何使用IP；这使得TCP和UDP能够与之接口。同样，TCP和UDP也向使用它们的数百个高层协议和应用提供了特定的接口。
- en: Many different types of communication actually take place between layers. Control
    information is passed to enable the higher layers to utilize the lower ones, and
    for the lower ones to pass status and results information back to the higher ones.
    Data is also passed in both directions across the interface. For transmission,
    it flows down to the lower layer, which normally results in data encapsulation.
    Upon reception, the process is reversed, with data being sent back up across the
    interface from a lower to higher layer.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，层之间发生着多种不同类型的通信。控制信息被传递，以便使高层能够利用低层，并使低层能够将状态和结果信息传递回高层。数据也在接口的两侧传递。在传输过程中，它流向低层，这通常会导致数据封装。在接收过程中，过程相反，数据从低层向上层通过接口发送回来。
- en: Tip
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** In the OSI Reference Model, an *interface* defines the mechanism
    for vertical communication between adjacent layers. The existence of well-defined
    interfaces between layers is what permits a higher layer to use the services of
    any of a number of lower layers, without requiring knowledge of how those layers
    are implemented.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 在OSI参考模型中，*接口*定义了相邻层之间垂直通信的机制。层之间存在良好定义的接口是允许高层使用任何较低层的服务，而不需要了解这些层是如何实现的。'
- en: 'Protocols: Horizontal (Corresponding Layer) Communication'
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 协议：水平（对应层）通信
- en: Each layer in the OSI Reference Model has a particular role (or roles)—a set
    of general tasks for which it is responsible. On each system on the network, hardware
    and software are running at many of the different levels in the model. The routines
    doing a particular job on Machine A are designed to communicate with similar or
    complementary ones that are running on Machine B. This *horizontal communication*
    is the very heart of what networking is about. It is what enables web browsers
    and web servers to talk, email applications to exchange messages, and so much
    more.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型中的每一层都有特定的角色（或角色）——一组它负责的一般任务。在网络的每个系统上，硬件和软件都在模型的许多不同级别上运行。在机器A上执行特定任务的例程被设计成与在机器B上运行的类似或互补的例程进行通信。这种*水平通信*正是网络的核心所在。它是使网络浏览器和Web服务器能够交谈、电子邮件应用能够交换消息以及更多内容得以实现的原因。
- en: Of course, all communication types function only if everyone agrees to the same
    methods of accomplishing it. Each set of rules describing one type of communication
    is called a *protocol*. You can think of a protocol as a language or a set of
    instructions. Each function or service of a network has its own language; like
    human languages, some are similar to each other while others are quite unique.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，所有通信类型只有在每个人都同意使用相同的方法来完成它时才能正常工作。描述一种通信类型的每一组规则都称为“协议”。你可以把协议想象成一种语言或一组指令。网络中的每个功能或服务都有自己的语言；就像人类语言一样，有些彼此相似，而有些则非常独特。
- en: If you've done any reading at all about networks, you have probably seen the
    term *protocol* many, many times. Like the word *interface*, the word *protocol*
    can have many meanings. In fact, it is so fundamental to networking, and used
    in so many different ways, that I have a discussion devoted to it in [Chapter 1](ch01.html
    "Chapter 1. NETWORKING INTRODUCTION, CHARACTERISTICS, AND TYPES").
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你阅读过任何关于网络的内容，你可能已经多次看到“协议”这个术语。像“接口”这个词一样，“协议”这个词可以有多个含义。实际上，它对网络来说如此基础，并且以多种不同的方式使用，以至于我在[第1章](ch01.html
    "第1章. 网络简介、特性和类型")中专门讨论了它。
- en: All that aside, you must remember that the OSI Reference Model is intended to
    be a formal way of describing networks. As such, the term *protocol* has a formal
    meaning in the context of the model. It refers specifically to a set of communication
    rules, instructions, and procedures that describe communication between specific
    software or hardware elements running *at the same layer* on different machines
    within a network.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 不论其他情况如何，你必须记住，OSI参考模型旨在成为一种描述网络的正式方式。因此，在模型中，“协议”这个术语有一个正式的含义。它具体指的是一组通信规则、指令和程序，这些规则、指令和程序描述了在网络中不同机器上运行于同一层级的特定软件或硬件元素之间的通信。
- en: Let's consider how these corresponding layers communicate using protocols. First,
    you'll recall that every layer in the model, except the bottom (physical) layer,
    is really a program or algorithm running on a computer. There is no way for, say,
    a web browser and a web server to actually connect together directly—they are
    just software programs, after all. Instead, the software running at various layers
    communicates *logically*. That is to say, through the use of software and procedures,
    a process running at layer 5 on one machine can accomplish *logical communication*
    with a similar process running at layer 5 on another machine.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑这些对应层如何使用协议进行通信。首先，你会记得，模型中的每一层（除了底层的物理层）实际上是在计算机上运行的程序或算法。例如，一个网页浏览器和一个网页服务器无法直接连接在一起——毕竟，它们只是软件程序。相反，运行在不同层上的软件通过逻辑方式通信。也就是说，通过使用软件和程序，一个机器上第5层的进程可以与另一个机器上第5层的类似进程进行逻辑通信。
- en: Since machines are only physically connected at layer 1, the data on the sending
    machine must pass down the data through the layers between layer 5 and layer 1
    in order for a protocol at layer 5 to function. The data is then transmitted over
    the physical connection to layer 1 of the other machine and passed up on the protocol
    stack of the receiving machine to layer 5\. This is how the two machines are logically
    linked at layer 5, even though they have no physical connection at that layer.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 由于机器只在第1层进行物理连接，发送机器上的数据必须通过第5层和第1层之间的层传递，以便第5层的协议能够工作。然后，数据通过物理连接传输到另一台机器的第1层，并在接收机器的协议堆栈中向上传递到第5层。这就是这两台机器在第5层逻辑连接的方式，尽管在那个层它们没有物理连接。
- en: Thus, with the exception of the actual physical connection at layer 1, all horizontal
    communication also requires vertical communication—down the stack on one machine,
    and then back up the stack on the other. (The communication doesn't always go
    all the way back up the stack for each connection, however, as in the case of
    routing, as discussed in the "Indirect Device Connection and Message Routing"
    section at the end of this chapter.)
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，除了第1层的实际物理连接外，所有横向通信也都需要纵向通信——在一个机器上的堆栈向下，然后在另一个机器上的堆栈向上。（然而，并非每个连接都需要完全回溯到堆栈顶部，例如在“间接设备连接和信息路由”部分讨论的路由情况。这部分内容位于本章末尾。）
- en: '[Figure 5-4](ch05s03.html#osi_reference_model_protocols_horizontal "Figure 5-4. OSI
    Reference Model protocols: horizontal communication The term protocol has many
    meanings; in the context of the OSI Reference Model, it refers specifically to
    software or hardware elements that accomplish communication between corresponding
    layers on two or more devices.") illustrates how horizontal communication works.
    As an example, IP is said to be a layer 3 protocol because each device uses IP
    software to communicate at layer 3\. The actual transmission and reception of
    data occurs only at the lowest, physical layer; higher-layer protocols communicate
    *logically* by passing data down interfaces until it reaches layer 1, transmitting
    at layer 1, and then passing the data back up to the appropriate layer at the
    recipient.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5-4](ch05s03.html#osi_reference_model_protocols_horizontal "图5-4. OSI参考模型协议：水平通信
    术语协议有许多含义；在OSI参考模型中，它特指实现两个或更多设备上对应层之间通信的软件或硬件元素。")展示了水平通信的工作原理。例如，IP被认为是一个第3层协议，因为每个设备都使用IP软件在第3层进行通信。实际的数据传输和接收仅发生在最低的物理层；高层协议通过向下通过接口传递数据，直到达到第1层，在第1层进行传输，然后将数据传回接收设备相应层的适当层，以逻辑方式通信。'
- en: '![OSI Reference Model protocols: horizontal communication The term protocol
    has many meanings; in the context of the OSI Reference Model, it refers specifically
    to software or hardware elements that accomplish communication between corresponding
    layers on two or more devices.](httpatomoreillycomsourcenostarchimages287709.png.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![OSI参考模型协议：水平通信 术语协议有许多含义；在OSI参考模型中，它特指实现两个或更多设备上对应层之间通信的软件或硬件元素。](httpatomoreillycomsourcenostarchimages287709.png.jpg)'
- en: 'Figure 5-4. OSI Reference Model protocols: horizontal communication The term
    protocol has many meanings; in the context of the OSI Reference Model, it refers
    specifically to software or hardware elements that accomplish communication between
    corresponding layers on two or more devices.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-4. OSI参考模型协议：水平通信 术语协议有许多含义；在OSI参考模型中，它特指实现两个或更多设备上对应层之间通信的软件或硬件元素。
- en: Tip
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**KEY CONCEPT** In the OSI Reference Model, a *protocol* refers specifically
    to a set of rules or procedures that define communication between software or
    hardware elements running at the same layer on network devices. Physical layer
    protocols are responsible for the actual transmission and reception of data at
    layer 1\. Protocols at higher layers pass data down through the layers below them
    to layer 1 for transmission, then across the network and back up to the corresponding
    entity at the same layer on the receiving device. The result is that software
    processes running at say, layer 4 on each of two devices can communicate *logically*
    as if they were directly connected at layer 4, even though they are not.'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 在OSI参考模型中，*协议*特指定义网络设备上同一层运行的软件或硬件元素之间通信的一组规则或程序。物理层协议负责在第1层实际传输和接收数据。高层协议将数据向下传递到它们下面的层，直到第1层进行传输，然后穿过网络，并返回到接收设备同一层的相应实体。结果是，在两个设备中的每个设备上运行的软件过程，例如在第4层，可以像它们在第4层直接连接一样进行逻辑通信，尽管它们并没有直接连接。'
- en: Data Encapsulation, Protocol Data Units (PDUs), and Service Data Units (SDUs)
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据封装、协议数据单元（PDUs）和服务数据单元（SDUs）
- en: Protocols are what describe the rules that control horizontal communication,
    that is, conversations between processes that run at corresponding layers within
    the OSI Reference Model. At every layer (except layer 1), these communications
    ultimately take the form of some sort of message that is sent between corresponding
    software elements on two or more devices. Since these messages are the mechanism
    for communicating information between protocols, they are most generally called
    *protocol data units (PDUs)*. Each PDU has a specific format that implements the
    features and requirements of the protocol.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 协议描述了控制水平通信的规则，即运行在OSI参考模型中对应层内的进程之间的对话。在每一层（除了第1层之外），这些通信最终都采取某种形式的消息，这种消息是在两个或更多设备上对应软件元素之间发送的。由于这些消息是协议之间传递信息的机制，它们通常被称为*协议数据单元（PDUs）*。每个PDU都有一种特定的格式，该格式实现了协议的功能和需求。
- en: 'As discussed in the previous section, the communication between layers higher
    than layer 1 is *logical*; the only hardware connection is at the physical layer.
    Thus, in order for a protocol to communicate, it must pass down its PDU to the
    next lower layer for transmission. You''ve also already seen that, using OSI terminology,
    lower layers are said to provide *services* to the layers immediately above them.
    One of the services each layer provides is this function: to handle and manage
    data received from the layer above.'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 如前节所述，层1以上的层之间的通信是**逻辑**的；唯一的硬件连接是在物理层。因此，为了使协议能够通信，它必须将其PDU传递到下一层进行传输。您也已经看到，使用OSI术语，较低层被说成是为它们上面的层提供**服务**。每个层提供的每个服务之一是这项功能：处理和管理从上层接收到的数据。
- en: At any particular layer N, a PDU is a complete message that implements the protocol
    at that layer. However, when this layer N PDU is passed down to layer N-1, it
    becomes the *data* that the layer N-1 protocol is supposed to *service*. Thus,
    the layer N protocol data unit (PDU) is called the layer N-1 *service data unit
    (SDU)*. The job of layer N-1 is to transport this SDU, which it does by placing
    the layer N SDU into its own PDU format, preceding the SDU with its own headers
    and appending footers as necessary. This process is called *data encapsulation*,
    because the entire contents of the higher-layer message are encapsulated as the
    data payload of the message at the lower layer.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在特定的层N中，PDU是一个实现了该层协议的完整消息。然而，当这个层N的PDU传递到层N-1时，它变成了层N-1协议应该**服务**的**数据**。因此，层N协议数据单元（PDU）被称为层N-1的**服务数据单元（SDU**）。层N-1的任务是传输这个SDU，它通过将层N的SDU放入自己的PDU格式中，在SDU前面加上自己的头部，并在必要时添加尾部来实现。这个过程被称为**数据封装**，因为高层消息的全部内容都被封装为低层消息的数据负载。
- en: What does layer N-1 do with its PDU? It passes it down to the next lower layer,
    where it is treated as a layer N-2 SDU. Layer N-2 creates a layer N-2 PDU containing
    the layer N-1 SDU and layer N-2's headers and footers. And so the process continues,
    all the way down to the physical layer. In the theoretical model, what you end
    up with is a message at layer 1 that consists of application-layer data that is
    encapsulated with headers and footers from layers 7 through 2.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 层N-1对其PDU做什么？它将其传递到下一层，在那里它被视为层N-2 SDU。层N-2创建一个包含层N-1 SDU、层N-2的头部和尾部的层N-2 PDU。这个过程一直持续到物理层。在理论模型中，最终你得到的是层1的消息，它由应用层数据组成，这些数据被层7到层2的头部和尾部封装。
- en: '[Figure 5-5](ch05s03.html#osi_reference_model_data_encapsulation_e "Figure 5-5. OSI
    Reference Model data encapsulation Each protocol creates a protocol data unit
    (PDU) for transmission, each of which includes headers required by that protocol
    and data to be transmitted. This data becomes the service data unit (SDU) of the
    next layer below it.") shows a layer 7 PDU consisting of a layer 7 header (labeled
    L7H) and application data. When this is passed to layer 6, it becomes a layer
    6 SDU. The layer 6 protocol prepends to it a layer 6 header (labeled L6H) to create
    a layer 6 PDU, which is passed to layer 5\. The encapsulation process continues
    all the way down to layer 2, which creates a layer 2 PDU—in this case, shown with
    both a header and a footer—that is converted to bits and sent at layer 1.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5-5](ch05s03.html#osi_reference_model_data_encapsulation_e "图5-5. OSI参考模型数据封装
    每个协议为传输创建一个协议数据单元（PDU），每个PDU都包含该协议所需的头部和要传输的数据。这些数据成为下一层的服务数据单元（SDU”）]显示了一个由层7头部（标记为L7H）和应用数据组成的层7
    PDU。当这个PDU传递到层6时，它变成了层6 SDU。层6协议在其前面添加一个层6头部（标记为L6H），以创建一个层6 PDU，并将其传递到层5。封装过程一直持续到层2，层2创建一个包含层N-1
    SDU、层N-2的头部和尾部的层2 PDU——在这种情况下，显示了头部和尾部——并将其转换为比特在层1发送。'
- en: '![OSI Reference Model data encapsulation Each protocol creates a protocol data
    unit (PDU) for transmission, each of which includes headers required by that protocol
    and data to be transmitted. This data becomes the service data unit (SDU) of the
    next layer below it.](httpatomoreillycomsourcenostarchimages287711.png.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![OSI参考模型数据封装 每个协议为传输创建一个协议数据单元（PDU），每个PDU都包含该协议所需的头部和要传输的数据。这些数据成为下一层的服务数据单元（SDU）](httpatomoreillycomsourcenostarchimages287711.png.jpg)'
- en: Figure 5-5. OSI Reference Model data encapsulation Each protocol creates a protocol
    data unit (PDU) for transmission, each of which includes headers required by that
    protocol and data to be transmitted. This data becomes the service data unit (SDU)
    of the next layer below it.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-5. OSI参考模型数据封装 每个协议都为传输创建一个协议数据单元（PDU），每个PDU都包含该协议所需的头和数据要传输的数据。这些数据成为下一层的服务数据单元（SDU）。
- en: Tip
  id: totrans-130
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** The message used to communicate information for a particular
    protocol is called its *protocol data unit (PDU)* in OSI model terminology. That
    PDU is passed down to the next lower layer for transmission; since that layer
    is providing the service of handling that PDU, it is called the lower layer''s
    *service data unit (SDU)*. The SDU is encapsulated into that layer''s own PDU
    and, in turn, sent to the next lower layer in the stack, proceeding until the
    physical layer is reached. The process is reversed on the recipient device. In
    summary, a layer N PDU is a layer N-1 SDU, which is *encapsulated* into a layer
    N-1 PDU.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 在OSI模型术语中，用于特定协议通信信息的消息称为其*协议数据单元（PDU）*。该PDU被传递到下一较低层进行传输；由于该层提供处理该PDU的服务，因此称为该较低层的*服务数据单元（SDU）*。SDU被封装到该层的自己的PDU中，然后，反过来，发送到堆栈中下一较低层，直到达到物理层。在接收设备上，这个过程是相反的。总之，层N的PDU是层N-1的SDU，它是*封装*到层N-1的PDU中的。'
- en: The "N-1, N-2" stuff makes this seem more difficult than it really is, so let's
    use a real-world (simplified) example instead. TCP operates at layer 4 of the
    OSI model. It transmits messages called *segments* that contain data encapsulated
    from higher-layer protocols. The layer below TCP is IP at layer 3\. It receives
    data from TCP and encapsulates it for transmission.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: “N-1，N-2”这样的东西使得这个过程看起来比实际情况更复杂，所以让我们用一个现实世界（简化）的例子来代替。TCP在OSI模型的第4层运行。它传输称为*段*的消息，这些消息包含从高层协议封装的数据。TCP下面的层是第3层的IP。它从TCP接收数据，并将其封装以进行传输。
- en: So, in the formal language of the OSI Reference Model, TCP segments are created
    as layer 4 PDUs. When passed to IP, they are treated as layer 3 SDUs. The IP software
    packages these SDUs into messages called *IP packets* or *IP datagrams*, which
    are layer 3 PDUs. These are passed down to a layer 2 protocol, say Ethernet, which
    treats IP datagrams as layer 2 SDUs, and packages them into layer 2 PDUs (Ethernet
    frames), which are sent on to layer 1\. (Actually, in some technologies, further
    encapsulation even occurs at layer 1 prior to transmission.)
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '因此，在OSI参考模型的正式语言中，TCP段作为第4层PDU被创建。当传递给IP时，它们被视为第3层SDU。IP软件将这些SDU打包成称为*IP数据包*或*IP数据报*的消息，这些是第3层PDU。这些被传递到第2层协议，例如以太网，它将IP数据报视为第2层SDU，并将它们打包成第2层PDU（以太网帧），然后发送到第1层。实际上，在某些技术中，在传输之前甚至在第1层发生进一步的封装。 '
- en: On the receiving device, the process of encapsulation is reversed. The Ethernet
    software inspects the layer 2 PDU (Ethernet frame) and removes from it the layer
    2 SDU (IP datagram), which it passes up to IP as a layer 3 PDU. The IP layer removes
    the layer 3 SDU (TCP segment) and passes it to TCP as a layer 4 PDU. TCP continues
    the process, going back up the protocol layer stack.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在接收设备上，封装过程是相反的。以太网软件检查第2层PDU（以太网帧），从中移除第2层SDU（IP数据报），并将其作为第3层PDU传递给IP。IP层移除第3层SDU（TCP段），并将其作为第4层PDU传递给TCP。TCP继续这个过程，向上返回到协议层堆栈。
- en: '[Figure 5-6](ch05s03.html#osi_reference_model_pdu_and_sdu_encapsul "Figure 5-6. OSI
    Reference Model PDU and SDU encapsulation Each PDU at one layer of the OSI model
    becomes an SDU at the next lower layer and is encapsulated into that layer''s
    PDU.") shows in more detail how OSI PDUs and SDUs are created and encapsulated.
    A TCP segment (layer 4 PDU) becomes a layer 3 SDU, which is encapsulated into
    a layer 3 PDU through the addition of an IP header. This becomes the payload of
    an Ethernet frame, which is a layer 2 PDU containing an Ethernet header, a layer
    2 SDU (the IP datagram), and an Ethernet footer. The receiving device extracts
    the IP datagram from the Ethernet header and passes it to layer 3; the IP software
    extracts the TCP segment and passes it up to the TCP software.'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5-6](ch05s03.html#osi_reference_model_pdu_and_sdu_encapsul "图5-6. OSI参考模型PDU和SDU封装OSI模型每一层的每个PDU在下一层变为SDU，并被封装进该层的PDU中。")更详细地展示了OSI
    PDU和SDU的创建和封装过程。一个TCP段（第4层PDU）变成一个第3层SDU，通过添加IP头部封装进第3层的PDU。这成为以太网帧的有效载荷，它是一个包含以太网头部、第2层SDU（IP数据报）和以太网尾部的第2层PDU。接收设备从以太网头部提取IP数据报并将其传递到第3层；IP软件提取TCP段并将其传递到TCP软件。'
- en: This whole matter of encapsulation, passing data up and down the protocol stack,
    and so on may seem needlessly complex. It also may appear to be rather inefficient;
    why send a message with so many headers and footers? However, the notion of data
    encapsulation is critical to creating modular, flexible networks.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 整个封装问题，包括在协议栈中上下传递数据，等等，可能看起来过于复杂。它也可能显得相当低效；为什么发送一个带有这么多头部和尾部的消息？然而，数据封装的概念对于创建模块化、灵活的网络至关重要。
- en: '![OSI Reference Model PDU and SDU encapsulation Each PDU at one layer of the
    OSI model becomes an SDU at the next lower layer and is encapsulated into that
    layer''s PDU.](httpatomoreillycomsourcenostarchimages287713.png.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![OSI参考模型PDU和SDU封装OSI模型每一层的每个PDU在下一层变为SDU，并被封装进该层的PDU中。](httpatomoreillycomsourcenostarchimages287713.png.jpg)'
- en: Figure 5-6. OSI Reference Model PDU and SDU encapsulation Each PDU at one layer
    of the OSI model becomes an SDU at the next lower layer and is encapsulated into
    that layer's PDU.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-6. OSI参考模型PDU和SDU封装OSI模型每一层的每个PDU在下一层变为SDU，并被封装进该层的PDU中。
- en: The term *protocol data unit* or PDU is rather formal. You will see it used
    in standards and sometimes in discussions, but more often than not, you'll encounter
    the message terms, such as *frame* and *datagram*, as discussed in [Chapter 1](ch01.html
    "Chapter 1. NETWORKING INTRODUCTION, CHARACTERISTICS, AND TYPES"). Similarly,
    data encapsulated by these messages is not normally called a *service data unit*
    or SDU, but rather simply the *message body* or *payload*, as you saw when you
    looked at message formatting in [Chapter 1](ch01.html "Chapter 1. NETWORKING INTRODUCTION,
    CHARACTERISTICS, AND TYPES"). There are cases, however, for which knowing the
    difference between an SDU and a PDU is important to understanding the technology.
    One example is the IEEE 802.11 physical layer—the 802.11 standards talk about
    SDUs and PDUs constantly!
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 术语*协议数据单元*或PDU相当正式。你会在标准中看到它的使用，有时在讨论中也会看到，但更常见的是，你会遇到如*帧*和*数据报*这样的消息术语，正如在[第1章](ch01.html
    "第1章. 网络介绍、特性和类型")中讨论的那样。同样，这些消息封装的数据通常不被称为*服务数据单元*或SDU，而简单地称为*消息体*或*有效载荷*，正如你在查看[第1章](ch01.html
    "第1章. 网络介绍、特性和类型")中的消息格式时所看到的。然而，在某些情况下，了解SDU和PDU之间的区别对于理解技术很重要。一个例子是IEEE 802.11物理层——802.11标准经常提到SDU和PDU！
- en: Tip
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**RELATED INFORMATION** See the OSI Reference Model analogy in the "The Benefits
    of Networking Models" section earlier in this chapter for an example that compares
    networking encapsulation to something done in a real-world, nonnetworking context.'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '**相关信息** 在本章前面的“网络模型的好处”部分中，可以看到OSI参考模型类比的一个例子，该例子将网络封装与实际非网络环境中的操作进行比较。'
- en: Indirect Device Connection and Message Routing
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 间接设备连接和消息路由
- en: Most of the explanations that I have provided in the other sections of this
    chapter have discussed the mechanisms by which machines connect to each other
    over a network *directly*. However, one of the most powerful aspects of networking
    is that it is possible to create internetworks—networks of networks—that allow
    devices to be connected *indirectly*. For example, Machine A may send a message
    to Machine B without really even knowing where it is on the network.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 我在本章其他部分提供的多数解释都讨论了机器在网络中直接连接的机制。然而，网络最强大的方面之一是能够创建互连网络——网络的网络，允许设备间接连接。例如，机器A可能向机器B发送消息，而实际上甚至不知道它在网络上的位置。
- en: If a message is being sent between devices that are not on the same network,
    then it must be passed between directly connected networks until it reaches its
    final destination. The process of transmitting a message from one network to another
    is called *forwarding*, and the collective process of forwarding from one device
    to another is *routing*. These concepts are fundamental to all internetworking,
    including the Internet itself. Every time you access an Internet resource such
    as a website, you are sending messages that get routed to that site, and the responses
    you receive get routed back.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 如果消息是在不在同一网络中的设备之间发送，那么它必须在网络之间传递，直到达到其最终目的地。从一网络传输到另一网络的过程称为*转发*，从一设备到另一设备的转发过程称为*路由*。这些概念是所有互连网络的基础，包括互联网本身。每次你访问互联网资源，如网站时，你都在发送被路由到该站点的消息，而你收到的响应也会被路由回来。
- en: Note
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Even though the technically correct term for moving a message from one network
    to an adjacent network is* forwarding, *over time, the term* routing *has come
    to be used both for a single network-to-network transfer, as well as the overall
    process of transmitting a message from one device to another*.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '*尽管从一网络移动到相邻网络的技术正确术语是*转发*，但随着时间的推移，*路由*这个术语已经被用来指代单个网络到网络的传输，以及将消息从一台设备传输到另一台设备的整体过程*。'
- en: 'In the context of the OSI Reference Model, routing is an activity that generally
    takes place at the network layer, layer 3\. You''ll recall that data encapsulation
    causes a higher-layer message to be surrounded by headers and footers at the lower
    layers. When a message is routed, here''s what happens:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在OSI参考模型中，路由通常发生在网络层，即第3层。你会记得，数据封装会在低层为高层消息添加头部和尾部。当消息被路由时，以下是会发生的事情：
- en: A high-level application on a machine decides to send a datagram to a distant
    computer. The datagram is packaged, and then passed down vertically through the
    protocol stack on the originating machine. Each layer encapsulates the data, as
    described in the previous section. The datagram is addressed to the final destination
    device. When the message gets to the lower layers, however, it is not packaged
    for local delivery directly to its ultimate destination, but rather passed to
    an *intermediate device*. This is the device that is responsible for routing to
    that destination network. The message is passed down to the data link and physical
    layers for transmission to that intermediate device.
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一台机器上的高级应用程序决定向远程计算机发送一个数据报。数据报被封装，然后通过原始机器上的协议栈垂直向下传递。每一层都按照前述章节所述封装数据。数据报被指定给最终目标设备。然而，当消息到达低层时，它并不是直接封装以直接发送到其最终目的地，而是传递给一个*中间设备*。这是负责将该目标网络路由的设备。消息被传递到数据链路层和物理层，以便发送到该中间设备。
- en: The intermediate device (often called a *router*) receives the message at the
    physical layer. It is passed up to the data link layer, where it is processed,
    checked for errors and so on, and the data link layer headers are removed. The
    resulting packet is passed up to the network layer. There, the intermediate device
    determines if the destination machine is on its local network, or if it needs
    to be forwarded to another intermediate device. It then repackages the message
    and passes it back *down* to the data link layer to be sent on the next leg of
    its journey.
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中间设备（通常称为*路由器*）在物理层接收消息。它被传递到数据链路层，在那里进行处理、检查错误等，并移除数据链路层的头部。生成的数据包被传递到网络层。在那里，中间设备确定目标机器是否在其本地网络中，或者是否需要转发到另一个中间设备。然后它重新封装消息，并将其*向下*传递到数据链路层，以便在旅程的下一阶段发送。
- en: After several potential intermediate devices handle the message, it eventually
    reaches its destination. Here, it travels back up the protocol stack until it
    reaches the same layer as the one from the application that generated the message
    on the originating machine.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在经过几个潜在的中间设备处理信息后，它最终到达目的地。在这里，它沿着协议栈向上行进，直到达到在源机器上生成信息的应用程序所在的同一层。
- en: The key to this description is that in the intermediate devices, the message
    travels back up the OSI layers *only to the network layer*. It is then repackaged
    and sent back along its way. The higher layers are involved only on the source
    and destination devices. The protocol used at layer 3 must be common across the
    internetwork, but each individual network can be different. This demonstrates
    some of the power of layering by enabling even rather dissimilar physical networks
    to be connected together.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这段描述的关键在于，在中间设备中，消息只沿着OSI层向上行进到网络层。然后它被重新封装，并沿着其路径发送回去。高层只涉及源设备和目标设备。在第3层使用的协议必须在互联网中是通用的，但每个单独的网络可以不同。这展示了分层的一些强大功能，它使得甚至非常不同的物理网络也能够连接在一起。
- en: '[Figure 5-7](ch05s03.html#message_routing_in_the_osi_reference_mod "Figure 5-7. Message
    routing in the OSI Reference Model Routing in the OSI model is accomplished using
    an intermediate device that connects networks at layer 3\. Data passes up to layer
    3 in that device on one network and then passes back down to layer 1 on another.")
    shows how routing is accomplished conceptually in the OSI model. The intermediate
    device connects the networks of the message transmitter and recipient. When data
    is sent, it is passed up to the network layer on the intermediate device, where
    it is repackaged and sent back down the stack for the next leg of its transmission.
    Note that the intermediate device actually has two different layer 1 and 2 implementations—one
    for the interface to each network. Also note that while the layer 3 protocol must
    be the same across the internetwork, each network can use different technologies
    at layers 1 and 2.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5-7](ch05s03.html#message_routing_in_the_osi_reference_mod "图5-7. OSI参考模型中的消息路由。在OSI模型中，通过连接第3层的网络的中间设备来实现路由。数据在一个网络中的该设备上传递到第3层，然后传递到另一个网络上的第1层。")展示了在OSI模型中概念上如何实现路由。中间设备连接消息发送者和接收者的网络。当发送数据时，数据被传递到中间设备的网络层，在那里它被重新封装，并沿着传输的下一阶段向下发送到栈中。请注意，中间设备实际上有两个不同的第1层和第2层实现——一个用于每个网络的接口。另外请注意，虽然第3层协议必须在互联网中相同，但每个网络可以在第1层和第2层使用不同的技术。'
- en: '![Message routing in the OSI Reference Model Routing in the OSI model is accomplished
    using an intermediate device that connects networks at layer 3\. Data passes up
    to layer 3 in that device on one network and then passes back down to layer 1
    on another.](httpatomoreillycomsourcenostarchimages287715.png.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![OSI参考模型中的消息路由。在OSI模型中，通过连接第3层的网络的中间设备来实现路由。数据在一个网络中的该设备上传递到第3层，然后传递到另一个网络上的第1层。](httpatomoreillycomsourcenostarchimages287715.png.jpg)'
- en: Figure 5-7. Message routing in the OSI Reference Model Routing in the OSI model
    is accomplished using an intermediate device that connects networks at layer 3\.
    Data passes up to layer 3 in that device on one network and then passes back down
    to layer 1 on another.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-7. OSI参考模型中的消息路由。在OSI模型中，通过连接第3层的网络的中间设备来实现路由。数据在一个网络中的该设备上传递到第3层，然后传递到另一个网络上的第1层。
- en: Tip
  id: totrans-155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** In the OSI model, the process of *routing* occurs when data
    is sent not directly from transmitter to ultimate recipient, but indirectly through
    the use of an intermediate system. That device, normally called a *router*, connects
    to two or more physical networks, and thus has multiple interfaces to layer 2\.
    When it receives data, the data passes up only to the network layer, where it
    is repackaged and then sent on the next leg of its journey over the appropriate
    layer 2 interface.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 在OSI模型中，当数据不是直接从发送者发送到最终接收者，而是通过使用中间系统间接发送时，发生路由过程。该设备通常被称为**路由器**，连接到两个或多个物理网络，因此具有多个第2层接口。当它接收数据时，数据只传递到网络层，在那里它被重新封装，然后通过适当的第2层接口发送到旅程的下一阶段。'
- en: Chapter 6. OSI REFERENCE MODEL LAYERS
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第6章。OSI参考模型层
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages287681.png.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图片](httpatomoreillycomsourcenostarchimages287681.png.jpg)'
- en: In this chapter, we look at the individual layers of the OSI Reference Model.
    Each layer in the OSI model has certain characteristics that define it, and also
    various protocols normally associated with it. I'll describe how each layer functions
    in the OSI layer stack, outline the specific types of activities for which each
    is normally responsible, and provide some examples of the technologies and protocols
    that reside at each layer. Understanding the nuances of each layer will help you
    understand all the technologies that use them.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们查看OSI参考模型的各个单独层。OSI模型中的每一层都有定义其自身的某些特征，以及通常与之相关的各种协议。我将描述每一层在OSI层堆栈中的功能，概述每一层通常负责的具体活动类型，并提供一些位于每一层的技术和协议的示例。理解每一层的细微差别将有助于您理解使用它们的全部技术。
- en: Keep in mind, however, that the descriptions in this section are *generic*.
    To really comprehend the details of the various layers and how they are used,
    read the details of the individual protocols that function at each layer later
    in this book.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，请注意，本节中的描述是**通用的**。要真正理解各个层及其使用的细节，请阅读本书后面各层所使用的各个协议的详细信息。
- en: Tip
  id: totrans-161
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**RELATED INFORMATION** *[Chapter 7](ch07.html "Chapter 7. OSI REFERENCE MODEL
    SUMMARY") contains summary information that may be helpful to you in understanding
    the OSI model layers. This includes some common mnemonics for remembering the
    order of the layers and a summary chart for quickly comparing the layers'' key
    characteristics*.'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '**相关信息** [第7章](ch07.html "第7章。OSI参考模型总结") 包含可能对您理解OSI模型层有帮助的总结信息。这包括一些用于记住层顺序的常见记忆法，以及用于快速比较层关键特征的总结图表。'
- en: Physical Layer (Layer 1)
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物理层（层1）
- en: The lowest layer of the OSI Reference Model is layer 1, the *physical layer*;
    it is commonly abbreviated PHY. This layer is the only one where data is physically
    moved across the network interface. All other layers perform functions to create
    messages that implement various protocols, but these messages must all be transmitted
    down the protocol stack to the physical layer, and they are eventually sent out
    over the network.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型的最底层是层1，即**物理层**；它通常缩写为PHY。这一层是唯一一个在物理上通过网络接口移动数据的层。所有其他层执行创建实现各种协议的消息的功能，但这些消息必须通过协议堆栈向下传输到物理层，并最终通过网络发送出去。
- en: First, a bit of clarification. The name *physical layer* can be a bit problematic
    because it suggests that this layer relates only to the actual network hardware,
    which is not the case. While some people say that the physical layer is the network
    interface cards and cables, this is not actually true. The physical layer defines
    a number of network functions in addition to interfaces with hardware cables and
    cards.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，稍作澄清。物理层这个名字可能有点问题，因为它暗示这一层只与实际的网络硬件相关，这并不正确。虽然有些人说物理层是网络接口卡和电缆，但这实际上并不正确。物理层定义了除与硬件电缆和卡接口之外的一系列网络功能。
- en: People also suggest that all network hardware belongs to the physical layer.
    Again, this isn't strictly accurate. All hardware must have *some* relation to
    the physical layer in order to send data over the network, but hardware devices
    generally implement multiple layers of the OSI model in addition to the physical
    layer. For example, an Ethernet network interface card performs functions at both
    the physical layer and the data link layer.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 人们还建议所有网络硬件都属于物理层。然而，这并不完全准确。所有硬件都必须与物理层**有些**关系才能在网络中发送数据，但硬件设备通常除了物理层之外还实现OSI模型的多个层。例如，以太网网络接口卡在物理层和数据链路层都执行功能。
- en: 'The physical layer technologies deal with the actual ones and zeros that are
    sent over the network. For example, repeaters, conventional hubs, and transceivers
    all operate at the physical layer. These devices have no knowledge of the contents
    of a message; they simply take input bits and send them as output. The physical
    layer is responsible for the following:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 物理层技术处理在网络中传输的实际的0和1。例如，中继器、传统集线器和收发器都在物理层操作。这些设备对消息的内容一无所知；它们只是接收输入比特并将它们作为输出发送。物理层负责以下内容：
- en: '**Hardware Specifications Definition** The details of operation of cables,
    connectors, wireless radio transceivers, network interface cards, and other hardware
    devices are generally a function of the physical layer (although also partially
    the data link layer, layer 2).'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '**硬件规格定义** 电缆、连接器、无线收发器、网络接口卡和其他硬件设备的操作细节通常是物理层的功能（尽管也部分属于数据链路层，层2）。'
- en: '**Encoding and Signaling** The physical layer is responsible for various encoding
    and signaling functions that transform the data from bits that reside within a
    computer or another device into signals that can be sent over the network.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '**编码与信号** 物理层负责各种编码和信号功能，这些功能将计算机或其他设备内的比特转换为可以在网络上发送的信号。'
- en: '**Data Transmission and Reception** After encoding the data appropriately,
    the physical layer actually transmits the data, and of course, receives it. (This
    applies equally to wired and wireless networks, even if there is no tangible cable
    in a wireless network.)'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据传输与接收** 在适当编码数据后，物理层实际上负责传输数据，当然，也负责接收它。（这同样适用于有线和无线网络，即使无线网络中没有可见的电缆。）'
- en: '**Topology and Physical Network Design** The physical layer is also considered
    the domain of many hardware-related network design issues, such as local area
    network (LAN) and wide area network (WAN) topology.'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '**拓扑与物理网络设计** 物理层也被认为是许多与硬件相关的网络设计问题的领域，例如局域网（LAN）和广域网（WAN）拓扑。'
- en: While the physical layer of a network primarily defines the hardware it uses,
    it is also closely related to the data link layer. Thus, it is not generally possible
    to define hardware at the physical layer independently from the technology being
    used at the data link layer. For example, Ethernet is a technology that describes
    specific types of cables and network hardware, but the physical layer of Ethernet
    can be isolated from its data link layer aspects only to a point. Though Ethernet
    cables are the physical layer, the cables' maximum length is related closely to
    message format rules that exist at the data link layer.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管网络物理层主要定义了它所使用的硬件，但它也与数据链路层密切相关。因此，通常无法独立于数据链路层所使用的特定技术来定义物理层的硬件。例如，以太网是一种描述特定类型电缆和网络硬件的技术，但以太网的物理层只能在一定程度上与其数据链路层方面分离。尽管以太网电缆是物理层，但电缆的最大长度与数据链路层存在的消息格式规则密切相关。
- en: Furthermore, some technologies perform functions at the physical layer that
    are normally more closely associated with the data link layer. For example, it
    is common to have the physical layer perform low-level (bit-level) repackaging
    of data link layer frames for transmission. Error detection and correction may
    also be done at layer 1 in some cases, though most people would consider these
    layer 2 functions.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，一些技术还在物理层执行通常与数据链路层更紧密相关的功能。例如，物理层通常负责对数据链路层帧进行低级（比特级）重新封装以进行传输。在某些情况下，错误检测和纠正也可能在层1进行，尽管大多数人会认为这些是层2的功能。
- en: In many technologies, a number of physical layers can be used with a data link
    layer. The classic example is Ethernet, for which dozens of different physical
    layer implementations exist. Each implementation uses the same data link layer
    (possibly with slight variations).
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多技术中，可以使用多个物理层与数据链路层一起使用。经典的例子是以太网，它有数十种不同的物理层实现。每种实现都使用相同的数据链路层（可能略有变化）。
- en: Tip
  id: totrans-175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**KEY CONCEPT** The lowest layer in the OSI Reference Model is the *physical
    layer*. It is the realm of networking hardware specifications, and is the place
    where technologies that perform data encoding, signaling, transmission, and reception
    functions reside. The physical layer is closely related to the data link layer.'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** OSI参考模型中的最低层是*物理层*。它是网络硬件规格的领域，是数据编码、信号、传输和接收功能所在的地方。物理层与数据链路层密切相关。'
- en: Many technologies further subdivide the physical layer into *sublayers* in order
    to allow different network media to be supported by the same technology, while
    sharing other functions at the physical layer that are common between the various
    media. A good example of this is the physical layer architecture used for Fast
    Ethernet, Gigabit Ethernet, and 10-Gigabit Ethernet.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 许多技术进一步将物理层细分为*子层*，以便不同的网络媒体能够由相同的技术支持，同时在物理层共享各种媒体之间常见的其他功能。一个很好的例子是用于快速以太网、千兆以太网和10千兆以太网的物理层架构。
- en: Note
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*In some contexts, the physical layer technology that''s used to convey bits
    across a network or communications line is called a* transport method *(not to
    be confused with the OSI transport layer, layer 4)*.'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '*在某些情况下，用于在网络或通信线路中传输比特的物理层技术被称为传输方法（不要与OSI传输层，层 4混淆）*。'
- en: Data Link Layer (Layer 2)
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据链路层（层 2）
- en: The second-lowest layer (layer 2) in the OSI Reference Model stack is the *data
    link layer*, often called simply the *link layer*, or abbreviated DLL. The data
    link layer is where many wired and wireless LAN technologies primarily function.
    For example, Ethernet, Token Ring, FDDI, and 802.11 (wireless Ethernet or Wi-Fi)
    are all sometimes called data link layer technologies. The set of devices connected
    at the data link layer is commonly considered a simple network (as opposed to
    an internetwork, which is a collection of networks connected at layer 3).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型堆栈中第二低层（层 2）是 *数据链路层*，通常简称为 *链路层*，或缩写为DLL。数据链路层是许多有线和无线局域网技术主要功能的地方。例如，以太网、令牌环、FDDI和802.11（无线以太网或Wi-Fi）有时被称为数据链路层技术。连接在数据链路层的设备集合通常被认为是一个简单网络（与在层
    3连接的集合网络即互联网相对）。
- en: 'The data link layer is often conceptually divided into two sublayers: *logical
    link control (LLC)* and *media access control (MAC)*. This split is based on the
    architecture used in the IEEE 802 Project, which is the IEEE working group responsible
    for creating the standards that define many networking technologies. By separating
    LLC and MAC functions, interoperability of different network technologies is made
    easier, as explained in the discussion of networking models in [Chapter 5](ch05.html
    "Chapter 5. GENERAL OSI REFERENCE MODEL ISSUES AND CONCEPTS").'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 数据链路层通常在概念上分为两个子层：*逻辑链路控制（LLC）* 和 *媒体访问控制（MAC）*。这种划分基于IEEE 802项目所采用的架构，该架构是负责创建定义许多网络技术标准的IEEE工作组。通过分离LLC和MAC功能，不同网络技术的互操作性变得更容易，如[第5章](ch05.html
    "第5章. 一般OSI参考模型问题和概念")中关于网络模型讨论所述。
- en: 'The following are the key tasks performed at the data link layer:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是在数据链路层执行的关键任务：
- en: '**Logical Link Control (LLC)** Logical link control refers to the functions
    required for the establishment and control of logical links between local devices
    on a network. This is usually considered a sublayer; it provides services to the
    network layer above it and hides the rest of the details of the data link layer,
    which allows different technologies to work seamlessly with the higher layers.
    Most LAN technologies use the IEEE 802.2 LLC protocol to implement this part of
    the data link layer.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '**逻辑链路控制（LLC）** 逻辑链路控制指的是在网络上建立和控制本地设备之间逻辑连接所需的功能。这通常被认为是一个子层；它为上层的网络层提供服务，并隐藏数据链路层其余的细节，从而使不同的技术能够与高层无缝工作。大多数局域网技术使用IEEE
    802.2 LLC协议来实现数据链路层的这部分功能。'
- en: '**Media Access Control (MAC)** This refers to the procedures used by devices
    to control access to the network medium. Since many networks use a shared medium
    (such as a single network cable, or a series of cables that are electrically connected
    into a single virtual medium), it is necessary to have rules for managing the
    medium to avoid conflicts. For example, Ethernet uses the CSMA/CD method of media
    access control, while Token Ring uses token passing.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '**媒体访问控制（MAC）** 这指的是设备用于控制对网络介质访问的规程。由于许多网络使用共享介质（如单根网络电缆，或一系列电缆通过电气连接形成一个单一虚拟介质），因此有必要制定管理介质以避免冲突的规则。例如，以太网使用CSMA/CD媒体访问控制方法，而令牌环使用令牌传递。'
- en: '**Data Framing** The data link layer is responsible for data framing, which
    is the final encapsulation of higher-level messages into *frames* that are sent
    over the network at the physical layer.'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据帧** 数据链路层负责数据帧，这是将高级消息最终封装成在物理层发送的 *帧*。'
- en: '**Addressing** The data link layer is the lowest layer in the OSI model that
    is concerned with addressing. It labels information with a particular destination
    location. Each device on a network has a unique number that is used by the data
    link layer protocol to ensure that data intended for a specific machine gets to
    it properly. This is usually called a *hardware address* (since it is intimately
    related with low-level hardware) or a *MAC address* (after the MAC function described
    earlier).'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '**寻址** 数据链路层是OSI模型中关注寻址的最低层。它用特定的目的地位置标记信息。网络上的每个设备都有一个唯一编号，该编号由数据链路层协议使用，以确保针对特定机器的数据能够正确到达。这通常被称为*硬件地址*（因为它与底层硬件密切相关）或*MAC地址*（根据前面描述的MAC功能命名）。'
- en: '**Error Detection and Handling** The data link layer handles errors that occur
    at the lower levels of the network stack. For example, a cyclic redundancy check
    (CRC) field is often calculated based on the frame''s contents and then included
    in it. This can be employed to allow the station receiving data to detect if it
    was received correctly.'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '**错误检测和处理** 数据链路层处理网络堆栈较低层发生的错误。例如，循环冗余检查（CRC）字段通常基于帧的内容计算，然后包含在其中。这可以用来允许接收数据的站检测它是否被正确接收。'
- en: '**Physical Layer Standards** The physical layer and the data link layer are
    very closely related. The requirements for the physical layer of a network are
    often part of the data link layer standard that describes a particular technology.
    Certain physical-layer hardware and encoding aspects are specified by the data
    link layer technology being used. The best example of this is the Ethernet standard,
    IEEE 802.3, which specifies not just how Ethernet works at the data link layer,
    but also its various physical layers.'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '**物理层标准** 物理层和数据链路层非常紧密相关。网络物理层的要求通常是描述特定技术的数据链路层标准的一部分。某些物理层硬件和编码方面由所使用的数据链路层技术指定。最好的例子是以太网标准IEEE
    802.3，它不仅指定了以太网在数据链路层的工作方式，还指定了其各种物理层。'
- en: Tip
  id: totrans-190
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**KEY CONCEPT** The second OSI Reference Model layer is the *data link layer*.
    This is where most LAN and wireless LAN technologies are defined. Layer 2 is responsible
    for *logical link control (LLC), media access control (MAC)*, hardware addressing,
    error detection and handling, and defining physical layer standards. It is often
    divided into the LLC and MAC sublayers based on the IEEE 802 Project that uses
    that architecture.'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 第二个OSI参考模型层是*数据链路层*。这是大多数局域网和无线局域网技术被定义的地方。层2负责*逻辑链路控制（LLC）、媒体访问控制（MAC）、硬件寻址、错误检测和处理以及定义物理层标准*。它通常根据使用该架构的IEEE
    802项目被分为LLC和MAC子层。'
- en: Many types of hardware are associated with the data link layer. Network interface
    cards typically implement a specific data link layer technology, so they are often
    called Ethernet cards, Token Ring cards, and so on. There are also a number of
    network interconnection devices that are said to operate at layer 2 in whole or
    in part because they make decisions about what to do with data they receive by
    looking at data link layer frames. These devices include most bridges, switches,
    and brouters, though the latter two also encompass functions performed by layer
    3.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 许多类型的硬件都与数据链路层相关联。网络接口卡通常实现特定的数据链路层技术，因此它们通常被称为以太网卡、令牌环卡等。还有一些网络互连设备，它们在整体或部分上被认为在层2运行，因为它们通过查看数据链路层帧来决定对接收到的数据采取什么行动。这些设备包括大多数桥接器、交换机和桥接路由器，尽管后两者还包含由层3执行的功能。
- en: Some of the most popular technologies and protocols generally associated with
    layer 2 are Ethernet, Token Ring, FDDI (plus CDDI), HomePNA, IEEE 802.11, Asynchronous
    Transfer Mode (ATM), TCP/IP's Serial Line Interface Protocol (SLIP), and TCP/IP's
    Point-to-Point Protocol (PPP).
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 与层2一般相关的一些最流行的技术和协议包括以太网、令牌环、FDDI（加上CDDI）、HomePNA、IEEE 802.11、异步传输模式（ATM）、TCP/IP的串行线路接口协议（SLIP）和TCP/IP的点对点协议（PPP）。
- en: Network Layer (Layer 3)
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络层（层3）
- en: The third-lowest layer of the OSI Reference Model is the *network layer*. If
    the data link layer defines the boundaries of what is considered a network, the
    network layer defines how *internetworks* (interconnected networks) function.
    The network layer is the lowest one in the OSI model that is concerned with actually
    getting data from one computer to another even if it is on a remote network; in
    contrast, the data link layer only deals with devices that are local to each other.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型中的第三低层是*网络层*。如果数据链路层定义了被认为是网络的范围，那么网络层就定义了*互联网*（互联网络）如何工作。网络层是OSI模型中唯一一个真正关注将数据从一台计算机传输到另一台计算机的层，即使它们位于远程网络中；相比之下，数据链路层只处理彼此相邻的设备。
- en: While layers 2 through 6 all act as fences between the layers above and below
    them, the network layer is particularly important in terms of separating higher
    and lower-layer functions. It is here that the transition really begins from the
    more abstract functions of the higher layers—which don't concern themselves as
    much with data delivery—into the specific tasks required to get data to its destination.
    (The transport layer continues this abstraction transition as you go up the OSI
    protocol stack.)
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然第2层到第6层都充当了它们上下层之间的屏障，但网络层在区分高层和低层功能方面尤为重要。在这里，从更高层的更抽象功能——不太关注数据传输——到将数据传输到目的地的具体任务的实际转变真正开始。（随着您向上移动OSI协议栈，传输层继续这种抽象转变。）
- en: 'Some of the specific jobs normally performed by the network layer include the
    following:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 网络层通常执行的一些具体工作包括以下内容：
- en: '**Logical Addressing** Every device that communicates over a network has a
    logical address associated with it, which identifies the device regardless of
    its particular location. This is sometimes called a *layer 3* address. For example,
    on the Internet, the Internet Protocol (IP) is the network layer protocol and
    every machine has an IP address. Logical addresses are independent of particular
    hardware and must be unique across an entire internetwork.'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '**逻辑寻址**每个通过网络进行通信的设备都与一个逻辑地址相关联，该地址无论其特定位置如何都能识别该设备。这有时被称为*第3层*地址。例如，在互联网上，互联网协议（IP）是网络层协议，每台机器都有一个IP地址。逻辑地址独立于特定硬件，并且在整个互联网中必须是唯一的。'
- en: Note
  id: totrans-199
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Addressing is done at the data link layer as well, but those addresses refer
    to local physical devices*.'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '*地址分配也在数据链路层进行，但这些地址指的是本地物理设备*。'
- en: '**Routing** The defining function of the network layer is routing—moving data
    across a series of interconnected networks. It is the job of the devices and software
    routines that function at the network layer to handle incoming packets from various
    sources, determine their final destination, and then figure out where they need
    to be sent to get them where they are supposed to go. (You''ll find a more complete
    discussion of routing in the OSI model in the section covering indirect device
    connection in [Chapter 5](ch05.html "Chapter 5. GENERAL OSI REFERENCE MODEL ISSUES
    AND CONCEPTS").)'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '**路由**网络层的定义功能是路由——在一系列互联网络中移动数据。网络层上运行的设备和软件例程负责处理来自各种来源的传入数据包，确定它们的最终目的地，然后找出它们需要发送到何处才能到达目的地。（您可以在第5章中关于间接设备连接的部分找到OSI模型中关于路由的更完整讨论。[第5章](ch05.html
    "第5章。一般OSI参考模型问题和概念")。）'
- en: '**Datagram Encapsulation** The network layer normally *encapsulates* messages
    received from higher layers by placing them into *datagrams* (also called *packets*)
    with a network layer header (the previous chapter discusses encapsulation).'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据报封装**网络层通常通过将它们放入带有网络层头部（前一章讨论了封装）的*数据报*（也称为*数据包*）来封装从高层接收到的消息。'
- en: '**Fragmentation and Reassembly** The network layer must send messages down
    to the data link layer for transmission. Some data link layer technologies limit
    the length of any message that can be sent. If the packet that the network layer
    wants to send is too large, the network layer must split the packet up (fragment
    it), send each piece to the data link layer, and then have the pieces reassembled
    once they arrive at the network layer on the destination machine. The IP is the
    best-known example of a protocol that performs these functions; see [Chapter 22](ch22.html
    "Chapter 22. IP DATAGRAM SIZE, FRAGMENTATION, AND REASSEMBLY") for a discussion
    of IP datagram fragmentation.'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '**分片与重组** 网络层必须将消息发送到数据链路层进行传输。某些数据链路层技术限制了可以发送的任何消息的长度。如果网络层想要发送的数据包太大，网络层必须将数据包分割（分片），将每个部分发送到数据链路层，然后在目标机器的网络层到达后重新组装这些部分。IP是执行这些功能的最知名协议；请参阅[第22章](ch22.html
    "第22章. IP数据报大小、分片与重组")以了解IP数据报分片的讨论。'
- en: '**Error Handling and Diagnostics** The network layer uses special protocols
    to allow devices that are logically connected (or that are trying to route traffic)
    to exchange information about the status of hosts on the network or the devices
    themselves.'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '**错误处理和诊断** 网络层使用特殊的协议来允许逻辑上连接的设备（或尝试路由流量）交换有关网络中主机状态或设备本身状态的信息。'
- en: Network layer protocols offer either connection-oriented or connectionless services
    for delivering packets across the network. Connectionless ones are far more common
    at the network layer. In many protocol suites, the network layer protocol is connectionless,
    and connection-oriented services are provided by the transport layer. For example,
    in TCP/IP, IP is connectionless, while the layer 4 Transmission Control Protocol
    (TCP) is connection-oriented. Connection-oriented and connectionless protocols
    are discussed thoroughly in [Chapter 1](ch01.html "Chapter 1. NETWORKING INTRODUCTION,
    CHARACTERISTICS, AND TYPES").
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 网络层协议提供面向连接或无连接的服务来在网络中传输数据包。在网络层，无连接的服务更为常见。在许多协议集中，网络层协议是无连接的，而面向连接的服务由传输层提供。例如，在TCP/IP中，IP是无连接的，而第4层的传输控制协议（TCP）是面向连接的。面向连接和无连接协议在[第1章](ch01.html
    "第1章. 网络简介、特性与类型")中进行了详细讨论。
- en: The most common network layer protocol is IP, which is why I have already mentioned
    it a couple of times. IP is the backbone of the Internet and the foundation of
    the entire TCP/IP protocol suite. There are also several protocols directly related
    to IP that work with it at the network layer, such as IPsec, IP NAT, and Mobile
    IP. The Internet Control Message Protocol (ICMP) is the main error-handling and
    control protocol that is used along with IP. Another notable network layer protocol
    outside the TCP/IP world is the Novell Internetworking Packet Exchange (IPX) protocol.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 最常见的网络层协议是IP，这也是我之前提到过几次的原因。IP是互联网的骨干，也是整个TCP/IP协议集的基础。还有一些与IP直接相关的协议在网络层与之协同工作，例如IPsec、IP
    NAT和移动IP。互联网控制消息协议（ICMP）是与IP一起使用的错误处理和控制协议的主要协议。TCP/IP世界之外的一个值得注意的网络层协议是Novell
    Internetworking Packet Exchange (IPX)协议。
- en: Tip
  id: totrans-207
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** The OSI Reference Model''s third layer is the *network layer*.
    This is one of the most important layers in the model; it is responsible for the
    tasks that link together individual networks into *internetworks*. Network layer
    functions include internetwork-level addressing, routing, datagram encapsulation,
    fragmentation and reassembly, and certain types of error handling and diagnostics.
    The network layer and transport layer are closely related to each other.'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** OSI参考模型的第三层是*网络层*。这是模型中最重要的层之一；它负责将单个网络链接成*互联网*的任务。网络层功能包括互联网级寻址、路由、数据报封装、分片与重组以及某些类型的错误处理和诊断。网络层和传输层彼此紧密相关。'
- en: The network interconnection devices that operate at the network layer are usually
    called *routers*. They are responsible for the routing functions I have mentioned,
    because they receive packets as they are sent along each "hop" of a route and
    send them on the next leg of their trip. They communicate with each other using
    routing protocols in order to determine the best routes for sending traffic efficiently.
    So-called brouters also reside, at least in part, at the network layer, as do
    the rather obviously named layer 3 switches.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络层运行的网际互联设备通常被称为*路由器*。它们负责我提到的路由功能，因为它们在路由的每一段“跳跃”中接收数据包，并将它们发送到旅程的下一阶段。它们通过路由协议相互通信，以确定发送流量的最佳路由。所谓的桥接路由器也至少部分地位于网络层，就像名称明显为第三层的交换机一样。
- en: Transport Layer (Layer 4)
  id: totrans-210
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 传输层（第4层）
- en: The fourth layer of the OSI Reference Model protocol stack is the *transport
    layer*, also called the *middle layer*. The transport layer is in some ways part
    of both the lower and upper groups of layers in the OSI model. It is more often
    associated with the lower layers, because it concerns itself with the *transport*
    of data, but its functions are also somewhat high level, resulting in its having
    a fair bit in common with layers 5 through 7 as well.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型协议栈的第四层是*传输层*，也称为*中间层*。在OSI模型中，传输层在某种程度上是下层和上层层组的一部分。它更常与下层相关联，因为它关注数据的*传输*，但它的功能也有些高级，因此它与第5层到第7层也有相当多的共同之处。
- en: You'll recall that layers 1 through 3 are concerned with the actual packaging,
    addressing, routing, and delivery of data. The physical layer handles the bits,
    the data link layer deals with local networks, and the network layer handles routing
    between networks. The transport layer, in contrast, is sufficiently conceptual
    that it no longer concerns itself with these nuts-and-bolts matters. It relies
    on the lower layers to move data between devices.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 你会记得，第1层到第3层关注的是数据的实际打包、寻址、路由和交付。物理层处理比特，数据链路层处理本地网络，网络层处理网络之间的路由。相比之下，传输层足够概念化，不再关注这些基础问题。它依赖于下层在设备之间移动数据。
- en: The transport layer acts as a liaison of sorts between the abstract world of
    applications at the higher layers and the concrete functions of layers 1 to 3\.
    Its overall job is to provide the necessary functions to enable communication
    between software application processes on different computers, which encompasses
    a number of different but related duties.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 传输层在较高层的抽象应用世界和第1层到第3层的具体功能之间充当某种联络员。它的总体任务是提供必要的功能，以实现不同计算机上软件应用进程之间的通信，这包括许多不同但相关的职责。
- en: Because modern computers are multitasking, many different software applications
    may be trying to send and receive data to the same machine at any given point.
    The transport layer is charged with providing a means by which these applications
    can all send and receive data using the same lower-layer protocol implementation.
    Thus, it is sometimes said to be responsible for *end-to-end* or *host-to-host*
    transport (in fact, the equivalent layer in the TCP/IP model is called the host-to-host
    transport layer).
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 由于现代计算机是多任务的，许多不同的软件应用可能在任何给定时刻都试图向同一台机器发送和接收数据。传输层负责提供一种方式，使这些应用都可以使用相同的下层协议实现发送和接收数据。因此，有时人们说它负责*端到端*或*主机到主机*的传输（实际上，TCP/IP模型中相当层的名称是主机到主机传输层）。
- en: To accomplish this communication between processes, the transport layer must
    perform several different but related jobs. For transmission, it must track the
    data from each application, then combine it into a single flow of data to send
    to the lower layers. The device receiving information must reverse these operations,
    fragment the data, and funnel it to the appropriate recipient processes. The transport
    layer is also responsible for defining the means by which potentially large amounts
    of application data are fragmented for transmission.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现进程之间的这种通信，传输层必须执行几个不同但相关的任务。对于传输，它必须跟踪每个应用的数据，然后将其组合成单一的数据流发送到下层。接收信息的设备必须执行相反的操作，将数据分段，并将其引导到适当的接收进程。传输层还负责定义将潜在的大量应用数据分段进行传输的方式。
- en: The transport layer is also responsible for providing *connection services*
    for the protocols and applications that run at the levels above it. These can
    be categorized as either connection-oriented services or connectionless services,
    and each has its uses. While connection-oriented services can be handled at the
    network layer, they are more often seen in the transport layer in the real world.
    (Some protocol suites, such as TCP/IP, provide both a connection-oriented and
    a connectionless transport layer protocol that suits the needs of different applications.)
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 传输层还负责为在其之上运行的协议和应用程序提供**连接服务**。这些可以分为面向连接的服务和无连接的服务，每种都有其用途。虽然面向连接的服务可以在网络层处理，但在现实世界中它们更常见于传输层。（一些协议套件，如TCP/IP，提供面向连接和无连接的传输层协议，以满足不同应用程序的需求。）
- en: The transport layer is also where functions are normally included for adding
    features to end-to-end data transport. Whereas network layer protocols are normally
    concerned with just "best-effort" communications for which delivery is not guaranteed,
    transport layer protocols are given intelligence in the form of algorithms that
    ensure the reliable and efficient communication between devices. This intelligence
    encompasses several related jobs, including lost transmission detection and handling,
    and managing the rate at which data is sent in order to ensure that the receiving
    device is not overwhelmed.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 传输层也是通常包含添加端到端数据传输功能的地方。而网络层协议通常只关注“尽力而为”的通信，不保证交付，传输层协议则通过算法赋予智能，确保设备之间可靠且高效的通信。这种智能包括几个相关任务，包括丢失传输的检测和处理，以及管理数据发送速率，以确保接收设备不会被淹没。
- en: 'Transmission quality—ensuring that transmissions are received as sent—is so
    important that some networking books define the transport layer on the basis of
    reliability and flow-control functions. However, not all transport layer protocols
    provide these services. Just as a protocol suite may have a connection-oriented
    and a connectionless transport layer protocol, it may also have one transport
    layer protocol that provides reliability and data management services, and one
    that doesn''t. Again, this is the case with TCP/IP: There is one main transport
    layer protocol, TCP, that includes reliability and flow-control features, and
    a second, User Datagram Protocol (UDP), that doesn''t.'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 传输质量——确保传输被接收时与发送时相同——非常重要，以至于一些网络书籍根据可靠性和流量控制功能来定义传输层。然而，并非所有传输层协议都提供这些服务。正如协议套件可能既有面向连接的传输层协议也有无连接的传输层协议一样，它也可能有一个提供可靠性和数据管理服务的传输层协议，以及一个不提供这些服务的协议。再次强调，TCP/IP就是这种情况：有一个主要的传输层协议TCP，它包括可靠性和流量控制功能，还有一个第二层协议用户数据报协议（UDP），它不提供这些功能。
- en: 'Let''s look at the specific functions often performed at the transport layer
    in more detail:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看传输层通常执行的具体功能：
- en: '**Process-Level Addressing** Addressing at the transport layer is used to differentiate
    between software programs. This is part of what enables many different software
    programs to use a network layer protocol simultaneously. The best example of transport-layer
    process-level addressing is the TCP and UDP port mechanism that''s used in TCP/IP,
    which allows applications to be individually referenced on any TCP/IP device.'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '**进程级寻址** 传输层寻址用于区分不同的软件程序。这是许多不同的软件程序能够同时使用网络层协议的部分原因。传输层进程级寻址的最佳例子是TCP/IP中使用的TCP和UDP端口号机制，它允许在任意TCP/IP设备上对应用程序进行单独引用。'
- en: '**Multiplexing and Demultiplexing** Using the process-level addresses, transport
    layer protocols on a sending device *multiplex* the data received from many application
    programs for transport, combining them into a single stream of data to be sent.
    The same protocols receive data and then *demultiplex* it from the incoming stream
    of datagrams, and direct each one to the appropriate recipient application processes.'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '**复用和解复用** 使用进程级地址，发送设备上的传输层协议会将从多个应用程序接收到的数据进行**复用**，将它们组合成一个要发送的单个数据流。相同的协议接收数据，然后从进入的数据报流中**解复用**，并将每个数据报直接导向相应的接收应用程序进程。'
- en: '**Segmentation, Packaging, and Reassembly** The transport layer segments the
    large amounts of data it sends over the network into smaller pieces on the source
    machine, and then reassembles them on the destination machine. This function is
    similar to the fragmentation function of the network layer. Just as the network
    layer fragments messages to fit the limits of the data link layer, the transport
    layer segments messages to suit the requirements of the underlying network layer.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '**分段、封装和重组** 传输层将发送到网络的大量数据在网络源机器上分段成更小的块，然后在目标机器上重新组装。这个功能类似于网络层的分片功能。就像网络层将消息分片以适应数据链路层的限制一样，传输层将消息分片以满足底层网络层的要求。'
- en: '**Connection Establishment, Management, and Termination** Transport layer connection-oriented
    protocols are responsible for the series of communications required to establish
    a connection, maintain it as data is sent over it, and then terminate the connection
    when it is no longer required.'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '**连接建立、管理和终止** 传输层面向连接的协议负责建立连接所需的一系列通信，包括在数据通过它发送时维护连接，并在不再需要时终止连接。'
- en: '**Acknowledgments and Retransmissions** As mentioned earlier, the transport
    layer is where many protocols that guarantee reliable delivery of data are implemented.
    This is done using a variety of techniques, most commonly by combining *acknowledgment*
    and *retransmission timers*. The sending device starts a timer on each occasion
    that data is sent; if the data is received, the recipient sends back an acknowledgment
    to the sender to indicate successful transmission. If no acknowledgment is returned
    before the timer expires, the data is retransmitted. Other algorithms and techniques
    are usually required to support this basic process.'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '**确认和重传** 如前所述，传输层是实现许多保证数据可靠交付的协议的地方。这是通过多种技术实现的，最常见的是通过结合*确认*和*重传计时器*。发送设备在每次发送数据时启动一个计时器；如果数据被接收，接收方会向发送方发送一个确认，以指示传输成功。如果在计时器到期之前没有收到确认，数据将被重新发送。通常还需要其他算法和技术来支持这个基本过程。'
- en: '**Flow Control** Transport layer protocols that offer reliable delivery also
    often implement *flow-control* features. These features allow one device in a
    communication to specify to another that it must throttle back the rate at which
    it is sending data. This will prevent the receiver from being bogged down with
    data. These features allow mismatches in speed between sender and receiver to
    be detected and handled.'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '**流量控制** 提供可靠交付的传输层协议通常也实现了*流量控制*功能。这些功能允许通信中的一个设备向另一个设备指定它必须降低发送数据的速率。这将防止接收器被数据拖累。这些功能允许检测和处理发送方和接收方之间的速度不匹配。'
- en: Tip
  id: totrans-226
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**KEY CONCEPT** The fourth and middle OSI Reference Model layer is the *transport
    layer*. This layer represents the transition point between the lower layers that
    deal with data delivery issues, and the higher ones that work with application
    software. The transport layer is responsible for enabling *end-to-end communication*
    between application processes, which it accomplishes in part through the use of
    process-level addressing and multiplexing or demultiplexing. Transport layer protocols
    are responsible for segmenting application data into blocks for transmission and
    may be either connection-oriented or connectionless. Protocols at this layer also
    often provide data delivery management services such as reliability and flow control.'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 第四层和中间的OSI参考模型层是*传输层*。这一层代表了处理数据交付问题的底层和与应用程序软件一起工作的更高层之间的过渡点。传输层负责在应用程序进程之间实现*端到端通信*，部分是通过使用进程级寻址和复用或解复用来实现的。传输层协议负责将应用程序数据分段以便传输，可以是面向连接的或无连接的。此层的协议也经常提供数据交付管理服务，例如可靠性和流量控制。'
- en: In theory, the transport and network layers are distinct, but in practice, they
    are often very closely related to each other. You can see this easily just by
    looking at the names of common protocol stacks. They are often named after the
    layer 3 and 4 protocols in the suite, thereby implying their close relationship.
    For example, the name TCP/IP comes from the suite's most commonly used transport
    layer protocol (TCP) and network layer protocol (IP). Similarly, the Novell NetWare
    suite is often called IPX/SPX for its layer 3 (IPX) and layer 4 (Sequenced Packet
    Exchange, or SPX) protocols.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 理论上，传输层和网络层是不同的，但在实践中，它们通常彼此非常紧密相关。您只需查看常见协议栈的名称就可以轻松看到这一点。它们通常以套件中第3层和第4层协议命名，从而暗示了它们之间的紧密关系。例如，TCP/IP这个名字来自套件中最常用的传输层协议（TCP）和网络层协议（IP）。同样，Novell
    NetWare套件通常被称为IPX/SPX，因为它有第3层（IPX）和第4层（顺序包交换，或SPX）协议。
- en: Typically, specific transport layer protocols use the network layers in the
    same family. You won't often find a network using the transport layer protocol
    from one suite and the network layer protocol from another. The most commonly
    used transport layer protocols are TCP and UDP in the TCP/IP suite, SPX in the
    NetWare protocol suite, and NetBEUI in the NetBIOS/NetBEUI/NBF suite (though NetBEUI
    is more difficult to categorize).
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，特定的传输层协议使用同一家族的网络层。您不太可能找到一个使用一个套件中的传输层协议和另一个套件中的网络层协议的网络。在TCP/IP套件中，最常用的传输层协议是TCP和UDP，在NetWare协议套件中是SPX，在NetBIOS/NetBEUI/NBF套件中是NetBEUI（尽管NetBEUI更难归类）。
- en: Session Layer (Layer 5)
  id: totrans-230
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 会话层（第5层）
- en: The fifth layer in the OSI Reference Model is the *session layer*. As you proceed
    up the OSI layer stack from the bottom, the session layer is the first one where
    essentially all practical matters related to the addressing, packaging, and delivery
    of data are left behind; they are functions of layers 4 and below. The session
    layer is the lowest of the three upper layers, which, as a group, are concerned
    mainly with software application issues and not with the details of network and
    internetwork implementation.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: OSI参考模型中的第五层是*会话层*。随着您从OSI层堆栈的底部向上移动，会话层是第一个基本上将所有与寻址、封装和交付数据相关的实际事务留在了后面的层；它们是第4层及以下层的功能。会话层是三个上层层中最低的，作为一个整体，它们主要关注软件应用问题，而不是网络和互联网实现的细节。
- en: 'The name session layer is telling: It is designed to allow devices to establish
    and manage *sessions*. In general terms, a session is a persistent logical linking
    of two software application processes that allows them to exchange data over time.
    In some discussions, these sessions are called *dialogs*, and, in fact, they are
    roughly analogous to a telephone call made between two people.'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 会话层的名字说明了其设计目的：它旨在允许设备建立和管理*会话*。一般而言，会话是两个软件应用进程之间持久的逻辑连接，允许它们在一段时间内交换数据。在某些讨论中，这些会话被称为*对话*，实际上，它们大致相当于两个人之间的电话通话。
- en: Session layer protocols primarily provide the necessary means for setting up,
    managing, and ending sessions. In fact, in some ways, session-layer software products
    resemble sets of tools more than specific protocols. These session-layer tools
    are normally provided to higher-layer protocols through command sets that are
    often called *application program interfaces* or *APIs.*
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 会话层协议主要提供设置、管理和结束会话所需的必要手段。实际上，在某些方面，会话层软件产品更像是工具集而不是特定的协议。这些会话层工具通常通过通常称为*应用程序程序接口*或*API*的命令集提供给高层协议。
- en: Common APIs include NetBIOS, TCP/IP Sockets, and Remote Procedure Calls (RPCs).
    APIs allow an application to easily accomplish certain high-level communications
    over the network by using a standardized set of services. Most of these session-layer
    tools are of primary interest to the developers of application software. The programmers
    use the APIs to write software that is able to communicate using TCP/IP without
    developers having to know the implementation details of how TCP/IP works.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 常见的API包括NetBIOS、TCP/IP套接字和远程过程调用（RPCs）。API允许应用程序通过使用一组标准化的服务，轻松地在网络上完成某些高级通信。这些会话层工具主要对应用软件的开发者感兴趣。程序员使用API编写能够使用TCP/IP进行通信的软件，而无需开发者了解TCP/IP如何工作的实现细节。
- en: For example, the Sockets interface lies conceptually at layer 5 and is used
    by TCP/IP application programmers to create sessions between software programs
    over the Internet on the UNIX operating system. Windows Sockets similarly lets
    programmers create Windows software that is Internet capable and able to interact
    easily with other software that uses that interface. (Strictly speaking, Sockets
    is not a protocol, but rather a programming method.)
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，套接字接口在概念上位于第5层，并被TCP/IP应用程序程序员用于在UNIX操作系统上创建互联网上软件程序之间的会话。Windows套接字同样允许程序员创建能够上网的Windows软件，并且能够轻松与其他使用该接口的软件交互。（严格来说，套接字不是一个协议，而是一种编程方法。）
- en: Note
  id: totrans-236
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*The boundaries between layers start to blur once you get to the session layer.
    This makes it hard to categorize what exactly belongs at layer 5, and some technologies
    really span layers 5 through 7\. In the world of TCP/IP in particular, it is not
    common to identify protocols that are specific to the OSI session layer*.'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '*层与层之间的界限一旦达到会话层就开始变得模糊。这使得很难确定哪些内容确切地属于第5层，有些技术实际上跨越了第5层到第7层。在TCP/IP的世界中，特别是不常见能识别出专门针对OSI会话层的协议*。'
- en: Tip
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** The fifth layer in the OSI Reference Model layer is the *session
    layer*. As its name suggests, it is the layer intended to provide functions for
    establishing and managing sessions between software processes. Session layer technologies
    are often implemented as sets of software tools called *application program interfaces
    (APIs)*, which provide a consistent set of services that allow programmers to
    develop networking applications without needing to worry about lower-level details
    of transport, addressing, and delivery.'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** OSI参考模型中的第五层是*会话层*。正如其名称所暗示的，它是旨在为软件进程之间建立和管理会话提供功能的层。会话层技术通常作为一组称为*应用程序编程接口（API）*的软件工具集来实现，这些工具集提供了一套一致的服务，使程序员能够在不担心传输、寻址和交付的底层细节的情况下开发网络应用程序。'
- en: Note
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*The term "session" is somewhat vague, which means that there is sometimes
    disagreement on the specific functions that belong at the session layer, or about
    whether certain protocols belong at the session layer or not. To add to this potential
    confusion, there is the matter of differentiating between a connection and a session.
    Connections are normally the province of layer 4 and layer 3, yet a TCP connection,
    for example, can persist for a long time. The longevity of TCP connections makes
    them hard to distinguish from sessions (and there are some people who feel that
    the TCP/IP host-to-host transport layer really straddles OSI layers 4 and 5)*.'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '*“会话”这个术语有些模糊，这意味着有时会对属于会话层的具体功能或某些协议是否属于会话层存在分歧。更不用说区分连接与会话的问题了。连接通常属于第4层和第3层，但例如TCP连接可以持续很长时间。TCP连接的持久性使得它们难以与会话区分开来（有些人甚至认为TCP/IP的主机到主机传输层实际上跨越了OSI的第4层和第5层）*。'
- en: Presentation Layer (Layer 6)
  id: totrans-242
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 表示层（第6层）
- en: The *presentation layer* is the sixth layer of the OSI Reference Model protocol
    stack and second from the top. It differs from the other layers in two key respects.
    First, it has a much more limited and specific function than the other layers.
    Second, it is used much less often than the other layers and is not required by
    many types of communications.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '*表示层*是OSI参考模型协议堆栈的第六层，也是从顶部数第二层。它在两个关键方面与其他层不同。首先，它的功能和作用范围比其他层要有限和具体得多。其次，它比其他层使用得少，并且不是许多类型通信所必需的。'
- en: This layer deals with the *presentation* of data. More specifically, it is charged
    with taking care of any issues that might arise when data sent from one system
    needs to be viewed in a different way by the receiving system. The presentation
    layer also handles any special processing that must be done to data from the time
    an application tries to send it until the time it is sent over the network.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层处理数据的*表示*。更具体地说，它负责处理当从一系统发送的数据需要以不同的方式由接收系统查看时可能出现的任何问题。表示层还处理从应用程序尝试发送数据到数据通过网络发送这段时间内必须进行的任何特殊处理。
- en: 'Here are some of the specific types of data-handling issues that the presentation
    layer handles:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是表示层处理的一些具体的数据处理问题类型：
- en: '**Translation** Many different types of computers can exist on the same network,
    such as PCs, Macs, UNIX systems, AS/400 servers, and mainframes. Each has many
    distinct characteristics and represents data in different ways (with different
    character sets, for example). The presentation layer hides the differences between
    machines.'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: '**翻译** 在同一个网络中可能存在多种不同类型的计算机，例如PC、Mac、UNIX系统、AS/400服务器和大型机。每种计算机都有许多独特的特性，并以不同的方式表示数据（例如，使用不同的字符集）。表示层隐藏了机器之间的差异。'
- en: '**Compression** Compression (and decompression) may be done at the presentation
    layer to improve the throughput of data.'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '**压缩** 压缩（和解压缩）可以在表示层进行，以提高数据的吞吐量。'
- en: '**Encryption** Some types of encryption (and decryption) are performed at the
    presentation layer to ensure the security of the data as it travels down the protocol
    stack. For example, one of the most popular encryption schemes usually associated
    with the presentation layer is the Secure Sockets Layer (SSL) protocol. (Some
    encryption is done at lower layers in the protocol stack in technologies such
    as IPsec.)'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '**加密** 在表示层执行某些类型的加密（和解密）操作，以确保数据在协议栈中传输时的安全性。例如，与表示层通常相关联的最流行的加密方案之一是安全套接字层（SSL）协议。（在IPsec等技术中，某些加密操作在协议栈的较低层进行。）'
- en: The presentation layer is not always used in network communications because
    these functions mentioned are simply not always needed. Compression and encryption
    are usually considered optional, and translation features are needed only in certain
    circumstances. Also, the presentation layer's functions may be performed at the
    application layer.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 表示层并不总是在网络通信中使用，因为这些提到的功能并不总是需要的。压缩和加密通常被认为是可选的，并且仅在特定情况下需要翻译功能。此外，表示层的功能可能由应用层执行。
- en: Note
  id: totrans-250
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意事项
- en: '*Since its translation job isn''t always needed, the presentation layer is
    commonly skipped by actual protocol stack implementations; in such implementations
    protocols at layer 7 may talk directly with those at layer 5\. This is part of
    the reason why all of the functions at layers 5 through 7 may be included in the
    same software package, as described in the overview of layers and layer groupings
    in the previous chapter*.'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '*由于翻译工作并不总是需要，因此表示层通常在实际协议栈实现中被省略；在这些实现中，第7层的协议可以直接与第5层的协议进行通信。这也是为什么第5层到第7层的所有功能可能都包含在同一个软件包中的原因，如前一章中关于层和层分组的概述所述*。'
- en: Tip
  id: totrans-252
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**KEY CONCEPT** The sixth OSI model layer is the *presentation layer*. Protocols
    at this layer take care of manipulation tasks that transform data from one representation
    to another, such as translation, compression, and encryption. In many cases, no
    such functions are required in a particular networking stack; if so, there may
    not be any protocol active at layer 6, so layer 7 may deal with layer 5.'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** OSI模型的第6层是*表示层*。该层的协议负责执行将数据从一种表示形式转换为另一种表示形式的操作任务，例如翻译、压缩和加密。在许多情况下，特定的网络栈中可能不需要此类功能；如果是这样，第6层可能没有活跃的协议，因此第7层可能直接处理第5层。'
- en: Application Layer (Layer 7)
  id: totrans-254
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用层（第7层）
- en: At the very top of the OSI Reference Model stack of layers, you find layer 7,
    the *application layer*. Continuing the trend that you saw in layers 5 and 6,
    this one is also named very appropriately. The application layer is the one that
    is used by network applications. These programs are what actually implement the
    functions performed by users to accomplish various tasks over the network.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 在OSI参考模型层堆栈的最顶层，您会发现第7层，即*应用层*。继续您在层5和层6中看到的趋势，这一层的命名也非常恰当。应用层是网络应用程序使用的层。这些程序实际上实现了用户在网络中完成各种任务时执行的功能。
- en: It's important to understand that what the OSI model calls an application is
    not exactly the same as what you normally think of as an application. In the OSI
    model, the application layer provides services for user applications to employ.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要理解OSI模型所说的应用层与您通常所想的应用层并不完全相同。在OSI模型中，应用层为用户应用提供服务。
- en: For example, when you use your web browser, that actual software is an application
    running on your PC. It doesn't really reside at the application layer. Rather,
    it makes use of the services offered by a protocol that operates at the application
    layer, which is called the Hypertext Transfer Protocol (HTTP). The distinction
    between the browser and HTTP is subtle but important.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，当你使用你的网页浏览器时，那个实际的软件是在你的PC上运行的应用程序。它并不真正位于应用层。相反，它利用了在应用层运行的协议提供的服务，这个协议被称为超文本传输协议（HTTP）。浏览器和HTTP之间的区别微妙但很重要。
- en: Not all user applications use the network's application layer in the same way.
    Sure, your web browser, email client, and Usenet newsreader do, but if you open
    a file over the network with a text editor, that editor is not using the application
    layer—it just sees a file addressed with a name that has been mapped to a network
    somewhere else. The operating system redirects what the editor does, over the
    network.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有用户应用程序都以相同的方式使用网络的网络应用层。当然，你的网页浏览器、电子邮件客户端和Usenet新闻阅读器都是这样，但如果你使用文本编辑器通过网络打开一个文件，那个编辑器并没有使用应用层——它只是看到了一个被映射到某处网络的文件名。操作系统将编辑器的操作重定向到网络上。
- en: Similarly, not all uses of the application layer are by applications. The operating
    system itself can (and does) use services directly at the application layer.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，并非所有应用层的用途都是通过应用程序实现的。操作系统本身可以（并且确实）直接在应用层使用服务。
- en: That caveat aside, under normal circumstances, whenever you interact with a
    program on your computer that is designed specifically for use on a network, you
    are dealing directly with the application layer. For example, sending an email
    message, firing up a web browser, and using a chat program involve protocols that
    reside at the application layer.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 不考虑这个警告，在正常情况下，每次你与电脑上专门为网络使用而设计的程序交互时，你都是在直接处理应用层。例如，发送电子邮件、启动网页浏览器和使用聊天程序都涉及到位于应用层的协议。
- en: Note
  id: totrans-261
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*There are dozens of different application layer protocols. Some of the most
    popular ones include HTTP, FTP, SMTP, DHCP, NFS, Telnet, SNMP, POP3, NNTP, and
    IRC. I describe all of these and more in Section III*.'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '*有数十种不同的应用层协议。其中一些最受欢迎的包括HTTP、FTP、SMTP、DHCP、NFS、Telnet、SNMP、POP3、NNTP和IRC。我在第3节中描述了所有这些以及更多内容*。'
- en: As the top-of-the-stack layer, the application layer is the only one that does
    not provide any services to the layer above it in the stack—there isn't one! Instead,
    it provides services to programs that want to use the network, and to you, the
    user. So the responsibilities at this layer are simply to implement the functions
    that are needed by users of the network and to issue the appropriate commands
    to make use of the services provided by the lower layers.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 作为堆栈的顶层，应用层是唯一一个不对堆栈中其上层的层提供任何服务的层——没有这样的层！相反，它为想要使用网络的程序以及用户你提供服务。因此，这一层的责任仅仅是实现网络用户所需的函数，并发出适当的命令以利用下层提供的服务。
- en: Tip
  id: totrans-264
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: '**KEY CONCEPT** The *application layer* is the seventh and highest layer in
    the OSI Reference Model. Application protocols that implement specific user applications
    and other high-level functions are defined at this layer. Since they are at the
    top of the stack, application protocols are the only ones that do not provide
    services to a higher layer; they use services provided by the layers below.'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念** 应用层是OSI参考模型的第七层和最高层。在这一层定义了实现特定用户应用程序和其他高级功能的协议。由于它们位于堆栈的顶部，应用协议是唯一不向更高层提供服务的协议；它们使用下层提供的服务。'
- en: As you've seen, the distinctions between the top three layers in the OSI Model
    are not very clear. In the case of TCP/IP, this is exacerbated by the decision
    not to separate out the session, presentation, and application layer functions.
    All of the protocols mentioned earlier are from the TCP/IP protocol family, and
    some may cover all three of the top three OSI layers, two of them, or one; in
    the TCP/IP model, they are all just considered applications.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，OSI模型中最上面三层之间的区别并不非常明显。在TCP/IP的情况下，这种区别由于决定不将会话层、表示层和应用层功能分开而加剧。前面提到的所有协议都属于TCP/IP协议族，其中一些可能覆盖了OSI模型中最上面的三层、两层或一层；在TCP/IP模型中，它们都被视为应用层。
- en: Chapter 7. OSI REFERENCE MODEL SUMMARY
  id: totrans-267
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章 OSI参考模型总结
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages287681.png.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图片](httpatomoreillycomsourcenostarchimages287681.png.jpg)'
- en: 'Many students of networking find the OSI Reference Model challenging to deal
    with. One main reason for this is that the model is somewhat *abstract*, making
    it hard to understand and even more difficult to apply to real networking situations.
    For this reason, I have included in this chapter a set of three tools that I hope
    will help you better understand and remember the OSI Reference Model''s and concepts:
    an analogy, a set of mnemonics, and a summary table of OSI model layers.'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 许多网络学的学生发现 OSI 参考模型很难处理。主要原因之一是这个模型有些**抽象**，使得理解起来很困难，甚至更难将其应用于实际的网络环境中。因此，我在本章中包含了一套我希望能帮助你更好地理解和记住
    OSI 参考模型及其概念的三个工具：一个类比、一组记忆法和一个 OSI 模型层的总结表。
- en: 'Understanding the OSI Model: An Analogy'
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解 OSI 模型：一个类比
- en: I have attempted in this discussion of the OSI Reference Model to provide as
    much a plain English explanation of how it works as possible. However, there are
    situations in which a good analogy can accomplish what lots of descriptions cannot.
    So I am going to illustrate the key OSI model concepts by way of a real-life analogy.
    You can be the judge of whether it is a *good* analogy or not. Just remember that
    no analogy is perfect!
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 我在讨论 OSI 参考模型时，尽可能地提供尽可能多的平实的英语解释，说明它是如何工作的。然而，在某些情况下，一个好的类比可以完成许多描述都无法做到的事情。所以，我将通过一个现实生活中的类比来阐述关键
    OSI 模型概念。你可以判断这个类比是否是一个**好的**类比。只需记住，没有任何类比是完美的！
- en: 'Our scenario seems relatively simple and common: The CEO of a Fortune 500 company
    needs to send a letter to the CEO of another company. Simple, right? Just like
    firing up your web browser and connecting to your favorite website is simple.
    However, in both cases, a lot goes on behind the scenes to make the communication
    happen. In the analogy shown in [Table 7-1](ch07.html#osi_reference_model_real-world_analogy
    "Table 7-1. OSI Reference Model Real-World Analogy"), I compare these real-world
    and cyber-world communications.'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的场景似乎相对简单且常见：一家《财富》500强公司的首席执行官需要给另一家公司的首席执行官发送一封信。简单，对吧？就像打开你的网络浏览器并连接到你最喜欢的网站一样简单。然而，在这两种情况下，幕后都有很多工作要做，以确保通信能够发生。在[表
    7-1](ch07.html#osi_reference_model_real-world_analogy "表 7-1. OSI 参考模型现实世界类比")中展示的类比中，我比较了这些现实世界和虚拟世界中的通信。
- en: Table 7-1. OSI Reference Model Real-World Analogy
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 表 7-1. OSI 参考模型现实世界类比
- en: '| Phase | OSI Layer | CEO Letter | Website Connection (Simplified) |'
  id: totrans-274
  prefs: []
  type: TYPE_TB
  zh: '| 阶段 | OSI 层 | CEO 信件 | 网站连接（简化版）|'
- en: '| --- | --- | --- | --- |'
  id: totrans-275
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| Transmission | 7 | The CEO of a company in Phoenix decides he needs to send
    a letter to a peer in Albany. He dictates the letter to his administrative assistant.
    | You decide you want to connect to the web server at IP address 10.0.12.34, which
    is within your organization but not on your local network. You type the address
    into your browser. |'
  id: totrans-276
  prefs: []
  type: TYPE_TB
  zh: '| 传输 | 7 | 凤凰城一家公司的首席执行官决定需要给阿尔巴尼的一个同行发送一封信。他将信件口述给他的行政助理。 | 你决定想要连接到 IP 地址
    10.0.12.34 的网络服务器，该地址位于你的组织内但不在你的本地网络中。你将地址输入到你的浏览器中。|'
- en: '|   | 6 | The administrative assistant transcribes the dictation into writing.
    | With a website connection, nothing usually happens here. Format translation
    may be done in some cases. |'
  id: totrans-277
  prefs: []
  type: TYPE_TB
  zh: '|   | 6 | 行政助理将口述记录成文字。 | 使用网站连接，这里通常不会发生任何事情。在某些情况下可能需要进行格式转换。|'
- en: '|   | 5 | The administrative assistant puts the letter in an envelope and gives
    it to the mail room. The assistant doesn''t actually know how the letter will
    be sent, but knows it is urgent, so he says, "Get this to its destination quickly."
    | The request is sent via a call to an API, which issues the command necessary
    to contact the server at that address. |'
  id: totrans-278
  prefs: []
  type: TYPE_TB
  zh: '|   | 5 | 行政助理将信件放入信封并交给邮件室。助理实际上不知道信件将如何发送，但知道它很紧急，所以他说：“请尽快将这封信送到目的地。” |
    请求通过调用 API 发送，该 API 发出必要的命令以联系该地址的服务器。|'
- en: '|   | 4 | The mail room must decide how to get the letter where it needs to
    go. Since it is a rush, the people in the mail room decide to give the envelope
    to a courier company to send. | TCP is used to create a segment that will be sent
    to IP address 10.0.12.34. |'
  id: totrans-279
  prefs: []
  type: TYPE_TB
  zh: '|   | 4 | 邮件室必须决定如何将信件送到目的地。由于是加急件，邮件室的人决定将信封交给快递公司发送。 | 使用 TCP 创建一个将被发送到 IP
    地址 10.0.12.34 的段。|'
- en: '|   | 3 | The courier company receives the envelope, but it needs to add its
    own handling information, so it places the smaller envelope in a courier envelope
    (encapsulation). The courier then consults its airplane route information and
    determines that to get this envelope to Albany, it must be flown through its hub
    in Chicago. It hands this envelope to the workers who load packages on its planes.
    | Your computer creates an IP datagram encapsulating the TCP datagram created
    earlier. It then addresses the packet to 10.0.12.34, but discovers that it is
    not on its local network. Instead, it realizes it needs to send the message to
    its designated routing device at IP address 10.0.43.21\. It hands the packet to
    the driver for your Ethernet card (the software that interfaces to the Ethernet
    hardware). |'
  id: totrans-280
  prefs: []
  type: TYPE_TB
  zh: '|   | 3 | 快递公司收到信封，但需要添加自己的处理信息，因此将较小的信封放入快递信封（封装）。然后快递员查阅其飞机路线信息，确定要将此信封运送到阿尔巴尼，必须通过其在芝加哥的枢纽。他将此信封交给负责装载飞机包裹的工人。
    | 您的计算机创建了一个封装了之前创建的TCP数据报的IP数据报。然后它将数据包地址设置为10.0.12.34，但发现它不在其本地网络中。相反，它意识到需要将消息发送到其IP地址为10.0.43.21的指定路由设备。它将数据包交给您的以太网卡驱动程序（与以太网硬件接口的软件）。
    |'
- en: '| Routing | 2 | The workers take the courier envelope and put a tag on it with
    the code for Chicago. They then put it in a handling box and load it on the plane
    to Chicago. | The Ethernet card driver forms a frame containing the IP datagram
    and prepares it to be sent over the network. It packages the message and puts
    the address 10.0.43.21 (for the router) in the frame. |'
  id: totrans-281
  prefs: []
  type: TYPE_TB
  zh: '| 路由 | 2 | 工作人员拿起快递信封，并在上面贴上芝加哥的代码标签。然后他们将其放入处理箱中，并装载到飞往芝加哥的飞机上。 | 以太网卡驱动程序形成一个包含IP数据报的帧，并准备通过网络发送。它包装消息，并将地址10.0.43.21（用于路由器）放入帧中。
    |'
- en: '|   | 1 | The plane flies to Chicago. | The frame is sent over the twisted-pair
    cable that connects your local area network. (I''m ignoring overhead, collisions,
    and so on, here, but then I also ignored the possibility of collisions with the
    plane.) |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '|   | 1 | 飞机飞往芝加哥。 | 帧通过连接您本地网络的 twisted-pair 电缆发送。（在此处我忽略了开销、冲突等，但那时我也忽略了与飞机发生冲突的可能性。）
    |'
- en: '|   | 2 | In Chicago, the box is unloaded, and the courier envelope is removed
    from it and given to the people who handle routing in Chicago. | The Ethernet
    card at the machine with IP address 10.0.43.21 receives the frame, strips off
    the frame headers, and hands it up to the network layer. |'
  id: totrans-283
  prefs: []
  type: TYPE_TB
  zh: '|   | 2 | 在芝加哥，箱子被卸下，快递信封从箱子中取出，并交给在芝加哥处理路由的人员。 | 具有IP地址10.0.43.21的机器上的以太网卡接收帧，移除帧头部，并将其向上传递到网络层。
    |'
- en: '|   | 3 | The tag marked "Chicago" is removed from the outside of the courier
    envelope. The envelope is then given back to the airplane workers to be sent to
    Albany. | The IP datagram is processed by the router, which realizes the destination
    (10.0.12.34) can be reached directly. It passes the datagram back down to the
    Ethernet driver. |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '|   | 3 | 从快递信封的外面移除标记为“芝加哥”的标签。然后信封被交还给飞机工作人员，以便发送到阿尔巴尼。 | IP数据报由路由器处理，路由器意识到目的地（10.0.12.34）可以直接到达。它将数据报向下传递到以太网驱动程序。
    |'
- en: '|   | 2 | The envelope is given a new tag with the code for Albany, placed
    in another box, and loaded on the plane to Albany. | The Ethernet driver creates
    a new frame and prepares to send it to the device that uses IP address 10.0.12.34.
    |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '|   | 2 | 信封被贴上新的标签，带有阿尔巴尼的代码，放入另一个箱子中，并装载到飞往阿尔巴尼的飞机上。 | 以太网驱动程序创建一个新的帧，并准备将其发送到使用IP地址10.0.12.34的设备。
    |'
- en: '|   | 1 | The plane flies to Albany. | The frame is sent over the network.
    |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '|   | 1 | 飞机飞往阿尔巴尼。 | 帧通过网络发送。 |'
- en: '|   | 2 | The box is unloaded, and the courier envelope is removed from the
    box. It is given to the Albany routing office. | The Ethernet card at the device
    with IP address 10.0.12.34 receives the frame, strips off the headers, and passes
    it up the stack. |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '|   | 2 | 箱子被卸下，快递信封从箱子中取出，并交给阿尔巴尼的路由办公室。 | 具有IP地址10.0.12.34的设备的以太网卡接收帧，移除头部，并将其向上传递到堆栈。
    |'
- en: '| Reception | 3 | The courier company in Albany sees that the destination is
    in Albany and delivers the envelope to the destination CEO''s company. | The IP
    headers are removed from the datagram, and the TCP segments are handed up to TCP.
    |'
  id: totrans-288
  prefs: []
  type: TYPE_TB
  zh: '| 接收 | 3 | 阿尔巴尼的快递公司看到目的地是阿尔巴尼，就将信封递送到目的地CEO的公司。 | 从数据报中移除了IP头，并将TCP段传递给TCP。
    |'
- en: '|   | 4 | The mail room removes the inner envelope from the courier envelope
    and delivers it to the destination CEO''s assistant. | TCP removes its headers
    and hands the data up to the drivers on the destination machine. |'
  id: totrans-289
  prefs: []
  type: TYPE_TB
  zh: '|   | 4 | 邮件室从快递信封中取出内层信封并将其交付给目的地CEO的助手。 | TCP移除其头部并将数据交给目标机器上的驱动程序。 |'
- en: '|   | 5 | The assistant takes the letter out of the envelope. | The request
    is sent to the web-server software for processing. |'
  id: totrans-290
  prefs: []
  type: TYPE_TB
  zh: '|   | 5 | 助手从信封中取出信件。 | 请求被发送到网络服务器软件进行处理。 |'
- en: '|   | 6 | The assistant reads the letter and decides whether to give the letter
    to the CEO, transcribe it to email, call the CEO on her cell phone, or whatever.
    | Again, in this example nothing probably happens at the presentation layer. |'
  id: totrans-291
  prefs: []
  type: TYPE_TB
  zh: '|   | 6 | 助手阅读信件并决定是否将信件交给CEO，将其转录成电子邮件，给CEO打电话或做其他事情。 | 再次，在这个例子中，在表示层可能没有发生任何事情。
    |'
- en: '|   | 7 | The second CEO receives the message that was sent by the first one.
    | The web server receives and processes the request. |'
  id: totrans-292
  prefs: []
  type: TYPE_TB
  zh: '|   | 7 | 第二位CEO接收第一位CEO发送的消息。 | 网络服务器接收并处理请求。 |'
- en: As you can see, the processes have a fair bit in common. The vertical communication
    and encapsulation are pretty obvious, as is the routing. Also implied is the horizontal
    communication that occurs logically—the two CEOs seem to be "connected" despite
    all that happens to enable this to occur. Similarly, in a way, the two assistants
    are logically connected as well, even though they never actually converse. Of
    course, this example is highly simplified in just about every way imaginable,
    so please don't use it as a way of trying to learn about how TCP/IP works—or courier
    services, for that matter!
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，这些过程有很多共同之处。垂直通信和封装相当明显，路由也是如此。还隐含的是逻辑上的横向通信——两位CEO似乎“连接”在一起，尽管发生了所有这些事情才能实现这一点。同样，从某种意义上说，两位助手也是逻辑上连接的，尽管他们从未真正交谈过。当然，这个例子在几乎所有方面都被高度简化了，所以请不要用它来尝试了解TCP/IP的工作方式——或者快递服务，等等！
- en: 'Remembering the OSI Model Layers: Some Mnemonics'
  id: totrans-294
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 记忆OSI模型层：一些助记符
- en: If you spend any amount of time at all dealing with networking design or implementation
    issues, or learning about how the various protocols operate, the names and numbers
    of the various layers will eventually become second nature.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你花任何时间处理网络设计或实施问题，或者学习各种协议的工作方式，各种层的名称和数字最终会变得自然而然。
- en: Many people, however, especially those just learning about networks, find it
    difficult to recall the names of all the layers, and especially, their exact order.
    For these people, a number of mnemonics have been created as memory aids. You
    probably remember mnemonics from elementary school. These are cute phrases in
    which each word starts with the first letter of an OSI model layer, arranged in
    the correct order. Some of these go in ascending layer number order, and some
    go in the other direction.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 许多人，然而，尤其是那些刚开始学习网络的人，发现很难回忆起所有层的名称，尤其是它们的准确顺序。对于这些人，已经创造了许多助记符作为记忆辅助工具。你可能还记得小学时的助记符。这些是包含每个单词都以OSI模型层首字母开头的可爱短语，并按正确的顺序排列。其中一些按层号升序排列，而另一些则按相反方向排列。
- en: 'These two go from physical layer to application layer:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个从物理层到应用层：
- en: Please Do Not Throw Sausage Pizza Away
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请勿丢弃史蒂夫的香肠披萨
- en: Please Do Not Touch Steve's Pet Alligator
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请勿触摸史蒂夫的宠物鳄鱼
- en: 'And these go the other direction, from application to physical:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 而这些则是从应用层到物理层的相反方向：
- en: All People Seem To Need Data Processing (a popular one)
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有人似乎都需要数据处理（一个流行的例子）
- en: All People Standing Totally Naked Don't Perspire (hmm, that's interesting!)
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有人完全赤身裸体站立都不会出汗（嗯，这很有趣！）
- en: For your convenience, I have illustrated all four of these in [Figure 7-1](ch07s02.html#osi_reference_model_mnemonics_these_mnem
    "Figure 7-1. OSI Reference Model mnemonics These mnemonics may help you to remember
    the order of the OSI Reference Model layers.").
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 为了您的方便，我已经在[图7-1](ch07s02.html#osi_reference_model_mnemonics_these_mnem "图7-1.
    OSI参考模型助记符 这些助记符可能有助于你记住OSI参考模型层的顺序。")中说明了这四个。
- en: '![OSI Reference Model mnemonics These mnemonics may help you to remember the
    order of the OSI Reference Model layers.](httpatomoreillycomsourcenostarchimages287717.png)'
  id: totrans-304
  prefs: []
  type: TYPE_IMG
  zh: '![OSI参考模型助记符 这些助记符可能有助于你记住OSI参考模型层的顺序。](httpatomoreillycomsourcenostarchimages287717.png)'
- en: Figure 7-1. OSI Reference Model mnemonics These mnemonics may help you to remember
    the order of the OSI Reference Model layers.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 图7-1. OSI参考模型助记符 这些助记符可能有助于你记住OSI参考模型层的顺序。
- en: 'Or try my own creation: All People Should Teach Networking Daily Please.'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 或者尝试我的自创：所有人都应该每天教授网络知识。
- en: 'Summarizing the OSI Model Layers: A Summary Chart'
  id: totrans-307
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结OSI模型层：摘要图表
- en: To assist you in quickly comparing the layers of the OSI Reference Model, and
    understanding where they are different and how they relate to each other, I'm
    offering you the summary chart shown in [Table 7-2](ch07s03.html#osi_reference_model_layer_summary
    "Table 7-2. OSI Reference Model Layer Summary"). It shows each layer's name and
    number, describes its key responsibilities, talks about what type of data is generally
    handled at each layer, and also describes the scope of each layer in approximate
    terms. I also show some of the more common protocols that are associated with
    each layer.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 为了帮助您快速比较OSI参考模型的层，并了解它们之间的不同之处以及它们是如何相互关联的，我为您提供了一张摘要图表，如图[表7-2](ch07s03.html#osi_reference_model_layer_summary
    "表7-2. OSI参考模型层摘要")所示。它显示了每一层的名称和编号，描述了其关键职责，讨论了在每一层通常处理的数据类型，并大致描述了每一层的范围。我还展示了与每一层相关的一些更常见的协议。
- en: The standard disclaimers still apply to this table. Namely, the layers aren't
    always hard-fast; I haven't listed every single protocol here, so some may really
    fit into more than one layer, and so on. In particular, note that many of the
    technologies listed as being in the data link layer are there because that is
    the layer where their primary functionality resides. In reality, most of these
    technologies include components in other layers, especially the physical layer.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 本表仍适用标准免责声明。也就是说，层与层之间并不总是严格划分；我没有列出每一个单独的协议，因此有些可能实际上适合多个层，等等。特别是请注意，列在数据链路层中的许多技术之所以在那里，是因为它们的主要功能位于该层。实际上，这些技术中的大多数都包含在其他层中的组件，尤其是物理层。
- en: Table 7-2. OSI Reference Model Layer Summary
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 表7-2. OSI参考模型层摘要
- en: '| Group | # | Layer Name | Key Responsibilities | Data Type Handled | Scope
    | Common Protocols and Technologies |'
  id: totrans-311
  prefs: []
  type: TYPE_TB
  zh: '| 组 | # | 层名称 | 主要职责 | 处理的数据类型 | 范围 | 常见协议和技术 |'
- en: '| --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- |'
- en: '| Lower Layers | 1 | Physical | Encoding and signaling; physical data transmission;
    hardware specifications; topology and design | Bits | Electrical or light signals
    sent between local devices | Physical layers of most of the technologies listed
    for the data link layer |'
  id: totrans-313
  prefs: []
  type: TYPE_TB
  zh: '| 下层 | 1 | 物理层 | 编码和信号；物理数据传输；硬件规范；拓扑和设计 | 比特 | 本地设备之间发送的电气或光信号 | 列出的大部分数据链路层技术的物理层
    |'
- en: '|   | 2 | Data Link | Logical link control; media access control; data framing;
    addressing; error detection and handling; defining requirements of physical layer
    | Frames | Low-level data messages between local devices | IEEE 802.2 LLC, Ethernet
    family; Token Ring; FDDI and CDDI; IEEE 802.11 (WLAN, Wi-Fi); HomePNA; HomeRF;
    ATM; SLIP and PPP |'
  id: totrans-314
  prefs: []
  type: TYPE_TB
  zh: '|   | 2 | 数据链路 | 逻辑链路控制；媒体访问控制；数据帧；寻址；错误检测和处理；定义物理层的要求 | 帧 | 本地设备之间的低级数据消息
    | IEEE 802.2 LLC、以太网系列；令牌环；FDDI和CDDI；IEEE 802.11（WLAN、Wi-Fi）；HomePNA；HomeRF；ATM；SLIP和PPP
    |'
- en: '|   | 3 | Network | Logical addressing; routing; datagram encapsulation; fragmentation
    and reassembly; error handling and diagnostics | Datagrams/packets | Messages
    between local or remote devices | IP; IPv6; IP NAT; IPsec; Mobile IP; ICMP; IPX;
    DLC; PLP; routing protocols such as RIP and BGP |'
  id: totrans-315
  prefs: []
  type: TYPE_TB
  zh: '|   | 3 | 网络 | 逻辑寻址；路由；数据报封装；分片和重组；错误处理和诊断 | 数据报/包 | 本地或远程设备之间的消息 | IP；IPv6；IP
    NAT；IPsec；移动IP；ICMP；IPX；DLC；PLP；如RIP和BGP的路由协议 |'
- en: '|   | 4 | Transport | Process-level addressing; multiplexing/demultiplexing;
    connections; segmentation and reassembly; acknowledgments and retransmissions;
    flow control | Datagrams/segments | Communication between software processes |
    TCP and UDP; SPX; NetBEUI/NBF |'
  id: totrans-316
  prefs: []
  type: TYPE_TB
  zh: '|   | 4 | 传输 | 进程级寻址；复用/解复用；连接；分段和重组；确认和重传；流量控制 | 数据报/段 | 软件进程之间的通信 | TCP和UDP；SPX；NetBEUI/NBF
    |'
- en: '| Upper Layers | 5 | Session | Session establishment, management, and termination
    | Sessions | Sessions between local or remote devices | NetBIOS, Sockets, named
    pipes, RPC |'
  id: totrans-317
  prefs: []
  type: TYPE_TB
  zh: '| 上层 | 5 | 会话 | 会话建立、管理和终止 | 会话 | 本地或远程设备之间的会话 | NetBIOS、套接字、命名管道、RPC |'
- en: '|   | 6 | Presentation | Data translation; compression and encryption | Encoded
    user data | Application data representations | SSL; shells and redirectors; MIME
    |'
  id: totrans-318
  prefs: []
  type: TYPE_TB
  zh: '|   | 6 | 表示层 | 数据转换；压缩和加密 | 编码的用户数据 | 应用数据表示 | SSL；外壳和重定向器；MIME |'
- en: '|   | 7 | Application | User application services | User data | Application
    data | DNS; NFS; BOOTP; DHCP; SNMP; RMON; FTP; TFTP; SMTP; POP3; IMAP; NNTP; HTTP;
    Telnet |'
  id: totrans-319
  prefs: []
  type: TYPE_TB
  zh: '|   | 7 | 应用 | 用户应用服务 | 用户数据 | 应用数据 | DNS; NFS; BOOTP; DHCP; SNMP; RMON; FTP;
    TFTP; SMTP; POP3; IMAP; NNTP; HTTP; Telnet |'
