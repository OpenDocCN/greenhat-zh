- en: 'Program 106: Taking Out the Trash'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 程序 106：清理垃圾
- en: We have a memory-mapped input port pointed to by in_port_ptr. The device can
    buffer up to three characters. In order to initialize the device, we need to empty
    the buffer and clear out any old garbage. That's what this function is supposed
    to do. But sometimes it doesn't work. Why?
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有一个通过 in_port_ptr 指向的内存映射输入端口。该设备可以缓冲最多三个字符。为了初始化设备，我们需要清空缓冲区并清除任何旧的垃圾。这正是这个函数应该做的事情。但有时它不起作用。为什么？
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: (Next [Hint 129](LiB0120.html#265). [Answer 9](LiB0121.html#507).)
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: (下一个 [提示 129](LiB0120.html#265)。 [答案 9](LiB0121.html#507)。)
- en: '| **![Start Sidebar](_1.gif)** |'
  id: totrans-4
  prefs: []
  type: TYPE_TB
  zh: '| **![开始侧边栏](_1.gif)** |'
- en: 'The First Rule of Program Optimization:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 程序优化的第一规则：
- en: Don't do it.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 不要做。
- en: 'The Second Rule of Program Optimization:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 程序优化的第二规则：
- en: Don't do it yet.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 还不要做。
- en: '| **![End Sidebar](_1.gif)** |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: '| **![结束侧边栏](_1.gif)** |'
- en: '|  |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: '|  |'
