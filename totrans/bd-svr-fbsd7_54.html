<html><head></head><body>

<div class="calibre1"><div class="calibre1"><a name="phpmyadmin_2.11.5" class="calibre8" id="phpmyadmin_2.11.5"/>
<div class="calibre24" id="calibre_pb_0"/><h2 id="title-ID0ETGAO" class="docPrefaceTitle">Chapter 23. PHPMYADMIN 2.11.5</h2>
<h4 class="calibre32"><a class="calibre2" target="_blank" href="HTTP://WWW.PHPMYADMIN.NET">HTTP://WWW.PHPMYADMIN.NET</a></h4>
<a name="summary-id22" class="calibre8" id="summary-id22"/>
<h3 class="docSection1Title" id="-100000">23.1. SUMMARY</h3>
<p class="docText1"><a name="phpMyAdmin is" class="calibre8" id="phpMyAdmin is"/>phpMyAdmin is an open source web-based MySQL administration tool written in PHP. Many use phpMyAdmin as a substitute for the command-line tools included with the default installation of MySQL. phpMyAdmin is the recipient of numerous industry awards, and it has garnered much praise from the database administrator community.<a name="IDX-CHP-23-0335" class="calibre8" id="IDX-CHP-23-0335"/><a name="IDX-CHP-23-0336" class="calibre8" id="IDX-CHP-23-0336"/><a name="IDX-CHP-23-0337" class="calibre8" id="IDX-CHP-23-0337"/><a name="IDX-CHP-23-0338" class="calibre8" id="IDX-CHP-23-0338"/><a name="IDX-CHP-23-0339" class="calibre8" id="IDX-CHP-23-0339"/><a name="IDX-CHP-23-0340" class="calibre8" id="IDX-CHP-23-0340"/></p>
<p class="docText1"><a name="include the" class="calibre8" id="include the"/>Major features include the ability to create and drop databases; create, drop, or alter tables; delete, edit, or add fields; execute any SQL statement; manage keys on fields; manage privileges; and export data into various formats. phpMyAdmin has been translated into more than 50 languages.</p>
<p class="docText1"><a name="allows administrators" class="calibre8" id="allows administrators"/>Like other web administration utilities, phpMyAdmin allows administrators high flexibility. It is platform independent and management functions can be performed from any Internet-connected computer with virtually any web browser.</p>
<p class="docText1"><a name="phpMyAdmin began" class="calibre8" id="phpMyAdmin began"/>Development of phpMyAdmin began in 1998 by IT consultant Tobias Ratschiller. Ratschiller's work was based loosely on a program called MySQL-Webadmin, a product of Peter Kuppelwieser's, who had ceased development at the time. Ratschiller wrote new code for phpMyAdmin, and improved on concepts from Kuppelwieser's project. Ratschiller left the phpMyAdmin project in 2001. A team of eight developers led by Olivier MÃ¼ller continues development of phpMyAdmin at SourceForge.net (<a class="calibre2" target="_blank" href="http://sourceforge.net">http://sourceforge.net</a>).</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="resources-id22" class="calibre8" id="resources-id22"/>
<h3 class="docSection1Title" id="-100000">23.2. RESOURCES</h3>
<p class="docText1"><span class="b"><a name="phpMyAdmin Documentation" class="calibre8" id="phpMyAdmin Documentation"/>phpMyAdmin Documentation</span></p>
<p class="docText1"><a class="calibre2" target="_blank" href="http://www.phpmyadmin.net/documentation">http://www.phpmyadmin.net/documentation</a></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="required-id22" class="calibre8" id="required-id22"/>
<h3 class="docSection1Title" id="-100000">23.3. REQUIRED</h3>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/><a name="FreeBSD " class="calibre8" id="FreeBSD "/> FreeBSD 7.0-RELEASE (see "<a class="calibre2" href="freebsd_7.0_split_000.html#freebsd_7.0">FreeBSD 7.0</a>")</p>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/><a name="collection " class="calibre8" id="collection "/> Updated ports collection (see "<a class="calibre2" href="freebsd_ports_collection.html#freebsd_ports_collection">FreeBSD Ports Collection</a>")</p>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/> Apache HTTP Server (see "<a class="calibre2" href="apache_http_server_2.2.8_split_000.html#apache_http_server_2.2.8">Apache HTTP Server 2.2.8</a>")</p>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/> MySQL 5 (see "<a class="calibre2" href="mysql_server_5.0.51.html#mysql_server_5.0.51">MySQL Server 5.0.51</a>")</p>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/> PHP 5 (see "<a class="calibre2" href="php_5.2.5.html#php_5.2.5">PHP 5.2.5</a>")</p>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/> Internet connection</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="optional-id12" class="calibre8" id="optional-id12"/>
<h3 class="docSection1Title" id="-100000">23.4. OPTIONAL</h3>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/><a name="OpenSSL with" class="calibre8" id="OpenSSL with"/> OpenSSL with a signed SSL Certificate (see "<a class="calibre2" href="openssl_0.9.8g.html#openssl_0.9.8g">OpenSSL 0.9.8g</a>")</p>
<p class="docText1"><img border="0" id="" src="N2QyLy9jZ3QvODFzcGVtaTlnNTRmOTk1N2kzMWFyczMvZzAwcC5uVQ--.jpg" alt="" class="calibre33"/> Registered domain name</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="preparation-id22" class="calibre8" id="preparation-id22"/>
<h3 class="docSection1Title" id="-100000">23.5. PREPARATION</h3>
<p class="docText1"><a name="If you" class="calibre8" id="If you"/>If you plan to use phpMyAdmin from an insecure public network, be sure that your Apache HTTP server is correctly configured to accept HTTPS connections with SSL. If your Apache HTTP server lacks SSL support, your MySQL login and password will be transmitted over the network "in the clear" and may be exposed to unauthorized persons.<a name="IDX-CHP-23-0341" class="calibre8" id="IDX-CHP-23-0341"/></p>
<p class="docText1">Become the superuser.</p>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> This guide assumes that MySQL and Apache co-exist on the same system.</span><hr size="1" noshade="noshade" class="calibre27"/>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="install-id22" class="calibre8" id="install-id22"/>
<h3 class="docSection1Title" id="-100000">23.6. INSTALL</h3>
<p class="docText1"><a name="To begin" class="calibre8" id="To begin"/>To begin the installation process for phpMyAdmin, enter the following commands:</p>
<pre class="calibre30"># <b class="calibre28">cd /usr/ports/databases/phpmyadmin</b>
# <b class="calibre28">make config ; make install clean</b></pre>
<p class="docText1"><a name="of options" class="calibre8" id="of options"/>A menu of options will appear. Scroll down to <span class="b">MYSQLI</span><a name="MySQL support" class="calibre8" id="MySQL support"/> and press [spacebar] to enable improved MySQL support (which allows access to functionality in MySQL 4.1.<span class="docEmphasis1">x</span><a name="the other" class="calibre8" id="the other"/> and later). Leave the other options at their defaults. Press [tab] to highlight <span class="b">OK</span><a name="begin installation" class="calibre8" id="begin installation"/>, then press [enter] to begin installation.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="configure-id22" class="calibre8" id="configure-id22"/>
<h3 class="docSection1Title" id="-100000">23.7. CONFIGURE</h3>
<p class="docText1"><a name="Once the" class="calibre8" id="Once the"/>Once the installation process is complete, it is time to configure phpMyAdmin for use on your system.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="options in" class="calibre8" id="options in"/>Specify configuration options in the <span class="docEmphasis1">config.inc.php</span> file located in the <span class="docEmphasis1">/usr/local/www/phpMyAdmin</span> directory. Open <span class="docEmphasis1">config.inc.php</span> like this:</p><pre class="calibre30"># <b class="calibre28">cd /usr/local/www/phpMyAdmin</b>
# <b class="calibre28">ee config.inc.php</b></pre>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Erase the contents of <span class="docEmphasis1">config.inc.php</span><a name="lines shown" class="calibre8" id="lines shown"/> (for easier radability), and then add the lines shown below.</p><p class="docText1"><a name="shown in" class="calibre8" id="shown in"/>The options shown in italics may need to be modified to fit your specific configuration. Explanations of each line are provided below.</p><pre class="calibre30">&lt;?php
cfg['blowfish_secret']               = '<tt class="calibre20"><i class="docEmphasis1">4fj8Rv15ZFls16Lei23qrn42</i></tt>';
$i                                   = 1;
$cfg['Servers'][$i]['connect_type']  = '<tt class="calibre20"><i class="docEmphasis1">socket</i></tt>';

$cfg['Servers'][$i]['auth_type']     = 'cookie';
$cfg['Servers'][$i]['extension']     = 'mysqli';
?&gt;</pre><br class="calibre1"/>
<p class="docText1"><tt class="calibre20">$cfg[blowfish_secret] =</tt><a name="string that" class="calibre8" id="string that"/> is a random string that the Blowfish algorithm uses to encrypt password information stored in cookies. Enter a string of no more than 46 random characters here.</p><p class="docText1"><tt class="calibre20">$i =</tt><a name="have multiple" class="calibre8" id="have multiple"/> specifies the array number for the lines below it. If you have multiple MySQL servers, you could specify a specific set (array) of options for each server.</p><p class="docText1"><tt class="calibre20">$cfg['Servers'][$i]['connect_type'] =</tt><a name="MySQL server" class="calibre8" id="MySQL server"/> tells phpMyAdmin to contact the MySQL server via either Unix <tt class="calibre20">socket</tt> or <tt class="calibre20">tcp</tt><a name="running on" class="calibre8" id="running on"/> connection. Unix sockets are usually used when Apache and MySQL are running on the same system. TCP connections allow you to administer a MySQL server running on another computer, although MySQL must also be configured to allow incoming TCP connections.</p><p class="docText1"><tt class="calibre20">$cfg['Servers'][$i]['auth_type'] =</tt><a name="cookies to" class="calibre8" id="cookies to"/> tells phpMyAdmin to use encrypted cookies to store username and password information.</p><p class="docText1"><tt class="calibre20">$cfg['Servers'][$i]['extension'] =</tt> instructs phpMyAdmin to use the <span class="docEmphasis1">mysqli</span><a name="MySQL " class="calibre8" id="MySQL "/> PHP extension, which allows access to added functionality in MySQL 4.1 and later.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="Save and" class="calibre8" id="Save and"/>Save and exit.</p><hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> The next few steps configure the optional <span class="docEmphasis1">linked-tables infrastructure</span>, which is a set of phpMyAdmin-specific features, including PDF-generation, bookmarks, and history, among others. If you do not need this functionality, skip to step 8.</span><hr size="1" noshade="noshade" class="calibre27"/></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="MySQL user" class="calibre8" id="MySQL user"/>Create a MySQL user named pma and grant it <tt class="calibre20">select</tt>, <tt class="calibre20">insert</tt>, <tt class="calibre20">update</tt>, and <tt class="calibre20">delete</tt> privileges for the <span class="docEmphasis1">phpmyadmin</span><a name="and assign" class="calibre8" id="and assign"/> database. Here's how to create the user and assign the appropriate privileges:</p><pre class="calibre30"># <b class="calibre28">mysql -u root -p</b>
 mysql&gt; <b class="calibre28">grant select, insert, update, delete on phpmyadmin.* to</b>
     -&gt; <b class="calibre28">pma@localhost identified by '</b><span class="docEmphBoldItalic">password</span><b class="calibre28">';</b>
 mysql&gt; <b class="calibre28">quit;</b></pre><br class="calibre1"/>
<p class="docText1">Substitute <tt class="calibre20"><i class="docEmphasis1">password</i></tt><a name="an arbitrary" class="calibre8" id="an arbitrary"/> above with an arbitrary password, which will be used again later.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Use the <span class="docEmphasis1">create_tables</span><a name="phpMyAdmin to" class="calibre8" id="phpMyAdmin to"/> script included with phpMyAdmin to create the appropriate database and tables. These commands will automatically create the database and tables:</p><pre class="calibre30"># <b class="calibre28">cd /usr/local/www/phpMyAdmin/scripts</b>
# <b class="calibre28">mysql -u root -p &lt; create_tables_mysql_4_1_2+.sql</b></pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Re-edit the <span class="docEmphasis1">config.inc.php</span> file in <span class="docEmphasis1">/usr/local/www/phpMyAdmin</span> to complete the setup. Open the file:</p><pre class="calibre30"># <b class="calibre28">ee /usr/local/www/phpMyAdmin/config.inc.php</b></pre><br class="calibre1"/>
<p class="docText1">and add the following lines:</p><pre class="calibre30">&lt;?php
$cfg['Servers'][$i]['pmadb']         = 'phpmyadmin';
$cfg['Servers'][$i]['controluser']   = 'pma';
$cfg['Servers'][$i]['controlpass']   = '<tt class="calibre20"><i class="docEmphasis1">password</i></tt>';
$cfg['Servers'][$i]['table_info']    = 'pma_table_info';
$cfg['Servers'][$i]['pdf_pages']     = 'pma_pdf_pages';
$cfg['Servers'][$i]['history']       = 'pma_history';
$cfg['Servers'][$i]['column_info']   = 'pma_column_info';
$cfg['Servers'][$i]['table_coords']  = 'pma_table_coords';
$cfg['Servers'][$i]['relation']      = 'pma_relation';
$cfg['Servers'][$i]['bookmarktable'] = 'pma_bookmark';
?&gt;</pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">password</i></tt><a name="step " class="calibre8" id="step "/> with the password you assigned to the pma user in step 4.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Save and exit.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="file will" class="calibre8" id="file will"/>Create a phpMyAdmin-specific Apache configuration file. This file will point Apache to the correct location of the phpMyAdmin files and make administration easier by keeping phpMyAdmin-specific options separate from the main <span class="docEmphasis1">httpd.conf</span> file. By default, Apache searches the <span class="docEmphasis1">/usr/local/etc/apache22/Includes</span> directory for configuration files. To create one for phpMyAdmin, open <span class="docEmphasis1">phpmyadmin.conf</span> :</p><pre class="calibre30"># <b class="calibre28">ee /usr/local/etc/apache22/Includes/phpmyadmin.conf</b></pre><br class="calibre1"/>
<p class="docText1">and add the following lines:</p><pre class="calibre30">Alias /<tt class="calibre20"><i class="docEmphasis1">phpmyadmin</i></tt> "/usr/local/www/phpMyAdmin/"

&lt;Directory "/usr/local/www/phpMyAdmin/"&gt;
Options none
AllowOverride All
Order Deny,Allow
Deny from all
Allow from 127.0.0.1 <tt class="calibre20"><i class="docEmphasis1">192.168.1</i></tt>
&lt;/Directory&gt;</pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">192.168.1</i></tt><a name="restrict access" class="calibre8" id="restrict access"/> with the first three octets of your local network to restrict access to the local subnet. If you need access from outside your local network, See Notes on page 161 on forcing secure connections to non-local IPs.</p><hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> By default, phpMyAdmin is set up as a subdirectory of your web server's root site. This means you would enter <a class="calibre2" target="_blank" href="http://host.example.com/phpmyadmin">http://host.example.com/phpmyadmin</a> into your web browser in order to access it. To change this default directory, replace <tt class="calibre20">phpmyadmin</tt> (italicized above) with a different name.</span><hr size="1" noshade="noshade" class="calibre27"/></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="commit the" class="calibre8" id="commit the"/>Save and exit. Restart Apache to commit the changes:</p><pre class="calibre30"># <b class="calibre28">/usr/local/etc/rc.d/apache22 restart</b></pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="at" class="calibre8" id="at"/>You can access phpMyAdmin with a web browser at <a class="calibre2" target="_blank" href="http://host.example.com/phpmyadmin">http://host.example.com/phpmyadmin</a> (replace <a class="calibre2" target="_blank" href="http://host.example.com">host.example.com</a><a name="with your" class="calibre8" id="with your"/> with your server's hostname).</p></div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="administration-id4" class="calibre8" id="administration-id4"/>
<h3 class="docSection1Title" id="-100000">23.8. ADMINISTRATION</h3>
<p class="docText1"><a name="To administer" class="calibre8" id="To administer"/>To administer your MySQL server with phpMyAdmin, use one of the following URLs, substituting your server's hostname and directory as appropriate:<a name="IDX-CHP-23-0342" class="calibre8" id="IDX-CHP-23-0342"/></p>
<p class="docText1"><a class="calibre2" target="_blank" href="http://host.example.com/phpmyadmin">http://host.example.com/phpmyadmin</a> (for unencrypted communication)</p>
<p class="docText1"><a class="calibre2" target="_blank" href="https://host.example.com/phpmyadmin">https://host.example.com/phpmyadmin</a> (for encrypted communication)</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="config_files-id22" class="calibre8" id="config_files-id22"/>
<h3 class="docSection1Title" id="-100000">23.9. CONFIG FILES</h3>
<p class="docText1"><span class="b">/usr/local/www/phpMyAdmin/config.inc.php</span></p>
<p class="docText1"><a name="main configuration" class="calibre8" id="main configuration"/>phpMyAdmin's main configuration file</p>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> For details on options, see <span class="docEmphasis1">/usr/local/www/phpMyAdmin/Documentation.txt</span>.</span><hr size="1" noshade="noshade" class="calibre27"/>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="notes-id16" class="calibre8" id="notes-id16"/>
<h3 class="docSection1Title" id="-100000">23.10. NOTES</h3>
<p class="docText1"><a name="When allowing" class="calibre8" id="When allowing"/>When allowing logins from the Internet, all communications should be secured by permitting only HTTPS connections to phpMyAdmin. We'll reconstruct our phpMyAdmin-specific configuration file to accommodate this. Apache needs to be configured with SSL support for this to work. Open the existing file:</p>
<pre class="calibre30"># <b class="calibre28">ee /usr/local/etc/apache22/Includes/phpmyadmin.conf</b></pre>
<p class="docText1"><a name="modify the" class="calibre8" id="modify the"/>and then modify the file to read as follows:</p>
<pre class="calibre30">Alias /<i class="docEmphasis1">phpmyadmin </i> "/usr/local/www/phpMyAdmin/"

&lt;Directory "/usr/local/www/phpMyAdmin/"&gt;
Options none
AllowOverride All
<b class="calibre28">Order Allow,Deny </b>
<b class="calibre28">Allow from All </b>
&lt;/Directory&gt;

&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteCond %{REQUEST_URI} /<i class="docEmphasis1">phpmyadmin </i>
RewriteRule (.*) https://<i class="docEmphasis1">host.example.com </i>/<i class="docEmphasis1">phpmyadmin </i>/ [R]
&lt;/IfModule&gt;</pre><br class="calibre1"/>
<p class="docText1"><a name="then save" class="calibre8" id="then save"/>Make the appropriate substitutions and then save, exit, and restart Apache:</p>
<pre class="calibre30"># <b class="calibre28">/usr/local/etc/rc.d/apache22 restart</b></pre><br class="calibre1"/>
</div></div>

</body></html>