- en: Appendix B. THE STRUCTURE OF THE XEN CONFIG FILE
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录 B. XEN 配置文件的结构
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages333191.png.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图片](httpatomoreillycomsourcenostarchimages333191.png.jpg)'
- en: The domain config file is the conventional way to define a Xen domain (and the
    method that we've used throughout this book). It works by specifying Python variables
    in a config file, conventionally kept in */etc/xen/<domain name>*. When the domain
    is created, `xend` executes this file and uses it to set variables that will eventually
    control the output of the domain builder.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 域配置文件是定义 Xen 域的传统方式（也是我们在这本书中一直使用的方法）。它通过在配置文件中指定 Python 变量来实现，通常保存在 */etc/xen/<domain
    name>*。当创建域时，`xend` 执行此文件，并使用它来设置最终将控制域构建器输出的变量。
- en: 'Note also that you can override values in the config file from the `xm` command
    line. For example, to create the domain *coriolanus* with a different name:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，您还可以从 `xm` 命令行覆盖配置文件中的值。例如，要创建具有不同名称的域 *coriolanus*：
- en: '[PRE0]'
  id: totrans-4
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The config file—and it would be difficult to overstate this point—is executed
    as a standard Python script. Thus, you can embed arbitrary Python in the config
    file, making it easy to autogenerate configurations based on external constraints.
    You can see a simple example of this in the example HVM config shipped with Xen,
    */etc/xen/xmexample.hvm*. In this case, the library path is selected based on
    the processor type (i386 or x86_64).
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 配置文件——这一点很难过分强调——作为标准的 Python 脚本执行。因此，您可以在配置文件中嵌入任意的 Python 代码，这使得根据外部约束自动生成配置变得容易。您可以在
    Xen 随附的示例 HVM 配置文件 */etc/xen/xmexample.hvm* 中看到一个简单的例子。在这种情况下，库路径是根据处理器类型（i386
    或 x86_64）选择的。
- en: The *xmexample2* file takes this technique even further, using a single config
    file to handle many domains, which are differentiated by a passed-in `vmid` variable.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '*xmexample2* 文件将这种技术进一步发展，使用单个配置文件来处理多个域，这些域通过传递的 `vmid` 变量区分。'
- en: Python in the config file isn't limited to domain configuration, either. If
    you're using Xen for hosting, for example, we might suggest tying the domain configuration
    to the billing and support-ticketing systems, using some Python glue to keep them
    in sync. By embedding this logic in the config files, or in a separate module
    included by the config files, you can build a complex infrastructure around the
    Xen domains.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 配置文件中的 Python 不仅仅限于域配置。例如，如果您使用 Xen 进行托管，我们可能会建议将域配置与计费和支持票务系统关联起来，使用一些 Python
    代码将它们同步。通过在配置文件中嵌入此逻辑或在一个由配置文件包含的单独模块中，您可以在 Xen 域周围构建复杂的基础设施。
- en: 'First, let''s start with the basic elements of a domain configuration. Here''s
    a basic config file, specifying the VM name, kernel image, three network cards,
    a block device, and a kernel parameter:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们从域配置的基本元素开始。以下是一个基本的配置文件，指定了虚拟机名称、内核映像、三个网卡、一个块设备和内核参数：
- en: '[PRE1]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Here we're setting some variables (`name`, `kernel`, `disk`, and so on) to strings
    or lists. You can easily identify the lists because they're enclosed in square
    brackets.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们设置了一些变量（`name`、`kernel`、`disk` 等）为字符串或列表。您可以通过它们被括号包围轻松地识别列表。
- en: 'String quoting follows the standard Python conventions: a single quote for
    noninterpreted strings, double quotes for strings with variable substitution,
    and three single quotes to begin and end a multiline string.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串引号遵循标准的 Python 语法：非解释字符串使用单引号，带有变量替换的字符串使用双引号，使用三个单引号开始和结束多行字符串。
- en: Whitespace has significance just as in standard Python—newlines are significant
    and spacing doesn't matter, except when used as indentation.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 空白符与标准 Python 中的意义相同——换行符是重要的，空格不重要，除了用作缩进时。
- en: Note
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Although these syntax rules are usually true, some external tools that parse
    the config file may have stricter rules. pypxeboot is an example*.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '*尽管这些语法规则通常是正确的，但一些解析配置文件的外部工具可能有更严格的规则。pypxeboot 是一个例子*。'
- en: 'Here''s another, more complex example, with an NFS root. In addition, we''ll
    specify a couple of parameters for the `vif`:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一个更复杂的例子，包含一个 NFS 根。此外，我们还将为 `vif` 指定一些参数：
- en: '[PRE2]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Note
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Your kernel must have NFS support and your kernel or initrd needs to include
    *`xennet`* for this to work*.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '*您的内核必须支持 NFS，并且您的内核或 initrd 需要包含 *`xennet`* 才能正常工作*。'
- en: Finally, HVM domains take some other options. Here's a config file that we might
    use to install an HVM FreeBSD domU.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，HVM 域还有一些其他选项。以下是我们可能用于安装 HVM FreeBSD domU 的配置文件。
- en: '[PRE3]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Here we've added options to specify the QEMU-based backing device model and
    to control certain aspects of its behavior. Now we pass in a `boot` option that
    tells it to boot from CD and options for a virtual framebuffer and serial device.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们添加了指定基于QEMU的备份设备模型和控制其某些行为的选项。现在我们传递一个`boot`选项来告诉它从CD启动，以及虚拟帧缓冲区和串行设备的选项。
- en: List of Directives
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 指令列表
- en: Here we've tried to list every directive we know about, whether we use it or
    not, with notes indicating where we cover it in the main text of this book. We
    have, however, left out stuff that's marked *deprecated* as of Xen version 3.3.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们尝试列出我们所知的每个指令，无论我们是否使用它，并在备注中指出我们在本书的主要文本中覆盖它的位置。然而，我们省略了自Xen版本3.3以来被标记为**已弃用**的内容。
- en: There are some commands that work with the Xen.org version of Xen but not with
    the version of Xen included with Red Hat Enterprise Linux/CentOS 5.*x*. We've
    marked these with an asterisk (*).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些命令与Xen.org版本的Xen一起工作，但不与包含在Red Hat Enterprise Linux/CentOS 5.*x*中的Xen版本一起工作。我们用星号(*)标记了这些命令。
- en: Any Boolean parameters expect values of `true` or `false`; `0`, `1`, `yes`,
    and `no` will also work.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 任何布尔参数都期望值为`true`或`false`；`0`、`1`、`yes`和`no`也将有效。
- en: '**`bootargs=string`**'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '**`bootargs=string`**'
- en: This is a list of arguments to pass to the boot loader. For example, to tell
    PyGRUB to load a particular kernel image, you can specify `bootargs='kernel=vmlinuz-2.6.24'`.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个传递给引导加载程序的参数列表。例如，为了告诉PyGRUB加载特定的内核映像，你可以指定`bootargs='kernel=vmlinuz-2.6.24'`。
- en: '**`bootloader=string`**'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**`bootloader=string`**'
- en: 'The `bootloader` line specifies a program that will be run within dom0 to load
    and initialize the domain kernel. For example, you can specify `bootloader=pygrub`
    to get a domain that, on startup, presents a GRUB-like boot menu. We discuss PyGRUB
    and pypxeboot in [Chapter 7](ch07.html "Chapter 7. HOSTING UNTRUSTED USERS UNDER
    XEN: LESSONS FROM THE TRENCHES") and [Chapter 3](ch03.html "Chapter 3. PROVISIONING
    DOMUS").'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '`bootloader`行指定了将在dom0中运行的程序，用于加载和初始化域内核。例如，你可以指定`bootloader=pygrub`以获得在启动时显示类似GRUB引导菜单的域。我们在[第7章](ch07.html
    "第7章。在XEN下托管不受信任的用户：来自战壕的经验教训")和[第3章](ch03.html "第3章。为DOMUS提供配置")中讨论了PyGRUB和pypxeboot。'
- en: '**`builder=string`**'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**`builder=string`**'
- en: This defaults to "Linux", which is the paravirtualized Linux (and other Unix-like
    OSs) domain builder. Ordinarily you will either leave this option blank or specify
    HVM. Other domain builders are generally regarded as historical curiosities.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 默认为"Linux"，这是虚拟化的Linux（以及其他类Unix操作系统）域构建器。通常，你会保留此选项为空或指定HVM。其他域构建器通常被视为历史性的奇观。
- en: '**`cpu_capp=int *`**'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**`cpu_capp=int *`**'
- en: This specifies a maximum share of the CPU time for the domain, expressed in
    hundredths of a CPU.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这指定了域的CPU时间最大份额，以CPU的百分之一表示。
- en: '**`cpu=int`**'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**`cpu=int`**'
- en: This option specifies the physical CPU that the domain should run VCPU0 on.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 此选项指定了域应在哪个物理CPU上运行VCPU0。
- en: '**`cpu_weight=int *`**'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**`cpu_weight=int *`**'
- en: 'This specifies the domain''s weight for the credit scheduler, just like the
    `xm sched-credit -w` command. For example, `cpu_weight = 1024` will give the domain
    twice as much weight as the default. We talk more about CPU weight in [Chapter 7](ch07.html
    "Chapter 7. HOSTING UNTRUSTED USERS UNDER XEN: LESSONS FROM THE TRENCHES").'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这指定了域在信用调度器中的权重，就像`xm sched-credit -w`命令一样。例如，`cpu_weight = 1024`将使域的权重是默认值的两倍。我们将在[第7章](ch07.html
    "第7章。在XEN下托管不受信任的用户：来自战壕的经验教训")中更多地讨论CPU权重。
- en: '**`cpus=string`**'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**`cpus=string`**'
- en: The `cpus` option specifies a list of CPUs that the domain may use. The syntax
    of the list is fairly expressive. For example, `cpus = "0-3,5,^1"` specifies 0,
    2, 3, and 5 while excluding CPU 1.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '`cpus`选项指定了域可能使用的CPU列表。列表的语法相当丰富。例如，`cpus = "0-3,5,^1"`指定了0、2、3和5，同时排除了CPU
    1。'
- en: '**`dhcp=bool`**'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '**`dhcp=bool`**'
- en: This directive is only needed if the kernel is getting its IP at boot, usually
    because you're using an NFS root device. Ordinary DHCP is handled from within
    the domain by standard userspace daemons, and so the DHCP directive is not required.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 只有当内核在引导时获取其IP地址时，此指令才需要，通常是因为你正在使用NFS根设备。普通的DHCP由域内的标准用户空间守护程序处理，因此不需要DHCP指令。
- en: '**`disk=list`**'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '**`disk=list`**'
- en: 'The `disk` line specifies one (or more) virtual disk devices. Almost all domains
    will need at least one, although it''s not a requirement as far as Xen''s concerned.
    Each definition is a stanza in the list, each of which has at least three terms:
    backend device, frontend device, and mode. We go into considerably more detail
    on the meaning of these terms and the various types of storage in [Chapter 4](ch04.html
    "Chapter 4. STORAGE WITH XEN").'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '`disk`行指定一个（或多个）虚拟磁盘设备。几乎所有域至少需要一个，尽管对于Xen来说这不是一个要求。每个定义都是列表中的一个段落，每个段落至少有三个术语：后端设备、前端设备和模式。我们在[第4章](ch04.html
    "第4章。XEN的存储")中详细介绍了这些术语的含义以及各种存储类型。'
- en: '**`extra=string`**'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**`extra=string`**'
- en: 'The `extra` option specifies a string that is appended, unchanged, to the domU
    kernel options. For example, to boot the domU in single user mode:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '`extra`选项指定一个字符串，该字符串将附加到domU内核选项中，且不进行更改。例如，要引导domU到单用户模式：'
- en: '[PRE4]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Many of the other options listed here actually append to the kernel command-line
    options.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 这里列出的许多其他选项实际上都是附加到内核命令行选项上的。
- en: '**`hpet`**'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '**`hpet`**'
- en: This option enables a virtual high-precision event timer.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 此选项启用虚拟高精度事件定时器。
- en: '**`kernel=string`**'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**`kernel=string`**'
- en: This option specifies the kernel image that Xen will load and boot. It is required
    if no bootloader line is specified. Its value should be the absolute path to the
    kernel, from the dom0's perspective, unless you've also specified a bootloader.
    If you're using a bootloader and specify a kernel, the domain creation script
    will pass the kernel value to the bootloader for further action. For example,
    PyGRUB will try to load the specified file from the boot media.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 此选项指定Xen将加载和引导的内核映像。如果没有指定引导器行，则这是必需的。其值应该是从dom0的角度看绝对路径到内核，除非你已指定了引导器。如果你使用引导器并指定了内核，域创建脚本将传递内核值给引导器以进行进一步操作。例如，PyGRUB将尝试从引导介质加载指定的文件。
- en: '**`maxmem=int`**'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**`maxmem=int`**'
- en: This specifies the amount of memory given to the domU. From the guest's perspective,
    this is the amount of memory *plugged in* when it boots.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这指定了分配给domU的内存量。从客机的角度来看，这是它在引导时“连接”的内存量。
- en: '**`memory=int`**'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**`memory=int`**'
- en: This is the target memory allocation for the domain. If `maxmem` isn't specified,
    the `memory=` line will also set the domain's maximum memory. Because we don't
    oversubscribe memory, we use this directive rather than `max-mem`. We go into
    a little more detail on memory oversubscription in [Chapter 14](ch14.html "Chapter 14. TIPS").
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这是域的目标内存分配。如果没有指定`maxmem`，则`memory=`行也会设置域的最大内存。因为我们不会超额订阅内存，所以我们使用这个指令而不是`max-mem`。我们在[第14章](ch14.html
    "第14章。技巧")中稍微详细地介绍了内存超额订阅。
- en: '**`name=string`**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**`name=string`**'
- en: This is a unique name for the domain. Make it whatever you like, but we recommend
    keeping it under 15 characters, because Red Hat's (and possibly other distros')
    *xendomains* script has trouble with longer names. This is one of the few non-optional
    directives. Every domain needs a name.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这是域的唯一名称。你可以取任何你喜欢的名字，但我们建议将其保持在15个字符以下，因为Red Hat的（以及可能的其他发行版）*xendomains*脚本在处理较长的名称时会有问题。这是少数非可选指令之一。每个域都需要一个名称。
- en: '**`nfs_root=IP`** **`nfs_server=IP`**'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**`nfs_root=IP`** **`nfs_server=IP`**'
- en: These two arguments are used by the kernel when booting via NFS. We describe
    setting up an NFS root in [Chapter 4](ch04.html "Chapter 4. STORAGE WITH XEN").
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个参数在通过NFS引导时由内核使用。我们在[第4章](ch04.html "第4章。XEN的存储")中描述了设置NFS根的方法。
- en: '**`nics=int`**'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**`nics=int`**'
- en: This option is deprecated, but you may see it referenced in other documentation.
    It specifies the number of virtual NICs allocated to the domain. In practice,
    we always just rely on the number of `vif` stanzas to implicitly declare the NICs.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 此选项已弃用，但你可能会在其他文档中看到其引用。它指定分配给域的虚拟NIC数量。在实践中，我们总是依赖于`vif`段落的数量来隐式声明NIC。
- en: '**`on_crash`** **`on_reboot=string`** **`on_shutdown`**'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**`on_crash`** **`on_reboot=string`** **`on_shutdown**'
- en: 'These three commands control how the domain will react to various halt states—`on_shutdown`
    for graceful shutdowns, `on_reboot` for graceful reboot, and `on_crash` for when
    the domain crashes. Allowed values are:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这三个命令控制域对各种停止状态的反应——`on_shutdown`用于优雅的关闭，`on_reboot`用于优雅的重启，`on_crash`用于域崩溃时。允许的值是：
- en: '`destroy`: Clean up after the domain as usual.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`destroy`：像往常一样清理域。'
- en: '`restart`: Restart the domain.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`restart`：重启域。'
- en: '`preserve`: Keep the domain as-is until you destroy it manually.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`preserve`：保持域不变，直到你手动销毁它。'
- en: '`rename-restart`: Preserve the domain, while re-creating another instance with
    a different name.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`rename-restart`：保留域，同时重新创建一个具有不同名称的另一个实例。'
- en: '**`on_xend_start=ignore|start`** **`on_xend_stop=ignore|shutdown|suspend`**'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '**`on_xend_start=ignore|start`** **`on_xend_stop=ignore|shutdown|suspend`**'
- en: 'Similarly, these two items control how the domain will react to `xend` exiting.
    Because `xend` sometimes needs to be restarted, and we prefer to minimize disruption
    of the domUs, we leave these at the default: `ignore`.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，这两项控制域如何响应`xend`退出。由于`xend`有时需要重新启动，而我们更喜欢最小化domUs的干扰，所以我们将其保留为默认值：`ignore`。
- en: '**`pci=BUS:DEV.FUNC`**'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '**`pci=BUS:DEV.FUNC`**'
- en: This adds a PCI device to the domain using the given parameters, which can be
    found with `lspci` in the dom0\. We give an example of PCI forwarding in [Chapter 14](ch14.html
    "Chapter 14. TIPS").
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这使用给定的参数向域添加一个PCI设备，这些参数可以在dom0中使用`lspci`找到。我们将在第14章（ch14.html "第14章。技巧”）中给出PCI转发的示例。
- en: '**`ramdisk=string`**'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**`ramdisk=string`**'
- en: The `ramdisk` option functions like the initrd line in GRUB; it specifies an
    initial ramdisk, which usually contains drivers and scripts used to access hardware
    required to mount the root filesystem.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '`ramdisk`选项的功能类似于GRUB中的initrd行；它指定一个初始ramdisk，通常包含用于挂载根文件系统的驱动程序和脚本。'
- en: Many distros won't require an initrd when installed as domUs, because the domU
    only needs drivers for extremely simple virtual devices. However, because the
    distro expects to have an initrd, it's often easier to create one. We go into
    more detail on that subject in [Chapter 14](ch14.html "Chapter 14. TIPS").
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 许多发行版在作为domU安装时不需要initrd，因为domU只需要为极其简单的虚拟设备提供驱动程序。然而，由于发行版期望有一个initrd，通常更容易创建一个。我们将在第14章（ch14.html
    "第14章。技巧”）中更详细地介绍这个主题。
- en: '**`root=string`**'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '**`root=string`**'
- en: This specifies the root device for the domain. We usually specify the root device
    on the extra line.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 这指定了域的根设备。我们通常在额外的一行中指定根设备。
- en: '**`rtc_offset`**'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '**`rtc_offset`**'
- en: The `rtc_offset` allows you to specify an offset from the machine's real-time
    clock for the guest domain.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '`rtc_offset`允许您为虚拟域指定从机器的实时时钟的偏移量。'
- en: '**`sdl=bool`**'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '**`sdl=bool`**'
- en: Xen supports an SDL console as well as the VNC console, although not both at
    the same time. Set this option to `true` to enable a framebuffer console over
    SDL. Again, we prefer the `vfb` syntax.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: Xen支持SDL控制台以及VNC控制台，尽管不是同时使用。将此选项设置为`true`以启用SDL上的帧缓冲区控制台。同样，我们更喜欢`vfb`语法。
- en: '**`shadow_memory=int`**'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**`shadow_memory=int`**'
- en: 'This is the domain shadow memory in MB. PV domains will default to none. Xen
    uses shadow memory to keep copies of domain-specific page tables. We go into more
    detail on the role of page table shadows in [Chapter 12](ch12.html "Chapter 12. HVM:
    BEYOND PARAVIRTUALIZATION").'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 这是域的影子内存（以MB为单位）。PV域默认为无。Xen使用影子内存来保留域特定的页面表副本。我们将在第12章（ch12.html "第12章。HVM：超越Para虚拟化”）中更详细地介绍页面表阴影的作用。
- en: '**`uuid=string`**'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**`uuid=string`**'
- en: The XenStore requires a UUID to, as the name suggests, uniquely identify a domain.
    If you don't specify one, it'll be generated for you. The odds of collision are
    low enough that we don't bother, but you may find it useful if, for example, you
    want to encode additional information into your UUID.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: XenStore需要一个UUID，正如其名称所暗示的，唯一地标识一个域。如果您没有指定，它将为您生成。碰撞的概率足够低，以至于我们不必担心，但您可能会发现它很有用，例如，如果您想将附加信息编码到您的UUID中。
- en: '**`vcpu_avail=int`**'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vcpu_avail=int`**'
- en: These are active VCPUs. If you're using CPU hotplugging, this number may differ
    from the total number of VCPUs, just as `max-mem` and `memory` may differ.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是活动的VCPUs。如果您使用CPU热插拔，这个数字可能与VCPUs的总数不同，就像`max-mem`和`memory`可能不同一样。
- en: '**`vcpus=int`**'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vcpus=int`**'
- en: This specifies the number of virtual CPUs to report to the domain. For performance
    reasons, we strongly recommend that this be equal to or fewer than the number
    of physical CPU cores that the domain has available.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 这指定了报告给域的虚拟CPU数量。出于性能原因，我们强烈建议这个数量等于或少于域可用的物理CPU核心数。
- en: '**`vfb=list`**'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vfb=list`**'
- en: '[PRE5]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In this case, we specify a VNC virtual framebuffer, which uses the first unused
    port in the VNC range. (The default behavior is to use the base VNC port plus
    domain ID as the listen port for each domain's virtual framebuffer.)
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们指定了一个VNC虚拟帧缓冲区，它使用VNC范围内的第一个未使用端口。（默认行为是使用基本VNC端口加上域ID作为每个域虚拟帧缓冲区的监听端口。）
- en: 'Valid options for the `vfb` line are: `vnclisten`, `vncunused`, `vncdisplay`,
    `display`, `videoram`, `xauthority`, `type`, `vncpasswd`, `opengl`, and `keymap`.
    We discuss more details about virtual framebuffers in [Chapter 14](ch14.html "Chapter 14. TIPS")
    and a bit in [Chapter 12](ch12.html "Chapter 12. HVM: BEYOND PARAVIRTUALIZATION").
    See the `vnc=` and `sdl=` options for an alternative syntax.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '`vfb`行的有效选项包括：`vnclisten`、`vncunused`、`vncdisplay`、`display`、`videoram`、`xauthority`、`type`、`vncpasswd`、`opengl`和`keymap`。我们将在[第14章](ch14.html
    "第14章。技巧")中讨论更多关于虚拟帧缓冲区的内容，并在[第12章](ch12.html "第12章。HVM：超越虚拟化")中简要介绍。有关替代语法，请参阅`vnc=`和`sdl=`选项。'
- en: '**`videoram=int`**'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '**`videoram=int`**'
- en: The `videoram` option specifies the maximum amount of memory that a PV domain
    may use for its frame buffer.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '`videoram`选项指定PV域可能用于其帧缓冲区的最大内存量。'
- en: '**`vif=list`**'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vif=list`**'
- en: The `vif` directive tells Xen about the domain's virtual network devices. Each
    `vif` specification can include many options, including `bridge`, `ip`, and `mac`.
    For more information on these, see [Chapter 5](ch05.html "Chapter 5. NETWORKING").
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '`vif`指令告诉Xen关于域的虚拟网络设备。每个`vif`规范可以包括许多选项，包括`bridge`、`ip`和`mac`。有关更多信息，请参阅[第5章](ch05.html
    "第5章。网络")。'
- en: Allowable options in the `vif` line are `backend`, `bridge`, `ip`, `mac`, `script`,
    `type`, `vifname`, `rate`, `model`, `accel`, `policy`, and `label`.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '`vif`行中允许的选项有`backend`、`bridge`、`ip`、`mac`、`script`、`type`、`vifname`、`rate`、`model`、`accel`、`policy`和`label`。'
- en: '**`vnc=bool`**'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vnc=bool`**'
- en: Set `vnc` to 1 to enable the VNC console. You'll also want to set some of the
    other VNC-related options, such as `vncunused`. We prefer the `vfb` syntax, which
    allows you to set options related to the `vfb` in a single place, with a similar
    syntax to the `vif` and `disk` lines.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 将`vnc`设置为1以启用VNC控制台。您还可能想要设置一些其他与VNC相关的选项，例如`vncunused`。我们更喜欢`vfb`语法，它允许您在一个地方设置与`vfb`相关的选项，其语法与`vif`和`disk`行类似。
- en: '**`vncconsole=bool`**'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vncconsole=bool`**'
- en: If `vncconsole` is set to `yes`, `xend` automatically spawns a VNC viewer and
    connects to the domain console when the domain starts up.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果将`vncconsole`设置为`yes`，则`xend`在域启动时自动启动VNC查看器并连接到域控制台。
- en: '**`vncdisplay=int`**'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vncdisplay=int`**'
- en: This specifies a VNC display to use. By default, VNC will attach to the display
    number that corresponds to the domain ID.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这指定了要使用的VNC显示。默认情况下，VNC将连接到与域ID相对应的显示编号。
- en: '**`vnclisten=IP`**'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vnclisten=IP`**'
- en: This specifies an IP address on which to listen for incoming VNC connections.
    It overrides the value of the same name in *xend-config.sxp*.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 这指定了一个用于监听传入VNC连接的IP地址。它覆盖了*xend-config.sxp*中相同名称的值。
- en: '**`vncpasswd=string`** **`vncpasswd="Swordfish"`**^([[87](#ftn.CHP-B-FNOTE-1)])'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vncpasswd=string`** **`vncpasswd="Swordfish"`**^([[87](#ftn.CHP-B-FNOTE-1)])'
- en: These options set the password for the VNC console to the given value. Note
    that this is independent of any authentication that the domU does.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 这些选项将VNC控制台的密码设置为给定值。请注意，这与domU执行的任何认证无关。
- en: '**`vscsi=PDEV,VDEV,DOM *`**'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vscsi=PDEV,VDEV,DOM *`**'
- en: This adds a SCSI device to the domain. The paravirtualized SCSI devices are
    a mechanism for passing a physical SCSI generic device through to a domain. It's
    not meant to replace the Xen block driver. Rather, you can use pvSCSI, the SCSI
    pass-through mechanism, to access devices like tape drives or scanners that are
    hooked up to the machine's physical SCSI bus.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这向域添加一个SCSI设备。虚拟化SCSI设备是将物理SCSI通用设备传递到域的一种机制。它并不打算取代Xen块驱动程序。相反，您可以使用pvSCSI，SCSI传递机制，来访问连接到机器物理SCSI总线的设备，如磁带驱动器或扫描仪。
- en: '**`vtpm=[''instance=INSTANCE,backend=DOM,type=TYPE'']`**'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '**`vtpm=[''instance=INSTANCE,backend=DOM,type=TYPE'']`**'
- en: The `vtpm` option, just like the `vif` or `disk` options, describes a virtual
    device—in this case, a TPM. The TPM instance name is a simple identifier; something
    like `1` will do just fine. The backend is the domain with access to the physical
    TPM. Usually `0` is a good value. Finally, type specifies the type of the TPM
    emulation. This can be either `pvm` or `hvm`, for paravirtualized and HVM domains,
    respectively.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '`vtpm`选项，就像`vif`或`disk`选项一样，描述了一个虚拟设备——在这种情况下，是一个TPM。TPM实例名称是一个简单的标识符；例如`1`就足够了。后端是具有访问物理TPM的域。通常`0`是一个好的值。最后，类型指定了TPM仿真的类型。这可以是`pvm`或`hvm`，分别对应于虚拟化域和HVM域。'
- en: HVM Directives
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: HVM指令
- en: Certain directives only apply if you're using Xen's hardware virtualization,
    HVM. Most of these enable or disable various hardware features.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 某些指令仅在您使用Xen的硬件虚拟化，HVM时适用。这些指令大多数用于启用或禁用各种硬件功能。
- en: '**`acpi=bool`**'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**`acpi=bool`**'
- en: The `acpi` option determines whether or not the domain will use ACPI, the Advanced
    Configuration and Power Interface. Turning it off may improve stability, and will
    enable some versions of the Windows installer to complete successfully.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '`acpi` 选项确定域是否使用 ACPI，即高级配置和电源接口。关闭它可能会提高稳定性，并使某些版本的 Windows 安装程序能够成功完成。'
- en: '**`apic=bool`**'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**`apic=bool`**'
- en: The APIC, or Advanced Programmable Input Controller,^([[88](#ftn.CHP-B-FNOTE-2)])
    is a modern implementation of the venerable PIC. This is on by default. You may
    want to turn it off if your operating system has trouble with the simulated APIC.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: APIC，或高级可编程输入控制器，是备受尊敬的 PIC 的现代实现。默认情况下是开启的。如果您发现操作系统在模拟 APIC 上有问题，您可能希望将其关闭。
- en: '**`builder=string`**'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**`builder=string`**'
- en: With HVM domains, you'll use the HVM domain builder. With most paravirtualized
    domains, you'll want the default Linux domain builder. The domain builder is a
    bit more low level than the parts that we usually work with. For the most part,
    we are content to let it do its thing.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 HVM 域时，您将使用 HVM 域构建器。对于大多数基于虚拟化的域，您可能希望使用默认的 Linux 域构建器。域构建器比我们通常使用的部分要低级一些。在大多数情况下，我们愿意让它自行处理。
- en: '**`device_model=string`**'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**`device_model=string`**'
- en: The `device_model` directive specifies the full path of the executable being
    used to emulate devices for HVM domains (and for PV domains if the framebuffer
    is being used). In most situations, the default `qemu-dm` should work fine.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '`device_model` 指令指定用于为 HVM 域（如果使用帧缓冲区，则为 PV 域）模拟设备的可执行文件的完整路径。在大多数情况下，默认的 `qemu-dm`
    应该可以正常工作。'
- en: '**`feature=string`**'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '**`feature=string`**'
- en: 'This is a pipe-separated list of features to enable in the guest kernel. The
    list of available features, fresh from the source, is as follows:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个管道分隔的列表，用于在客户内核中启用功能。从源代码中新鲜提供的功能列表如下：
- en: '[PRE6]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: We have always had good luck using the defaults for this option.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我们一直使用此选项的默认值非常顺利。
- en: '**`hap=bool`**'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**`hap=bool`**'
- en: This directive tells the domain whether or not to take advantage of Hardware-Assisted
    Paging on recent machines. Implementations include AMD's *nested paging* and Intel's
    *extended paging*. If the hardware supports this feature, Xen can substantially
    improve HVM performance by taking advantage of it.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 此指令告诉域是否利用最近机器上的硬件辅助分页功能。实现包括 AMD 的 *嵌套分页* 和 Intel 的 *扩展分页*。如果硬件支持此功能，Xen 可以通过利用它来显著提高
    HVM 性能。
- en: '**`loader=string`**'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**`loader=string`**'
- en: This is the path to HVM firmware. We've always been completely satisfied with
    the default.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 这是 HVM 固件的路径。我们一直对默认设置非常满意。
- en: '**`pae=bool`**'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**`pae=bool`**'
- en: This enables or disables PAE on an HVM domain. Note that this won't enable a
    non-PAE kernel to run on a PAE or 64-bit box. This option is on by default.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 这将启用或禁用在 HVM 域上使用 PAE。请注意，这不会使非 PAE 内核在 PAE 或 64 位机器上运行。此选项默认开启。
- en: Device Model Options
  id: totrans-132
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设备模型选项
- en: There are some directives that specify options for the device model. As far
    as we know, these are specific to the QEMU-based model, but, because no others
    exist, it seems safe to consider them part of Xen's configuration.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些指令指定了设备模型的选项。据我们所知，这些选项是针对基于 QEMU 的模型的，但由于没有其他模型，因此似乎可以安全地将它们视为 Xen 配置的一部分。
- en: '**`access_control_policy=POLICY,label=LABEL`**'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**`access_control_policy=POLICY,label=LABEL`**'
- en: The `access_control_policy` directive defines the security policy and label
    to associate with the domain.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '`access_control_policy` 指令定义了与域关联的安全策略和标签。'
- en: '**`blkif=bool`** **`netif=bool`** **`tpmif=bool`**'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**`blkif=bool`** **`netif=bool`** **`tpmif=bool`**'
- en: These three variables are all Booleans. If they are enabled, the builder will
    make the domain a backend for the specified device type.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 这三个变量都是布尔值。如果它们被启用，构建器将使域成为指定设备类型的后端。
- en: To use a non-dom0 backend, specify the `backend` parameter in the definition
    for your device of choice.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用非 dom0 后端，请在您选择的设备定义中指定 `backend` 参数。
- en: '**`boot=string`**'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '**`boot=string`**'
- en: Set `boot` to one of a, b, c, or d to boot from the first floppy, second floppy,
    hard drive, or CD drive, respectively.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 将 `boot` 设置为 a、b、c 或 d，分别从第一个软盘、第二个软盘、硬盘或 CD 驱动器启动。
- en: '**`fda`** **`fdb=string`**'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '**`fda`** **`fdb=string`**'
- en: This option specifies the disk image or device file used to emulate the first
    or second floppy drive—fda and fdb, respectively.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 此选项指定用于模拟第一个或第二个软盘驱动器的磁盘镜像或设备文件——分别是 fda 和 fdb。
- en: '**`guest_os_type=string`**'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**`guest_os_type=string`**'
- en: This is the type of the guest OS. It's a free-form identifier, limited to eight
    characters.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 这是客户操作系统的类型。它是一个自由形式的标识符，限制为八个字符。
- en: '**`ioports=FROM-TO`** **`irq=IRQ`**'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '**`ioports=FROM-TO`** **`irq=IRQ`**'
- en: These two options instruct Xen to forward a range of (real) ioports and an IRQ
    to the domU. The main use for this option that we've seen is for serial ports,
    so that the domU has access to a physical serial port on the server.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个选项指示Xen将一系列（真实）io端口和一个中断转发到domU。我们看到的这个选项的主要用途是用于串行端口，这样domU就可以访问服务器上的物理串行端口。
- en: '**`keymap=string`**'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '**`keymap=string`**'
- en: The `keymap` option specifies a keymap file by name. Xen (or rather, the device
    model) keeps its keymaps under */usr/share/xen/qemu/keymaps*. On our machines,
    the default is `en-us`.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '`keymap`选项指定一个键映射文件。Xen（或者更确切地说，设备模型）将其键映射存储在`/usr/share/xen/qemu/keymaps`下。在我们的机器上，默认是`en-us`。'
- en: '**`localtime=bool`**'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '**`localtime=bool`**'
- en: This is a simple Boolean option indicating whether the hardware clock is set
    to local time or GMT.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个简单的布尔选项，表示硬件时钟是否设置为本地时间或GMT。
- en: '**`monitor=string`**'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '**`monitor=string`**'
- en: If `monitor` is set to `yes`, the device model will attach the QEMU monitor,
    which you can use to give commands to the device model. Use CTRL-ALT-2 to break
    out to the monitor. From there, you can issue commands—try `help`.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 如果`monitor`设置为`yes`，设备模型将附加QEMU监控器，您可以使用它向设备模型发送命令。使用CTRL-ALT-2跳出监控器。从那里，您可以发出命令——尝试`help`。
- en: '**`nographic=bool`**'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '**`nographic=bool`**'
- en: This indicates whether the device model should use graphics.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 这表示设备模型是否应该使用图形。
- en: '**`serial`**'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '**`serial`**'
- en: '[PRE7]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The `serial` option specifies a file (or file-like object, such as a named pipe)
    to use as an emulated serial port. Other options are to have Xen pick a `pty`,
    or use STDIN and STDOUT for its serial port; `none` is also a valid option.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '`serial`选项指定一个文件（或类似文件的实体，如命名管道）作为模拟串行端口使用。其他选项是让Xen选择`pty`，或使用STDIN和STDOUT作为其串行端口；`none`也是一个有效的选项。'
- en: '**`soundhw=bool`**'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '**`soundhw=bool`**'
- en: This indicates whether to emulate an audio device.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 这表示是否模拟音频设备。
- en: '**`stdvga=bool`**'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '**`stdvga=bool`**'
- en: If `stdvga` is set to `yes`, the device model will use standard VGA emulation.
    If it's set to `no` or omitted, it'll use emulated Cirrus Logic graphics instead.
    Ordinarily, the default is just fine.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果`stdvga`设置为`yes`，设备模型将使用标准VGA模拟。如果设置为`no`或省略，它将使用模拟的Cirrus Logic图形。通常，默认设置就很好。
- en: '**`usb=bool`**'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '**`usb=bool`**'
- en: This is a Boolean value that indicates whether to emulate USB.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个布尔值，表示是否模拟USB。
- en: '**`usbdevice=HOST:id:id`**'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '**`usbdevice=HOST:id:id`**'
- en: This item indicates the name of the USB device to add.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 这项指示要添加的USB设备的名称。
- en: '* * *'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '^([[87](#CHP-B-FNOTE-1)]) Terry Pratchett, in *Night Watch*, has this to say
    on the subject of passwords: "Every password was ''swordfish''! Whenever anyone
    tried to think of a word that no one would ever guess, they always chose ''swordfish.''
    It was just one of those strange quirks of the human mind."'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[87](#CHP-B-FNOTE-1)]) 特里·普拉切特在《夜巡》一书中关于密码的评论：“每个密码都是'swordfish'！每当有人试图想出一个别人永远猜不到的词时，他们总是选择'swordfish'。这只是人类思维中那些奇怪的怪癖之一。”
- en: ^([[88](#CHP-B-FNOTE-2)]) "It's not stupid, it's advanced." —Invader Zim
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[88](#CHP-B-FNOTE-2)]) “这不是愚蠢，这是高级。” ——来自《异形僵尸》
