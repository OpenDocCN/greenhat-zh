<html><head></head><body><div class="chapter" title="Chapter&#xA0;20.&#xA0;Tutorial: Creating an Animation"><div class="titlepage"><div><div><h1 class="title"><a id="tutorial_creating_an_animation"/>Chapter 20. Tutorial: Creating an Animation</h1></div></div></div><p><a id="iddle1099" class="indexterm"/><a id="iddle1163" class="indexterm"/><a id="iddle2290" class="indexterm"/><a id="iddle4472" class="indexterm"/><a id="iddle4961" class="indexterm"/>From the start, SVG was designed as a language for both static and animated vector graphics. At one time dubbed “a Flash killer,” it is indeed suitable for a wide variety of scripted and declarative animations. Unfortunately, even several years after the introduction of SVG, real SVG animations (as opposed to static SVG) are hard to find on the Web. There are several reasons for this, the most important being the lack of a single standard player that would offer a significant competitive advantage over Adobe’s (formerly Macromedia’s) Flash. Currently, almost all of the animations on the Web are either in Flash or in animated GIF formats—just as they were five years ago.</p><p>From Inkscape’s perspective, however, this may be a good thing. Inkscape does not yet support creating animated SVG documents (except if you add animation attributes manually via XML Editor) and can only display SVG documents statically. But you still can use Inkscape to create static frames and then combine them into a GIF or Flash animation with some other software. This method may seem awkward at first, but it is in fact workable and may deliver very good results. Why is this worth the trouble, and what kinds of animations are best suited for this technique?</p><p>Any animation including complex natural or interacting movements is perhaps out of reach for the Inkscape-based animation technique described in this tutorial. Without a timeline control, it’s difficult to work on anything but <a id="iddle1090" class="indexterm"/><a id="iddle1164" class="indexterm"/><a id="iddle1208" class="indexterm"/><a id="iddle1216" class="indexterm"/><a id="iddle1324" class="indexterm"/><a id="iddle2284" class="indexterm"/><a id="iddle2731" class="indexterm"/><a id="iddle2770" class="indexterm"/><a id="iddle2774" class="indexterm"/><a id="iddle2924" class="indexterm"/><a id="iddle3605" class="indexterm"/><a id="iddle4579" class="indexterm"/>simple repeating animations several frames long. But then, many animations for the Web—banners, headings, blog avatars—fit this description perfectly.</p></div>
<div class="sect1" title="20.1 Creating the Template"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot1_creating_the_template"/>20.1 Creating the Template</h1></div></div></div><p>The most natural way to represent animation frames in Inkscape is by putting them on separate layers (<span class="strong"><strong><a class="xref" href="ch04s06.html" title="4.6 Layers">4.6 Layers</a></strong></span>). You can easily toggle visibility of each layer to see how your frames stack up and control what changes from one frame to the next. However, creating many layers manually (<span class="strong"><strong>Layer</strong></span> ▸ <span class="strong"><strong>Add Layer</strong></span>) is very tedious. I wrote a simple Python script that creates a 200-by-200 px document with 100 empty layers:</p><a id="pro_id00005"/><pre class="programlisting">print """&lt;svg width="200" height="200"
  
  &gt;"""
for i in range(100):
  print '&lt;g inkscape:groupmode="layer" display="none" id="%03d"/&gt;' % (i + 1)
print '&lt;/svg&gt;'</pre><p>All layers are created hidden (that’s what <code class="literal">display="none"</code> is for), so in Inkscape, you will need to unhide them one by one (<span class="strong"><strong><a class="xref" href="ch04s06.html#fourdot6dot3_the_current_layer_indicator" title="4.6.3 The Current Layer Indicator">4.6.3 The Current Layer Indicator</a></strong></span>) to draw on them. You can vary the number of layers created by the script (<code class="literal">range(100)</code>) as well as the dimensions of the artboard (<code class="literal">width="200" height="200"</code>). Save the script into the file <span class="emphasis"><em>generate-layers.py</em></span> and, in a command-line (or “terminal”) window of your OS, run it and capture its output to an SVG file. (You will need the Python language interpreter to be installed on your computer; you can get it at <span class="emphasis"><em><a class="ulink" href="http://python.org">http://python.org</a></em></span>.) Then, run Inkscape on this file:</p><a id="pro_id00006"/><pre class="programlisting">$ python generate-layers.py &gt; ani.svg
$ inkscape ani.svg</pre><p>You can also put the resulting file (<span class="emphasis"><em>ani.svg</em></span>) into your <span class="emphasis"><em>~/.inkscape/templates</em></span> folder where it will work as a template, so the next time you will be able to create an empty 100-layer file by choosing it from the <span class="strong"><strong>File</strong></span> ▸ <span class="strong"><strong>New</strong></span> list. Here is Inkscape’s <span class="strong"><strong>Layers</strong></span> dialog (<span class="strong"><strong><a class="xref" href="ch04s06.html#fourdot6dot4_the_layers_dialog" title="4.6.4 The Layers Dialog">4.6.4 The Layers Dialog</a></strong></span>) which is essential for working with such a multilayer file:</p><div class="figure"><a id="one00-layer_animation_template_loaded_in"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00371"/><img src="httpatomoreillycomsourcenostarchimages1736404.png.jpg" alt="A 100-layer animation template loaded into Inkscape"/></div></div><p class="title">Figure 20-1. A 100-layer animation template loaded into Inkscape</p></div></div>
<div class="sect1" title="20.2 First Frames"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot2_first_frames"/>20.2 First Frames</h1></div></div></div><p><a id="iddle1642" class="indexterm"/><a id="iddle1940" class="indexterm"/><a id="iddle2693" class="indexterm"/><a id="iddle2717" class="indexterm"/><a id="iddle2983" class="indexterm"/><a id="iddle3097" class="indexterm"/><a id="iddle3120" class="indexterm"/><a id="iddle4350" class="indexterm"/><a id="iddle4841" class="indexterm"/>Let’s make an animation of a dancing man—something catchy yet simple enough to not require much drawing skill and to fit the small format of the animation (and this brief tutorial). Our hero’s claim to fame will be in his movements, so we don’t need to make his countenance too sophisticated. Something as primitive as this stick figure will do:</p><div class="figure"><a id="stick_figure_weapostrophere_starting_wit"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00372"/><img src="httpatomoreillycomsourcenostarchimages1736406.png.jpg" alt="The stick figure we’re starting with, showing its nodes in the Node tool"/></div></div><p class="title">Figure 20-2. The stick figure we’re starting with, showing its nodes in the Node tool</p></div><p>It is made of three simple paths (hands, legs, and body) and one ellipse (head). Use the Pen tool (<span class="strong"><strong><a class="xref" href="ch14s01.html" title="14.1 The Pen Tool">14.1 The Pen Tool</a></strong></span>) with <span class="inlinemediaobject"><a id="inline_id00796"/><img src="httpatomoreillycomsourcenostarchimages1735328.png.jpg" alt=""/></span> to draw horizontal/vertical straight lines; then use the Ellipse tool (<span class="strong"><strong><a class="xref" href="ch11s04.html" title="11.4 Ellipses">11.4 Ellipses</a></strong></span>) to create the head. Then, to facilitate interpolation, do <span class="strong"><strong>Path</strong></span> ▸ <span class="strong"><strong>Combine</strong></span> on the body and limbs so they become one path, and use <span class="inlinemediaobject"><a id="inline_id00797"/><img src="httpatomoreillycomsourcenostarchimages1735556.png.jpg" alt=""/></span>-click in the Node tool (<span class="strong"><strong><a class="xref" href="ch12s05.html#one2dot5dot3_deleting_and_creating_nodes" title="12.5.3 Deleting and Creating Nodes">12.5.3 Deleting and Creating Nodes</a></strong></span>) to add nodes in his elbow and knee joints.</p></div>
<div class="sect1" title="20.3 Tweening"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot3_tweening"/>20.3 Tweening</h1></div></div></div><p>Now make a copy of the character by duplicating it (<span class="inlinemediaobject"><a id="inline_id00798"/><img src="httpatomoreillycomsourcenostarchimages1735374.png.jpg" alt=""/></span> with both head and body selected), move it to the right and play with its nodes (in the Node tool) to give our man a funky dancing pose. We thus get two <span class="emphasis"><em>keyframes</em></span>, and the entire animation could be as simple as alternating between them.</p><div class="figure"><a id="two_keyframes"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00373"/><img src="httpatomoreillycomsourcenostarchimages1736408.png.jpg" alt="Two keyframes"/></div></div><p class="title">Figure 20-3. Two keyframes</p></div><p>However, it would be much better to add intermediate frames to make the transition between the keyframes smoother. Animators call this <span class="emphasis"><em>tweening</em></span> (derived from <span class="emphasis"><em>between</em></span>), and Inkscape can to some extent automate this process: Select both bodies (i.e., two path objects) and do <span class="strong"><strong>Extensions</strong></span> ▸ <span class="strong"><strong>Generate from Path</strong></span> ▸ <span class="strong"><strong>Interpolate</strong></span>. Specify the number of <span class="strong"><strong>Interpolation steps</strong></span> (say, 4), select <span class="strong"><strong>Interpolation method 1</strong></span>, and, if desired, use a nonzero <span class="strong"><strong>Exponent</strong></span> value to make the movement speed up or slow down nonlinearly. Then, the head ellipses can be placed over the tweened bodies by another interpolation using the same number of steps and the same <span class="strong"><strong>Exponent</strong></span> (<a class="xref" href="ch20s03.html#interpolating_the_keyframes" title="Figure 20-4. Interpolating the keyframes">Figure 20-4</a>).</p><p>If the tweening steps don’t look right to you, you can undo the interpolation, tweak the keyframes, and reinterpolate until you get what you like. <span class="strong"><strong>Interpolation method 1</strong></span> (<span class="strong"><strong><a class="xref" href="ch13s03.html" title="13.3 Path Extensions">13.3 Path Extensions</a></strong></span>) matches the nodes that are at the same position along the path, <a id="iddle1490" class="indexterm"/><a id="iddle1751" class="indexterm"/><a id="iddle2761" class="indexterm"/><a id="iddle2885" class="indexterm"/><a id="iddle3088" class="indexterm"/><a id="iddle3262" class="indexterm"/>so it is preferable when one of the keyframe paths was created by tweaking the other one without adding or removing nodes (as in our case). If two paths are of different origin and have incompatible nodes, <span class="strong"><strong>method 2</strong></span> is better.</p><div class="figure"><a id="interpolating_the_keyframes"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00374"/><img src="httpatomoreillycomsourcenostarchimages1736410.png.jpg" alt="Interpolating the keyframes"/></div></div><p class="title">Figure 20-4. Interpolating the keyframes</p></div></div>
<div class="sect1" title="20.4 Compositing and Creating Frames"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot4_compositing_and_creating_frames"/>20.4 Compositing and Creating Frames</h1></div></div></div><p>Now it’s time to place our animation on its proper place on the canvas and distribute the frames across layers. Remove the tweening once again and place the second keyframe right over the first. (Note that the dancer’s right foot coincides in both keyframes because it rests on the floor.) Select both overlapping figures and place them onto the canvas, scaling them if necessary and taking into account whatever other elements you plan to add (such as a text heading). Finally, interpolate the bodies and the heads again—right in place:</p><div class="figure"><a id="interpolating_in_place"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00375"/><img src="httpatomoreillycomsourcenostarchimages1736412.png.jpg" alt="Interpolating in place"/></div></div><p class="title">Figure 20-5. Interpolating in place</p></div><p>The next task to do in Inkscape is a bit boring (it may be automated in future versions). You need to ungroup the group of the interpolation paths and manually place each one on its layer from 002 to 005, with the keyframes occupying layers 001 and 006. Then, duplicate the frames in the reverse order: Frames 005 to 001 go into the range 007 to 011, to make the dancer smoothly return into the original position.</p><p>Use <span class="inlinemediaobject"><a id="inline_id00799"/><img src="httpatomoreillycomsourcenostarchimages1735516.png.jpg" alt=""/></span> and <span class="inlinemediaobject"><a id="inline_id00800"/><img src="httpatomoreillycomsourcenostarchimages1735518.png.jpg" alt=""/></span> to move the selected objects one layer up/down, and watch the status bar that tells you in which layer your selected objects are. Alternatively, you can cut (<span class="inlinemediaobject"><a id="inline_id00801"/><img src="httpatomoreillycomsourcenostarchimages1735496.png.jpg" alt=""/></span>) an object, switch to the destination layer, and paste it in place (<span class="inlinemediaobject"><a id="inline_id00802"/><img src="httpatomoreillycomsourcenostarchimages1735500.png.jpg" alt=""/></span>). Finally, make sure all the layers you’ve used are visible, and save the SVG file.</p></div>
<div class="sect1" title="20.5 Export and Production"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot5_export_and_production"/>20.5 Export and Production</h1></div></div></div><p><a id="iddle1100" class="indexterm"/><a id="iddle1400" class="indexterm"/><a id="iddle1648" class="indexterm"/><a id="iddle2089" class="indexterm"/><a id="iddle2291" class="indexterm"/><a id="iddle2293" class="indexterm"/><a id="iddle2491" class="indexterm"/><a id="iddle2533" class="indexterm"/><a id="iddle3600" class="indexterm"/><a id="iddle3606" class="indexterm"/><a id="iddle4519" class="indexterm"/><a id="iddle4526" class="indexterm"/><a id="iddle4528" class="indexterm"/>You can export the layers manually, but that would be rather frustrating—especially since you may need to do it more than once after viewing the result and making changes to the source. Since Inkscape offers a powerful set of command-line parameters, I wrote another Python script to automate the export. The script takes as parameters the name of source file, the numbers of the start and end layers to export, and the name of the resulting GIF; it then calls Inkscape to export each layer separately. After exporting, this script calls the convert utility from ImageMagick for combining the frames into an animated GIF file which can then be viewed in any graphic web browser.</p><a id="pro_id00007"/><pre class="programlisting">import os, sys
for i in range(int(sys.argv[2]), int(sys.argv[3]) + 1):
  os.system("""inkscape --export-png=%s-%03d.png --export-id=%03d \
    --export-id-only --export-dpi=400 --export-area-canvas \
    --export-background-opacity=1 %s""" % (sys.argv[1], i, i, sys.argv[1]))
os.system("convert -loop 0 -delay 10 %s-*.png %s" % (sys.argv[1], sys.argv[4]))</pre><p>Save it as <span class="emphasis"><em>produce-gif.py</em></span> and run:</p><a id="pro_id00008"/><pre class="programlisting">$ python produce-gif.py ani.svg 001 011 stick.gif
Exporting only object with id="001"; all other objects hidden
DPI: 400
Background RRGGBBAA: ffffffff
Area 0:0:100:100 exported to 444 x 444 pixels (400 dpi)
Bitmap saved as: ani.svg-001.png
Exporting only object with id="002"; all other objects hidden
...
Exporting only object with id="011"; all other objects hidden
...</pre><p>Our output so far can be viewed online at <span class="emphasis"><em><a class="ulink" href="http://www.kirsanov.com/inkscape-animation/stick.gif">http://www.kirsanov.com/inkscape-animation/stick.gif</a></em></span>.</p><div class="note" title="Note"><h3 class="title"><a id="ch20note01"/>Note</h3><p><span class="emphasis"><em>Instead of the convert utility from ImageMagick, you can use the open source Gifsicle program</em></span> (<a class="ulink" href="http://www.lcdf.org/gifsicle">http://www.lcdf.org/gifsicle</a>) <span class="emphasis"><em>for composing frames into an animated GIF file. Its advantage is that it can optimize the animation, reducing its file size.</em></span></p></div><div class="note" title="Note"><h3 class="title"><a id="ch20note02"/>Note</h3><p><span class="emphasis"><em>If you want your animation to be in Flash format instead of an animated GIF, a straightforward way to do it is to convert your SVG to static SWF frames (for example, using the svg2swf utility,</em></span> <a class="ulink" href="http://robla.net/1996/svg2swf">http://robla.net/1996/svg2swf</a><span class="emphasis"><em>) and then combine the frames into an animation, for which I recommend the SWF Tools package</em></span> (<a class="ulink" href="http://swftools.org">http://swftools.org</a>). <span class="emphasis"><em>The resulting SWF file will not be very efficient but it will work.</em></span></p></div></div>
<div class="sect1" title="20.6 Hatching"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot6_hatching"/>20.6 Hatching</h1></div></div></div><p>Our stick-figure animation looks at most mildly engaging. This smooth, vectory style is good for technical animations, such as demonstrating the workings of a machine, but is not too inspiring for an animated dance. Can we do something about it?</p><p><a id="iddle1418" class="indexterm"/><a id="iddle1425" class="indexterm"/>Hide all layers except <code class="literal">001</code>, select the figure and lower its opacity. Then arm yourself with the Calligraphic pen (<span class="strong"><strong><a class="xref" href="ch14s03.html" title="14.3 The Calligraphic Pen Tool">14.3 The Calligraphic Pen Tool</a></strong></span>), select the <span class="strong"><strong>Width</strong></span> of 20 with <span class="strong"><strong>Tremor</strong></span> of 40, and draw over the stick figure trying to make it more random, funky, personalized. While at it, you can also add more pronounced feet and fists and more human-like body forms in general.</p><div class="figure"><a id="hatching_with_calligraphic_pen"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00376"/><img src="httpatomoreillycomsourcenostarchimages1736414.png.jpg" alt="Hatching with Calligraphic pen"/></div></div><p class="title">Figure 20-6. Hatching with Calligraphic pen</p></div><p>When done, delete the original skeleton figure—it’s served its function of a blueprint and is no longer needed. The result is not bad, but it looks a bit foreign in its roughness upon the immaculate white background. To fix this, reduce the width of the pen to 1 and add some thin random strokes around the dancer, hinting at his limbs’ motion and shadows on the floor. Don’t worry if this looks <span class="emphasis"><em>too</em></span> random to your taste—when you’ll see him move, this randomness will come live and natural.</p><div class="figure"><a id="skeleton_removedcomma_motion_noise_added"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00377"/><img src="httpatomoreillycomsourcenostarchimages1736416.png.jpg" alt="Skeleton removed, motion noise added"/></div></div><p class="title">Figure 20-7. Skeleton removed, motion noise added</p></div><p>The main rule in this kind of the project is, <span class="emphasis"><em>Don’t copy</em></span>. Freehand roughness cannot be recycled; no matter how similar is one frame to another, you need to sketch each frame entirely from scratch, using nothing but the stick figure as your guide. Duplicating the freehand strokes (even if you move or scale them) will instantly kill the rough, natural feel and make your animation wooden and dull. Don’t be lazy; the more you draw the easier it gets.</p><p>And the result is certainly worth the labor: See <span class="emphasis"><em><a class="ulink" href="http://www.kirsanov.com/inkscape-animation/rough.gif">http://www.kirsanov.com/inkscape-animation/rough.gif</a></em></span> for the complete hand-drawn animation. Much more inspiring than the interpolated stick figure!</p><div class="note" title="Note"><h3 class="title"><a id="ch20note03"/>Note</h3><p><a id="iddle1391" class="indexterm"/><a id="iddle2027" class="indexterm"/><a id="iddle2694" class="indexterm"/><a id="iddle3039" class="indexterm"/><a id="iddle3121" class="indexterm"/><a id="iddle3327" class="indexterm"/><a id="iddle4600" class="indexterm"/><a id="iddle4720" class="indexterm"/><span class="emphasis"><em>Using the same technique, you can manually trace with Calligraphic pen over any imported bitmap. Make the bitmap half-transparent and sketch on top of it, trying to highlight the most important features and ignore the rest. In an animation, the source bitmaps might be frames of a video, still photos, or rendered 3D images.</em></span></p></div><p>If necessary, you can move your entire animation—for example, to free up space for a heading above it—by unhiding all layers, selecting the whole bunch of shapes, and moving/transforming them as needed on the canvas.</p></div>
<div class="sect1" title="20.7 Text"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot7_text"/>20.7 Text</h1></div></div></div><p>Now, let’s add a textual banner to our animation—just a single word, “dance!”. Can we do something more interesting than copying the same static text object into each frame?</p><p>Once again, we could use the Calligraphic pen to draw ruffled handwritten letters over some text object used as a guide, so that the entire animation is in a common style. However, for the purpose of demonstration, let’s try another approach: Make the text banner smoothly billowing as if on a flag. To distort the text, you can use the <span class="strong"><strong>Envelope Deformation</strong></span> path effect (<span class="strong"><strong><a class="xref" href="ch13s01.html#one3dot1dot8_envelope_deformation" title="13.1.8 Envelope Deformation">13.1.8 Envelope Deformation</a></strong></span>); however, it is probably faster to apply some node sculpting instead (<span class="strong"><strong><a class="xref" href="ch12s05.html#one2dot5dot7dot2_node_sculpting" title="12.5.7.2 Node Sculpting">12.5.7.2 Node Sculpting</a></strong></span>).</p><p>Create a text object using a nice-looking font, convert it to path (<span class="inlinemediaobject"><a id="inline_id00803"/><img src="httpatomoreillycomsourcenostarchimages1735780.png.jpg" alt=""/></span>), ungroup (<span class="inlinemediaobject"><a id="inline_id00804"/><img src="httpatomoreillycomsourcenostarchimages1735506.png.jpg" alt=""/></span>), union (<span class="inlinemediaobject"><a id="inline_id00805"/><img src="httpatomoreillycomsourcenostarchimages1735892.png.jpg" alt=""/></span>), switch to the Node tool (<span class="inlinemediaobject"><a id="inline_id00806"/><img src="httpatomoreillycomsourcenostarchimages1735782.png.jpg" alt=""/></span>), select all nodes (<span class="inlinemediaobject"><a id="inline_id00807"/><img src="httpatomoreillycomsourcenostarchimages1735370.png.jpg" alt=""/></span>), and <span class="inlinemediaobject"><a id="inline_id00808"/><img src="httpatomoreillycomsourcenostarchimages1735550.png.jpg" alt=""/></span>-drag one of them. The entire shape will smoothly bend and stretch. If the lettershapes get too much distorted, undo the drag and press <span class="inlinemediaobject"><a id="inline_id00809"/><img src="httpatomoreillycomsourcenostarchimages1735734.png.jpg" alt=""/></span> a couple times, each time doubling the number of nodes—this usually helps make the path you’re sculpting behave more naturally.</p><div class="figure"><a id="node_sculpting_on_a_text_banner"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00378"/><img src="httpatomoreillycomsourcenostarchimages1736418.png.jpg" alt="Node sculpting on a text banner"/></div></div><p class="title">Figure 20-8. Node sculpting on a text banner</p></div><p>Now make two copies of the text object, sculpt each one differently so they look like two shots of a banner floating in the wind, and interpolate between them. Then, just as we did for the dancer figure, distribute the interpolation steps into layers, placing them above the figure on the canvas (<a class="xref" href="ch20s07.html#interpolating_the_banner" title="Figure 20-9. Interpolating the banner">Figure 20-9</a>). Don’t worry about absolute precise placement; slight wobbling of the banner is not a problem (and will even add some character).</p><div class="figure"><a id="interpolating_the_banner"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00379"/><img src="httpatomoreillycomsourcenostarchimages1736420.png.jpg" alt="Interpolating the banner"/></div></div><p class="title">Figure 20-9. Interpolating the banner</p></div><p><a id="iddle1630" class="indexterm"/><a id="iddle1721" class="indexterm"/><a id="iddle2373" class="indexterm"/><a id="iddle2510" class="indexterm"/><a id="iddle2769" class="indexterm"/><a id="iddle2776" class="indexterm"/><a id="iddle3601" class="indexterm"/><a id="iddle3617" class="indexterm"/>To see where to place each object relative to the previous layer, use the <span class="strong"><strong>Opacity</strong></span> control on the <span class="strong"><strong>Layers</strong></span> dialog to make the previous layer temporarily half-transparent. Compose the animated GIF again using the <span class="emphasis"><em>produce-gif.py</em></span> script. The result so far can be seen at <span class="emphasis"><em><a class="ulink" href="http://www.kirsanov.com/inkscape-animation/with-banner.gif">http://www.kirsanov.com/inkscape-animation/with-banner.gif</a></em></span>; here are the frames 001 to 005:</p><div class="figure"><a id="half_of_the_animationapostrophes_frames"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00380"/><img src="httpatomoreillycomsourcenostarchimages1736422.png.jpg" alt="Half of the animation’s frames (forward movement)"/></div></div><p class="title">Figure 20-10. Half of the animation’s frames (forward movement)</p></div></div>
<div class="sect1" title="20.8 Background"><div class="titlepage"><div><div><h1 class="title"><a id="two0dot8_background"/>20.8 Background</h1></div></div></div><p>The only thing not to like about our animation is its total lack of color. You can fix this by adding a different colored background to each frame, for a real stroboscopic dancefloor effect. Choosing these random colors can be automated, too: Create a rectangle with an unset color and use the <span class="strong"><strong>Create Tiled Clones</strong></span> dialog (<span class="strong"><strong><a class="xref" href="ch16s06.html" title="16.6 Tiling Clones">16.6 Tiling Clones</a></strong></span>) to multiply it with some hue variation.</p><p>Paint the “dance!” banner with a contrasting acid color, also varying from frame to frame. Finally, to make the dancing man stand out from the background, add an elliptic gradient “spotlight” behind him; randomly move, scale, and rotate the spotlight on each frame for an additional energizing effect. The very final version is at <span class="emphasis"><em><a class="ulink" href="http://www.kirsanov.com/inkscape-animation/final.gif">http://www.kirsanov.com/inkscape-animation/final.gif</a></em></span>. Enjoy!</p></div></body></html>