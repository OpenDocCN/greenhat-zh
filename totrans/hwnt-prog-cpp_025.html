<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_30">
<a name="ch03" class="calibre6" id="ch03"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="31" class="calibre16" id="31"/><a name="ch03lev1sec7" class="calibre16" id="ch03lev1sec7"/><span class="chapter-titlelabel">Program 23: </span>The Long and the Short of It</h2><p class="b24-bookeditorial">The programmer wanted to test out his own version of <span>strlen.</span> The function is simple enough, but maybe it's too simple. So what's the length of the following strings?</p>
<div class="calibre1">
<pre class="literallayout-normal">
         Sam
         This is a test
         Hello World
  1 /************************************************
  2  * Compute the length of a string entered by    *
  3  * the user.                                    *
  4  ************************************************/
  5 #include &lt;iostream&gt;
  6
  7 /************************************************
  8  * length -- Find the length of a string        *
  9  *      (strlen does a better job.)             *
 10  *                                              *
 11  * Returns:                                     *
 12  *      length of the string.                   *
 13  ************************************************/
 14 static int length(
 15     const char string[] // String to check
 16 )
 17 {
 18     int index;       // index into the string
 19
 20     /*
 21      * Loop until we reach the
 22      * end of string character
 23      */
 24      for (index=0; string[index] != '\0';++index)
 25          /* do nothing */
 26
 27      return (index);
 28 }
 29
 30 int main()
 31 {
 32     char line[100];    // Input line from user
 33
 34     while (1) {
 35         std::cout &lt;&lt; "Enter a string: ";
 36         std::cin.getline(line, sizeof(line));
 37
 38         std::cout &lt;&lt; "Length is " &lt;&lt;
 39             length(line) &lt;&lt; '\n';
 40     }
 41     return (0);
 42 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#250" target="_parent" class="calibre2">Hint 114</a>. <a href="LiB0121.html#595" target="_parent" class="calibre2">Answer 97</a>.)</p>
<div class="calibre1">
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="Start Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
<p class="b24-bookeditorial">A customer called the service center:</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="b24-bookeditorial">
<i class="calibre15">Customer:</i> The computer smells funny.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">
<i class="calibre15">Service man:</i> Could you please check the back of the computer?</p>
</li>
</ul>
<p class="b24-bookeditorial">Over the phone the service man heard the customer walk over to his computer. Then came a yelp and a crash.</p>
<ul class="simple-list">
<li class="first-listitem">
<p class="b24-bookeditorial">
<i class="calibre15">Customer</i> (angry): The computer bit me!</p>
</li>
</ul>
<p class="b24-bookeditorial">The service man had to see this, so he scheduled an on-site call. When he arrived, he noticed that the flat cable running from the computer cabinet to the modems had melted. All the insulation was gone, and there was nothing left but a set of bare wires.</p>
<p class="b24-bookeditorial">The service man pulled out his trusty volt ohm meter and tested the wires. There were 110 volts on the line! (Five volts is normal.) After a few minutes he traced the problem to the wall plugs. The electrician who put them in had reversed power and ground on one set of plugs. This improper wiring caused the ground line of the modem to be at 110 volts. When the modem and the computer were connected the result was a lot of current running through some very small lines. That caused the melted insulation. And when the customer touched the lines, the 110 volts caused the computer to bite him.</p>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="End Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
</div>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td height="16" class="calibre8"/>
</tr>
</table>
</div>
</div>



</body></html>