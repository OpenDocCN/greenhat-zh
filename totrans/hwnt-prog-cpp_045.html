<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_51">
<a name="ch04" class="calibre6" id="ch04"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="52" class="calibre16" id="52"/><a name="ch04lev1sec17" class="calibre16" id="ch04lev1sec17"/><span class="chapter-titlelabel">Program 43: </span>Baseless</h2><p class="b24-bookeditorial">We know that 2 is an <span>int.</span> So why does C++ think it's a <span>float</span> and call the wrong function?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * demonstrate the use of derived classes.      *
  3  ************************************************/
  4 #include &lt;iostream&gt;
  5
  6 /************************************************
  7  * base -- A sample base class.                 *
  8  *      Prints various values.                  *
  9  ************************************************/
 10 class base
 11 {
 12         // Constructor defaults
 13         // Destructor defaults
 14         // Copy constructor defaults
 15         // Assignment operator defaults
 16     public:
 17         // Print a floating point number
 18         void print_it(
 19             float value // The value to print
 20         )
 21         {
 22             std::cout &lt;&lt;
 23                 "Base (float=" &lt;&lt; value &lt;&lt; ")\n";
 24         }
 25         // Print an integer value
 26         void print_it(
 27             int value   // The value to print
 28         )
 29         {
 30             std::cout &lt;&lt;
 31                 "Base (int=" &lt;&lt; value &lt;&lt; ")\n";
 32         }
 33 };
 34
 35 class der
 36 {
 37         // Constructor defaults
 38         // Destructor defaults
 39         // Copy constructor defaults
 40         // Assignment operator defaults
 41     public:
 42         // Print a floating point number
 43         void print_it(
 44             float value // The value to print
 45         )
 46         {
 47             std::cout &lt;&lt;
 48                 "Der (float=" &lt;&lt; value &lt;&lt; ")\n";
 49         }
 50 };
 51
 52 int main()
 53 {
 54     der a_var;  // A class to play with
 55
 56     // Print a value using der::print_it(float)
 57     a_var.print_it(1.0);
 58
 59     // Print a value using base::print_it(int)
 60     a_var.print_it(2);
 61     return (0);
 62 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#466" target="_parent" class="calibre2">Hint 330</a>. <a href="LiB0121.html#556" target="_parent" class="calibre2">Answer 58</a>.)</p>
<div class="calibre1">
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="Start Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
<p class="b24-bookeditorial">The original version of the UNIX <span>mt</span> command had a unusual error message that appeared when it couldn't understand a command:</p>
<div class="calibre1">
<pre class="literallayout-normal">
    mt -f /dev/rst8 funny
    mt: Can't grok "funny"
</pre>
</div>
<p class="b24-bookeditorial">For those unfamiliar with Robert Heinlein's <i class="calibre15">Stranger in a Strange Land, grok</i> is a Martian term for <i class="calibre15">understand</i>.</p>
<p class="b24-bookeditorial">This term did not transfer well to other countries. One German programmer went nuts trying to find "grok" in his English/German dictionary.</p>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="End Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
</div>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td height="16" class="calibre8"/>
</tr>
</table>
</div>
</div>



</body></html>