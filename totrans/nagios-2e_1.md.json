["```\nlinux:~ # **groupadd -g 9000 nagios**\nlinux:~ # **groupadd -g 9001 nagcmd**\nlinux:~ # **useradd -u 9000 -g nagios -G nagcmd -d /usr/local/nagios** \\\n **-c \"Nagios Admin\" nagios**\n```", "```\nlinux:~ # **grep \"^User\" /etc/apache2/apache2.conf**\nUser www-data\n```", "```\nlinux:~ # **usermod -G nagcmd www-data**\n```", "```\nlinux:~ # **mkdir /usr/local/nagios /etc/nagios /var/nagios**\nlinux:~ # **chown nagios.nagios /usr/local/nagios /etc/nagios /var/nagios**\n```", "```\nlinux:~ # **mkdir /usr/local/src**\nlinux:~ # **cd /usr/local/src**\nlinux:local/src # **tar xvzf** path/to/**nagios-3.0.tar.gz**\n...\n```", "```\nlinux:~ # **cd /usr/local/src/nagios-3.0**\nlinux:src/nagios-3.0 # **./configure** \\\n **--sysconfdir=/etc/nagios** \\\n **--localstatedir=/var/nagios** \\\n **--with-command-group=nagcmd**\n...\n```", "```\n******* Configuration summary for nagios 3.0 *******:\n\nGeneral Options:\n----------------\n       Nagios executable:   nagios\n       Nagios user/group:   nagios,nagios\n      Command user/group:   nagios,nagcmd\n           Embedded Perl:   yes, with caching\n            Event Broker:   yes\n       Install $prefix:   /usr/local/nagios\n                 Lock file: /var/nagios/nagios.lock\n Check result  directory:   /var/nagios/spool/checkresults\n         Init  directory:   /etc/init.d\nApache conf.d  directory:   /etc/apache2/conf.d\n           Mail program:    /usr/bin/mail\n                Host OS:    linux-gnu\n\nWeb Interface Options:\n------------------\n               HTML URL:    http://localhost/nagios/\n                CGI URL:    http://localhost/nagios/cgi-bin/\nTraceroute (used by WAP):   /usr/sbin/traceroute\n```", "```\nlinux:src/nagios-3.0 # **make all**\n...\nlinux:src/nagios-3.0 # **make install**\n...\nlinux:src/nagios-3.0 # **make install-init**\n...\nlinux:src/nagios-3.0 # **make install-commandmode**\n...\nlinux:src/nagios-3.0 # **make install-config**\n...\n```", "```\nlinux:~ # **update-rc.d nagios defaults 99**\n```", "```\nlinux:~ # **ln -s /etc/init.d/nagios /etc/rc2.d/S99nagios**\nlinux:~ # **ln -s /etc/init.d/nagios /etc/rc3.d/S99nagios**\nlinux:~ # **ln -s /etc/init.d/nagios /etc/rc4.d/S99nagios**\nlinux:~ # **ln -s /etc/init.d/nagios /etc/rc5.d/S99nagios**\nlinux:~ # **ln -s /etc/init.d/nagios /etc/rc0.d/K99nagios**\nlinux:~ # **ln -s /etc/init.d/nagios /etc/rc1.d/K99nagios**\nlinux:~ # **ln -s /etc/init.d/nagios /etc/rc6.d/K99nagios**\n```", "```\nlinux:~ # **insserv nagios**\n```", "```\nlinux:~ # **chkconfig --add nagios**\nlinux:~ # **nagios on**\n```", "```\nlinux:~ # **cd /usr/local/src**\nlinux:local/src # **tar xvzf** path /to/**nagios-plugins-1.4.tar.gz**\nlinux:src/nagios-plugins-1.4.11 # **./configure** \\\n **--sysconfdir=/etc/nagios** \\\n **--localstatedir=/var/nagios** \\\n **--enable-perl-modules**\n...\n```", "```\n...\nconfigure: WARNING: Skipping radius plugin\nconfigure: WARNING: install radius libs to compile this plugin (see\n           REQUIREMENTS).\n...\nconfigure: WARNING: Tried /usr/bin/perl - install Net ::SNMP perl\n           module if you want to use the perl snmp plugins\n...\n```", "```\nlinux:~ # **perl -MCPAN -e 'install Net::SNMP'**\n...\n```", "```\nlinux:nagios-plugins-1.4.11/contrib # **make check_cluster2**[[22](#ftn.CHP-1-FN-14)]\ncc     check_cluster2.c   -o check_cluster2\n```", "```\nlinux:~ # **chown root.nagios /usr/local/nagios/libexec/check_icmp**\nlinux:~ # **chmod 4711 /usr/local/nagios/libexec/check_icmp**\nlinux:~ # **ls -l /usr/local/nagios/libexec/check_icmp**\n-rwsr-x--x 1 root nagios 61326 2005-02-08 19:49 check_icmp\n```", "```\nnagios@linux:~$ **/usr/local/nagios/libexec/check_icmp -h**\nUsage: check_icmp [options] [-H] host1 host2 hostn\n\nWhere options are any combination of:\n ***** -H | --host        specify a target\n ***** -w | --warn        warning threshold (currently 200.000ms,40%)\n ***** -c | --crit        critical threshold (currently 500.000ms,80%)\n ***** -n | --packets     number of packets to send (currently 5)\n ***** -i | --interval    max packet interval (currently 80.000ms)\n ***** -I | --hostint     max target interval (currently 0.000ms)\n ***** -l | --ttl         TTL on outgoing packets (currently 0)\n ***** -t | --timeout     timeout value (seconds, currently 10)\n ***** -b | --bytes       icmp packet size (currenly ignored)\n  -v | --verbose     verbosity++\n  -h | --help        this cruft\nThe -H switch is optional. Naming a host (or several) to check is not.\n```", "```\nuser@linux:~$ **cd /usr/local/nagios/libexec**\nuser@linux:nagios/libexec$ **./check_icmp -H 192.168.1.13**\nOK - 192.168.1.13: rta 0.261ms, lost 0%|rta=0.261ms;200.000;500.000;0;\npl=0%;40;80;;\n```", "```\nlinux:~ # **make install-webconf**\n...\n```", "```\nScriptAlias /nagios/cgi-bin \"/usr/local/nagios/sbin\"\n<Directory \"/usr/local/nagios/sbin\">\n  Options ExecCGI\n  AllowOverride None\n  Order allow,deny\n  Allow from all\n# Order deny,allow\n# Deny from all\n# Allow from 127.0.0.1\n  AuthName \"Nagios Access\"\n  AuthType Basic\n  AuthUserFile /etc/nagios/htpasswd.users\nRequire valid-user\n</Directory>\n```", "```\nOrder deny, allow\nDeny from all\nAllow from 127.0.0.1\nAllow from 192.0.2.0/24\n```", "```\nlinux:~ # **/etc/init.d/apache reload**\n```", "```\nlinux:~ # **setenforce 0**\n```", "```\nuse_authentication=1\n```", "```\nAuthName \"Nagios Access\"\nAuthType Basic\nAuthUserFile /etc/nagios/htpasswd.users\nRequire valid-user\n```", "```\nlinux:/etc/nagios **# htpasswd2 -c htpasswd.users nagios**\nNew password: passwort\nRe-type new password: passwort\nAdding password for user nagios\n```", "```\nnagios:7NlyfpdI2UZEs\n```", "```\nlinux:/etc/nagios **# htpasswd2 htpasswd.users** another_user\n```", "```\nlinux:/etc/nagios **# chown www-data htpasswd.users**\nlinux:/etc/nagios **# chmod 600 htpasswd**\n```", "```\nuser@linux:/etc/nagios$ **tree**[[31](#ftn.CHP-2-FN-1)]\n.\n|-- nagios.cfg\n|-- cgi.cfg\n|-- resource.cfg\n'-- objects\n    |-- templates.cfg\n    |-- commands.cfg\n    |-- contacts.cfg\n    |-- timeperiods.cfg\n    |-- localhost.cfg\n    |-- windows.cfg\n    |-- printer.cfg\n    '-- switch.cfg\n```", "```\nuser@linux:/etc/nagios$ **tree**\n.\n|-- nagios.cfg\n|-- cgi.cfg\n|-- resource.cfg\n|-- localhost.cfg\n'-- commands.cfg\n```", "```\nnagios@linux:/etc/nagios$ **fgrep cfg_file nagios.cfg**\n...\ncfg_file=/etc/nagios/objects/commands.cfg\ncfg_file=/etc/nagios/objects/contacts.cfg\ncfg_file=/etc/nagios/objects/timeperiods.cfg\ncfg_file=/etc/nagios/objects/templates.cfg\ncfg_file=/etc/nagios/objects/localhost.cfg\n...\n```", "```\nnagios@linux:/etc/nagios$ **fgrep cfg_file nagios.cfg**\n...\ncfg_file=/etc/nagios/commands.cfg\ncfg_file=/etc/nagios/localhost.cfg\n...\n```", "```\n...\ncfg_dir=/etc/nagios/mysite\n...\n```", "```\nnagios@linux:/etc/nagios$ **tree**\n.\n|-- nagios.cfg\n|-- cgi.cfg\n|-- resource.cfg\n|-- htpasswd\n'-- mysite\n    |-- contactgroups.cfg\n    |-- misccommands.cfg\n    |-- contacts.cfg\n    |-- timeperiods.cfg\n    |-- checkcommands.cfg\n    |-- hosts.cfg\n    |-- services.cfg\n    '-- hostgroups.cfg\n```", "```\n...\n'-- mysite\n    |-- linux\n    |   |-- services\n    |   '-- hosts\n    |   |-- linux01.cfg\n    |   |-- linux02.cfg\n    |   '-- linux03.cfg\n    |-- windows\n    |   |-- services\n    |   '-- hosts\n    |       |-- win03.cfg\n\n    |       '-- win09.cfg\n    '-- router\n        |-- services\n        '-- hosts\n            |-- edge01.cfg\n            |-- edge02.cfg\n            '-- backbone.cfg\n```", "```\ncfg_dir=/etc/nagios/mysite\n```", "```\n|-- global\n|   |-- commands\n|   |   |-- check-host-alive.cfg\n|   |   |-- check_http.cfg\n|   |   |-- check_icmp.cfg\n... ... ...\n|   |-- contacts\n|   |   |-- nagios.cfg\n|   |-- templates\n|   |   |-- host_generic_t.cfg\n|   |   |-- service_generic_t.cfg\n|   |   |-- service_perfdata_t.cfg\n... ... ...\n|   '-- timeperiods\n'-- sites\n    |-- foreignsite\n    |   |-- hosts\n    | '-- services\n    |-- mysite\n    |   |-- hosts\n    | '-- services\n    '-- othersite\n        |-- hosts\n        '--services\n```", "```\ncfg_dir=/etc/nagios/global\ncfg_dir=/etc/nagios/sites\n```", "```\ndate_format=us\n```", "```\ndefine *object-type* {\n *parameter value*\n *parameter value*\n   ...\n}\n```", "```\ndefine service {\n   name PING\n   host_name linux01\n   ...\n}\ndefine service {\n   name PING\n   host_name linux03\n}\n```", "```\n# -- /etc/nagios/mysite/hosts.cfg\ndefine host{\n **host_name**                   linux01\n   hostgroups                      linux-servers\n **alias**(*)           Linux File Server\n **address**                     192.168.1.9\n   check_command                   check-host-alive\n **max_check_attempts**          3\n **check_period**                24×7\n **contact_groups**              localadmins\n **notification_interval**       120\n **notification_period**         24×7\n **notification_options**        d,u,r,f,s(*)\n   parents                         router01\n}\n```", "```\n# -- /etc/nagios/mysite/hostgroups.cfg\ndefine hostgroup{\n **hostgroup_name**           linux-servers\n **alias**                    Linux Servers\n    members                      linux01,linux02\n    hostgroup_members(*) hostgroup1,hostgroup2\n}\n```", "```\n# -- /etc/nagios/mysite/services.cfg\ndefine service{\n **host_name**                         linux01\n **service_description**               PING\n **check_command**                     check_ping!100.0,20%!500.0,60%\n **max_check_attempts**                3\n **normal_check_interval**(*)          5\n **retry_check_interval**(*)           1\n **check_period**                      24×7\n **notification_interval**             120\n **notification_period**(*)            24×7\n **notification_options**              w, u, c, r, f, s(*)\n **contact_groups**(*)                 localadmins\n}\n```", "```\n# -- /etc/nagios/mysite/servicegroups.cfg\ndefine servicegroup{\n **servicegroup_name**            all-ping\n **alias**                        All Pings\n **members**                      linux01, PING, linux02, PING\n  servicegroup_members(*) servicegroup1, servicegroup2\n}\n```", "```\nmembers `hostl`,`servicel`,`host2`,`service2`, ...\n```", "```\n# -- /etc/nagios/mysite/contacts.cfg\ndefine contact{\n **contact_name**                   nagios\n **alias**                          Nagios Admin\n **host_notification_period**       24×7\n **service_notification_period**    24×7\n **service_notification_options**   w, u, c, r\n **host_notification_options**      d, u, r\n   service_notification_commands      notify-by-email\n   host_notification_commands         host-notify-by-email\n  **email**                          nagios-admin@localhost\n    can_submit_commands(*)    1\n}\n```", "```\n# -- /etc/nagios/mysite/contactgroups.cfg\ndefine contactgroup{\n **contactgroup_name**    localadmins\n **alias**                Local Site Administrators\n **members**              nagios\n   contactgroup_members(*) contactgroup1,contactgroup2\n}\n```", "```\nnagios@linux:/etc/nagios$ **cp objects/checkcommands.cfg** \\ **mysite/checkcommands.cfg**\n```", "```\n# -- /etc/nagios/mysite/checkcommands.cfg\n...\ndefine command{\n **command_name** check_ping\n **command_line** $USER1$/check_icmp -H $HOSTADDRESS$ -w $ARG1$ -c $ARG2$\n-p 5\n}\n...\n```", "```\ncheck_ping!100.0,20%!500.0,60%\n```", "```\n# -- /etc/nagios/mysite/timeperiods.cfg\ndefine timeperiod{\n **timeperiod_name** 24×7\n **alias**           24 Hours A Day, 7 Days A Week\n   Sunday              00:00-24:00\n   Monday              00:00-24:00\n   tuesday             00:00-24:00\n   wednesday           00:00-24:00\n   Thursday            00:00-24:00\n   Friday              00:00-24:00\n   Saturday            00:00-24:00\n}\n```", "```\ndefine timeperiod{\n   ...\n   Monday          00:00-09:00,12:00-13:00,17:00-24:00\n   ...\n}\n```", "```\n2007-12-24     08:00-12:00\nmay 1          00:00-24:00\nmonday 2 may   00:00-24:00\nmonday 3       00:00-24:00\n...\n2007-12-24 - 2008-01-08 / 2 00:00-24:00\n```", "```\n# -- /etc/nagios/mysite/hosts.cfg\ndefine host{\n **name**             **Generic-Host**\n **register**         **0**\n\n   check_command           check-host-alive\n   max_check_attempts      3\n   check_period            24×7\n   contact_groups          localadmins\n   notification_interval   120\n   notification_period     24×7\n   notification_options    d, u, r, f\n}\n```", "```\nError: Host name is NULL\n```", "```\n# -- /etc/nagios/mysite/hosts.cfg\ndefine host{\n   host_name   linux03\n   **use**  **Generic-Host**\n   alias       Linux File Server\n   address     192.168.0.1\n}\ndefine host{\n   host_name   linux04\n   **use  Generic-Host**\n   alias       Linux Print Server\n   address     192.168.0.2\n}\n```", "```\n# -- /etc/nagios/mysite/services.cfg\ndefine service{\n **host_name**         linux01,linux02,linux04,...\n   service_description   PING\n   ...\n}\n```", "```\n# -- /etc/nagios/mysite/services.cfg\ndefine service{\n **hostgroup_name**    linux-servers,windows-servers\n   service_description   PING\n   ...\n}\n```", "```\n# -- /etc/nagios/mysite/hostgroups.cfg\ndefine hostgroup{\n   hostgroup_name    all-hosts\n **members    ***\n   ...\n}\n```", "```\nnagios@linux:/etc/nagios$ **cp sample/cgi.cfg-sample ./cgi.cfg**\n```", "```\nnagios@linux:/etc/nagios$ **egrep -v '^$|^#' cgi.cfg-sample | less**\nmain_config_file=/etc/nagios/nagios.cfg\nphysical_html_path=/usr/local/nagios/share\nurl_html_path=/nagios\nshow_context_help=0\nuse_authentication=1\n...\n```", "```\nauthorized_for_all_services=nagios\nauthorized_for_all_hosts=nagios\n```", "```\n$USER1$=/usr/local/nagios/libexec\n```", "```\nnagios@linux:~$ **/usr/local/nagios/bin/nagios -v /etc/nagios/nagios.cfg**\nNagios 3.0rc1\nCopyright (c) 1999-2007 Ethan Galstad (http://www.nagios.org)\nLast Modified: 12-17-2007\nLicense: GPL\n\nReading configuration data...\n\nRunning pre-flight check on configuration data...\n\nChecking services...\n         Checked 2092 services.\nChecking hosts...\nWarning: Host 'eli-sw01' has no services associated with it!\n         Checked 183 hosts.\nChecking host groups...\n         Checked 55 host groups.\nChecking service groups...\n         Checked 34 service groups.\nChecking contacts...\n         Checked 59 contacts.\nChecking contact groups...\n         Checked 7 contact groups.\nChecking service escalations...\n         Checked 0 service escalations.\nChecking service dependencies...\n         Checked 24 service dependencies.\nChecking host escalations...\n         Checked 0 host escalations.\nChecking host dependencies...\n         Checked 0 host dependencies.\nChecking service groups...\n         Checked 34 service groups.\nChecking contacts...\n         Checked 59 contacts.\nChecking contact groups...\n         Checked 7 contact groups.\nChecking service escalations...\n         Checked 0 service escalations.\nChecking service dependencies...\n         Checked 24 service dependencies.\nChecking host escalations...\n         Checked 0 host escalations.\nChecking host dependencies...\n         Checked 0 host dependencies.\nChecking commands...\n         Checked 105 commands.\nChecking time periods...\n         Checked 6 time periods.\nChecking for circular paths between hosts...\nChecking for circular host and service dependencies...\nChecking global event handlers...\nChecking obsessive compulsive processor commands...\nChecking misc settings...\nTotal Warnings: 1\nTotal Errors: 0\n\nThings look okay - No serious problems were detected during the pre-flig\nht check\n```", "```\nError: Could not find any host matching 'linux03'\nError: Could not expand hostgroups and/or hosts specified in service\n(config file '/etc/nagios/mysite/services.cfg', starting on line 0)\n\n***> One or more problems was encountered while processing the config files...\n```", "```\nlinux:src/nagios # **make install-init**\n...\n```", "```\nlinux:~ # **/etc/init.d/nagios start**\n```", "```\nlinux:~ # **service nagios start**\n```", "```\nlinux:~ # **/etc/init.d/nagios reload**\n```"]