<html><head></head><body>

<div class="calibre1"><div class="calibre1"><a name="php_5.2.5" class="calibre8" id="php_5.2.5"/>
<div class="calibre24" id="calibre_pb_0"/><h2 id="title-ID0EK5PM" class="docPrefaceTitle">Chapter 20. PHP 5.2.5</h2>
<h4 class="calibre32"><a class="calibre2" target="_blank" href="HTTP://PHP.NET">HTTP://PHP.NET</a></h4>
<a name="summary-id19" class="calibre8" id="summary-id19"/>
<h3 class="docSection1Title" id="-100000">20.1. SUMMARY</h3>
<p class="docText1"><a name="PHP " class="calibre8" id="PHP "/>PHP (PHP: Hypertext Preprocessor) is a server-side scripting language that can be embedded into HTML. It is commonly used to create dynamically generated websites and is the foundation of applications like WordPress (blogging software), MediaWiki (which underlies Wikipedia), and phpBB (a web-based bulletin board system). PHP is also known for its easy integration with relational database management systems. These applications all use a combination of PHP and a relational database system like MySQL.<a name="IDX-CHP-20-0304" class="calibre8" id="IDX-CHP-20-0304"/><a name="IDX-CHP-20-0305" class="calibre8" id="IDX-CHP-20-0305"/><a name="IDX-CHP-20-0306" class="calibre8" id="IDX-CHP-20-0306"/><a name="IDX-CHP-20-0307" class="calibre8" id="IDX-CHP-20-0307"/><a name="IDX-CHP-20-0308" class="calibre8" id="IDX-CHP-20-0308"/><a name="IDX-CHP-20-0309" class="calibre8" id="IDX-CHP-20-0309"/><a name="IDX-CHP-20-0310" class="calibre8" id="IDX-CHP-20-0310"/></p>
<p class="docText1"><a name="executes functions" class="calibre8" id="executes functions"/>Unlike JavaScript, which executes functions in a user's web browser, PHP handles functions on the web server. Websites that use JavaScript must send full blocks of code to clients' web browsers, which can eat up bandwidth, especially with large sites. PHP, on the other hand, executes code on the web server and then sends only the necessary HTML to the client to produce the completed page, thus eliminating the need to send lengthy code to web browsers.</p>
<p class="docText1"><a name="set of" class="calibre8" id="set of"/>PHP began as a small set of Perl scripts written by Rasmus Lerdorf. He used them to monitor traffic to his online resume. In 1995, after adding features, Lerdorf publicly released a tool written in C called PHP/FI (Personal Home Page/Forms Interpreter). In 1997 two Israeli developers, Zeev Suraski and Andi Gutmans, rewrote PHP/FI to accommodate their eCommerce project. This rewrite was released in mid-1998 as PHP 3. That winter, Suraski and Gutmans began another rewrite, this time of PHP's core. The product of this work became the Zend Engine, on which current versions of PHP are based.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="resources-id19" class="calibre8" id="resources-id19"/>
<h3 class="docSection1Title" id="-100000">20.2. RESOURCES</h3>
<p class="docText1"><span class="b"><a name="Official PHP" class="calibre8" id="Official PHP"/>Official PHP Manual</span></p>
<p class="docText1"><a class="calibre2" target="_blank" href="http://us3.php.net/manual/en">http://us3.php.net/manual/en</a></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="required-id19" class="calibre8" id="required-id19"/>
<h3 class="docSection1Title" id="-100000">20.3. REQUIRED</h3>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="FreeBSD " class="calibre8" id="FreeBSD "/> FreeBSD 7.0-RELEASE (see "<a class="calibre2" href="freebsd_7.0_split_000.html#freebsd_7.0">FreeBSD 7.0</a>")</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="collection " class="calibre8" id="collection "/> Updated ports collection (see "<a class="calibre2" href="freebsd_ports_collection.html#freebsd_ports_collection">FreeBSD Ports Collection</a>")</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/> Apache HTTP server (see "<a class="calibre2" href="apache_http_server_2.2.8_split_000.html#apache_http_server_2.2.8">Apache HTTP Server 2.2.8</a>")</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/> Internet connection</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="optional-id10" class="calibre8" id="optional-id10"/>
<h3 class="docSection1Title" id="-100000">20.4. OPTIONAL</h3>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="Lynx " class="calibre8" id="Lynx "/> Lynx (see "<a class="calibre2" href="lynx_2.8.6.html#lynx_2.8.6">Lynx 2.8.6</a><a name="PHP installation" class="calibre8" id="PHP installation"/>") for testing PHP installation from the command line</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="preparation-id19" class="calibre8" id="preparation-id19"/>
<h3 class="docSection1Title" id="-100000">20.5. PREPARATION</h3>
<p class="docText1"><a name="Become the" class="calibre8" id="Become the"/>Become the superuser.<a name="IDX-CHP-20-0311" class="calibre8" id="IDX-CHP-20-0311"/></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="install-id19" class="calibre8" id="install-id19"/>
<h3 class="docSection1Title" id="-100000">20.6. INSTALL</h3>
<p class="docText1"><a name="To begin" class="calibre8" id="To begin"/>To begin the PHP installation process, enter the following commands:</p>
<pre class="calibre30"># <b class="calibre28">cd /usr/ports/lang/php5</b>
# <b class="calibre28">make config ; make install clean</b>
# <b class="calibre28">rehash</b></pre>
<p class="docText1"><a name="will appear" class="calibre8" id="will appear"/>A menu will appear with options for php5. Scroll to APACHE and press [spacebar] to install the Apache module. Leave the other options at their defaults, then press [tab] to select <span class="b">OK</span> and [enter] to begin the install.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="configure-id19" class="calibre8" id="configure-id19"/>
<h3 class="docSection1Title" id="-100000">20.7. CONFIGURE</h3>
<p class="docText1"><a name="Once the" class="calibre8" id="Once the"/>Once the installation is complete, it's time to configure PHP for use on your system.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1">Edit the <span class="docEmphasis1">httpd.conf</span><a name="configure Apache" class="calibre8" id="configure Apache"/> file to configure Apache to work with the PHP module. Open <span class="docEmphasis1">httpd.conf</span>:</p><pre class="calibre30"># <b class="calibre28">ee /usr/local/etc/apache22/httpd.conf</b></pre>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Scroll down to the <tt class="calibre20">DirectoryIndex</tt> declaration (~216) and insert <tt class="calibre20"><b class="calibre28">index.php</b></tt> prior to <tt class="calibre20">index.html</tt> like this:</p><pre class="calibre30">&lt;IfModule dir_module&gt;
    DirectoryIndex <b class="calibre28">index.php</b> index.html
&lt;/IfModule&gt;</pre><br class="calibre1"/>
<p class="docText1"><a name="give priority" class="calibre8" id="give priority"/>This setting directs Apache to give priority to <span class="docEmphasis1">index.php</span> over <span class="docEmphasis1">index.html</span><a name="requested directory" class="calibre8" id="requested directory"/>, if a requested directory contains both files.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="the bottom" class="calibre8" id="the bottom"/>Scroll down to the bottom of <span class="docEmphasis1">httpd.conf</span> and add these lines:</p><pre class="calibre30">AddType application/x-httpd-php .php
AddType application/x-httpd-php-source .phps</pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Save and exit.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Copy the <span class="docEmphasis1">php.ini-recommended</span> file to <span class="docEmphasis1">php.ini</span> in <span class="docEmphasis1">/usr/local/etc</span><a name="for production" class="calibre8" id="for production"/>. This will set the options in PHP recommended for production server environments.</p><pre class="calibre30"># <b class="calibre28">cd /usr/local/etc</b>
# <b class="calibre28">cp php.ini-recommended php.ini</b></pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="tells PHP" class="calibre8" id="tells PHP"/>Specify the PHP session save path. This directive tells PHP where to store temporary session files and is commented off by default. Uncomment the <tt class="calibre20">session.save_path</tt> as follows. First, open <span class="docEmphasis1">php.ini</span>:</p><pre class="calibre30"># <b class="calibre28">ee /usr/local/etc/php.ini</b></pre><br class="calibre1"/>
<p class="docText1">Scroll down to the <tt class="calibre20">session.save_path</tt><a name="after the" class="calibre8" id="after the"/> declaration (~1050) and remove its preceding semicolon. It should appear like this after the edit:</p><pre class="calibre30">session.save_path = "/tmp"</pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Save, exit, and restart Apache:</p><pre class="calibre30"># <b class="calibre28">/usr/local/etc/rc.d/apache22 restart</b></pre><br class="calibre1"/>
</div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="testing-id13" class="calibre8" id="testing-id13"/>
<h3 class="docSection1Title" id="-100000">20.8. TESTING</h3>
<p class="docText1"><a name="To test" class="calibre8" id="To test"/>To test your installation of PHP, we'll use the built-in <tt class="calibre20">phpinfo()</tt><a name="display a" class="calibre8" id="display a"/> function to display a variety of information about your PHP installation. We will create a file named <span class="docEmphasis1">phpinfo.php</span><a name="and enter" class="calibre8" id="and enter"/> in your web server's root directory and enter a single line of PHP code.<a name="IDX-CHP-20-0312" class="calibre8" id="IDX-CHP-20-0312"/></p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1">Create <span class="docEmphasis1">phpinfo.php</span><a name="default data" class="calibre8" id="default data"/> in the Apache's default data directory:</p><pre class="calibre30"># <b class="calibre28">ee /usr/local/www/apache22/data/phpinfo.php</b></pre>
<p class="docText1">and add this line:</p><pre class="calibre30">&lt;?php phpinfo(); ?&gt;</pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Save and exit.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="browser to" class="calibre8" id="browser to"/>Use a web browser to request <span class="docEmphasis1">phpinfo.php</span><a name="command would" class="calibre8" id="command would"/> from your Apache server. If you have Lynx installed, the command would look like this for a webserver with the hostname <a class="calibre2" target="_blank" href="http://host.example.com">host.example.com</a>:</p><pre class="calibre30"># <b class="calibre28">lynx http://</b><span class="docEmphBoldItalic">host.example.com</span><b class="calibre28">/phpinfo.php</b></pre><br class="calibre1"/>
<p class="docText1"><a name="if PHP" class="calibre8" id="if PHP"/>You should see several tables of information if PHP is configured properly. If you see a blank page, either PHP is incorrectly installed or there may be a problem with the <span class="docEmphasis1">phpinfo.php</span> file. (Check for typos and so on.)</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Delete the <span class="docEmphasis1">phpinfo.php</span> file when testing is complete:</p><pre class="calibre30"># <b class="calibre28">rm /usr/local/www/apache22/data/phpinfo.php</b></pre><br class="calibre1"/>
</div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="utilities-id6" class="calibre8" id="utilities-id6"/>
<h3 class="docSection1Title" id="-100000">20.9. UTILITIES</h3>
<p class="docText1"><a name="Following is" class="calibre8" id="Following is"/>Following is brief information on the PHP command-line interface.</p>
<a name="php" class="calibre8" id="php"/>
<h4 id="title-ID0EWBAO" class="docSection1Title">20.9.1. php</h4>
<p class="docText1"><a name="program is" class="calibre8" id="program is"/>The PHP command-line program is useful for testing and development.</p>
<a name="IDX-CHP-20-0313" class="calibre8" id="IDX-CHP-20-0313"/><dl class="docList1">
<dt class="calibre1"><p class="calibre23"><span class="docPubcolor"><span class="b">Command</span></span></p></dt>
<dd class="calibre36"><p class="docText1"><tt class="calibre20">php</tt><a name="IDX-CHP-20-0313" class="calibre8" id="IDX-CHP-20-0313"/></p></dd>
<dt class="calibre1"><br class="calibre1"/><p class="calibre23"><span class="docPubcolor"><span class="b">Syntax</span></span></p></dt>
<dd class="calibre36"><p class="docText1"><tt class="calibre20">php -</tt><tt class="calibre20"><i class="docEmphasis1">options arguments</i></tt></p></dd>
</dl>
<p class="docText1"><span class="b">Options</span></p>
<a name="IDX-CHP-20-0314" class="calibre8" id="IDX-CHP-20-0314"/><dl class="docList1">
<dt class="calibre1"><br class="calibre1"/><p class="calibre23"><span class="docPubcolor"/><pre class="calibre30">-a</pre></p></dt>
<dd class="calibre36"><p class="docText1">Runs PHP in interactive mode</p></dd>
<dt class="calibre1"><br class="calibre1"/><p class="calibre23"><span class="docPubcolor"/><pre class="calibre30">-f</pre></p></dt>
<dd class="calibre36"><p class="docText1">Parses and executes a file</p></dd>
<dt class="calibre1"><br class="calibre1"/><p class="calibre23"><span class="docPubcolor"/><pre class="calibre30">-c</pre></p></dt>
<dd class="calibre36"><p class="docText1"><a name="of the" class="calibre8" id="of the"/>Specifies a configuration file instead of the default <span class="docEmphasis1">php.ini</span><a name="IDX-CHP-20-0314" class="calibre8" id="IDX-CHP-20-0314"/></p></dd>
<dt class="calibre1"><br class="calibre1"/><p class="calibre23"><span class="docPubcolor"/><pre class="calibre30">-v</pre></p></dt>
<dd class="calibre36"><p class="docText1">Displays PHP version</p></dd>
<dt class="calibre1"><br class="calibre1"/><p class="calibre23"><span class="docPubcolor"/><pre class="calibre30">-l</pre></p></dt>
<dd class="calibre36"><p class="docText1"><a name="syntax errors" class="calibre8" id="syntax errors"/>Tests for syntax errors</p></dd>
</dl>
<p class="docText1"><span class="b">Examples</span></p>
<p class="docText1"><a name="in interactive" class="calibre8" id="in interactive"/>To run PHP in interactive mode, enter:</p>
<pre class="calibre30"># <b class="calibre28">php -a</b></pre><br class="calibre1"/>
<p class="docText1">To parse and execute a PHP file named <span class="docEmphasis1">test.php</span><a name="configuration file" class="calibre8" id="configuration file"/> in the current working directory using an alternate configuration file named <span class="docEmphasis1">php-test.ini</span>, enter:</p>
<pre class="calibre30"># <b class="calibre28">php -c php-test.ini -f test.php</b></pre><br class="calibre1"/>
<p class="docText1">To test a file named <span class="docEmphasis1">example.php</span> for syntax errors, enter:</p>
<pre class="calibre30"># <b class="calibre28">php -l -f example.php</b></pre><br class="calibre1"/>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="config_files-id19" class="calibre8" id="config_files-id19"/>
<h3 class="docSection1Title" id="-100000">20.10. CONFIG FILES</h3>
<p class="docText1"><span class="b">/usr/local/etc/php.ini-dist</span></p>
<p class="docText1"><a name="Contains options" class="calibre8" id="Contains options"/>Contains options suited for developers</p>
<p class="docText1"><span class="b">/usr/local/etc/php.ini-recommended</span></p>
<p class="docText1"><a name="better suited" class="calibre8" id="better suited"/>Contains options better suited for production server environments</p>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> The configuration file that you choose to use must be renamed <span class="docEmphasis1">php.ini</span> and reside in the <span class="docEmphasis1">/usr/local/etc</span> directory.</span><hr size="1" noshade="noshade" class="calibre27"/>
</div></div>

</body></html>