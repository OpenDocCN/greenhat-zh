- en: Appendix B. Installing MySQL for Ruby on Rails
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages860138.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: If you are working with Rails, you will need to install a database. Although
    quite a few choices are available to you, one of the most widely used is MySQL.
    If you’ve never used MySQL before, you may find some of the setup options confusing.
    Here, I’ll try to guide you through the process to avoid potential problems. The
    MySQL main site is at [http://www.mysql.com/](http://www.mysql.com/), where you
    can navigate to the download page for various versions.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This appendix is based on an installation of MySQL 5.0 under Windows. There
    may be differences when installing other versions on other operating systems.
    Refer to the MySQL site for additional guidance.
  prefs: []
  type: TYPE_NORMAL
- en: Downloading MySQL
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I will assume you will be using the free edition of MySQL. This is available
    for download from [http://dev.mysql.com/downloads/](http://dev.mysql.com/downloads/).
    The current version, at the time of writing, is MySQL 5 Community Server. The
    name and version number will, of course, change over time. Download whichever
    is the current (not an upcoming, alpha, or beta) release. Choose the specific
    version recommended for your operating system (there may be different versions
    for Win32 and Win64, for example).
  prefs: []
  type: TYPE_NORMAL
- en: You will need to locate the installer for your operating system. For Windows,
    you can download either the complete MySQL package or, if available, the smaller
    Windows Essentials package. The complete package contains extra tools for database
    developers, but these are not required for simple Rails development. For most
    people, therefore, the smaller Windows Essentials download file is the one to
    get. You may be asked to select a mirror site, and you may also be shown a questionnaire,
    which you can fill out if you want.
  prefs: []
  type: TYPE_NORMAL
- en: Installing MySQL
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once the download has completed, run the program by selecting **Open** or **Run**
    in the download dialog if this is still visible or by double-clicking the installation
    file via, for example, the Windows Explorer.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: During the installation of MySQL, some advertising screens may appear. Click
    the buttons to move through the screens. Some security warnings may also prompt
    you to verify your intention to install the software. When prompted, you should
    click the necessary options to continue with the installation.
  prefs: []
  type: TYPE_NORMAL
- en: The first page of the Setup Wizard will now appear. Click the **Next** button.
    You can either leave the Typical setup option selected if you are happy to install
    the software into the default MySQL directory—on Windows that’s beneath *C:\Program
    Files\*. If you want to install to some other directory, however, select **Custom**.
    Then click **Next**. Click **Change** to change the directory.
  prefs: []
  type: TYPE_NORMAL
- en: When you are ready to move on, click **Next**.
  prefs: []
  type: TYPE_NORMAL
- en: You will see the screen stating “Ready To Install the Program.” Verify that
    the destination folder is correct, and then click the **Install** button.
  prefs: []
  type: TYPE_NORMAL
- en: Depending on the version of MySQL, you may now be shown some promotional screens,
    or you may be prompted to create a new MySQL account, which will let you receive
    news of changes and updates. These are not an essential part of the software installation,
    and you can click the Next or Skip button to move on through the installation.
  prefs: []
  type: TYPE_NORMAL
- en: The Wizard Completed dialog now appears.
  prefs: []
  type: TYPE_NORMAL
- en: Click the **Finish** button.
  prefs: []
  type: TYPE_NORMAL
- en: Configuring MySQL
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In fact, this isn’t the end of the installation after all. With some installers,
    a new screen pops up welcoming you to the MySQL Server Instance Configuration
    Wizard. If this does not occur, you will need to load this yourself. On Windows,
    click the **Start** menu, and then navigate through your program groups to **MySQL
    ▸ MySQL Server 5.0** (or whichever version number you are using) ▸ **MySQL Server
    Instance Config Wizard**. Click **Next**.
  prefs: []
  type: TYPE_NORMAL
- en: Assuming that this is the first time you have installed MySQL on this machine,
    you can select **Standard Configuration** (if you are upgrading from an older
    version of MySQL, you need to select Detailed Configuration, but that is beyond
    the scope of this simple setup guide). Click **Next**. In the next dialog, leave
    the default options selected (that is, Install As Windows Service, Service Name
    = ‘MySQL’, and Launch the MySQL Server automatically). Then click **Next**.
  prefs: []
  type: TYPE_NORMAL
- en: On the next screen, leave Modify Security Settings checked, and enter the same
    password (of your choice) into the first two text fields. You will need this password
    later, so remember it or write it down in a secure location. If you need to access
    MySQL from another computer, you can check “Enable root access from remote machines.”
    Then click **Next**.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The default MySQL username is “root.” The password is the one you just entered.
    You will need both of these items of information later when creating Rails applications.
  prefs: []
  type: TYPE_NORMAL
- en: The next screen just gives you some information about the tasks that are about
    to be performed. Click the **Execute** button.
  prefs: []
  type: TYPE_NORMAL
- en: If you have previously installed or configured MySQL, you may see an error message
    that tells you to skip the installation. You can click **Retry** to see whether
    you can bypass this problem. If not, click **Skip**, and then restart the MySQL
    configuration process, selecting Reconfigure Instance and Standard Instance when
    prompted.
  prefs: []
  type: TYPE_NORMAL
- en: When everything is installed, click **Finish**.
  prefs: []
  type: TYPE_NORMAL
- en: And that’s it!
  prefs: []
  type: TYPE_NORMAL
- en: Can’t Find the Database?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'When using MySQL with Rails, even following a successful installation of MySQL,
    Rails may display an error message similar to the following when you try to run
    your application:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Some versions of Rails (Rails 2.2 and newer) require that the MySQL gem be
    installed as a separate operation. To do this, enter the following at the system
    prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Another problem may arise on Windows. When you run your application, it is
    possible that you will see an error message similar to this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: If you encounter this problem, you should be able to fix it by making a copy
    of a file called *libmySQL.dll* from your MySQL binary directory (for example,
    *C:\Program Files\MySQL\MySQL Server 5.0\bin*) into the Ruby binary directory
    (for example, *C:\ruby\bin*). Restart your application (shut down and restart
    the server), and then try running it again.
  prefs: []
  type: TYPE_NORMAL
