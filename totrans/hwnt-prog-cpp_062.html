<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_68">
<a name="ch04" class="calibre6" id="ch04"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="70" class="calibre16" id="70"/><a name="ch04lev1sec34" class="calibre16" id="ch04lev1sec34"/><span class="chapter-titlelabel">Program 60: </span>Grandson of Weird Names</h2><p class="b24-bookeditorial">So we've fixed our program again and now are using C++ strings. But things still don't work right. Why?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 #include &lt;iostream&gt;
  2 #include &lt;string&gt;
  3
  4 /************************************************
  5  * tmp_name -- return a temporary file name     *
  6  *                                              *
  7  * Each time this function is called, a new     *
  8  * name will be returned.                       *
  9  *                                              *
 10  * Returns *
 11  *      String containing the name.             *
 12  ************************************************/
 13 std::string &amp;tmp_name()
 14 {
 15     // The name we are generating
 16     std::string name;
 17
 18     // Sequence number for last digit
 19     static int sequence = 0;
 20
 21     ++sequence; // Move to the next file name
 22
 23     name = "tmp";
 24
 25     // Put in the squence digit
 26     name += static_cast&lt;char&gt;(sequence + '0');
 27
 28     return(name);
 29 }
 30
 31 int main()
 32 {
 33     std::string name1 = tmp_name();
 34
 35     std::cout &lt;&lt;"Name1: " &lt;&lt; name1 &lt;&lt; '\n';
 36     return(0);
 37 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#497" target="_parent" class="calibre2">Hint 361</a>. <a href="LiB0121.html#534" target="_parent" class="calibre2">Answer 36</a>.)</p>
</div>
</div>



</body></html>