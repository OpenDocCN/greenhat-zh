- en: Introduction
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 引言
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages854059.png.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图片](http://atomoreilly.com/source/nostarch/images/854059.png.jpg)'
- en: Writing a book about IDA Pro is a challenging task. The fact that it is a complex
    piece of software with more features than can even be mentioned, let alone detailed
    in a book of reasonable size, is the least of the difficulties. New releases of
    IDA also tend to occur frequently enough that any book will almost certainly be
    one, if not two, versions behind by the time it hits the streets. Including version
    5.3, which was released just as the first edition was going to press, seven new
    versions of IDA have been released since the first edition was published. The
    release of version 6.0 with a new, Qt-based graphical user interface motivated
    me to update the book and address many of the features that have been introduced
    in the interim. Of course, true to form, another version of IDA (6.1) was released
    late in the process just to make things more exciting.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 撰写一本关于IDA Pro的书是一项具有挑战性的任务。它是一个复杂的软件，功能众多，甚至无法在合理大小的书中详细说明，这是最基本的问题。IDA的新版本也倾向于频繁发布，以至于任何一本书在上市时几乎都会落后一个版本，甚至两个版本。包括在第一版即将付印时发布的5.3版本，自第一版出版以来，已经发布了七个新的IDA版本。6.0版本的发布，它引入了一个基于Qt的新图形用户界面，激发了我更新这本书并解决在中间期间引入的许多新功能。当然，一如既往，在后期又发布了另一个IDA版本（6.1），这只是为了使事情更加有趣。
- en: My goal with this edition remains to help others get started with IDA and perhaps
    develop an interest in reverse engineering in general. For anyone looking to get
    into the reverse engineering field, I can’t stress how important it is that you
    develop competent programming skills. Ideally, you should love code, perhaps going
    so far as to eat, sleep, and breathe code. If programming intimidates you, then
    reverse engineering is probably not for you. It is possible to argue that reverse
    engineering requires no programming at all because all you are doing is taking
    apart someone else’s program; however, without committing to developing scripts
    and plug-ins to help automate your work, you will never become a truly effective
    reverse engineer. In my case, programming and reverse engineering substitute for
    the challenge of *The New York Times* Sunday crossword puzzle, so it is rarely
    tedious.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我在这版中的目标依然是帮助他人开始使用IDA，并可能对逆向工程产生兴趣。对于任何想要进入逆向工程领域的人来说，我无法强调培养编程技能的重要性。理想情况下，你应该热爱代码，甚至可能达到吃、睡、呼吸代码的程度。如果你觉得编程令人生畏，那么逆向工程可能不适合你。有人可能会争论说逆向工程根本不需要编程，因为你所做的一切只是拆解别人的程序；然而，如果不致力于开发脚本和插件来自动化你的工作，你将永远无法成为一个真正有效的逆向工程师。在我的情况下，编程和逆向工程替代了《纽约时报》周日填字游戏的挑战，因此很少感到乏味。
- en: For continuity purposes, this edition preserves the overall structure of the
    first edition while elaborating and adding material where appropriate. There are
    a number of ways to read this book. Users with little reverse engineering background
    may wish to begin with [Chapter 1](ch01.html "Chapter 1. Introduction to Disassembly")
    and [Chapter 2](ch02.html "Chapter 2. Reversing and Disassembly Tools") for some
    background information on reverse engineering and disassemblers. Users without
    much IDA experience who are looking to dive right in can begin with [Chapter 3](ch03.html
    "Chapter 3. IDA Pro Background"), which discusses the basic layout of an IDA installation,
    while [Chapter 4](ch04.html "Chapter 4. Getting Started with IDA") covers what
    goes on when you launch IDA and load a file for analysis. [Chapter 5](ch05.html
    "Chapter 5. IDA Data Displays") through [Chapter 7](ch07.html "Chapter 7. Disassembly
    Manipulation") discuss IDA’s user interface features and basic capabilities.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 为了保持连贯性，这一版保留了第一版的整体结构，并在适当的地方进行了详细阐述和添加了材料。阅读这本书有几种方式。对逆向工程背景知识了解不多的用户可能希望从[第1章](ch01.html
    "第1章. 汇编简介")和[第2章](ch02.html "第2章. 逆向工程和反汇编工具")开始，以获取一些关于逆向工程和反汇编器的背景信息。没有太多IDA经验的用户，如果想要直接开始，可以从[第3章](ch03.html
    "第3章. IDA Pro 简介")开始，该章节讨论了IDA安装的基本布局，而[第4章](ch04.html "第4章. 开始使用IDA")则涵盖了当你启动IDA并加载文件进行分析时会发生什么。[第5章](ch05.html
    "第5章. IDA数据显示")到[第7章](ch07.html "第7章. 反汇编操作")讨论了IDA的用户界面功能和基本能力。
- en: Readers possessing some familiarity with IDA may wish to begin with [Chapter 8](ch08.html
    "Chapter 8. Datatypes and Data Structures"), which discusses how to use IDA to
    deal with complex data structures, including C++ classes. [Chapter 9](ch09.html
    "Chapter 9. Cross-References and Graphing"), in turn, covers IDA cross-references,
    which are the foundation for IDA’s graph-based displays (also covered in [Chapter 9](ch09.html
    "Chapter 9. Cross-References and Graphing")). [Chapter 10](ch10.html "Chapter 10. The
    Many Faces of IDA") provides a bit of a diversion useful for readers interested
    in running IDA on non-Windows platforms (Linux or OS X).
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 对IDA有一定了解的读者可能希望从[第8章](ch08.html "第8章。数据类型和数据结构")开始，该章节讨论了如何使用IDA处理复杂的数据结构，包括C++类。[第9章](ch09.html
    "第9章。交叉引用和绘图")接着介绍了IDA的交叉引用，这是IDA基于图形显示的基础（也在[第9章](ch09.html "第9章。交叉引用和绘图")中介绍）。[第10章](ch10.html
    "第10章。IDA的多种面貌")为对在非Windows平台（Linux或OS X）上运行IDA感兴趣的读者提供了一些有用的信息。
- en: More advanced IDA users may find [Chapter 11](ch11.html "Chapter 11. Customizing
    IDA") through [Chapter 14](ch14.html "Chapter 14. Patching Binaries and Other
    IDA Limitations") a good place to start, because they cover some of the fringe
    uses of IDA and its companion tools. A brief run-through of some of IDA’s configuration
    options is presented in [Chapter 11](ch11.html "Chapter 11. Customizing IDA").
    [Chapter 12](ch12.html "Chapter 12. Library Recognition Using FLIRT Signatures")
    covers IDA’s FLIRT/FLAIR technology and related tools that are used to develop
    and utilize signatures to distinguish library code from application code. [Chapter 13](ch13.html
    "Chapter 13. Extending IDA’s Knowledge") offers some insight into IDA type libraries
    and ways to extend them, while [Chapter 14](ch14.html "Chapter 14. Patching Binaries
    and Other IDA Limitations") addresses the much-asked question of whether IDA can
    be used to patch binary files.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 对于更高级的IDA用户来说，从[第11章](ch11.html "第11章。定制IDA")到[第14章](ch14.html "第14章。修补二进制文件和其他IDA限制")可能是一个好的起点，因为它们涵盖了IDA及其配套工具的一些边缘用途。第[11章](ch11.html
    "第11章。定制IDA")简要介绍了IDA的一些配置选项。[第12章](ch12.html "第12章。使用FLIRT签名识别库")涵盖了IDA的FLIRT/FLAIR技术和相关的工具，这些工具用于开发和利用签名来区分库代码和应用代码。[第13章](ch13.html
    "第13章。扩展IDA的知识")提供了一些关于IDA类型库及其扩展方式的见解，而[第14章](ch14.html "第14章。修补二进制文件和其他IDA限制")则回答了是否可以使用IDA来修补二进制文件这一常被询问的问题。
- en: IDA is a quite capable tool right out of the box; however, one of its greatest
    strengths is its extensibility, which users have taken advantage of to make IDA
    do some very interesting things over the years. IDA’s extensibility features are
    covered in [Chapter 15](ch15.html "Chapter 15. IDA Scripting") through [Chapter 19](ch19.html
    "Chapter 19. IDA Processor Modules"), which begin with coverage of IDA’s scripting
    features, including increased coverage of IDAPython, and follow with a systematic
    walk through IDA’s programming API, as provided by its software development kit
    (SDK). [Chapter 16](ch16.html "Chapter 16. The IDA Software Development Kit")
    provides an overview of the SDK, while [Chapter 17](ch17.html "Chapter 17. The
    IDA Plug-in Architecture") through [Chapter 19](ch19.html "Chapter 19. IDA Processor
    Modules") walk you through plug-ins, file loaders, and processor modules.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: IDA是一个功能强大的工具，直接使用即可；然而，其最大的优势之一是其可扩展性，用户已经利用这一点在多年中让IDA做一些非常有趣的事情。IDA的可扩展性功能在[第15章](ch15.html
    "第15章。IDA脚本")到[第19章](ch19.html "第19章。IDA处理器模块")中有所介绍，这些章节从IDA的脚本功能开始，包括对IDAPython的更多覆盖，然后系统地介绍了IDA的编程API，这些API由其软件开发工具包（SDK）提供。[第16章](ch16.html
    "第16章。IDA软件开发工具包")概述了SDK，而[第17章](ch17.html "第17章。IDA插件架构")到[第19章](ch19.html "第19章。IDA处理器模块")则指导你了解插件、文件加载器和处理器模块。
- en: With the bulk of IDA’s capabilities covered, [Chapter 20](ch20.html "Chapter 20. Compiler
    Personalities") through [Chapter 23](ch23.html "Chapter 23. Real-World IDA Plug-ins")
    turn to more practical uses of IDA for reverse engineering by examining how compilers
    differ ([Chapter 20](ch20.html "Chapter 20. Compiler Personalities")); how IDA
    may be used to analyze obfuscated code, as is often encountered when analyzing
    malware ([Chapter 21](ch21.html "Chapter 21. Obfuscated Code Analysis")); and
    how IDA may be used in the vulnerability discovery and analysis process ([Chapter 22](ch22.html
    "Chapter 22. Vulnerability Analysis")). [Chapter 23](ch23.html "Chapter 23. Real-World
    IDA Plug-ins") concludes the section by presenting some useful IDA extensions
    (plug-ins) that have been published over the years.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在覆盖了IDA的大部分功能之后，从[第20章](ch20.html "第20章. 编译器特性")到[第23章](ch23.html "第23章. 实际应用中的IDA插件")转向了IDA在逆向工程中的更多实际应用，通过考察编译器的差异([第20章](ch20.html
    "第20章. 编译器特性")); 如何使用IDA分析混淆代码，这在分析恶意软件时经常遇到([第21章](ch21.html "第21章. 混淆代码分析"));
    以及IDA在漏洞发现和分析过程中的应用([第22章](ch22.html "第22章. 漏洞分析")). [第23章](ch23.html "第23章. 实际应用中的IDA插件")通过展示多年来发布的一些有用的IDA扩展（插件）来结束这一部分。
- en: The book concludes with expanded coverage of IDA’s built-in debugger in [Chapter 24](ch24.html
    "Chapter 24. The IDA Debugger") through [Chapter 26](ch26.html "Chapter 26. Additional
    Debugger Features"). [Chapter 24](ch24.html "Chapter 24. The IDA Debugger") begins
    by introducing the basic features of the debugger. [Chapter 25](ch25.html "Chapter 25. Disassembler/Debugger
    Integration") discusses some of the challenges of using the debugger to examine
    obfuscated code, including the challenge of dealing with any anti-debugging feature
    that may be present. [Chapter 26](ch26.html "Chapter 26. Additional Debugger Features")
    concludes the book with a discussion of IDA’s remote debugging capabilities and
    the use of the Bochs emulator as an integrated debugging platform.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本书以对IDA内置调试器的扩展覆盖结束，从[第24章](ch24.html "第24章. IDA调试器")到[第26章](ch26.html "第26章.
    调试器附加功能"). [第24章](ch24.html "第24章. IDA调试器")首先介绍了调试器的基本功能。[第25章](ch25.html "第25章.
    反汇编器/调试器集成")讨论了使用调试器检查混淆代码的一些挑战，包括处理可能存在的任何反调试功能的挑战。[第26章](ch26.html "第26章. 调试器附加功能")通过讨论IDA的远程调试能力和使用Bochs仿真器作为集成调试平台来结束本书。
- en: At the time of this writing, IDA version 6.1 was the most current version available,
    and the book is written largely from a 6.1 perspective. Hex-Rays is generous enough
    to make an older version of IDA available for free; the freeware version of IDA
    is a reduced-functionality version of IDA 5.0\. While many of the IDA features
    discussed in the book apply to the freeware version as well, [Appendix A](apa.html
    "Appendix A. Using IDA Freeware 5.0") provides a brief rundown of some of the
    differences a user of the freeware version can expect to encounter.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本书时，IDA 6.1版是最新的版本，本书主要基于6.1版编写。Hex-Rays足够慷慨，免费提供旧版本的IDA；IDA的免费版是IDA 5.0的简化功能版本。虽然本书中讨论的许多IDA功能也适用于免费版，但[附录A](apa.html
    "附录A. 使用IDA免费版5.0")简要概述了免费版用户可能会遇到的一些差异。
- en: Finally, since it is a somewhat natural progression to begin with IDA scripting
    and move on to creating compiled plug-ins, [Appendix B](apb.html "Appendix B. IDC/SDK
    Cross-Reference") provides a complete mapping of every IDC function to its corresponding
    SDK counterparts. In some cases you will find a one-to-one correspondence between
    an IDC function and an SDK function (though in all cases the names of those functions
    are different); in other cases, you will find that several SDK function calls
    are required to implement a single IDC function. The intent of [Appendix B](apb.html
    "Appendix B. IDC/SDK Cross-Reference") is to answer questions along the lines
    of “I know how to do *X* in IDC, how can I do *X* with a plug-in?” The information
    in [Appendix B](apb.html "Appendix B. IDC/SDK Cross-Reference") was obtained by
    reverse engineering the IDA kernel, which is perfectly legal under IDA’s atypical
    licensing agreement.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，由于从IDA脚本开始并逐步过渡到创建编译插件是一种相当自然的进展，[附录B](apb.html "附录B. IDC/SDK交叉引用")提供了每个IDC函数与其对应的SDK对应函数的完整映射。在某些情况下，你会在IDC函数和SDK函数之间找到一个一对一的对应关系（尽管在所有情况下这些函数的名称都不同）；在其他情况下，你会发现需要多个SDK函数调用才能实现单个IDC函数。[附录B](apb.html
    "附录B. IDC/SDK交叉引用")的目的是回答类似“我知道如何在IDC中做*X*，我该如何通过插件来做*X*？”的问题。[附录B](apb.html "附录B.
    IDC/SDK交叉引用")中的信息是通过逆向工程IDA内核获得的，这在IDA的非典型许可协议下是完全合法的。
- en: Throughout the book, I have tried to avoid long sequences of code in favor of
    short sequences that demonstrate specific points. The vast majority of sample
    code, along with many of the binary files used to generate examples, is available
    on the book’s official website, [http://www.idabook.com/](http://www.idabook.com/),
    where you will also find additional examples not included in the book as well
    as a comprehensive list of references used throughout the book (such as live links
    to all URLs referred in footnotes).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，我尽量避免了长序列的代码，而是选择短序列来展示特定的点。绝大多数示例代码，以及用于生成示例的许多二进制文件，都可以在本书的官方网站[http://www.idabook.com/](http://www.idabook.com/)上找到，在那里你还可以找到书中未包含的额外示例以及书中使用的全面参考文献列表（例如，所有脚注中提到的所有URL的实时链接）。
