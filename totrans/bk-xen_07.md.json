["```\n# xm dmesg | grep scheduler\n(XEN) Using scheduler: SMP Credit Scheduler (credit)\n```", "```\n# xm vcpu-list horatio\nName                             ID VCPUs   CPU State   Time(s) CPU Affinity\nhoratio                          16     0     0   ---  140005.6 any cpu\nhoratio                          16     1     2   r--  139968.3 any cpu\n```", "```\n# xm vcpu-pin horatio 0 2\n# xm vcpu-pin horatio 1 0\n```", "```\nvcpus=2\ncpus=[0,2]\n```", "```\n# xm sched-credit -d horatio\n{'cap': 0, 'weight': 256}\n```", "```\n# xm sched-credit -d horatio -w 512\n# xm sched-credit -d horatio\n{'cap': 0, 'weight': 512}\n```", "```\n# xm sched-credit -d domain -c cap\n```", "```\n# tc qdisc add dev osric root tbf rate 1mbit latency 50ms peakrate 2mbit maxburst 40MB\n```", "```\n# echo 1 > /proc/sys/net/bridge/bridge-nf-call-iptables\n```", "```\n# iptables -t mangle -A FORWARD -m physdev --physdev-in baldr -j MARK --set-mark 5\n```", "```\n# tc qdisc add dev peth0 root handle 1: htb default 12\n```", "```\n# tc class add dev peth0 parent 1: classid 1:1 htb rate 100mbit\n# tc class add dev peth0 parent 1:1 classid 1:2 htb rate 1mbit\n```", "```\n# tc filter add dev peth0 protocol ip parent 1:0 prio 1 handle 5 fw flowid 1:2\n```", "```\n# ionice -p <PID> -c <class> -n <priority within class>\n```", "```\n# cat /sys/block/[sh]d[a-z]*/queue/scheduler\nnoop anticipatory deadline [cfq]\nnoop anticipatory deadline [cfq]\n```", "```\n# ps aux | grep tapdisk\nroot      1054   0.5   0.0   13588   556   ?   Sl   05:45   0:10   tapdisk \n/dev/xen/tapctrlwrite1 /dev/xen/tapctrlread1\nroot      1172   0.6   0.0   13592   560   ?   Sl   05:45   0:10   tapdisk \n/dev/xen/tapctrlwrite2 /dev/xen/tapctrlread2\n```", "```\n# ionice -p 1054 -c 2 -n 7\n# ionice -p 1172 -c 2 -n 0\n```", "```\nprio 7 domU tmp # /usr/bin/time -v  bonnie++  -u 1 && dd if=/dev/urandom of=load\nprio 0 domU tmp # /usr/bin/time -v  bonnie++  -u 1 && dd if=/dev/urandom of=load\n```", "```\n#!/usr/bin/perl\nmy @disks,@stores,@files,@lvs;\n\n$domain=$ARGV[0];\n\nmy $destdir=\"/var/backup/xen/${domain}/\";\nsystem \"mkdir -p $destdir\";\n\nopen (FILE, \"/etc/xen/$domain\") ;\nwhile (<FILE>) {\n        if(m/^disk/) {\n                s/.*\\[\\s+([^\\]]+)\\s*\\].*/\\1/;\n                @disks = split(/[,]/);\n\n                # discard elements without a :, since they can't be\n                # backing store specifiers\n                while($disks[$n]) {\n                        $disks[$n] =~ s/['\"]//g;\n                        push(@stores,\"$disks[$n]\") if(\"$disks[$n]\"=~ m/:/);\n                        $n++;\n                }\n                $n=0;\n\n                # split on : and take only the last field if the first\n                # is a recognized device specifier.\n                while($stores[$n]) {\n                        @tmp = split(/:/, $stores[$n]);\n                        if(($tmp[0] =~ m/file/i) || ($tmp[0] =~ m/tap/i)) {\n                                push(@files, $tmp[$#tmp]);\n                        }\n                        elsif($tmp[0] =~ m/phy/i) {\n                                push(@lvs, $tmp[$#tmp]);\n                        }\n                        $n++;\n                }\n        }\n}\nclose FILE;\n\nprint \"xm save $domain $destdir/${domain}.xmsave\\n\";\nsystem (\"xm save $domain $destdir/${domain}.xmsave\");\n\nforeach(@files) {\n    print \"copying $_\";\n        system(\"cp $_ ${destdir}\") ;\n}\n\nforeach $lv (@lvs) {\n        system(\"lvcreate --size 1024m --snapshot --name ${lv}_snap $lv\");\n}\n\nsystem (\"xm restore $destdir/${domain}.xmsave && gzip $destdir/${domain}.xmsave\");\nforeach $lv (@lvs) {\n    $lvfile=$lv;\n    $lvfile=~s/\\//_/g;\n    print \"backing up $lv\";\n        system(\"dd if=${lv}_snap | gzip -c > $destdir/${lvfile}.gz\" ) ;\n        system(\"lvremove ${lv}_snap\" );\n}\n```", "```\n<username> ALL=NOPASSWD:/usr/sbin/xm console <vm name>\n```", "```\nno-agent-forwarding,no-X11-forwarding,no-port-forwarding,command=\"sudo xm\nconsole <vm name>\" ssh-rsa <key> [comment]\n```", "```\n#!/bin/bash\nDOM=\"$1\"\ncat << EOF\n`sudo /usr/sbin/xm list $DOM`\n\nOptions for $DOM\n1\\. console\n2\\. create/start\n3\\. shutdown\n4\\. destroy/hard shutdown\n5\\. reboot\n6\\. exit\nEOF\nprintf \"> \"\nread X\ncase \"$X\" in\n*1*) sudo /usr/sbin/xm console \"$DOM\" ;;\n*2*) sudo /usr/sbin/xm create -c \"$DOM\" ;;\n*3*) sudo /usr/sbin/xm shutdown \"$DOM\" ;;\n*4*) sudo /usr/sbin/xm destroy \"$DOM\" ;;\n*5*) sudo /usr/sbin/xm reboot \"$DOM\" ;;\nesac\n```", "```\nkernel = \"/usr/lib/xen/boot/pv-grub-x86_64.gz\"\nextra = \"(hd0,0)/boot/grub/menu.lst\"\ndisk = ['phy:/dev/denmark/horatio,xvda,w','phy:/dev/denmark/rescue,xvde,r']\n```", "```\nkernel = \"/usr/lib/xen/boot/pv-grub-x86_64.gz\"\nextra = \"(hd1,0)/boot/grub/menu.lst\"\ndisk = ['phy:/dev/denmark/horatio,xvda,w','phy:/dev/denmark/rescue,xvde,r']\n```", "```\ndefault=0\ntimeout=5\n\ntitle Xen domain boot\n        root (hd1)\n        kernel /boot/pv-grub-x86_64.gz (hd0,0)/boot/grub/menu.lst\n\ntitle CentOS-rescue (2.6.18-53.1.14.el5xen)\n        root (hd1)\n        kernel /boot/vmlinuz-2.6.18-53.1.14.el5xen ro root=LABEL=RESCUE\n        initrd /boot/initrd-2.6.18-53.1.14.el5xen.img\n\ntitle CentOS installer\n        root (hd1)\n        kernel /boot/centos-5.1-installer-vmlinuz\n        initrd /boot/centos-5.1-installer-initrd.img\n\ntitle NetBSD installer\n        root (hd1)\n        kernel  /boot/netbsd-INSTALL_XEN3_DOMU.gz\n```", "```\ndefault=0\ntimeout=5\n\ntitle CentOS (2.6.18-92.1.6.el5xen)\n        root (hd0,0)\n        kernel /boot/vmlinuz-2.6.18-92.1.6.el5xen console=xvc0\nroot=LABEL=PRGMRDISK1 ro\n        initrd /boot/initrd-2.6.18-92.1.6.el5xen.img\n```", "```\nbootloader = \"/usr/bin/pygrub\"\n```", "```\nbootloader = \"/usr/bin/pygrub\"\n\nmemory = 512\nname = \"lsc\"\nvif = [ 'vifname=lsc,ip=38.99.2.47,mac=aa:00:00:50:20:2f,bridge=xenbr0' ]\n\ndisk = [\n        'phy:/dev/verona/lsc_boot,sda,w',\n        'phy:/dev/verona_left/lsc,sdb,w',\n        'phy:/dev/verona_right/lsc,sdc,w',\n        'file://var/images/centos_ro_rescue.img,sdd,r'\n]\n```", "```\ndefault=0\ntimeout=15\n\ntitle centos\n        root (hd0,0)\n        kernel /boot/vmlinuz-2.6.18-53.1.6.el5xen console=xvc0 root=/dev/sdb ro\n        initrd /boot/initrd-2.6.18-53.1.6.el5xen.XenU.img\n\ntitle generic kernels\n        root (hd0,0)\n        kernel /boot/vmlinuz-2.6-xen root=/dev/sdb\n        module /boot/initrd-2.6-xen\n\ntitle rescue-disk\n        root (hd0,0)\n        kernel /boot/vmlinuz-2.6.18-53.1.6.el5xen console=xvc0 root=LABEL=RESCUE\n\nro\n        initrd /boot/initrd-2.6.18-53.1.6.el5xen.XenU.img \n```", "```\n# losetup /dev/loop1 claudius.img\n```", "```\n# fdisk /dev/loop1\n```", "```\n# kpartx -av /dev/loop1\n```", "```\n# mke2fs /dev/mapper/loop1p1\n# mke2fs -j /dev/mapper/loop1p2\n\n# mount /dev/mapper/loop1p2 /mnt\n# mount /dev/mapper/loop1p1 /mnt/boot\n```"]