- en: Chapter 7. WI-FI FOR LINUX AND UNIX
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![WI-FI FOR LINUX AND UNIX](tagoreillycom20090210nostarchimages255004.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Wi-Fi networking is not limited to computers that use a Windows operating system.
    Computers running Linux, Unix, and Mac OS X can all support Wi-Fi, if you can
    find the driver software for your network adapter. A TCP/IP network doesn't care
    what kind of operating system the computers connected to the network are using.
    It's just receiving bits and bytes from a computer port and moving them around.
    All of the most popular versions and distributions of both Linux and Unix (including
    Mac OS X) include wireless networking configuration and control tools that perform
    the same functions as the Windows utilities described in [Chapter 6](ch06.html
    "Chapter 6. WI-FI FOR WINDOWS"). This chapter contains information about connecting
    your Unix- and Linux-based computer to a Wi-Fi network, and it describes some
    utilities and other tools that can make things easier.
  prefs: []
  type: TYPE_NORMAL
- en: If you're not already using Unix or Linux, connecting to a wireless network
    is not a good enough reason to start. There are some Linux and Unix tools for
    measuring the performance of a Wi-Fi network and for cracking wireless encryption
    that aren't available for Windows, but unless you're a network manager, you probably
    don't have any real need for them.
  prefs: []
  type: TYPE_NORMAL
- en: This chapter is written for Unix and Linux users who already have enough experience
    to set up and use one of those operating systems on a laptop or desktop computer.
    If you need more help using your Unix or Linux clients, you should ask for help
    from your neighborhood guru or find a more general how to use Linux or Unix book,
    such as *Ubuntu for Non-Geeks, 2nd Edition* by Rickford Grant (2007, No Starch
    Press) or *Absolute FreeBSD, 2nd Edition* by Michael W. Lucas (2008, No Starch
    Press).
  prefs: []
  type: TYPE_NORMAL
- en: Many Linux and Unix distributions for desktop and laptop computers (rather than
    servers), including Ubuntu, openSUSE, and PC-BSD (among others) include drivers
    and control software that support many common Wi-Fi adapters, so a computer running
    one of those distributions will probably detect and connect to a nearby wireless
    signal automatically. If you're using one of those distributions with a supported
    adapter, you can just turn on the computer, plug in the adapter, and go. But if
    your distribution doesn't include Wi-Fi drivers and utilities, or if you have
    a less common adapter, you'll have to find the driver and control software separately.
    You can find pointers to many sources for those drivers later in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: If you're not satisfied with the Wi-Fi control program supplied with your Linux
    or Unix distribution, or if your distribution doesn't include a Wi-Fi program,
    you can choose from several other Wi-Fi control programs that perform the same
    actions as the built-in control programs but present them differently. There's
    a list of these programs later in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*If you''re operating a Unix or Linux network server, it''s better to locate
    the server in the same room and use Ethernet cables to connect the server to the
    network router, instead of wireless links. As a general rule, Wi-Fi is not the
    best way to connect a server to a LAN because the data transfer speed of a Wi-Fi
    link is almost always slower and more susceptible to interference than a wired
    connection*.'
  prefs: []
  type: TYPE_NORMAL
- en: Drivers, Back Seat and Otherwise
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we go any deeper into connecting devices to wireless networks, let's
    take some time to review exactly what a driver does and why drivers are important.
    Later in this chapter, you can find advice about finding the right drivers for
    different kinds of wireless network adapters and how to use them to connect Unix
    and Linux computers to a wireless network.
  prefs: []
  type: TYPE_NORMAL
- en: A device driver is the software interface between a computer's operating system
    and the inputs and outputs of a peripheral device connected to the computer. The
    driver contains the instructions that translate incoming commands and data from
    the device into a form that the operating system can understand, and it translates
    outbound instructions from the operating system into specific device controls.
    It handles memory management and timing, and it specifies the input/output (I/O)
    port and the interrupts that the device will use to communicate with the operating
    system. [Figure 7-1](ch07.html#a_device_driver_is_the_data_and_control_ "Figure 7-1. A
    device driver is the data and control interface between a computer and a peripheral
    device.") shows the relationship between a computer and a very generic device
    driver.
  prefs: []
  type: TYPE_NORMAL
- en: '![A device driver is the data and control interface between a computer and
    a peripheral device.](tagoreillycom20090210nostarchimages254083.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-1. A device driver is the data and control interface between a computer
    and a peripheral device.**'
  prefs: []
  type: TYPE_NORMAL
- en: Every peripheral device, including a wireless network adapter, requires a driver
    that converts standard instructions from the computer to controls that handle
    the specific features and functions of that device. Without the driver, the device
    won't operate. A device without the right driver is useful only as a paperweight
    or a doorstop.
  prefs: []
  type: TYPE_NORMAL
- en: So, for example, the driver for a keyboard tells the computer which I/O port
    carries data to and from the keyboard, converts keystrokes into input data, and
    turns the Caps Lock, Num Lock, and Scroll Lock lights on or off. A printer driver
    includes the specific controls that make the difference between an impact printer
    and a laser printer. A driver for an input or output device will specify whether
    the device uses a serial or parallel port, a USB port, a PCMCIA socket, or one
    of the internal expansion slots on the computer's motherboard. And the driver
    for a wireless network adapter specifies things like the channel number that the
    radio will use to send and receive data, the amount of power the radio will transmit,
    and the data transmission speed that the adapter will use to transfer data.
  prefs: []
  type: TYPE_NORMAL
- en: The drivers for Wi-Fi adapters handle the physical layers of TCP/IP communication—just
    the information the adapters need to set up and use radio links to a network,
    while other layers handle data formatting and content. This assures that the adapter
    can handle many data formats and the data can pass through many different adapter
    types.
  prefs: []
  type: TYPE_NORMAL
- en: Drivers also make it possible for the same piece of hardware to work with different
    operating systems. A driver converts the input and output signals produced by
    the operating system to and from commands in the device's "native language." Drivers
    written for different operating systems that control the same device start with
    instructions in different forms, and convert those instructions into the same
    set of device controls. Therefore, your computer requires device drivers written
    specifically for that operating system.
  prefs: []
  type: TYPE_NORMAL
- en: It might be useful to think of a driver as the instruction manual for a device.
    Manuals written in English, Dutch, and Malay all contain the same set of instructions,
    but they are provided in languages that different users will understand. Computer
    device drivers are similar, except the languages are operating systems instead
    of human speech.
  prefs: []
  type: TYPE_NORMAL
- en: The device driver is a separate program from the configuration utility, but
    many software designers combine the two in a single installation. The configuration
    utility provides a set of commands and displays that send and receive data in
    both directions through the driver to the network adapter.
  prefs: []
  type: TYPE_NORMAL
- en: Where to Find Drivers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You need a driver for your computer's operating system before you can use your
    wireless network adapter. If you're lucky, or if you have done some careful shopping,
    the right driver is either on the CD supplied with the adapter, or it's bundled
    with the operating system. For Linux and Unix systems, most drivers are already
    built into the core, or kernel, of the operating system.
  prefs: []
  type: TYPE_NORMAL
- en: Many wireless adapters are actually private-label products that were made by
    somebody whose name does not appear anywhere on the package or the device itself.
    So it's often necessary to do some detective work to identify the right driver
    for a particular adapter. Proxim and Atheros are particularly active in the private-label
    adapter business. The adapter manufacturers might not want to tell you whose hardware
    is lurking inside their boxes, but the people who develop third-party Linux drivers
    have often figured out which brands work with which drivers.
  prefs: []
  type: TYPE_NORMAL
- en: The first place to look for a Linux or Unix adapter is in the operating system
    core itself. Generally speaking, the most stable and well-supported drivers will
    have been merged into the kernel development process. Most distributions will
    turn on all the stable drivers by default, but it might be necessary to recompile
    your kernel in some situations.
  prefs: []
  type: TYPE_NORMAL
- en: If you have a choice, it's better to pick an adapter that is already supported
    by your operating system. Some manufacturers provide the necessary specifications
    to write complete drivers, or they have written and contributed drivers themselves.
    Other manufacturers offer no official support for Linux and BSD, but dedicated
    individuals have written drivers by painstakingly reverse engineering the official
    drivers from other platforms. The final option for users trying to get an adapter
    functioning is to use a *wrapper* framework, which takes a Windows device driver
    and wraps it in code that makes it act like a driver for Linux or Unix.
  prefs: []
  type: TYPE_NORMAL
- en: Adapter manufacturers who have produced their own Linux and Unix drivers, or
    who have worked with the open source community to provide official specifications,
    have generally done a good job of supporting devices and making drivers available
    to users. Several major vendors, however, provide no such support or assistance.
    If you already have an adapter that will not support Linux or Unix, you will probably
    have to move from the relatively sane world of commercial software to the wide-open
    universe of user groups, email lists, and community websites. Communities of users
    are out there, made up of people who are anxious to improve the performance and
    compatibility of their favorite operating systems. Within these communities, dozens
    of open source developers have created device drivers and wireless configuration
    utilities.
  prefs: []
  type: TYPE_NORMAL
- en: Linux Drivers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: More than a hundred different brands of wireless network adapters carry Wi-Fi
    certification labels, but almost all of them use one of just a handful of internal
    chip sets. If you can't find a Linux or Unix driver for a specific card, you can
    often use a generic driver for the adapter's chip set.
  prefs: []
  type: TYPE_NORMAL
- en: As Linux becomes more popular, a growing number of companies will provide their
    own Linux drivers for their wireless network adapters. If you can't find a Linux
    driver from your adapter maker, you can probably use one of the drivers supplied
    in Linux distribution packages, or you can download a separate driver from the
    chip set provider or a third-party developer.
  prefs: []
  type: TYPE_NORMAL
- en: One very good place to find Linux drivers is the Linux Wireless LAN Support
    website at [http://linux-wless.passys.nl](http://linux-wless.passys.nl). As [Figure 7-2](ch07.html#the_linux_wireless_lan_support_website_p
    "Figure 7-2. The Linux Wireless LAN Support website provides a wealth of useful
    information about Wi-Fi adapters and drivers.") shows, this site provides a search
    tool that you can use to identify the chip set in your adapter and find a direct
    link to a driver.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Linux Wireless LAN Support website provides a wealth of useful information
    about Wi-Fi adapters and drivers.](tagoreillycom20090210nostarchimages254351.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-2. The Linux Wireless LAN Support website provides a wealth of useful
    information about Wi-Fi adapters and drivers.**'
  prefs: []
  type: TYPE_NORMAL
- en: To find a driver for your adapter, use one of the search menus on the first
    page of the Linux Wireless LAN Support site to open either a list of adapters
    made by each manufacturer or a list of interfaces sorted by the type of interface
    that the adapter uses to connect to your computer (most often either PCMCIA or
    USB). The listing for each make and model or each chip set includes a direct link
    to a driver for that device.
  prefs: []
  type: TYPE_NORMAL
- en: If you can't find a driver for your adapter on one of those lists, your best
    bet is to ask for help. The Linux community is famous for assisting new users.
    Somebody who knows which driver will work with your Whoopie-Matic Lightning Bolt
    Wireless Adapter has probably posted pointers to exactly the information you need
    in a Linux newsgroup. The comp.os.linux.networking newsgroup is the best place
    to ask questions about finding drivers for wireless network adapters. Before posting
    your own questions, it's always a good idea to scan the newsgroup's archives for
    previous answers that will solve your problem. Look in the comp.os.linux section
    of [groups.google.com](http://groups.google.com) for a searchable archive of old
    questions and answers.
  prefs: []
  type: TYPE_NORMAL
- en: 'If none of those sources can tell you where to find a Linux driver for a specific
    make and model of adapter, the next step is to identify the chip set inside the
    adapter and find a driver for that chip set. Some adapters come with data sheets
    or manuals that identify the chip set, but if yours does not, open a console and
    try one of these commands:'
  prefs: []
  type: TYPE_NORMAL
- en: If the adapter connects to the computer through a USB port, use `lsusb`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the adapter is a 32-bit PC Card (a CardBus card), use `lspci` .
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the adapter is an older 16-bit PC Card, use `pccardctl ident` .
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the adapter is mounted inside a desktop computer on a PCI card, use `lspci`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: After you connect the adapter, look at the kernel messages via `dmesg` to see
    if additional information is available.
  prefs: []
  type: TYPE_NORMAL
- en: As a last resort, you can almost always identify the chip set by entering the
    FCC ID code from the adapter's label into the Federal Communications Commission's
    FCC Equipment Authorization System Generic Search form at [https://gullfoss2.fcc.gov/oetcf/eas/reports/GenericSearch.cfm](https://gullfoss2.fcc.gov/oetcf/eas/reports/GenericSearch.cfm).
    This web page provides links to a database with copies of the paperwork that the
    manufacturer filed with its application for type approval, usually including a
    technical description and one or more circuit diagrams. A few minutes reading
    those documents should tell you who made the adapter's chip set, which should
    be enough to let you find the applicable driver at the Linux Wireless LAN Support
    website.
  prefs: []
  type: TYPE_NORMAL
- en: If you can't find a driver for your adapter in the Linux Wireless LAN Support
    list or any other source, there are two other last resort alternatives that convert
    Windows drivers to Linux. The first is a free program called NDISwrapper that
    wraps Linux support around the manufacturer's Windows driver. For more information
    and a free download, go to the project's home page at [http://ndiswrapper.sourceforge.net](http://ndiswrapper.sourceforge.net).
    The other option is a similar commercial program, DriverLoader, created by Linuxant.
    For more information about DriverLoader and a free 30-day trial download, go to
    [http://www.linuxant.com/driverloader](http://www.linuxant.com/driverloader).
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Before you spend a lot of time trying to find and install a compatible third-party
    driver for your old or obscure Wi-Fi adapter, consider replacing it with an inexpensive
    new adapter that works out of the box with your Linux version. You will probably
    see better performance and experience less aggravation than with your old adapter*.'
  prefs: []
  type: TYPE_NORMAL
- en: Unix Drivers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Wi-Fi drivers and network software for Unix systems are less common than the
    ones for Linux, but there's enough support out there to connect computers running
    many major versions of Unix to a wireless network. The major BSD versions—FreeBSD,
    NetBSD, and OpenBSD—all include integrated drivers for the most widely-used Wi-Fi
    chip sets. Solaris and other Unix versions don't support as many chip sets as
    the BSD versions, but they do include a few drivers in their distribution packages
    or distribute them through their respective user communities.
  prefs: []
  type: TYPE_NORMAL
- en: It's even more important with Unix than with Linux to find a driver *before*
    you buy an adapter because drivers for some chip sets simply don't exist for every
    version of Unix. Adapters that use the most common chip sets are often supported,
    but you might not have as much luck with a more obscure adapter.
  prefs: []
  type: TYPE_NORMAL
- en: 'Some Unix distributions (especially the ones that are targeted at desktops
    and laptops rather than servers, such as PC-BSD, found at [http://www.pcbsd.org](http://www.pcbsd.org))
    include plug-and-play support for many common Wi-Fi adapters and chip sets. If
    your Unix distribution does not support your adapter, you will have to find and
    install a separate driver. To identify the right Unix driver, follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Use the lists at [http://linux-wless.passys.nl](http://linux-wless.passys.nl)to
    identify the chip set in your Wi-Fi adapter.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Look in the list at [http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers](http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers)
    for links to the correct driver for your Unix version and chip set.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you can't find a driver for your adapter and version of Unix, try a web search
    for *<name of Unix type> <name of chip set> driver*, or ask in the users' forum
    for your Unix version. For information about using Wi-Fi with Solaris, start at
    [http://www.opensolaris.org/os/community/laptop/wireless](http://www.opensolaris.org/os/community/laptop/wireless).
  prefs: []
  type: TYPE_NORMAL
- en: Wi-Fi Control Programs
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Wi-Fi configuration and control programs supplied with Ubuntu, SUSE, PC-BSD,
    and other distributions are all you really need to set up your computer for a
    Wi-Fi connection. The adapter attached to your computer detects nearby wireless
    networks and either connects automatically or offers a list and allows you to
    choose the network you want to use. No muss and a minimum of fuss.
  prefs: []
  type: TYPE_NORMAL
- en: But some other distributions don't include bundled Wi-Fi software, so you must
    find and install one of the add-on programs. Some of these are designed for the
    GNOME or KDE desktop, and others are more generic.
  prefs: []
  type: TYPE_NORMAL
- en: Using Built-in Software
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The wireless networking software included with many Unix and Linux distributions
    is easy to use: If the system doesn''t automatically set up a link, just open
    the Network or Network Devices tool and select the Wireless option. For example,
    follow these steps to set up a wireless connection in Ubuntu Linux:'
  prefs: []
  type: TYPE_NORMAL
- en: If it's not already turned on, turn on the Wi-Fi adapter or connect it to your
    computer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **System ![Using Built-in Software](tagoreillycom20090210nostarchimages254900.png)
    Administration ![Using Built-in Software](tagoreillycom20090210nostarchimages254900.png)
    Network** to open the Network Settings window shown in [Figure 7-3](ch07s02.html#the_network_settings_window_displays_bot
    "Figure 7-3. The Network Settings window displays both wired and wireless network
    connections.").
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![The Network Settings window displays both wired and wireless network connections.](tagoreillycom20090210nostarchimages254356.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '**Figure 7-3. The Network Settings window displays both wired and wireless
    network connections.**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Select the **Wireless Connection** item in the **Connections** tab, and click
    the **Properties** button. The Settings window shown in [Figure 7-4](ch07s02.html#the_wireless_settings_window_controls_wi
    "Figure 7-4. The Wireless Settings window controls Wi-Fi connections.") will appear.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![The Wireless Settings window controls Wi-Fi connections.](tagoreillycom20090210nostarchimages254394.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '**Figure 7-4. The Wireless Settings window controls Wi-Fi connections.**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Remove the checkmark from the Enable roaming mode option.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the drop-down Network Name menu to view a list of Wi-Fi networks detected
    by your network adapter.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose the network you want to use.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If the network is encrypted, choose the type of encryption and type the password.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose the connection type (static or DHCP) from the drop-down Configuration
    menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If the network does not use DHCP to assign an IP address, type the IP address,
    Subnet Mask, and Gateway Address in the respective fields.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the **OK** button to save your settings and close the window.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Other distributions use slightly different programs, but they're all very similar.
    Look in your desktop's Network Settings or Control Center menu for a Wireless
    Networks section where you can turn the wireless adapter on or off, choose a network,
    and enter a WEP or WPA password.
  prefs: []
  type: TYPE_NORMAL
- en: Add-on Wi-Fi Programs
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If your own distribution (of either Linux or Unix) doesn't include a Wi-Fi control
    program, or if you want a different arrangement of features and controls, you
    have several choices, as shown in Figures [Figure 7-5](ch07s02.html#networkmanager_is_the_default_wi-fi_cont
    "Figure 7-5. NetworkManager is the default Wi-Fi control program for several distributions,
    including Ubuntu. A KDE version of the program—KNetworkManager—is also available
    (, ).") through [Figure 7-10](ch07s02.html#the_gtkwifi_wireless_connection_manager_
    "Figure 7-10. The GTKWifi Wireless Connection Manager ()"). Some of these programs
    are only available for Linux, but like the GNOME and KDE desktops that many of
    these programs use, many of them will work with Linux and several versions of
    Unix.
  prefs: []
  type: TYPE_NORMAL
- en: '![NetworkManager is the default Wi-Fi control program for several distributions,
    including Ubuntu. A KDE version of the program—KNetworkManager—is also available
    (, ).](tagoreillycom20090210nostarchimages253991.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-5. NetworkManager is the default Wi-Fi control program for several
    distributions, including Ubuntu. A KDE version of the program—KNetworkManager—is
    also available ([http://gnome.org/projects/NetworkManager](http://gnome.org/projects/NetworkManager),
    [http://en.opensuse.org/Projects/KNetworkManager](http://en.opensuse.org/Projects/KNetworkManager)).**'
  prefs: []
  type: TYPE_NORMAL
- en: '![wpa-supplicant''s GUI provides WPA client support ().](tagoreillycom20090210nostarchimages254314.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-6. wpa-supplicant''s GUI provides WPA client support ([http://hostap.epitest.fi/wpa_supplicant](http://hostap.epitest.fi/wpa_supplicant)).**'
  prefs: []
  type: TYPE_NORMAL
- en: '![The KWiFi Manager program for KDE desktops ()](tagoreillycom20090210nostarchimages254735.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-7. The KWiFi Manager program for KDE desktops ([http://kwifimanager.sourceforge.net](http://kwifimanager.sourceforge.net))**'
  prefs: []
  type: TYPE_NORMAL
- en: '![The WiFi Radar program window ()](tagoreillycom20090210nostarchimages254049.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-8. The WiFi Radar program window ([http://wifi-radar.systemimager.org](http://wifi-radar.systemimager.org))**'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Wireless Assistant display window ()](tagoreillycom20090210nostarchimages254380.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-9. The Wireless Assistant display window ([http://wlassistant.sourceforge.net](http://wlassistant.sourceforge.net))**'
  prefs: []
  type: TYPE_NORMAL
- en: '![The GTKWifi Wireless Connection Manager ()](tagoreillycom20090210nostarchimages254802.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-10. The GTKWifi Wireless Connection Manager ([http://sourceforge.net/projects/gtkwifi](http://sourceforge.net/projects/gtkwifi))**'
  prefs: []
  type: TYPE_NORMAL
- en: Looking Under the Hood
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Many of these packages are based on the Wireless Extensions for Linux API that
    are included in most recent Linux releases, and the Wireless Tools programs that
    use the wireless extensions. The combined documentation for both Wireless Extensions
    and Wireless Tools is online at [http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Linux.Wireless.Extensions.html](http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Linux.Wireless.Extensions.html).
  prefs: []
  type: TYPE_NORMAL
- en: As other wireless software for Linux appears, the *Wireless Tools for Linux*
    document ([http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html](http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html))
    will probably be one of the best places to learn about it.
  prefs: []
  type: TYPE_NORMAL
- en: If a driver supports wireless extensions (and all Linux drivers do), the user
    can change the network configuration with any tool that provides an interface
    with the wireless extensions API, or the command-line tools iwconfig, iwlist,
    and iwpriv.
  prefs: []
  type: TYPE_NORMAL
- en: Wireless Tools
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Wireless Tools is a set of programs that manipulate the wireless extensions.
    You can find instructions for downloading the most recent version from [http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html](http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html).
    The Wireless Tools are command-line programs, but they also provide a foundation
    for other programs that add a graphical user interface (GUI) to their controls
    and statistics.
  prefs: []
  type: TYPE_NORMAL
- en: 'Wireless Tools contains a */proc* entry and three programs: iwconfig, iwspy,
    and iwpriv.'
  prefs: []
  type: TYPE_NORMAL
- en: /proc/net/wireless
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The */proc* entry is a listing in the */proc* pseudo-filesystem that shows
    some statistical information about the wireless interface. */proc* entries act
    as files, so the command `cat /proc/net/wireless` will display wireless statistics:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The status listing shows the current state of the network device. The Quality
    values show the signal quality of the link, the signal level at the receiver,
    and the amount of noise at the receiver when no signal is present. The Discarded
    packets values show the number of packets discarded due to an invalid network
    ID (nwid) because the adapter was not able to decrypt the contents of the packets.
  prefs: []
  type: TYPE_NORMAL
- en: iwconfig
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The iwconfig program controls the wireless adapter''s configuration options.
    In an 802.11b network, it includes these parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **channel** The channel number that the adapter will use. |'
  prefs: []
  type: TYPE_TB
- en: '| **nwid** The network identification. In an 802.11b network, the nwid is the
    same as the SSID. |'
  prefs: []
  type: TYPE_TB
- en: '| **name** The name of the type of wireless network or protocol in use on this
    network. This may be the type of adapter or a generic name such as *802.11b*.
    |'
  prefs: []
  type: TYPE_TB
- en: '| **enc** The encryption key currently in use. |'
  prefs: []
  type: TYPE_TB
- en: The command `iwconfig`, with no argument, produces a list of current iwconfig
    and /proc/net/wireless values.
  prefs: []
  type: TYPE_NORMAL
- en: iwspy
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The iwspy program sets and displays the local computer's IP address and the
    MAC address.
  prefs: []
  type: TYPE_NORMAL
- en: iwpriv
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The iwpriv program provides additional support for device-specific extensions.
  prefs: []
  type: TYPE_NORMAL
- en: Programs Based on the Wireless Tools
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Obviously, the Wireless Tools programs are more of a framework for software
    developers than easy-to-use resources for end users. They do the actual work for
    the programs described in the next couple of sections, so it's useful to know
    that they exist and what they do. In actual operation, programs like NetworkManager
    are a lot easier to use for everyone except the most hard-core command-line geeks.
  prefs: []
  type: TYPE_NORMAL
- en: netcfg
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: netcfg is a network configuration tool for the GNOME environment. It allows
    a user to create and manage connection profiles and change network settings in
    real time. The netcfg home page is at [http://netcfg.sourceforge.net](http://netcfg.sourceforge.net).
  prefs: []
  type: TYPE_NORMAL
- en: wavemon
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: wavemon uses ncurses to monitor and configure wireless adapter settings. It
    includes an Overview screen with all the important information from Wireless Tools
    in graphic form, a *level alarm* that triggers when signal strength drops below
    a preset level, and a full-screen history display that shows changes in signal
    level, noise level, and signal quality over time. There's also a configuration
    tool that uses menus for easy set up.
  prefs: []
  type: TYPE_NORMAL
- en: For more information about wavemon and links to the most recent version of the
    program, see [http://www.janmorgenstern.de/projects-software.html](http://www.janmorgenstern.de/projects-software.html).
  prefs: []
  type: TYPE_NORMAL
- en: Status Display Programs
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Several programs import the information from the /proc/net/wireless listings
    into graphic displays. The major difference among these programs appears to be
    the display format.
  prefs: []
  type: TYPE_NORMAL
- en: WMWave
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: WMWave ([Figure 7-11](ch07s02.html#wmwave_shows_the_characteristics_of_an_a
    "Figure 7-11. WMWave shows the characteristics of an active Wi-Fi connection."))
    is a dockapp that shows link quality, signal level, and noise level in a small
    onscreen window. It's available at [http://wmwave.sourceforge.net](http://wmwave.sourceforge.net).
  prefs: []
  type: TYPE_NORMAL
- en: '![WMWave shows the characteristics of an active Wi-Fi connection.](tagoreillycom20090210nostarchimages254119.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-11. WMWave shows the characteristics of an active Wi-Fi connection.**'
  prefs: []
  type: TYPE_NORMAL
- en: GKrellMwireless
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The Gkrellm monitor stack is a graphic display of system information that can
    use themes to match the appearance of many window managers. The Gkrellm plug-in
    adds information about wireless network connections to the monitor stack. For
    general information about GKrellMwireless, go to the main website at [http://gkrellm.luon.net/index.phtml](http://gkrellm.luon.net/index.phtml).
    For details about the wireless plug-in, go to [http://gkrellm.luon.net/gkrellmwireless.phtml](http://gkrellm.luon.net/gkrellmwireless.phtml).
  prefs: []
  type: TYPE_NORMAL
- en: xwipower
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The xwipower utility shows wireless signal strength in an onscreen icon and
    also includes a bar graph that tracks signal strength over time ([Figure 7-12](ch07s02.html#xwipower_shows_the_strength_of_a_wireles
    "Figure 7-12. xwipower shows the strength of a wireless signal as an onscreen
    icon.")). The signal strength icon shows a set of bar graphs that correspond to
    the strength of the received signal. The icon displays a message in Japanese when
    the adapter fails to detect a signal (roughly translated, it means *outside of
    signal area*).
  prefs: []
  type: TYPE_NORMAL
- en: '![xwipower shows the strength of a wireless signal as an onscreen icon.](tagoreillycom20090210nostarchimages254023.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 7-12. xwipower shows the strength of a wireless signal as an onscreen
    icon.**'
  prefs: []
  type: TYPE_NORMAL
- en: The same icon also shows the current battery level. When the tiny battery in
    the icon is solid, the battery is fully charged or the computer is using external
    power. The battery icon appears as an outline when the battery level drops below
    10 percent.
  prefs: []
  type: TYPE_NORMAL
- en: xwipower works in Linux, FreeBSD, and NetBSD. It's available for download at
    [http://www.freebsd.org/cgi/cvsweb.cgi/ports/sysutils/xwipower](http://www.freebsd.org/cgi/cvsweb.cgi/ports/sysutils/xwipower).
  prefs: []
  type: TYPE_NORMAL
- en: Remote Monitoring
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The /proc/net/wireless entry looks like a file, so it's possible to retrieve
    status information about remote network clients through the network. Steven Hanley's
    Signal Level Server and Clients programs present this information in a graphic
    display. For details and downloads, go to [http://svana.org/sjh/wireless](http://svana.org/sjh/wireless).
  prefs: []
  type: TYPE_NORMAL
- en: Configuring an Access Point
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Most configuration utilities for wireless access points use either a web-based
    interface, an internal command-line interface from a remote terminal, or both.
    So it should not make any difference what operating system you use on the host
    computer that connects to the access point. The access point's commands, controls,
    and status displays will be the same on any system.
  prefs: []
  type: TYPE_NORMAL
- en: The exception is the Apple AirPort Base Station access point, which presents
    a different set of problems. The internal software supplied with the AirPort Base
    Station assumes that you're configuring it from a Macintosh using the AirPort
    Setup Assistant and the AirPort Utility. In practice, that's usually a safe bet
    because just about everybody who uses an AirPort Base Station is also using at
    least one Macintosh computer.
  prefs: []
  type: TYPE_NORMAL
- en: There's really not much reason to use anything but a Mac to configure your AirPort
    Base Station, but it can be done. To set up an AirPort Base Station from a Linux
    host, you need a Linux configuration program. At this time, only one program,
    the AirPort Base Station Configurator, appears to fit this description. Separate
    versions for the two versions of the AirPort Base Station (*Snow* and *Graphite*)
    are available from [http://wireless.ictp.trieste.it/school_2003/soft/java_configurator/APconfigurator.html](http://wireless.ictp.trieste.it/school_2003/soft/java_configurator/APconfigurator.html).
  prefs: []
  type: TYPE_NORMAL
- en: Because it was written as a Java application, the AirPort Configurator program
    will run on any computer with Java Runtime Environment ( JRE) in place. This includes
    Windows, Solaris, and Linux platforms. You can obtain a copy of JRE from [http://java.sun.com/javase/downloads/index.jsp](http://java.sun.com/javase/downloads/index.jsp).
  prefs: []
  type: TYPE_NORMAL
- en: Wi-Fi for Unix
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The number of wireless options for people who use various flavors of Unix is
    limited, but they do exist.
  prefs: []
  type: TYPE_NORMAL
- en: Configuration Tools
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Each BSD Unix version also includes configuration programs that control the
    settings and options of the adapters that use the an and wi drivers. Some of the
    commands have slightly different names, but the functions are essentially the
    same. [Table 7-1](ch07s04.html#unix_configuration_programs "Table 7-1. Unix Configuration
    Programs") lists the configuration commands for different versions of BSD Unix.
  prefs: []
  type: TYPE_NORMAL
- en: '**Table 7-1. Unix Configuration Programs**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Unix Type | wi Configuration | an Configuration |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| FreeBSD | wiconfig | Driver not used |'
  prefs: []
  type: TYPE_TB
- en: '| NetBSD | wiconfig | ifconfig and ifmedia |'
  prefs: []
  type: TYPE_TB
- en: '| OpenBSD | wicontrol | ancontrol |'
  prefs: []
  type: TYPE_TB
- en: '| Solaris | Wiconfig | Driver not used |'
  prefs: []
  type: TYPE_TB
- en: As Wi-Fi networks become more common, more versions of Unix will support wireless
    services. As always, the official and unofficial mailing lists, newsgroups, and
    websites dedicated to each version will have the news of new drivers and network
    support as soon as they become available and people start discussing them.
  prefs: []
  type: TYPE_NORMAL
- en: wiconfig and wicontrol
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The configuration programs for the wi driver can set all the network and adapter
    options. The syntax for the `wiconfig` and `wicontrol` commands are identical
    in all three Unix versions that contain them.
  prefs: []
  type: TYPE_NORMAL
- en: 'The syntax for `wiconfig` and `wicontrol` in an 802.11 network is:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The `interface` argument identifies the logical interface name of the network
    adapter. The names are typically `wi0, wi1`, and so forth. Assuming you have just
    one wireless adapter in the computer, it will show up as `wi0`.
  prefs: []
  type: TYPE_NORMAL
- en: To view the network adapter's current settings, type the command (either `wiconfig`
    or `wicontrol`) and the interface name with no other flags. The WEP encryption
    key will only appear if you have root access to the system.
  prefs: []
  type: TYPE_NORMAL
- en: The `-o` option displays the statistics counters for this interface.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-e` option enables or disables WEP encryption. Type `-e 0` to turn off
    encryption or `-e 1` to turn it on. The default is encryption disabled.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-k key [-v 1/2/3/4]` option sets the WEP encryption keys. If the command
    omits the `-v` setting, the command will set the first key.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-T 1/2/3/4` option identifies the WEP key that the adapter will use to
    encrypt outbound packets.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The `-t tx rate` option sets the transmission rate. The `tx rate` values are:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '| 1 | 1Mbps |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 2 | 2Mbps |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 3 | Automatic rate select (default value) |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 4 | 4Mbps |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 5 | 6Mbps |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| 11 | 11Mbps |'
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: The `-n network name` option sets the name (SSID) of the network that this client
    will join. The default setting is an empty string, which will instruct the client
    to associate with the first access point it finds. The `-p` option must be set
    to BSS mode for this option to work.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-s station name` option sets the name that will identify this client on
    the network.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-p port type` option identifies the operating mode that this network client
    will use. Use `-p 1` for infrastructure mode or `-p 2` for ad hoc operation.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-m MAC address` option changes the MAC address of the network adapter.
    There is rarely a good reason to change the factory-assigned MAC address.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-d max_data_length` option changes the maximum frame size in bytes. The
    default is 2304.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-r RTS threshold` option sets the RTS/CTS threshold in bytes. The default
    is 2347.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-f frequency` option sets the adapter's operating channel number. In infrastructure
    mode, most network adapters automatically scan through all available channels
    to search for an access point, so this option should be omitted unless you want
    to select a specific channel in an environment where more than one signal is present.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-M option` enables or disables the option that reduces interference from
    microwave ovens. Use 0 to disable this option or 1 to enable it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `-P 0/1` option enables or disables power management.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This all looks a lot more complicated than it really is. In practice, if the
    kernel recognizes the card, and if the adapter settings match the settings for
    the access point and other adapters in the same network, you should be able to
    connect without any trouble. If the kernel doesn't find the card, rebuild the
    kernel.
  prefs: []
  type: TYPE_NORMAL
- en: 'When you set up a new connection, it''s easier to enter each option as a separate
    command than to try to run a whole string at one time. Here are the commands that
    you will use most often:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **`wiconfig -p 1`** Set the network client to operate in infrastructure mode
    with one or more access points |'
  prefs: []
  type: TYPE_TB
- en: '| **`wiconfig -s Sally''s Laptop`** Identify the network node as "Sally''s
    Laptop" |'
  prefs: []
  type: TYPE_TB
- en: '| **`wiconfig -e 1`** Turn on WEP encryption |'
  prefs: []
  type: TYPE_TB
- en: '| **`wiconfig -k [WEP key]`** Set the WEP encryption key |'
  prefs: []
  type: TYPE_TB
- en: Along with the wireless settings, it's also necessary to set the standard network
    configuration options that apply to any TCP/IP connection. The `ifconfig` command
    handles these settings in most Unix versions.
  prefs: []
  type: TYPE_NORMAL
- en: After you have configured your wireless network adapter and your network connection,
    they will operate just like any other network connection. You can run network
    utilities like ping, web browsers, email clients, and other applications, and
    you can connect to network resources just as you would over a wired connection.
  prefs: []
  type: TYPE_NORMAL
