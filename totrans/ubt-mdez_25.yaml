- en: Appendix C. Manually Partitioning Your Hard Disk
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1263416.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: When you’re partitioning your hard disk with the Ubuntu installer, the first
    two options (use the whole disk and resize an existing partition) should cover
    most eventualities. They’re both discussed in [Chapter 2](ch02.html "Chapter 2. Wading
    and Diving"). But if you’re in a geekier mood, you can carve up your disk space
    in a few fancy ways. For example, you can create a shared data partition so your
    files can be shared between Windows and Ubuntu, or you can make a separate partition
    for your */home* directory so you can reinstall Ubuntu (or install a different
    Linux distro) without having to fully back up all of your files.
  prefs: []
  type: TYPE_NORMAL
- en: 'When you get to the Installation type screen of the installer, choose **Something
    else** and click **Continue**. You’ll be presented with a colored-bar view of
    your current partition setup ([Figure C-1](apc.html#using_the_manual_partitioning_tool
    "Figure C-1. Using the manual partitioning tool")) and a list of your partitions
    below that. None of the changes that you make in this window will be applied until
    you click **Install Now**, and you can click the **Back** button if you want to
    forget about making the manual changes altogether. (There is one exception: Changes
    are made immediately and irreversibly when you resize a partition. See [Editing
    Existing Partitions](apc.html#editing_existing_partitions "Editing Existing Partitions")
    in [Editing Existing Partitions](apc.html#editing_existing_partitions "Editing
    Existing Partitions") for more on this.)'
  prefs: []
  type: TYPE_NORMAL
- en: '![Using the manual partitioning tool](httpatomoreillycomsourcenostarchimages1264100.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure C-1. Using the manual partitioning tool
  prefs: []
  type: TYPE_NORMAL
- en: Creating and Deleting Partitions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can create new partitions only if you have some “free space” to put them
    in. This is free space in the sense that there’s not already a partition on that
    part of the disk, not that there are no files there. One way of creating free
    space is to delete an existing partition; to do this, click the list item for
    the partition and click **Delete**. After a few seconds, it’ll change into free
    space in the list ([Figure C-2](apc.html#creating_some_free_space "Figure C-2. Creating
    some free space")). Alternatively, if you’re planning to completely change your
    partition setup, select the hard disk you want to modify and click **New Partition
    Table**. You’ll be left with a completely blank slate where all you need to do
    is add new partitions.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can identify which items in the list are hard disks by checking whether
    there is a number after the entry in the Device column; anything that does not
    have a number (for example, */dev/sda*) is a hard disk, and everything else is
    a partition.
  prefs: []
  type: TYPE_NORMAL
- en: Select any free space and click **Add** to put a new partition in it. You’ll
    be presented with a Create partition window ([Figure C-3](apc.html#creating_a_new_partition
    "Figure C-3. Creating a new partition")), which will ask how big you want to make
    the partition in megabytes (1GB is roughly 1,000MB). See [Varieties of Partitions](apc.html#varieties_of_partitions
    "Varieties of Partitions") in [Editing Existing Partitions](apc.html#editing_existing_partitions
    "Editing Existing Partitions") for advice on how big to make your partitions.
  prefs: []
  type: TYPE_NORMAL
- en: The Use as option lets you specify the filesystem type you want to use. A *filesystem*
    tells your operating system how to store files on the partition. You can choose
    from a number of different filesystems, but not all of them will be understood
    by Windows and Mac OS. Ext4 is the best choice for a partition that will be used
    solely by Linux, but FAT32 is the one you need if you want to share files with
    Windows or Mac OS.
  prefs: []
  type: TYPE_NORMAL
- en: '![Creating some free space](httpatomoreillycomsourcenostarchimages1264102.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure C-2. Creating some free space
  prefs: []
  type: TYPE_NORMAL
- en: '![Creating a new partition](httpatomoreillycomsourcenostarchimages1264104.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure C-3. Creating a new partition
  prefs: []
  type: TYPE_NORMAL
- en: You can also select the *mount point*, which is where Ubuntu will put the folder
    that corresponds to this partition (see [Chapter 7](ch07.html "Chapter 7. A Tidy
    Nest") if you’re not familiar with how Linux organizes folders). For example,
    you would mount the home partition as the */home* folder. More detail on mount
    points is given in [Varieties of Partitions](apc.html#varieties_of_partitions
    "Varieties of Partitions") in [Editing Existing Partitions](apc.html#editing_existing_partitions
    "Editing Existing Partitions").
  prefs: []
  type: TYPE_NORMAL
- en: There are two more options in the Create partition window, both of them rather
    technical and boring in my opinion. The Type for the new partition option gives
    you a choice between creating a *primary* or *logical* partition. You can have
    a maximum of four primary partitions on a disk but lots of logical partitions—the
    disk partitioner will choose the right option for you, so there’s no need to alter
    this setting (it doesn’t affect how you use the partition in any way). The other
    option, Location for the new partition, lets you choose where on the disk to put
    the new partition. It doesn’t really matter, so leave this option set to the default
    too.
  prefs: []
  type: TYPE_NORMAL
- en: Click **OK** to finish adding the partition; it should appear in the list after
    a second or two.
  prefs: []
  type: TYPE_NORMAL
- en: Editing Existing Partitions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you have an existing partition that you’d like to resize or whose mount point
    or filesystem type you’d like to change, select it and click **Change**. An Edit
    partition window will appear ([Figure C-4](apc.html#editing_a_partition "Figure C-4. Editing
    a partition")).
  prefs: []
  type: TYPE_NORMAL
- en: '![Editing a partition](httpatomoreillycomsourcenostarchimages1264106.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure C-4. Editing a partition
  prefs: []
  type: TYPE_NORMAL
- en: The Use as and Mount point options work in the same way as those in the Create
    partition window. You can also check **Format the partition** if you’d like all
    the data on it to be erased so you can start fresh. Be aware that you have no
    choice but to format if you’re changing the filesystem of a partition (for example,
    from FAT32 to Ext4).
  prefs: []
  type: TYPE_NORMAL
- en: To resize the partition, use the *New partition size in megabytes* option. If
    you change the size and then click **OK**, you’ll be warned that the changes will
    be written to disk. Click **Continue**, and the partitioner will start to resize
    the partition immediately—you can’t undo this change, so think carefully about
    whether you’ve chosen the right options before clicking Continue.
  prefs: []
  type: TYPE_NORMAL
- en: Varieties of Partitions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You’ll need to be familiar with a few varieties of partitions when you manually
    partition your disk. I’ve summarized these in the following sections and provided
    some tips on choosing their size, mount points, and filesystems.
  prefs: []
  type: TYPE_NORMAL
- en: Root Partition
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You must have a root partition; it’s where important system files are stored
    and software is installed. I recommend making it at least 10GB in size, but aim
    for 12GB to 15GB, if you can, to leave room for installing new programs. If you’re
    not going to have a separate home partition (described in a moment), all of your
    files will be stored in the root partition too, so in that case you should make
    it as big as possible to accommodate all your stuff. The mount point should be
    set to */* and the filesystem to *ext4*.
  prefs: []
  type: TYPE_NORMAL
- en: Swap Partition
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You must have a swap partition. The swap partition is like an extra area of
    system memory (RAM); if your computer’s system memory gets full, it will start
    using this partition to handle the overspill. It’s also used to store the contents
    of your system memory (like all of your open files and programs) when you hibernate
    the computer. See [https://help.ubuntu.com/community/SwapFaq/](https://help.ubuntu.com/community/SwapFaq/)
    for more details on swap.
  prefs: []
  type: TYPE_NORMAL
- en: As a rough guide, your swap partition should be a little larger than the amount
    of RAM that your computer has. For example, if you have 2GB of RAM, make a 2.2GB
    swap partition. The filesystem should be set to *swap area*, and there’s no need
    to set a mount point.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It’s possible to get away without a swap partition by creating a *swap file*
    after you’ve installed Ubuntu, but the method for doing this is beyond the scope
    of this book.
  prefs: []
  type: TYPE_NORMAL
- en: Home Partition
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The */home* folder (see [Chapter 7](ch07.html "Chapter 7. A Tidy Nest") for
    a description) can be put in a separate partition. You don’t need to do this,
    but it’s useful if anything ever goes wrong and you need to reinstall Ubuntu—all
    your personal files and configuration settings will be left intact on the home
    partition while Ubuntu is reinstalled on the root partition. This can save a lot
    of work when restoring your system. If you don’t have a separate home partition,
    the */home* folder will be put in your root partition with everything else. The
    way you access your Home folder (for example, through the Launcher) will be exactly
    the same whether you put it on a separate partition or not.
  prefs: []
  type: TYPE_NORMAL
- en: The home partition is where all your files and settings are stored, so you’ll
    want to make it as big as possible. (For various perspectives on how big is big
    enough, see [Example Partition Layouts](apc.html#example_partition_layouts "Example
    Partition Layouts") in [Shared Partition](apc.html#shared_partition "Shared Partition").)
    The filesystem should be *ext4*, and the mount point should be set to */home*.
  prefs: []
  type: TYPE_NORMAL
- en: Windows Partition
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you have Windows installed, you will need to resize the Windows partition
    to make room for Ubuntu. When you do this, be sure to leave at least enough disk
    space for Windows to function properly. Windows XP needs a partition at least
    2GB in size, and for Vista and Windows 7 you should leave at least 16GB. You will
    probably want to leave more space than this so that you can install programs and
    save files when using Windows, and remember to leave space for your existing Windows
    files too. The Used column in the main partitioning window will tell you how much
    space your Windows files are currently taking up.
  prefs: []
  type: TYPE_NORMAL
- en: Windows partitions will be of type NTFS or FAT32\. Remember not to format the
    Windows partition, or your current installation of Windows will be erased.
  prefs: []
  type: TYPE_NORMAL
- en: Shared Partition
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you want an easy way to share files between Windows and Ubuntu, create a
    shared partition. In both operating systems, it will appear as a separate hard
    disk, which you can use to store whatever you like.
  prefs: []
  type: TYPE_NORMAL
- en: 'Make the partition as big as you think you’ll need: If you only ever copy small
    files between Ubuntu and Windows, then 1GB to 2GB should be plenty; if you want
    to permanently store all your Windows and Ubuntu files in there (sort of like
    a shared Home folder), make it as big as possible (see the next section for an
    example). You should choose FAT32 as the filesystem, but you can use almost anything
    for the mount point—*/windows* will be one of the default suggestions, but you
    could type something like */shared* or */wormhole* into the Mount point box if
    you liked. Just make sure you use a name without any spaces in it.'
  prefs: []
  type: TYPE_NORMAL
- en: Example Partition Layouts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Partitioning can be confusing if you’ve never done it before, so I’ve provided
    a few example partition layouts that should make things clearer. In all of these
    examples, I’ve used a 100GB hard disk, but you can scale all the partition sizes
    up or down for your disk according to the advice in [Varieties of Partitions](apc.html#varieties_of_partitions
    "Varieties of Partitions") in [Editing Existing Partitions](apc.html#editing_existing_partitions
    "Editing Existing Partitions").
  prefs: []
  type: TYPE_NORMAL
- en: Standard Ubuntu-Only Installation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Only Ubuntu will be installed on the disk, so only the root and swap partitions
    are needed ([Figure C-5](apc.html#a_simple_comma_ubuntu-only_partition_lay "Figure C-5. A
    simple, Ubuntu-only partition layout")). Since I have 4GB of RAM, I made the swap
    partition 4.2GB. The root partition filled up the rest of the disk space to give
    me as much room for files and programs as possible. (There was no need to partition
    the disk manually in this case; the Ubuntu installer’s Erase disk and install
    Ubuntu, or Replace Windows with Ubuntu options, would have achieved the same result.)
  prefs: []
  type: TYPE_NORMAL
- en: Ubuntu-Only with a Separate Home Partition
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Only Ubuntu will be installed, but there will be a separate home partition to
    keep my data safe in case I ever need to reinstall ([Figure C-6](apc.html#the_partition_layout_for_ubuntu_with_a_s
    "Figure C-6. The partition layout for Ubuntu with a separate home partition")).
    I’m planning to store home movies on this one, which means lots of very large
    files, so I went for a smallish 12GB root partition and a slightly undersized
    4GB swap partition. This leaves lots more space for the home partition (and my
    videos), which takes up the remaining 84GB of the disk.
  prefs: []
  type: TYPE_NORMAL
- en: '![A simple, Ubuntu-only partition layout](httpatomoreillycomsourcenostarchimages1264108.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure C-5. A simple, Ubuntu-only partition layout
  prefs: []
  type: TYPE_NORMAL
- en: '![The partition layout for Ubuntu with a separate home partition](httpatomoreillycomsourcenostarchimages1264110.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure C-6. The partition layout for Ubuntu with a separate home partition
  prefs: []
  type: TYPE_NORMAL
- en: Ubuntu and Windows with a Shared Partition
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Ubuntu will be installed alongside Windows XP, and I want a shared partition
    so that I can copy files between the two operating systems ([Figure C-7](apc.html#ubuntu_comma_windows_comma_and_a_shared
    "Figure C-7. Ubuntu, Windows, and a shared partition")). My existing Windows installation
    was using 6.7GB of the disk because I had files and programs installed on it.
    I resized the Windows installation to 15GB, leaving 8.3GB of space free for future
    expansion. Note that the Windows partition will *not* be formatted, so Windows
    and all my files on that partition remain intact. I created a 40GB Ubuntu root
    partition and a 4.2GB swap partition and then created a shared FAT32 partition
    in the remaining 40GB or so of disk space.
  prefs: []
  type: TYPE_NORMAL
- en: '![Ubuntu, Windows, and a shared partition](httpatomoreillycomsourcenostarchimages1264112.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure C-7. Ubuntu, Windows, and a shared partition
  prefs: []
  type: TYPE_NORMAL
- en: Finishing Up
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When you’ve finished, click **Install Now** to finalize your changes. If you’re
    deleting or formatting any partitions, the changes will be written to disk. This
    is an irreversible change, so make sure you’ve backed up any valuable data that
    is on the affected partitions!
  prefs: []
  type: TYPE_NORMAL
