<html><head></head><body><div class="chapter" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="installing_and_configuring_wi-fi_access_"/>Chapter 9. INSTALLING AND CONFIGURING WI-FI ACCESS POINTS</h1></div></div></div><div class="mediaobject"><a id="I_mediaobject9_d1e9170"/><img alt="INSTALLING AND CONFIGURING WI-FI ACCESS POINTS" src="tagoreillycom20090210nostarchimages255004.png.jpg"/></div><p>Many Wi-Fi users never install or maintain an access point—they connect to public hot spots in coffee shops and libraries and maybe in the workplace, where there's a network manager to worry about providing a signal to their computers. But if you want to use Wi-Fi in your own small business or home network, you'll have to know something about access points.<a class="indexterm" id="idx-CHP-9-0839"/></p><p>An <span class="emphasis"><em>access point</em></span>, or <span class="emphasis"><em>base station</em></span>, in a wireless network is the central transmitter and receiver that exchanges data by radio with individual computers and other network clients. Multiple access points can increase the size of the area served by the network and support a larger number of network clients, but every Wi-Fi network must include at least one access point. The number and location of your network's access points defines its coverage and capacity.</p><p>When you decide to install a wireless network, you have at least two options: You can unpack all the boxes, hook up the radios to your computers, and try to make it all work, or you can do some advance planning and think about the best locations for each component before you start playing with hardware. This chapter is for those conscientious and methodical people who plan first and install things later. It's also for the rest of us who tried to fire up a network without any <a class="indexterm" id="idx-CHP-9-0840"/>planning, and now we want to learn how to do the job properly.</p><p>The first thing to do when you start <a class="indexterm" id="idx-CHP-9-0841"/>planning your wireless LAN—or for that matter, any LAN—is to spend some time thinking about exactly how you expect to use the network. Are all of the computers in your network in fixed locations with easy access to cable runs? Are you thinking about wireless because it's the best way to add computers and users to your network or just because it's the flavor of the month?</p><p>For example, I live in a one-story house with an unfinished basement. I could use wireless to extend my home network from the front room to the kitchen (and I did, when I was testing equipment for this book), but it's almost as easy to use a gateway router and the built-in Ethernet interface adapters in my computers and string cable through the basement rafters instead. On the other hand, if I wanted to use my laptop computer on the front porch or the back yard as well as the kitchen, or if I lived in a two-story house or an apartment where I couldn't get inside the ceilings or under the floors, then it could make sense to install an access point in the front room and a wireless network card in the laptop so I could carry it from place to place.</p><p>You can apply the same kind of analysis to a business network. As long as all the computers are stationary and you have an easy way to run cables (such as a false ceiling or cable conduits in the walls and floors), a wired network is usually the better choice. But if the salespeople all carry portables when they call on customers, or the engineers want to use their laptop machines in meetings or over lunch, or if there's some other good reason to extend the network beyond the reach of cables, it's probably time to add wireless access.</p><p>In most cases, the wireless network should be a supplement to the wired connections rather than a completely wireless operation. At least one computer should probably connect to the network through cables; a wired connection is often easier to use when you're changing the access point's wireless configuration settings.</p><div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="installing_access_points"/>Installing Access Points</h1></div></div></div><p>As <a class="xref" href="ch03.html" title="Chapter 3. HOW WI-FI WORKS">Chapter 3</a> explained, many access points are combined with other devices, such as network routers, broadband Internet routers, and traditional Ethernet hubs. At a bare minimum, every access point must include a radio transmitter and receiver, one or two captive antennas or connectors for external antennas, and (usually) an Ethernet port for connecting the access point to a wired network. The access point should also contain some kind of internal configuration software that displays the current settings and accepts commands to make changes.<a class="indexterm" id="idx-CHP-9-0842"/><a class="indexterm" id="idx-CHP-9-0843"/></p><p>Because each make and model of access point comes in a different package with different inputs, outputs, and controls, you will want to follow the specific installation and configuration instructions supplied with your device. <a class="indexterm" id="idx-CHP-9-0844"/>Unfortunately, the manufacturers' manuals don't always give you all the information you need. This section offers a general procedure for <a class="indexterm" id="idx-CHP-9-0845"/>installing a generic access point, with occasional side comments about features and functions that don't exist in every product. It is intended to supplement the installation procedure provided in your own access point's manual.</p><p>Here are the general steps for installing an access point:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>If necessary, assemble the access point. The user's manual for your access point should contain specific instructions for the make and model you are using.</p></li><li class="listitem"><p>Based on the information in your site survey, place the access point in the location where you plan to operate it.</p></li><li class="listitem"><p>If the access point has a captive antenna on a swivel or other mechanism that allows you to move it around, adjust the antenna to a position as close to vertical as possible. If you are placing the antenna at or near the ceiling, place the antenna so that it points straight down, if possible. If the antenna is closer to the floor, point it straight up. If you can't adjust the antenna's position, don't worry about it; the access point should work almost as well in its fixed position.</p></li><li class="listitem"><p>If the access point has a connector for an external antenna, install the antenna and run a cable from the antenna to the access point. Keep this cable as short as possible without stretching it or turning any sharp corners.</p></li><li class="listitem"><p>Connect power to the access point. Most <a class="indexterm" id="idx-CHP-9-0846"/>access points are supplied with "wall wart" DC power adapters, but some have AC power cords. Either way, connect the power cable to the access point first, then plug the cable or power supply into an AC outlet. Take a moment to label the power adapter or plug to indicate that it connects to the access point—many times there is no branding to identify which device it goes to.</p></li><li class="listitem"><p>An access point does not draw a lot of power, so it's not necessary to use a dedicated AC power source, but if you use an <a class="indexterm" id="idx-CHP-9-0847"/>uninterruptible power supply or a <a class="indexterm" id="idx-CHP-9-0848"/>surge protector to protect your computers, you should also protect your access point.</p></li><li class="listitem"><p>If you are using a <a class="indexterm" id="idx-CHP-9-0849"/>Power over Ethernet (<a class="indexterm" id="idx-CHP-9-0850"/>PoE) system to provide power to the access point, follow the PoE instructions supplied with your access point to make the connection. Most PoE systems use the 802.3af power standard; however, there are other power standards as well. Make sure that the access point matches your power equipment.</p></li><li class="listitem"><p>Connect an Ethernet cable between the LAN connector on your access point and the nearest network router, hub, switch, or other network point of presence.</p></li><li class="listitem"><p>Consult the manual to find out how to connect a control cable to the access point. Some access points use a serial cable from a nearby computer, and others connect through the network. You will use this connection to set the access point's configuration.</p></li><li class="listitem"><p>If the access point uses a serial connection, it might be easier to take a laptop computer to a temporary location near the access point, where you can see the LED indicators light and go dark as you run the configuration routine, rather than running a longer cable to an existing computer.</p></li><li class="listitem"><p>Turn on the access point's power switch. You will probably see an LED indicator light. It could take a few minutes before the access point's internal processor is ready to operate. The access point's manual should explain the functions of the LED indicators.</p></li></ol></div><p>After the physical installation is complete, the next step is to configure the access point. If you are using the same brand of access point and wireless interface adapters, the default settings are probably the same, so you might be able to install an adapter into a nearby computer and test the network right away.</p><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="configuring_the_access_point_through_a_b"/>Configuring the Access Point Through a Browser</h2></div></div></div><p>Most <a class="indexterm" id="idx-CHP-9-0851"/>access points accept configuration commands through a dedicated local numeric IP address. In other words, you can gain access to the configuration program by typing the access point's numeric address into your <a class="indexterm" id="idx-CHP-9-0852"/>web browser. You can find the access point's default IP address in the manual supplied with the hardware or from the manufacturer's technical support web pages.<a class="indexterm" id="idx-CHP-9-0853"/></p><p>You can typically use Microsoft Internet Explorer, <a class="indexterm" id="idx-CHP-9-0854"/>Firefox, <a class="indexterm" id="idx-CHP-9-0855"/>Safari, or any other graphical web browser <a class="indexterm" id="idx-CHP-9-0856"/>to view and change access point settings. Because of this, the configuration program will run through a computer running any operating system. Rarely, an access point might require a specific configuration tool or a specific browser.</p><p>The first time you turn on the access point, it will use the default settings that were set at the factory. Unless you change some of these settings, it might be possible for unauthorized users to gain access to your network and for network users (authorized or not) to make changes that should be made only by the network manager. At an absolute minimum, you should change the configuration program's password.</p><p>Once again, the specific configuration procedure is different for each type of access point, but the general principles are similar. Use this procedure as a supplement to the information in the access point manual:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Confirm that the access point is connected to the LAN.</p></li><li class="listitem"><p>From a computer connected to the LAN, open the web browser of your choice.</p></li><li class="listitem"><p>In the browser's Address field, type the default numeric IP address for the access point, as specified in the access point manual, and then press the ENTER key.</p></li><li class="listitem"><p>If the software requires a password, the browser should find and open the access point's password window. Type the login name and password.</p></li><li class="listitem"><p>You should see the top-level configuration page. <a class="xref" href="ch09.html#the_configuration_menu_screen_for_an_act" title="Figure 9-1. The configuration menu screen for an Actiontec access point. Configuration screens for other access points display similar information, but they arrange it differently.">Figure 9-1</a> shows a typical configuration page, this one for the Actiontec combined Wi-Fi access point and DSL modem supplied by Qwest to its DSL subscribers.<a class="indexterm" id="idx-CHP-9-0857"/></p></li></ol></div><div class="figure"><a id="the_configuration_menu_screen_for_an_act"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e9365"/><img alt="The configuration menu screen for an Actiontec access point. Configuration screens for other access points display similar information, but they arrange it differently." src="tagoreillycom20090210nostarchimages254517.png.jpg"/></div></div><p class="title"><b>Figure 9-1. The configuration menu screen for an Actiontec access point. Configuration screens for other access points display similar information, but they arrange it differently.</b></p></div><br class="figure-break"/><p>If you get an "<a class="indexterm" id="idx-CHP-9-0858"/>unable to connect" message instead of a login window or a top-level menu when you try to open the configuration utility, send a <a class="indexterm" id="idx-CHP-9-0859"/>ping request to the access point. In Windows, enter <span class="strong"><strong>Start <span class="inlinemediaobject"><a id="I_inlinemediaobject9_d1e9382"/><img alt="The configuration menu screen for an Actiontec access point. Configuration screens for other access points display similar information, but they arrange it differently." src="tagoreillycom20090210nostarchimages254900.png"/></span> Run <span class="inlinemediaobject"><a id="I_inlinemediaobject9_d1e9388"/><img alt="The configuration menu screen for an Actiontec access point. Configuration screens for other access points display similar information, but they arrange it differently." src="tagoreillycom20090210nostarchimages254900.png"/></span> cmd</strong></span> to open a command window, and type <strong class="userinput"><code><a class="indexterm" id="idx-CHP-9-0860"/>ping <em class="replaceable"><code>IP address</code></em></code></strong>, using the access point's numeric IP address. If the network recognizes the address, you should see a response like the one in <a class="xref" href="ch09.html#a_successful_ping_request_returns_a_seri" title="Figure 9-2. A successful ping request returns a series of timed echoes from the target device.">Figure 9-2</a>. If the program reports "<a class="indexterm" id="idx-CHP-9-0861"/>host unreachable," a conflict probably exists between the Dynamic Host Configuration Protocol (<a class="indexterm" id="idx-CHP-9-0862"/>DHCP) server on your LAN and the default address for the access point. The next section explains how to deal with this problem.<a class="indexterm" id="idx-CHP-9-0863"/><a class="indexterm" id="idx-CHP-9-0864"/></p><div class="figure"><a id="a_successful_ping_request_returns_a_seri"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e9427"/><img alt="A successful ping request returns a series of timed echoes from the target device." src="tagoreillycom20090210nostarchimages254818.png.jpg"/></div></div><p class="title"><b>Figure 9-2. A successful ping request returns a series of timed echoes from the target device.</b></p></div><br class="figure-break"/></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="dhcp_and_other_distractions"/>DHCP and Other Distractions</h2></div></div></div><p>DHCP automatically assigns an IP address to each computer on a network. Because DHCP eliminates the need to manually assign a separate address to each computer, it can save a lot of time and trouble, but when the network hub or switch and the wireless access point both try to act as DHCP servers, or when a client device expects a specific address but the DHCP server assigns an address on the fly, trying to set up the network can become ugly.<a class="indexterm" id="idx-CHP-9-0865"/></p><p>Conflicting DHCP servers can cause problems when you add an access point to a LAN. Some standalone <a class="indexterm" id="idx-CHP-9-0866"/>access points expect to receive requests for access to the web-based configuration screens at a specific numeric IP address. When that access point is connected to a hub that is acting as a DHCP server, however, the server assigns a different IP address to the access point. So when a user tries to connect to the IP address listed in the access point manual, nothing happens (or the browser reports "unable to find this address," which is about the same thing).</p><p>It's important to remember that a LAN can have only one DHCP server. If the LAN includes another DHCP server (usually in a router) that assigns numeric addresses, it's best to disable the DHCP function in the access point and allow the main server to handle address assignments for the entire network, including both wired and wireless nodes. As a general rule, the active DHCP server should be in the device closest to your Internet connection—usually the DSL modem or cable modem or other Internet access device.</p><p>This is one case where a generic description of the problem is less useful than the specific procedure provided with your particular access point. The hardware manual should contain setup instructions that cover both the access point's configuration utility and the Windows networking settings that apply to each client machine. Find the manual, and try to follow those instructions as closely as possible. When you do come up with a combination of access point configuration settings and Windows networking settings that actually works (and it's a safe bet that such a combination does exist), note those settings on paper and store them with the manual. You will need them later to add more computers and access points to the same network.</p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="dns_addresses"/>DNS Addresses</h2></div></div></div><p>The Internet uses <a class="indexterm" id="idx-CHP-9-0867"/>Domain Name System (DNS) to convert between numeric IP addresses and plain-language addresses. If your computer can't find an active DNS server, your web browser, email program, and other tools won't work because they won't know where to find other computers on the Internet. When DHCP is active, most access points provide DNS service to the computers that receive IP addresses from the DHCP server. Therefore, you must specify one or more DNS server addresses when you configure an access point. You can obtain DNS addresses from your network manager or ISP or from a list of <a class="indexterm" id="idx-CHP-9-0868"/>public name servers such as the ones at <a class="ulink" href="http://www.opennic.unrated.net/public_servers.html">http://www.opennic.unrated.net/public_servers.html</a> (use the Tier 2 servers) or <a class="ulink" href="http://www.resolvingnameserver.com/freerns.html">http://www.resolvingnameserver.com/freerns.html</a>.</p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="configuration_commands_and_settings"/>Configuration Commands and Settings</h2></div></div></div><p>Each manufacturer's configuration utility handles them differently, but every access point should include the same basic set of options. As you set up your wireless network, you might want to change some of these options from the default values.<a class="indexterm" id="idx-CHP-9-0869"/></p><p>Many web-based configuration utilities use tabs or menus to split the list of options into several screens. If the location of a particular command is not obvious from the layout of the top-level screen, either try opening lower-level screens until you find the one you want or look in the access point manual <a class="indexterm" id="idx-CHP-9-0870"/>for specific navigation instructions. In general, the configuration utility should include the following options.</p><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="passwords"/>Passwords</h3></div></div></div><p>The setup program will also ask you for a password or passphrase. This is the code that your users will enter to connect to an encrypted access point.<a class="indexterm" id="idx-CHP-9-0871"/></p><p>Every access point's configuration software requires a password before it will allow you to make changes. When you unpack and install an access point, it uses the manufacturer's generic password. Because these passwords are well known to hackers and crackers who could change the password and lock you out of your own network, you <span class="emphasis"><em>must</em></span> reset the password as soon as you install the network.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note-17"/>Note</h3><p><span class="emphasis"><em>If you forget or lose an access point's password, you can return it to the default password by using the physical Reset control on the access point. Consult your access point's manual for specific information (if you don't have the manual, look for a downloadable copy on the manufacturer's website). If you reset the access point, you will have to reconfigure all of its settings and options</em></span>.</p></div></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="lan_ip_address"/>LAN IP Address</h3></div></div></div><p>The <a class="indexterm" id="idx-CHP-9-0872"/>LAN IP address field displays the numeric IP address currently used by the access point within the local network. This could be a default address assigned at the factory, an address automatically assigned by the LAN's DHCP server, or an address assigned manually by the network manager. If your wireless network has two or more <a class="indexterm" id="idx-CHP-9-0873"/>access points, each one should have a different IP address.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="subnet_mask"/>Subnet Mask</h3></div></div></div><p>The Subnet Mask field identifies the subnetwork that includes the access point and the wireless clients that connect to the LAN through the access point. The address of the subnetwork is assigned by the network manager. If your LAN does not include a subnetwork, use the default value of 255.255.255.0.<a class="indexterm" id="idx-CHP-9-0874"/></p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="wireless_network_id_ssid"/>Wireless Network ID (SSID)</h3></div></div></div><p>The <span class="emphasis"><em>Service Set Identification (SSID)</em></span>is the name of the wireless network that includes this access point. When a wireless client attempts to connect to a network, it searches for an access point with the same SSID as the one in its own <a class="indexterm" id="idx-CHP-9-0875"/>configuration settings. If it finds a signal with a different <a class="indexterm" id="idx-CHP-9-0876"/>SSID, it rejects the association and continues to scan <a class="indexterm" id="idx-CHP-9-0877"/>for the correct SSID.<a class="indexterm" id="idx-CHP-9-0878"/><a class="indexterm" id="idx-CHP-9-0879"/></p><p>Therefore, the SSID serves two purposes: It acts as the first line of defense against unauthorized access to a <a class="indexterm" id="idx-CHP-9-0880"/>wireless network, and in an environment where more than one wireless LAN is operating, it associates each client with the correct network. However, the SSID by itself is not a particularly effective security tool because some network adapters will accept an SSID of <span class="emphasis"><em>ANY</em></span>, which will allow the client to associate with the first <a class="indexterm" id="idx-CHP-9-0881"/>access point it finds, regardless of the access point's SSID. Also, every time a user connects to the access point, it transmits the SSID, even if the access point is configured to hide or cloak the SSID.</p><p>A network adapter will assume that all the <a class="indexterm" id="idx-CHP-9-0882"/>access points with the same SSID are part of the same network. This can work in your favor when you set up a network with more than one access point (use the same SSID for all of them), but it also means that it's essential to change the default SSID supplied with your access point to a unique name to make sure your users don't connect to the wrong access point by mistake.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="channel"/>Channel</h3></div></div></div><p>The <a class="indexterm" id="idx-CHP-9-0883"/>Channel setting is the radio channel number that the access point will use to exchange data with the client devices in the wireless LAN. Each access point operates on a single channel, but most network adapters scan across all the channels to find the best available signal with the same SSID. You can assume that nearby client devices will find your access point, regardless of the channel setting, as long as both devices use the same operating <a class="indexterm" id="idx-CHP-9-0884"/>mode. If one of your users tries to use a network adapter with a preset channel, however, the channel settings for the access point and the client must match.</p><p>In a noisy environment, some channels might perform better than others because other networks and other 2.4 GHz devices could generate interference on some frequencies but not on others. If other wireless networks are operating nearby, you can often reduce interference and improve performance by using channel numbers that don't overlap. If that's not possible, use channels as far apart from one another as possible.</p><p>If your network includes more than one access point, you should set adjacent access points to different channels. To avoid overlap between signals, remember to use channels that are at least five channel numbers apart, such as channels 1, 6, and 11.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mode"/>Mode</h3></div></div></div><p>Most new access points support several different Wi-Fi specifications (or modes), including 802.11b, 802.11g, and usually 802.11a. Access points made after the 802.11n standard is approved will also include that mode along with the others. When the access point detects a signal from a network adapter, it automatically uses the operating mode it's receiving from the adapter. This multiple-mode operation allows computers with network adapters that only recognize one mode to connect without the need to change adapters.</p><p>The <a class="indexterm" id="idx-CHP-9-0885"/>configuration program <a class="indexterm" id="idx-CHP-9-0886"/>for your <a class="indexterm" id="idx-CHP-9-0887"/>access point probably includes an option that specifies the operating modes that the access point can use. Unless you want to limit access to your network to a limited set of network adapters, it's best to use the most flexible <a class="indexterm" id="idx-CHP-9-0888"/>mode setting, one that recognizes all available operating modes.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="security"/>Security</h3></div></div></div><p>Wi-Fi networks can use either of two different encryption schemes to keep people who do not have the proper electronic key code out of the network: WEP (<a class="indexterm" id="idx-CHP-9-0889"/>wired equivalent privacy) and WPA (<a class="indexterm" id="idx-CHP-9-0890"/>Wi-Fi protected access). As <a class="xref" href="ch12.html" title="Chapter 12. WIRELESS NETWORK SECURITY">Chapter 12</a> of this book explains, WEP encryption is not particularly effective against a determined eavesdropper, but it's better than nothing. The more recent WPA method is more secure, but if some of your users have older Wi-Fi adapters that only accept WEP encryption, you might have to use the older system (or insist that your users replace their old Wi-Fi adapters with new ones that can use WPA).<a class="indexterm" id="idx-CHP-9-0891"/></p><p>It's generally easier to set up a wireless network with encryption disabled, but it's a very good idea to turn it on when you start moving real data through the network. The encryption keys must be identical in each of your <a class="indexterm" id="idx-CHP-9-0892"/>access points' configuration utilities and in all the client devices that you expect to use with that network.</p><div class="sect4" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="wep_encryption"/>WEP Encryption</h4></div></div></div><p>Every access point can use a 64-bit WEP encryption key to restrict unauthorized access, and some offer the choice of either a 64-bit key or a more secure 128-bit key. Because the 64-bit key is actually a 40-bit key combined with a 24-bit initialization vector string, some configuration programs call it 40-bit encryption. Similarly, 128-bit encryption is a 104-bit key combined with a 24-bit initialization string, and it is sometimes called 104-bit encryption. Some access points might support proprietary WEP methods that use larger keys; they require all users of the network to have cards that support them. Access points and network adapters that use 40-bit WEP encryption are completely compatible with those that use 64-bit WEP encryption.</p><p><a class="indexterm" id="idx-CHP-9-0893"/>Unfortunately, some manufacturers request a string of letters and numbers as a WEP key, and others expect you to provide a series of hexadecimal numbers, either as five groups of two or as a single 10-digit string. Still others will ask you for a passphrase and automatically generate the hex key for you.</p></div><div class="sect4" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="wpa_encryption"/>WPA Encryption</h4></div></div></div><p>Most new access points also support WPA encryption; if yours does not, check the manufacturer's website for a firmware update. When you select WPA encryption for your access point, the setup program will offer a choice of either <a class="indexterm" id="idx-CHP-9-0894"/>PSK (<a class="indexterm" id="idx-CHP-9-0895"/>Pre-Shared Key) or <a class="indexterm" id="idx-CHP-9-0896"/>RADIUS (Remote Authentication Dial-In User Service) mode. Unless your network already has a RADIUS server, choose the PSK option.</p><p>Within PSK mode, you can select from two encryption methods: <a class="indexterm" id="idx-CHP-9-0897"/>TKIP (<a class="indexterm" id="idx-CHP-9-0898"/>Temporal Key Integrity Protocol) or AES (<a class="indexterm" id="idx-CHP-9-0899"/>Advanced Encryption System). TKIP is the stronger of the two, so it's usually the better choice. Because the network name (SSID) is used to generate the keys in PSK mode, it's important to change your network SSID from the default because a combination of using dictionary words <a class="indexterm" id="idx-CHP-9-0900"/>for the PSK passphrase and a common network SSID can provide determined attackers with an easy route into your network.</p></div></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="dhcp"/>DHCP</h3></div></div></div><p>As mentioned in "DHCP and Other Distractions" on <a class="xref" href="ch09.html#dns_addresses" title="DNS Addresses">DNS Addresses</a>, an access point can act as a DHCP server that automatically assigns numeric IP addresses to the wireless clients in the network.<a class="indexterm" id="idx-CHP-9-0901"/></p><p>Remember that only one DHCP server can be active at any time. So if the network already has an active DHCP, disable the access point's DHCP function. If your network includes more than one access point, the DHCP server should be active in only one of them—and then only if no other server is already active.</p><p>When the access point's DHCP server is active, the <a class="indexterm" id="idx-CHP-9-0902"/>configuration utility might display a list of currently active DHCP clients on the same screen that contains the enable/disable options. Or the utility might offer to open another window or display another screen that contains the list of DHCP clients.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="other_settings"/>Other Settings</h3></div></div></div><p>In addition to the settings listed above, you might discover several other options in your access point's configuration utility. Some could control other nonwireless functions built into the same device, and others might be settings that allow a user to specify some arbitrary values that would otherwise be changed in the client device.<a class="indexterm" id="idx-CHP-9-0903"/></p><p>The access point manual should give you the information you will need to set these options. When the purpose of a setting is not clear, or if it looks like it won't have any effect on your network, the safest approach is to accept the default value. In other words, when in doubt, leave it alone!</p></div></div></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="how_many_access_points"/>How Many Access Points?</h1></div></div></div><p>Except for an ad hoc network, the simplest wireless networks operate with just one access point and a handful of network nodes. But when you're trying to cover a large space, an irregular space with obstructions, or if you expect to have many wireless users, you will probably have to add at least one additional access point on a different channel.<a class="indexterm" id="idx-CHP-9-0904"/></p><p>If the anticipated coverage area of your indoor network extends more than about 150 feet from the access point, consider a network with more than one access point. Outdoors you should be able to get a reliable signal from an access point at least 200 feet away if a clean line of sight is available.<a class="indexterm" id="I_indexterm9_d1e9787"/><a class="indexterm" id="I_indexterm9_d1e9792"/><a class="indexterm" id="I_indexterm9_d1e9797"/></p><p>As a practical limit, if more than about half a dozen computers are trying to connect to the same access point at the same time, the data transfer speed from each wireless node will start to drop. But remember that most of your users won't be trying to move data or use the Internet at exactly the same moment, unless they're streaming audio or video or moving large files around, so that "half a dozen" might translate to 20 or 30 users over the course of a day.</p><p>If the <a class="indexterm" id="idx-CHP-9-0905"/>number of users on your network increases over time, you might discover that performance is becoming sluggish because your access points are operating at or near full capacity. When that happens, it's time to consider adding more access points to your network. You can either place the new access points midway between the existing ones or use different channel numbers and place them right next to the existing access points. If you can, choose channel numbers that are not being used by other nearby networks.</p><p>Assuming your network operates in <a class="indexterm" id="idx-CHP-9-0906"/>infrastructure mode, it resembles a hub and spokes design in which each computer or other device is communicating with the network through an access point. Therefore, it's not necessary for all the devices on your wireless network to use the same channel number. If you can distribute your network computers among two or three noninterfering channels, it will reduce the number of links on each channel, which will improve performance across the entire network.</p><p>There are several ways to connect <a class="indexterm" id="idx-CHP-9-0907"/>multiple access points to the network. If it's practical to string Ethernet data cables to each access point's location, either connect all the access points to a router or use a combined router and access point for the first location and run data cables from there to the other locations.</p><p>On the other hand, if there are walls or other obstructions between access point locations, or if it's difficult or impossible to run cables for some other reason, you can use a special type of access point called a <span class="emphasis"><em>range expander</em></span> or <span class="emphasis"><em>range extender</em></span> that uses radio signals to connect to the network's primary access point.<a class="indexterm" id="idx-CHP-9-0908"/></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note-18"/>Note</h3><p><span class="emphasis"><em>When you set up an outdoor network, don't forget to consider the effect of foliage between the access point and the client computers—if you install the network during the winter when trees are bare, you might have poor reception during the summer when the same trees are in full leaf. Placing multiple access points is not an exact science. If your network covers a large open space, you can place them at regular intervals. But finding the best way to cover an irregular space might be more difficult</em></span>.</p></div><p>Perhaps the best method is to start with a single access point at the center of the building and confirm that it provides decent coverage within 50 or 100 feet or up to the first major obstacle. You can confirm this by walking around with a computer running your Wi-Fi control program or a site survey program. When the signal starts to fade, move back to a place where the signal is good and measure the distance from the access point. Try to place the second access point about the same distance away from your current location, but in the opposite direction. If the second access point doesn't give you the necessary coverage for the rest of your space, you might have to add still more access points. Your goal should be a maximum of about 30 percent overlap in coverage between any pair of access points.</p><p>As a rule of thumb, your users should have no trouble <a class="indexterm" id="idx-CHP-9-0909"/>using a signal that shows four or five bars in the control program. Three bars is probably okay for most users, but when the signal strength drops down to one or two bars, you should plan to add another access point.</p><p>Locating three or more access points can be more difficult. Remember, your goal in adding more access points is to fill in as much space as possible. With two access points in an open space, you would probably place both of them halfway between the side walls, each about a third of the way from the front and back. If you add another unit, you might want to put the third in the middle and move the other two closer to the front and back, or you can arrange them in some kind of triangular pattern. <a class="xref" href="ch09s02.html#for_added_coverage_use_two_or_more_acces" title="Figure 9-3. For added coverage, use two or more access points.">Figure 9-3</a> shows typical layouts with two access points and three access points.</p><div class="figure"><a id="for_added_coverage_use_two_or_more_acces"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e9860"/><img alt="For added coverage, use two or more access points." src="tagoreillycom20090210nostarchimages254069.png.jpg"/></div></div><p class="title"><b>Figure 9-3. For added coverage, use two or more access points.</b></p></div><br class="figure-break"/><p>Each access point in a network should operate on a different channel from the ones used by adjacent access points. If possible, use channel <a class="indexterm" id="idx-CHP-9-0910"/>numbers that don't interfere with one another, such as channels 1, 6, and 11. In a very large space, try to keep channel numbers widely separated by staggering the channel numbers over the entire area, like the arrangement in <a class="xref" href="ch09s02.html#keep_overlapping_access_points_separate_" title="Figure 9-4. Keep overlapping access points separate from one another in a network with multiple base stations.">Figure 9-4</a>.</p><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="using_multiple_access_points"/>Using Multiple Access Points</h2></div></div></div><p>When two or more access points on the same network detect a signal from the same client device, the access point with the best signal handles the link. If the client device moves away from the currently active access point and closer to another one, or if the signal quality deteriorates because of interference from other radio signals, the original access point will hand off the link to the access point that is receiving the best signal from the client. This is the same kind of technology that permits cellular telephones to roam without interrupting a conversation.<a class="indexterm" id="idx-CHP-9-0911"/></p><div class="figure"><a id="keep_overlapping_access_points_separate_"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e9886"/><img alt="Keep overlapping access points separate from one another in a network with multiple base stations." src="tagoreillycom20090210nostarchimages254029.png.jpg"/></div></div><p class="title"><b>Figure 9-4. Keep overlapping access points separate from one another in a network with multiple base stations.</b></p></div><br class="figure-break"/><p>The early Wi-Fi specifications allowed network adapters and other client devices to move a connection to the network from one access point to another, but they did not explain how to hand off an association. In the absence of a standard, each access point manufacturer came up with its own method, which might not have been compatible with every other manufacturer's system. This is less of a problem with 802.11g and 802.11n networks, but it's still best to use just one type of access point in your network. You can expect a Wi-Fi-compliant network adapter to work with any brand of access point, but it's not always safe to expect two different kinds of access points to work together.<a class="indexterm" id="idx-CHP-9-0912"/></p><div class="sidebar"><a id="which_operating_mode"/><p class="title"><b>WHICH OPERATING MODE?</b></p><p>The best access points for a new Wi-Fi network can use all available operating modes (802.11b, 802.11a, and 802.11g today, and 802.11n after that specification becomes standard), so they can exchange data with users whose computers have any kind of network adapter. The drawback, however, is that when a user with an older card joins a network that supports a newer, faster standard (such as an 802.11b user joining an 802.11g network), the network must switch all users to the slower standard for compatibility. If you expect all of your users to have newer cards, setting the mode to accept only the faster standards might offer better performance.<a class="indexterm" id="idx-CHP-9-0913"/></p></div></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="performing_a_site_survey"/>Performing a Site Survey</h1></div></div></div><p>Understanding general networking principles is fine, but you're installing a wireless network in a real location with real walls and real furniture (and most likely, real sources of real interference). Radio waves pass through some materials and bounce off others, so the general estimates of a radio's range and signal strength in an ideal environment are less important than the <span class="emphasis"><em>actual</em></span> performance in the place you want to use it. You should therefore conduct a site survey that tells you how your own radios will operate in your own space.<a class="indexterm" id="idx-CHP-9-0914"/></p><p>The first step in a site survey is to identify the area that you want your network to cover. In most cases, that will be the entire area of your office, home, or campus, but there are other possibilities. For example, you might want to provide network access only in common areas, such as a conference room, a reception area, or a library. Or you might want to share a single broadband network connection among a group of neighbors. Keep in mind that radio signals at Wi-Fi frequencies can pass through many walls, ceilings, and floors, so they will probably reach adjacent spaces even if you don't aim them at those spaces.</p><p>For a straightforward home or small office network, your site survey can be very simple. If the whole building is just 50 feet from front to back and 30 feet wide, you can probably place the access point almost anywhere. Just connect the access point to your existing Internet connection, fire up a laptop or other portable computer as a wireless network client, and carry the client device around while a network connection is active. If you can keep the connection alive everywhere in the house or office, you're ready to go.</p><p>The spaces covered by a single network don't have to be continuous (or contiguous), although that's the way most networks are constructed. For example, if your business occupies the third, fourth, and ninth floors of a building but none of the floors in between, you can place access points in your own offices, connect them together with Ethernet cables (or connect them to your existing wired LAN), and ignore the other floors. As long as all the access points use the same name (the SSID), your computer will use the same network profile to make the connection. If your LAN extends to more than one building, you can place access points in each building and link them together (if no link is already in place) with a leased line, a virtual private network (VPN) connection through the Internet, or a point-to-point radio link and a bridge router (described in the next chapter).</p><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="make_a_site_plan_hellip"/>Make a Site Plan …</h2></div></div></div><p>When you have a rough idea of the space you want your network to cover, it's time to create a more detailed <a class="indexterm" id="idx-CHP-9-0915"/>floor plan. If your network will cover more than one floor of a building, or when the network will include space in more than one building, you will want a plan for each floor, a vertical diagram of each building, and another diagram that shows the network's entire coverage area.</p><p>Your <a class="indexterm" id="idx-CHP-9-0916"/>floor plan should include the location of each wall and partition along with every existing network connection and AC power outlet. If you know about potential sources of interference, such as a 2.4 GHz cordless phone, a Bluetooth network, or a microwave oven, mark their locations on the plan as well. <a class="xref" href="ch09s03.html#an_office_floor_plan" title="Figure 9-5. An office floor plan">Figure 9-5</a> shows a <a class="indexterm" id="idx-CHP-9-0917"/>floor plan of a small office.<a class="indexterm" id="idx-CHP-9-0918"/></p><div class="figure"><a id="an_office_floor_plan"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e9951"/><img alt="An office floor plan" src="tagoreillycom20090210nostarchimages254320.png"/></div></div><p class="title"><b>Figure 9-5. An office floor plan</b></p></div><br class="figure-break"/><p>In general, you can get away with a single access point if you can find a spot with a clean line of sight to every location where somebody might want to place a computer or other network client. When that's not possible because of obstructions to the radio signals, you will need additional access points. But don't automatically assume that a clear radio path is the same as a line of sight. The only way to be sure is to fire up an access point and run your own test.<a class="indexterm" id="idx-CHP-9-0919"/></p><p>In this case, the best location for a line of sight to everywhere in the office would probably be at the angle of the L-shaped space. If that's not good enough, the next approach to try would be placing one access point at each end. The office in <a class="xref" href="ch09s03.html#an_office_floor_plan" title="Figure 9-5. An office floor plan">Figure 9-5</a> contains plenty of network drops and AC outlets, so connecting to the wired network should not be a problem. That's not always the case. In many places, the logical place for an access point might be inside a false ceiling, but if you can't locate an AC outlet up there, you might have to find a different spot or use an access point that supports a power over Ethernet option.</p><p>It's less of a problem when the preferred access point location is close to an AC outlet but farther away from a network connection point. You can often solve the problem with a longer data <a class="indexterm" id="idx-CHP-9-0920"/>cable, but don't drop a cable from a false ceiling into the middle of a room or over a partition that doesn't reach the ceiling; it looks messy, and somebody will almost certainly yank it out eventually. Your installation will look a lot better if you extend the data cable to a real wall and either drop the cable inside the wall or run it flush to a corner of two walls. Remember to avoid sharply bending or crimping the network <a class="indexterm" id="idx-CHP-9-0921"/>cable; be sure to allow <a class="indexterm" id="idx-CHP-9-0922"/>for a broad curve. When you want to use a single access point to serve two adjacent floors of a building, the best location would be as close to the shared ceiling and floor as possible. The location is less critical in most houses because the radio signal will pass through wood and plaster more easily than concrete and steel.</p><p>The <a class="indexterm" id="idx-CHP-9-0923"/>antennas built into most access points and network interfaces are nondirectional or omnidirectional, which means that they radiate equally in all directions. In other words, the useful signal range resembles a sphere or a doughnut with the antenna at the center. Therefore, you will want to place your access point more or less in the middle of the space you want to cover. If you're using an access point with a connector for an external antenna, you can be more flexible. In some environments, a directional antenna at one end of the building might be more effective than an omni in the center.</p><p>The built-in antennas on many access points are whips mounted on swivels that allow you to change their positions relative to the box that contains the circuitry. It might not make a lot of difference, but the usual practice is to aim the antennas down when the access point is placed near the ceiling and aim them up when they are close to the floor. In general, you might get slightly better coverage when the antenna is vertical rather than horizontal.</p><p>One potential cause of signal <a class="indexterm" id="idx-CHP-9-0924"/>loss is <span class="emphasis"><em>multipath interference</em></span>. Multipath loss occurs when the same signal reaches a receiving antenna directly from the transmitter and again a fraction of a second later after bouncing off a reflective surface. On a broadcast television signal, multipath appears on the screen as a ghost or shadow image. In a packet data network, the receiver treats multipath interference as noise, which can slow down the transmission speed. Many access points and network adapters use two separate antennas in a "diversity" receiving arrangement to reduce or eliminate the impact of multipath interference. The receiver compares the strength of the signal from each antenna and automatically selects the better one. Even though the two antennas might be located just an inch or two apart, a <a class="indexterm" id="idx-CHP-9-0925"/>diversity system can often provide a cleaner output than a single antenna. If the access point's built-in antenna is inside a package with an odd form, such as a <span class="emphasis"><em>U</em></span>-shaped bar, or if it has two separate antennas, the device is probably using a diversity receiving system. The best way to find out if your hardware uses diversity is to read the specifications.<a class="indexterm" id="idx-CHP-9-0926"/></p><p>If your access point does have two captive antennas, you might want to experiment with different relative antenna positions. If your coverage is not adequate when the antennas are aligned north and south, try gradually rotating the access point to align the antennas to the east and west as you watch the signal strength display on a network client computer. If the antennas are on swivels, try moving them around rather than keeping them absolutely parallel.</p><p><a class="indexterm" id="idx-CHP-9-0927"/>Outdoors, the rule of thumb is that higher is better, within reasonable limits (for example, don't put your antenna on top of a 100-foot tower). If you possibly can, use an access point with a connector for an external antenna so you can place the box under cover and run a coaxial cable to the antenna. A weatherproof vertical antenna on a roof or a flat-panel antenna mounted high on the side of a building should provide decent line-of-sight coverage up to 300 feet away. When you place an <a class="indexterm" id="idx-CHP-9-0928"/>antenna on a roof, try to mount it high enough to make it visible from the ground to prevent attenuation from the building itself, as shown in <a class="xref" href="ch09s03.html#a_rooftop_antenna_might_not_reach_users_" title="Figure 9-6. A rooftop antenna might not reach users who are close to the building.">Figure 9-6</a>. If you can't see the access point's antenna, the signal quality might suffer, but enough of the signal should pass through the structure to provide an acceptable signal.</p><div class="figure"><a id="a_rooftop_antenna_might_not_reach_users_"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e10037"/><img alt="A rooftop antenna might not reach users who are close to the building." src="tagoreillycom20090210nostarchimages254205.png"/></div></div><p class="title"><b>Figure 9-6. A rooftop antenna might not reach users who are close to the building.</b></p></div><br class="figure-break"/><p>When you mount an <a class="indexterm" id="idx-CHP-9-0929"/>omnidirectional antenna <a class="indexterm" id="idx-CHP-9-0930"/>outdoors, more gain does not always mean better coverage. As the <a class="indexterm" id="idx-CHP-9-0931"/>gain of an <a class="indexterm" id="idx-CHP-9-0932"/>omnidirectional antenna increases, the vertical range decreases; the sphere or doughnut shape of the antenna coverage becomes flatter. Mounting a high gain (greater than 8 dB) omnidirectional antenna high up might make it invisible to users above or below it, while a 5 dB or lower antenna might provide perfect coverage. Always make sure to install proper <a class="indexterm" id="idx-CHP-9-0933"/>grounding and lightning protection on external installations; a lightning strike on or near your roof can easily travel through the antenna, access point and network cable, and damage your whole buiding's network.</p><p>The amount of signal attenuation caused by a structure will be different for different building materials. At 2.4 GHz, radio waves can pass through wood and glass more easily than through concrete or structural steel. As a practical matter, if you're not trying to cover a large college campus or industrial park with your wireless network, you might produce an entirely usable <a class="indexterm" id="idx-CHP-9-0934"/>outdoor signal from your indoor access points, especially if they're located near the exterior wall. As you run your <a class="indexterm" id="idx-CHP-9-0935"/>site survey, try carrying a portable device away from the building while a connection is active; you might be surprised to discover how far the signal carries.</p><p>Remember that we're talking about digital signals. When you achieve the minimum signal quality needed to provide a clean, high-speed data link, a stronger signal won't make any difference unless you have a problem with interference. In other words, a three-bar signal is often all you need to make a connection, and a stronger signal won't improve performance if you're already seeing a five-bar signal. Don't waste your time or money adding an outdoor access point if you can serve your outdoor picnic bench from an existing indoor access point. The signal might be stronger from an outdoor access point, but it won't transfer your data any faster.</p><p>Moving vehicles or other large <a class="indexterm" id="idx-CHP-9-0936"/>metal objects (such as construction cranes) between the access point and a network client can get in the way of an otherwise clean signal and produce temporary dropouts. If you're trying to provide network <a class="indexterm" id="idx-CHP-9-0937"/>coverage to a freight loading yard or some other space that has trucks or other large objects moving around in it, you will want to mount your antenna as high as possible or place a second access point on the other side of the area you want to reach with your network.</p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="testing_testing_hellip"/>Testing, Testing …</h2></div></div></div><p>After all the theoretical planning, you can't avoid real-world testing with actual hardware. A floor plan might give you a good idea of how your network <span class="emphasis"><em>should</em></span> work, but the only way to find out how those radio waves actually move around the area you want to cover with your network is to set up a temporary installation and <a class="indexterm" id="idx-CHP-9-0938"/>perform some real-world tests.<a class="indexterm" id="idx-CHP-9-0939"/></p><p>There are two schools of thought about <a class="indexterm" id="idx-CHP-9-0940"/>site surveys: One group believes that they're the best and most efficient way to find the optimal locations for access points in your Wi-Fi network; the other says that adding access points is cheaper than hiring a consultant or buying expensive software, so you might as well just install more of them (access points, not consultants) until your network reaches the whole area you want to cover.</p><p>You have several <a class="indexterm" id="idx-CHP-9-0941"/>options when you need to perform a site survey:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Let somebody else do it for you—either a paid consultant or the vendor who expects to sell the network hardware to you</p></li><li class="listitem"><p>Use site survey software</p></li><li class="listitem"><p>Use the configuration program or the status program supplied with a network interface</p></li></ul></div><p>The alternative to a formal site survey is old-fashioned trial and error: Install one or more access points and move them around until you achieve the best performance.</p><p>Allowing a consultant or sales tech to perform the survey for you has several advantages. First, you can let that person do the work, and you just have to read the report rather than having to run (or crawl) around the whole building with a test unit yourself. More importantly, the people who do this kind of site survey all the time have their own measurement devices that automatically store individual readings and produce detailed reports. Unfortunately, these measurement units are expensive, and they require some special training, so they're not practical for a one-time user.</p><p>If you can't find somebody else to do the job, you'll have to do it yourself. Several hardware vendors, including Cisco, offer site survey software tools for their interface adapters and access points. If you're installing a complex Wi-Fi network, take a look at the Site Survey software offered by <a class="indexterm" id="idx-CHP-9-0942"/>Ekahau (<a class="ulink" href="http://www.ekahau.com">http://www.ekahau.com</a>) and Covera (<a class="ulink" href="http://www.coverazone.com">http://www.coverazone.com</a>). These programs work with many (but not all) network adapters, and they offer long lists of useful features. Free evaluation versions of both programs are available, so you can try them before you buy. Several other free programs also provide <a class="indexterm" id="idx-CHP-9-0943"/>site survey information.</p><p>If your test hardware doesn't include one of those tools, you can pull enough information out of the standard status and configuration programs that come with every wireless interface to perform a site survey. It's a little easier with the survey tool, but the configuration programs will tell you what you need to know.</p><p>Most likely, the first access point location you test will give you completely adequate network coverage, especially in a small office, house, or apartment. But when you're setting up a more complex network, it can be very useful to convince your hardware supplier to let you test network interfaces and access points from more than one manufacturer. Because different manufacturers use different antenna designs and different configuration software, you might discover that one make of network adapters or access points works better than another in your network.</p><p>Here's what you should do <a class="indexterm" id="idx-CHP-9-0944"/>to complete a site survey:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Choose a location for your access point. You might decide to change the location after the initial site survey is complete, but as a start, select a location with a line of sight to as much of your intended coverage area as possible.</p></li><li class="listitem"><p>If you already have a wired LAN in place, connect your sample access point to the LAN and plug in the power supply. If your site does not have an existing LAN, just connect the power unit. Turn on the access point.</p></li><li class="listitem"><p>Configure the access point: Assign an SSID and choose a channel number for each operating mode.</p></li><li class="listitem"><p>If your laptop computer doesn't have a built-in Wi-Fi adapter, plug one into the computer's PC Card socket. For these tests, turn off WEP or WPA encryption.</p></li><li class="listitem"><p>Using your floor plan as a guide, prepare a site survey form, like the one in <a class="xref" href="ch09s03.html#wireless_network_site_survey_form" title="Table 9-1. Wireless Network Site Survey Form">Table 9-1</a>. Make an entry in the Location column for every room within your coverage area; make two or three entries for different parts of large spaces.</p><div class="table"><a id="wireless_network_site_survey_form"/><p class="title"><b>Table 9-1. Wireless Network Site Survey Form</b></p><div class="table-contents"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; " summary="Wireless Network Site Survey Form"><colgroup><col/><col/><col/></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Location</p></th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Signal Strength</p></th><th style="border-bottom: 0.5pt solid ; "><p>Operating Mode</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Conference Room, North End</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p/></td><td style="border-bottom: 0.5pt solid ; "><p/></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Conference Room, South End</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p/></td><td style="border-bottom: 0.5pt solid ; "><p/></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Reception Area</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p/></td><td style="border-bottom: 0.5pt solid ; "><p/></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Mike's Office</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p/></td><td style="border-bottom: 0.5pt solid ; "><p/></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>Sarah's Office</p></td><td style="border-right: 0.5pt solid ; "><p/></td><td style=""><p/></td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Take the portable computer <a class="indexterm" id="idx-CHP-9-0945"/><a class="indexterm" id="idx-CHP-9-0946"/>to the first location on your survey form.</p></li><li class="listitem"><p>Run the Wi-Fi connection program on your laptop computer. The program should report a signal association between the network node and the access point and show the signal strength (usually as zero to five bars). Check the signal strength for each operating mode (802.11b, 802.11a, 802.11g) that your access point supports.</p></li><li class="listitem"><p>Copy the signal strength for the current location to your survey form.</p></li><li class="listitem"><p>With the connection program running, carry the portable computer to the next location on your list. If necessary, use the Refresh command to obtain new readings. Note the signal strength in your survey form.</p></li><li class="listitem"><p>Repeat the process for each location on your list.</p></li></ol></div><p>You might also want to wander around the building, noting changes in signal quality as you go. You can expect the signal strength to drop as you move farther away from the access point.</p><p>If possible, test using several different brands of wireless card. Different wireless cards perform differently, so it's important to test the signal quality with a range of client cards when you're planning a network for users with mixed hardware.</p><p>Don't be surprised if you discover one or more unexpected dead spots, where the signal strength drops below a usable level. This might occur because of some kind of obstruction (like a metal filing cabinet) between the access point and the portable unit or because some source of local interference (like a microwave oven, a Bluetooth device, or a cordless phone) is located nearby. Finding those dead spots is one of the reasons you're doing the <a class="indexterm" id="idx-CHP-9-0947"/>site survey. In some cases, moving the test unit just a foot or two away from the original location might be enough to solve the problem. Be sure to note any dead spots on the survey form.</p><p>If you find a lot of dead spots as you move around the building, or if any of the dead spots are in critical places, try moving the access point. Keep in mind that some of your Wi-Fi users will probably be using pocket-size PDAs and Wi-Fi-equipped mobile telephones while they walk from one room to another, so you shouldn't forget to test signal quality in hallways and bathrooms.</p><p>After you have tested the signal quality in every location on your list, mark the location of the access point on the floor plan and copy the test values for each room or other location. If you're working in a relatively small space, you will probably see consistent numbers for most locations. In a larger area, the limits of the access point's useable signals will probably fit within some kind of irregular curve. Don't be surprised to discover that the signal strength decreases as you move farther away from the access point.</p><p>If the signal quality is not acceptable over most of the area you want to cover, try moving the access point to a different location, or if the access point has an external antenna, try moving the antenna. Once again, look for a place with a clean, unobstructed line of sight to as much of the area as possible. Repeat the survey with the access point in the new location.</p><p>If you can't find a single location that covers the whole area you want to reach, place one or more additional access points at about two thirds of the distance to the place where the signal begins to fade, and connect each access point to your wired LAN. Use a different channel number for each access point.</p><div class="sidebar"><a id="summary_steps_in_a_site_survey"/><p class="title"><b>SUMMARY: STEPS IN A SITE SURVEY</b></p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Identify the space you want your network to cover.<a class="indexterm" id="idx-CHP-9-0948"/><a class="indexterm" id="idx-CHP-9-0949"/></p></li><li class="listitem"><p>Prepare a floor plan and a vertical diagram.</p></li><li class="listitem"><p>Choose the ideal locations for access points and antennas.</p></li><li class="listitem"><p>Coordinate with other nearby wireless networks.</p></li><li class="listitem"><p>Install the access points.</p></li><li class="listitem"><p>Test wireless links from many locations.</p></li><li class="listitem"><p>Try moving the access points or antennas.</p></li><li class="listitem"><p>Install additional access points as needed.</p></li></ol></div></div></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="interference_problems"/>Interference Problems</h1></div></div></div><p>If nobody else is using a Wi-Fi network or any other 2.4 GHz device within about half a mile, you won't have to worry about interference to your network, but that's becoming less likely every day. Other network services, along with cordless phones, microwave ovens, outdoor lighting systems, and radio-controlled toys, all use the same set of frequencies. In addition, several nearby home or office networks are probably using their own Wi-Fi networks. It's often a radio jungle out there.<a class="indexterm" id="idx-CHP-9-0950"/></p><p>The type of radio modulation used by wireless Ethernet networks is supposed to overcome interference from all those other services. That's the theory. The engineers who work with the various 2.4 GHz radio services are trying to cooperate so we can all use our networks, phones, microwaves, and toys at the same time. In practice, however, the receivers in your access points and network adapters might listen to the channel that is supposed to contain a nice, clean Wi-Fi signal and perform the digital equivalent of throwing their hands into the air and shouting "Arrrgh!"<a class="indexterm" id="I_indexterm9_d1e10337"/><a class="indexterm" id="I_indexterm9_d1e10340"/></p><p>Or, more accurately, they do nothing: When that happens, the radio that transmitted the signal waits for an acknowledgment that never comes and then sends the same packet again and again until the receiver acknowledges that it has accepted a clean copy. This means that the channel not only has to be clear enough for the original packet to reach the client but clear enough for the acknowledgment to reach the original sender. The same thing happens with the next packet, and the one after that, and the one after that. This has the same effect as trying to conduct a voice conversation over a noisy phone line or a walkie-talkie, where … you … have … to … speak … very … slowly … and … listen … very … carefully. In other words, your nice, speedy network will feel like it's receiving data bits through a pipeline full of molasses.</p><p>If there's a lot of radio <a class="indexterm" id="idx-CHP-9-0951"/>interference around you, you will probably discover it during your site survey. When you can't establish an 11Mbps link within a clean line of sight to the access point, look for another radio signal nearby. It might be something obvious like the microwave oven in the lunchroom or the cordless phone in the kitchen, but it could just as easily be something harder to find, like another network next door, or a point-to-point radio link that's passing over your roof.</p><p>You can try a few things to reduce or eliminate interference: Either remove the source of interference or move your own network to a different channel. <a class="indexterm" id="idx-CHP-9-0952"/>Changing channels is often easier, but it's not always effective because your source of interference might be a frequency-hopping radio that jumps around the entire 2.4 GHz band, or a completely different source of interference might be operating on the new frequency.</p><p>It's worth a try, however. To try to eliminate interference, follow these steps, in this order:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Use the Network Connections tool to identify nearby Wi-Fi networks and the channels that each of them is using.</p></li><li class="listitem"><p>Move to a different Wi-Fi channel as far away from the one where you encountered the problem as possible. For example, if you can't use channel 6, try dropping down to channel 1 or jumping up to channel 11. If the neighboring networks are using more than one channel, look for a channel number that is not in use.</p></li><li class="listitem"><p>Look for a cordless phone, a microwave oven, or some other device that radiates at 2.4 GHz. If possible, replace the offending device with one that operates at a different frequency, such as a 900 MHz cordless phone.</p></li><li class="listitem"><p>If you can change the output power of the radios in your access points and interface adapters, make sure they're set to the high (100 mw) setting. Most adapters use an option in the Network Connection Properties window to control power management.</p></li><li class="listitem"><p>Try moving either your access point's antenna or the antennas on the network interface connected to your computer. Sometimes changing the location by just a few inches can make a big difference in network performance.</p></li><li class="listitem"><p>Ask your neighbors if they are using a wireless network. You can often identify the location of a home network by its name, such as <span class="emphasis"><em>Smith family</em></span>. Because they're likely to experience the same kind of interference from your network that you're getting from theirs, they'll probably agree to cooperate on a "channel assignment plan" in which each network uses a different channel. Remember, if you can keep the networks at least five channel numbers apart, you will keep <a class="indexterm" id="idx-CHP-9-0953"/>cross-channel interference to a minimum. If you're trying to coordinate more than three channels, spread the channel numbers across the band as widely and evenly as possible.</p><p>Because the only set of three channels that don't interfere are channels 1, 6, and 11, and because one of those three channels is the default setting on many access points, you might discover that they contain more <a class="indexterm" id="idx-CHP-9-0954"/>interference from neighboring networks than one of the intermediate channels. You might have better luck with one or two of the intermediate channels instead.</p></li><li class="listitem"><p>Try replacing the omnidirectional antennas on your access point, your network adapters, or both with directional antennas <a class="indexterm" id="idx-CHP-9-0955"/>to increase the signal strength and the receivers' sensitivity. You might have to move the access point to a different location or add more access points to cover the same area. If you can convince your neighbors to go to directional antennas, try to align the patterns for a minimum of overlapping coverage.</p></li></ol></div><p>If none of these techniques solve your interference problem, you can't do much more except to either accept sluggish performance or replace your 2.4 GHz Wi-Fi network with an 802.11a wireless network that operates at 5.2 GHz.</p><p>You might encounter one more source of interference, especially in a business or institutional setting, but this one probably won't show up until your network has been in operation for a while. As the wireless network becomes more popular among your users, more and more of them might try to use it at the same time, and the overall network performance will deteriorate. To solve this kind of problem, you can add more access points that operate on different channels.</p></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="advantages_of_mixed_networks"/>Advantages of Mixed Networks</h1></div></div></div><p>Just because you have decided to install and use a Wi-Fi network, you don't have to use a wireless connection for every computer; it's often better to connect some computers through <a class="indexterm" id="idx-CHP-9-0956"/>Ethernet <a class="indexterm" id="idx-CHP-9-0957"/>cables. All of the major access point manufacturers offer combination units that provide both a Wi-Fi access point and one or more wired Ethernet connection points in a single package.<a class="indexterm" id="idx-CHP-9-0958"/><a class="indexterm" id="idx-CHP-9-0959"/></p><p>A wired LAN connection offers several advantages over a Wi-Fi link:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A cable connection can move data more quickly and with less handshaking overhead.</p></li><li class="listitem"><p>When you reduce the number of active Wi-Fi nodes in a network, you also reduce the potential for conflicts among active signals.</p></li><li class="listitem"><p>Wired connections are more secure than Wi-Fi connections because it's more difficult for an unauthorized user to intercept the signal.</p></li><li class="listitem"><p>When you run the access point's configuration and setup program, it's often easier to establish the initial connection through a cable. Indeed, some routers and access points will only accept configuration commands through a cable connection.<a class="indexterm" id="I_indexterm9_d1e10442"/></p></li></ul></div><p>When one or more desktop computers, printers, or servers on your LAN are in the same room as the network router, or if they are accessible through an easy cable run, plan to install a CAT5e or CAT6 Ethernet cable between the router or switch and each computer. Leave the Wi-Fi connections for laptops and other portables and for computers located in rooms that are farther away from the router (such as an upstairs bedroom). If your LAN needs more wired ports than the router/<a class="indexterm" id="idx-CHP-9-0960"/>access point provides, look for a multiport <a class="indexterm" id="idx-CHP-9-0961"/>Ethernet switch that supports at least 100Base-T (100Mbps) connections, and plug it into one of the Ethernet ports on the router. Consult the router's manual for specific instructions on stacking or chaining switches.</p><p>If your network includes one or more fileservers, print servers, and other devices that are shared by the network's users, it's best to use cables rather than wireless links to connect those devices to the network to reduce the amount of wireless traffic. However, this might not be possible for devices such as webcams and other remote sensors that are not close to the router; it's okay to use Wi-Fi to connect such devices to the network.</p><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="access_points_combined_with_hubs_and_gat"/>Access Points Combined with Hubs and Gateway Routers</h2></div></div></div><p>Many manufacturers offer products that combine the functions of a wireless access point with a network hub, switch, or router. Other combination products include network print servers or broadband (cable or DSL) Internet modems along with access points. A combination unit can be an excellent starting point for a new small network or a good way to add both wired and wireless clients to an existing network. Because a combined device doesn't require separate power supplies, cabinets, and interconnecting cables for each function, the cost is likely to be considerably less than the cost of separate components that perform the same jobs. And the convenience of reducing the number of cables tying everything together can be a huge advantage, especially for a small network that doesn't run everything back to a wiring closet.<a class="indexterm" id="idx-CHP-9-0962"/></p><p>To decide whether one of these combination units is the best way to meet your particular requirements, identify those requirements first, and then look at various manufacturers' product catalogs and websites to find a device that comes as close to your needs as possible. Among others, D-Link, Linksys, Netsys, Belkin, and Buffalo all offer a wide variety of access points combined with other functions.</p><p>Installing the access point portion of a combination unit is not much different from installing a standalone access point. Each device uses a proprietary configuration utility that offers a place to set the access point's operating channel, the SSID, and other settings, along with other configuration options that apply to the device's added functions. Once again, the manual provided with each product and the maker's website are the only place to find the specific information needed to complete the configuration and setup routines.</p><p>In most Wi-Fi <a class="indexterm" id="idx-CHP-9-0963"/>networks, the access points are just about invisible in daily operation. They sit on a shelf, or they're on the floor behind a desk, where they move data between client computers and the wired network. After you get the access point up and running, you can just about forget it until you need to change the configuration.</p></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="extending_the_network"/>Extending the Network</h1></div></div></div><p>The original idea behind the Wi-Fi specification was to provide wireless connections to LANs in limited areas such as businesses, homes, and public institutions. Wi-Fi was supposed to be a simple extension of traditional Ethernet to laptops and other computers that could not be conveniently connected through a cable. Other radio services would provide wireless access to the Internet from public spaces.<a class="indexterm" id="idx-CHP-9-0964"/></p><p>That was the plan. But Wi-Fi gear is inexpensive, it doesn't require a license, and it's relatively easy to set up and use. So an entire culture of "guerilla networkers" emerged to develop <a class="indexterm" id="idx-CHP-9-0965"/>alternative uses for the technology that extend the reach of wireless networks beyond their own offices, classrooms, and homes. Hobbyists and <a class="indexterm" id="idx-CHP-9-0966"/>community organizers have installed antennas on rooftops and hillsides where they can reach entire neighborhoods with public or private wireless access to the Internet and create point-to-point data links over distances of several miles. Many colleges and universities have added outdoor wireless access points to their campus-<a class="indexterm" id="idx-CHP-9-0967"/>wide networks. And a handful of cities have started to build public Wi-Fi networks that might eventually cover their entire downtown areas.</p><p>These wide-area Wi-Fi networks have the potential to create some serious competition to the multibillion dollar 3G (third-generation cellular) wireless networks that were supposed to be the next wave of mobile connectivity. If these noncommercial networks that have been thrown together with duct tape and antennas in coffee cans ever come close to providing widespread reliable and cheap wireless network access at 6Mbps, the 3G cellular folks will have a lot of trouble convincing people to buy their expensive 384Kbps services. Therefore, the commercial cellular and wireless network operators are watching the community network movement very carefully.</p><p>It's relatively easy to install and use a Wi-Fi network to move data between buildings or to provide network access to your back yard, parking lot, or other open space. Outdoor antennas are widely available, or if you prefer, you can build your own.</p><p>This chapter contains information about the legal and practical issues related to operating and using a wireless network outside your own property and technical information about outdoor access points and antennas. In <a class="xref" href="ch10.html" title="Chapter 10. LONG RANGE POINT-TO-POINT LINKS">Chapter 10</a>, you can learn how to use Wi-Fi equipment to construct and use long range, point-to-point network links.</p><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="legal_issues"/>Legal Issues</h2></div></div></div><p>Wi-Fi networks do not require licenses, but the FCC and other regulatory agencies have established some rules about the radio transmissions that make those networks possible. Most of these rules exist to minimize the likelihood of interference among wireless networks, cordless phones, and other services that share the same radio frequencies, so nobody has an unfair advantage over nearby users.<a class="indexterm" id="idx-CHP-9-0968"/></p><p>When you're trying to create a Wi-Fi network with the largest possible footprint, rather than just reaching all the computers in your own building, the strength of the radio signals from your access points and network adapters becomes a lot more important. There's a direct relationship between the strength of your signal and the distance it can travel, so it's essential to understand just exactly what the <a class="indexterm" id="idx-CHP-9-0969"/>regulations allow.</p><p>The specific rules that apply to <a class="indexterm" id="idx-CHP-9-0970"/>unlicensed wireless devices appear in Part 15, Section 15.247 of the FCC's regulations. Here's what they say:</p><table border="0" class="simplelist" summary="Simple list"><tr><td>(b) The <a class="indexterm" id="idx-CHP-9-0971"/>maximum peak output power of the intentional radiator shall not exceed the following:</td></tr><tr><td>(1) For frequency hopping systems operating in the 2400-2483.5 MHz band […] and all frequency hopping systems in the 5725-5850 MHz band: 1 watt.</td></tr><tr><td>(3) For systems using digital modulation in the 902-928 MHz, 2400-2483.5 MHz, and 5725-5850 MHz bands: 1 Watt.</td></tr><tr><td>(4) Except as shown in paragraph (c) of this section, if transmitting antennas of directional gain greater than 6 dBi are used the peak output power from the intentional radiator shall be reduced below the stated values in paragraphs (b)(1) or (b)(2) of this section as appropriate, by the amount in dB that the directional gain exceeds 6 dBi.</td></tr><tr><td>(i) Systems operating in the 2400-2483.5 MHz band that are used exclusively for fixed, point-to-point operations may employ transmitting antennas with directional gain greater than 6 dBi provided the <a class="indexterm" id="idx-CHP-9-0972"/>maximum peak output power of the intentional radiator is reduced by 1 dB for every 3 dB that the directional gain of the antenna exceeds 6 dBi.</td></tr><tr><td>Source: <a class="ulink" href="http://www.fcc.gov/Bureaus/Engineering_Technology/Documents/cfr/1998/47cfr15.pdf">http://www.fcc.gov/Bureaus/Engineering_Technology/Documents/cfr/1998/47cfr15.pdf</a>, section 15.247</td></tr></table><p>What does that all mean? First, the rules allow the radio transmitters in access points and network adapters to have a <a class="indexterm" id="idx-CHP-9-0973"/>maximum power of 1 watt. And second, the maximum amount of antenna gain is 6 dBi unless you reduce the transmitter power as you increase the gain. Highly directional point-to-point systems are permitted to use more antenna gain than point-to-multipoint systems. The maximum power <span class="emphasis"><em>to the antenna</em></span> can't be more than 1 watt, but you can use a directional antenna to increase the effective radiated power to 4 watts.</p><p>The rules in other countries might be somewhat different, so you should check with your own country's regulators, especially about the channels and maximum power allowed, but the United States rules should provide some useful guidelines for calculating your equipment's power output and antenna gain.</p><p>When you calculate the output power of a radio, you must also consider the signal loss in the cable between the radio and the antenna. For example, the output of an access point might be 20 dBm (equal to less than half a watt), but a particular cable to the antenna might lose 6 dB at 2.4 GHz.</p><p>Therefore, the antenna would only receive 14 dBm from the radio. That's a lot less than a watt, so there's room for some gain in the antenna.</p><p>The radios built into most Wi-Fi access points and adapters transmit at less than half of a watt, so they're well within the <a class="indexterm" id="idx-CHP-9-0974"/>legal limits unless you connect one to a huge antenna with a tremendous amount of gain. An <a class="indexterm" id="idx-CHP-9-0975"/>RF amplifier between the radio and the antenna could boost power beyond the 1 watt limit, but of course, that would violate the FCC's regulations.</p><p>Two different types of Wi-Fi signal could benefit from more <a class="indexterm" id="idx-CHP-9-0976"/>transmitter power: <a class="indexterm" id="idx-CHP-9-0977"/>point-to-point signals, where the added power could increase the distance between the two sites; and <a class="indexterm" id="idx-CHP-9-0978"/>point-to-multipoint, where increased power at the access point could expand the footprint within which client devices could successfully join the network. A point-to-point link typically uses high-gain directional antennas at both ends; in a point-to-multipoint system, the antenna at the access point usually covers a broad area, but the client adapters might use directional antennas.</p><p>If anything, the FCC's power restrictions on radio transmitters in the 2.4 GHz band are too conservative. It would be nice to be able to push, say, 5 watts into a high-gain antenna to create a clean and reliable data link over a distance of 5 or 10 miles or more, or use a single access point to cover a larger area. But the <a class="indexterm" id="idx-CHP-9-0979"/>telephone companies and communications common carriers who sell data services have enough influence with the regulators to keep the low power rules in place, and stronger signals would create a lot more interference. So the one-watt limit is probably here to stay.</p><p>As a responsible, law-abiding citizen, you should always take those federal regulations very seriously. And as a responsible, law-abiding author and publisher, we would never encourage you to do anything else. However, it's extremely unlikely that a hypothetical individual or small business using a hypothetical high-gain antenna to boost the signal strength of their hypothetical wireless LAN would ever attract any attention from the FCC or other law enforcement types, unless that hypothetical signal created significant interference to somebody else's network or other radio service, or if it attracted attention from a local telephone company or a major Internet service provider. Operating your Wi-Fi network within the FCC's power restrictions is the right thing to do, but that's too bad, because it would not be difficult to boost the strength of your signal.</p><p>As a general rule, the FCC doesn't care to spend its time and resources dealing with interference complaints on unlicensed frequencies like the 2.4 GHz ISM band used by Wi-Fi networks. But the law is the law, so as a matter of principle, nobody with the good sense to buy and read this book would ever consider blatantly boosting the power from their access points and network adapters or using very-high-gain antennas. Of course not.</p><p>Remember that the FCC's rules only apply to the United States. The regulators in other countries have set their own limits, which are sometimes even lower than the American numbers. And their enforcement policies might be a lot more severe. So it's important to consult technical and legal experts with experience in your own country before you try to install a high-gain antenna or an RF amplifier in your network.</p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="outdoor_antennas_and_access_points"/>Outdoor Antennas and Access Points</h2></div></div></div><p>Several <a class="indexterm" id="idx-CHP-9-0980"/>factors contribute to the signal strength (<a class="indexterm" id="idx-CHP-9-0981"/>and therefore the maximum distance) of a radio link between an access point and a network client in a Wi-Fi network:<a class="indexterm" id="idx-CHP-9-0982"/></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Antenna gain</p></li><li class="listitem"><p>Transmitted power</p></li><li class="listitem"><p>Antenna height</p></li><li class="listitem"><p>Cable attenuation</p></li></ul></div><p>Keep in mind that a Wi-Fi link moves data in both directions: from the access point to the network adapter, and from the adapter to the access point. So the antennas and radios in the link must be able to both transmit and receive radio signals. Fortunately, the gain and directional <a class="indexterm" id="idx-CHP-9-0983"/>characteristics of an antenna are identical for both transmitting and receiving, so the same antenna that boosts the effective power of an outbound signal can also increase a receiver's sensitivity to a weak incoming signal.</p><p>An outdoor antenna must also survive in the physical <a class="indexterm" id="idx-CHP-9-0984"/>environment where it is operating. High winds can shift a directional antenna away from the direction it was originally aimed; accumulated ice and snow can block the signal and increase the amount of weight that the physical mounting hardware must support; and sunlight can cause a plastic enclosure to deteriorate. Therefore, many antennas are sealed inside radomes or other <a class="indexterm" id="idx-CHP-9-0985"/>enclosures that offer additional protection. The maximum output power of a Wi-Fi transmitter is less than a watt, so just about any antenna durable enough for outdoor use should be hefty enough to handle the signal without any trouble.</p><p>Antennas for the 2.4 GHz band exist in many shapes and sizes. An <a class="indexterm" id="idx-CHP-9-0986"/>omnidirectional antenna can be a single element just a few inches long, with or without an enclosure. The <a class="indexterm" id="idx-CHP-9-0987"/>antennas built into PCMCIA adapters are even shorter. The most common directional antennas are <a class="indexterm" id="idx-CHP-9-0988"/>yagis (smaller versions of rooftop TV antennas), <a class="indexterm" id="idx-CHP-9-0989"/>patch antennas that resemble smoke detectors, <a class="indexterm" id="idx-CHP-9-0990"/>parabolic reflectors that can be up to three feet high, and large panels with extremely wide aperture angles.</p><p>Remember that a wireless data network uses digital radio signals, so there is absolutely no advantage to using higher power, or a fancy antenna, or placing your antenna on a rooftop, if you can send and receive adequate signals with smaller, cheaper equipment. If an antenna with a moderate amount of gain produces acceptable signals, your data won't be any better or move any faster when you replace it with something bigger and more expensive. And smaller antennas are a lot less conspicuous, which can reduce the likelihood of complaints from neighbors and local zoning agencies.</p><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="antenna_characteristics-id001"/>Antenna Characteristics</h3></div></div></div><p>Wireless network devices use the same antennas for both transmitting and receiving radio signals. An antenna handles a lot more energy when it's transmitting than when it's receiving, but the performance characteristics are identical. The same antenna that increases the effective radiated output power of a transmitted signal also boosts the sensitivity of a receiver by the same amount; an antenna connected to a Wi-Fi access point or network adapter will improve the strength of the radio signals moving in both directions across the radio link. The most important <a class="indexterm" id="idx-CHP-9-0991"/>characteristics that define the performance of an antenna are <span class="emphasis"><em>aperture angle</em></span> <a class="indexterm" id="idx-CHP-9-0992"/>and <span class="emphasis"><em>gain</em></span>.<a class="indexterm" id="idx-CHP-9-0993"/><a class="indexterm" id="idx-CHP-9-0994"/></p><p>The <a class="indexterm" id="idx-CHP-9-0995"/>aperture angle of a directional antenna is the angle or arc within which the antenna radiates or detects energy at maximum power or sensitivity. If, for example, an antenna's <a class="indexterm" id="idx-CHP-9-0996"/>aperture angle is 20 degrees, the window of maximum signal strength extends 10 degrees to each side of the front of the antenna. The signal strength will drop when both antennas in a radio link are not within the aperture angle of the other. <a class="xref" href="ch09s06.html#directional_antennas_can_increase_signal" title="Figure 9-7. Directional antennas can increase signal strength.">Figure 9-7</a> shows the effect of aiming a pair of directional antennas at each other.</p><div class="figure"><a id="directional_antennas_can_increase_signal"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject9_d1e10755"/><img alt="Directional antennas can increase signal strength." src="tagoreillycom20090210nostarchimages254705.png.jpg"/></div></div><p class="title"><b>Figure 9-7. Directional antennas can increase signal strength.</b></p></div><br class="figure-break"/><p>The <a class="indexterm" id="idx-CHP-9-0997"/>specifications for a nondirectional antenna (also called an omnidirectional antenna) don't include an aperture angle, but if they did, the aperture angle would be 360 degrees. Omnidirectional antennas might have a <a class="indexterm" id="idx-CHP-9-0998"/>vertical aperture angle listed; as the <a class="indexterm" id="idx-CHP-9-0999"/>gain of an omnidirectional antenna increases, the vertical range decreases. As the name suggests, the antennas in a point-to-point link should be aimed directly at each other, so their aperture angles can be extremely narrow.</p><p>An antenna's gain is its effective output power or sensitivity relative to a <a class="indexterm" id="idx-CHP-9-1000"/>standard dipole antenna. If you measured the strength of signals from two identical transmitters, or the same signal through two separate receivers, the signal that passes through an antenna with a gain of 3 dBi will be 3 dB stronger than a signal through a reference dipole antenna. The gain of an antenna increases with the size of the antenna and as the signal is focused within a narrow aperture.</p><p>It's useful to think about antenna angles and gain as similar to focused lights. A standard light bulb radiates the same amount of light energy in all directions (except back to the base of the bulb). But if you place a reflector behind one side of the light source, or if you focus the light in a particular direction, the apparent brightness of the light will increase within the target area, but it will look dimmer when you move away from the target area. The <a class="indexterm" id="idx-CHP-9-1001"/>total amount of light radiated by the bulb is the same, but more of that light is concentrated in certain places.</p><p>Radio antennas work the same way, more or less. A <a class="indexterm" id="idx-CHP-9-1002"/>nondirectional antenna will radiate equal amounts of energy in all directions, while a directional antenna can concentrate more energy in some directions than in others.</p><p>Directional antennas with tight aperture angles are useful for point-to-point links, but that's not the only way to take advantage of a directional antenna in a wireless network. When you have a potential problem with interference from other radio signals, it's often helpful to place a directional antenna with the source of interference off axis from the aperture angle so the receiving antenna is much less sensitive to the source of interference than to the signal you want. When you're trying to provide network coverage to your own property while limiting the amount of spillover to your neighbors, you can place one or more directional antennas at the edge of the area you want to reach <a class="indexterm" id="idx-CHP-9-1003"/>and aim the antennas inward.</p><p>An antenna with a greater surface area is more effective than a smaller antenna, but the exact size of the antenna is also extremely important. The ideal antenna for any radio frequency is cut to a length exactly equal to the wavelength of that frequency or some multiple or fraction of that wavelength. So it's important to use an antenna specifically designed for operation at 2.4 GHz (2,400 MHz) with your 802.11b network. An antenna of the correct size will receive Wi-Fi signals far more efficiently than an antenna with a <a class="indexterm" id="idx-CHP-9-1004"/>random length.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="power"/>Power</h3></div></div></div><p>The maximum amount of power produced by a <a class="indexterm" id="idx-CHP-9-1005"/>Wi-Fi radio transmitter is determined by the design of the radio; the people operating the network usually can't adjust it, or if they can, it's most often nothing more than a choice between high and low power. However, the output power of one of those radios is often considerably less than the legal maximum, so it's often possible to increase the amount of power that reaches the antenna without breaking the law.</p><p> You can't boost the amount of power produced by the transmitter, so the only way to increase the power of the signal from a radio in an access point or a network adapter is to place a device called an <a class="indexterm" id="idx-CHP-9-1006"/>RF amplifier (<span class="emphasis"><em>RF</em></span> stands for <span class="emphasis"><em>radio frequency</em></span>) between the radio and the antenna. You can think of an RF amplifier as a black box that takes a low-power radio signal at its input and provides a stronger signal with exactly the same content at the output.</p><p>Some RF amplifiers are designed for use indoors next to the access point, router, or network adapter. Others can be mounted outdoors on the tower or mast next to the antenna. Indoor amplifiers are usually easier to install and maintain, and they're a lot easier to connect to an AC power source, but they're less efficient because a long feed cable to the antenna will absorb some <a class="indexterm" id="idx-CHP-9-1007"/>of the RF power coming out of the amplifier. An amplifier in a weatherproof enclosure near the antenna will supply more power to the antenna, but it will be more difficult to reach when you have to repair or replace it. If you do use an <a class="indexterm" id="idx-CHP-9-1008"/>outdoor amplifier, look for one that obtains DC power through the antenna feed cable.</p><p><a class="indexterm" id="idx-CHP-9-1009"/>HyperLink Technologies <a class="indexterm" id="idx-CHP-9-1010"/>and other manufacturers offer RF amplifiers for use at 2.4 GHz. Many of these devices amplify both inbound <a class="indexterm" id="idx-CHP-9-1011"/>and outbound signals. This is a useful feature because it makes it possible to install an amplifier on just one end of a link and still increase the signal strength in both directions. When you use a <a class="indexterm" id="idx-CHP-9-1012"/>bidirectional amplifier, <span class="emphasis"><em>make sure</em></span> that it is designed for use with the 802.11 standard you are actually using. <a class="indexterm" id="idx-CHP-9-1013"/>Bidirectional amps must determine when a card is transmitting and change the amplifier mode accordingly, since an amplifier designed for 802.11b might not detect an 802.11g card that is transmitting, and it could even damage the device.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="antenna_height"/>Antenna Height</h3></div></div></div><p><a class="indexterm" id="idx-CHP-9-1014"/>Radio signals at 2.4 GHz travel along a line-of-sight path, so you can increase the distance that a signal can travel by raising one or both antennas. That's why it's common practice to place radio antennas on rooftops, hilltops, and tall towers. To compensate for the <a class="indexterm" id="idx-CHP-9-1015"/>curvature of the earth, the average height of the two antennas must increase as the <span class="emphasis"><em>signal path</em></span> (the distance between antennas) gets longer.<a class="indexterm" id="idx-CHP-9-1016"/></p><p><a class="indexterm" id="idx-CHP-9-1017"/>Radio line of sight is actually broader than the visual path between the two antennas. Radio waves travel within a cigar-shaped region called the <span class="emphasis"><em>Fresnel zone</em></span> (pronounced <span class="emphasis"><em>fru-NEL</em></span> zone) that surrounds the direct path between the transmitting and receiving antennas. For the best possible transmission, the Fresnel zone must be free of hills, trees, buildings, and other obstructions.<a class="indexterm" id="idx-CHP-9-1018"/></p><p>The <a class="indexterm" id="idx-CHP-9-1019"/>maximum distance that a wireless network signal can travel depends on the average height of the two antennas, with allowance for the curvature of the earth and the requirement for unobstructed Fresnel zone clearance. <a class="xref" href="ch09s06.html#the_relationship_between_antenna_height_" title="Table 9-2. The Relationship Between Antenna Height and Maximum Signal Path">Table 9-2</a> lists one set of estimated minimum heights required for various distances at 2.4 GHz. Remember that these are estimates, so you might actually move your data over somewhat greater distances.</p><div class="table"><a id="the_relationship_between_antenna_height_"/><p class="title"><b>Table 9-2. The Relationship Between Antenna Height and Maximum Signal Path</b></p><div class="table-contents"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; " summary="The Relationship Between Antenna Height and Maximum Signal Path"><colgroup><col/><col/></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Distance</p></th><th style="border-bottom: 0.5pt solid ; "><p>Average Antenna Height</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1 mile</p></td><td style="border-bottom: 0.5pt solid ; "><p>13 feet</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>3 miles</p></td><td style="border-bottom: 0.5pt solid ; "><p>27 feet</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>5 miles</p></td><td style="border-bottom: 0.5pt solid ; "><p>35 feet</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>8 miles</p></td><td style="border-bottom: 0.5pt solid ; "><p>48 feet</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>10 miles</p></td><td style="border-bottom: 0.5pt solid ; "><p>57 feet</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>15 miles</p></td><td style="border-bottom: 0.5pt solid ; "><p>83 feet</p></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>20 miles</p></td><td style=""><p>115 feet</p></td></tr></tbody></table></div></div><br class="table-break"/><p>Note that the <a class="indexterm" id="idx-CHP-9-1020"/>height of the two antennas is the average <a class="indexterm" id="idx-CHP-9-1021"/>height above average terrain: If one antenna is higher than the average height, the other antenna can be closer <a class="indexterm" id="idx-CHP-9-1022"/>to the ground. For example, if one end of a five-mile link is on a hillside or on the roof of an eight-story building, the other end of the link could be close to ground level if there are no obstructions between the two locations. If one antenna is on a mountaintop, the <a class="indexterm" id="idx-CHP-9-1023"/>maximum signal path might be several times greater.<a class="indexterm" id="idx-CHP-9-1024"/></p><p>When you're trying to provide Wi-Fi network coverage to a large area, it's more efficient to place the access point's antenna as high as possible rather than trying to raise a lot of antennas connected to individual computers. On the other <a class="indexterm" id="idx-CHP-9-1025"/>hand, if you're trying to connect just one or two computers to a distant access point, it could be better to place the antennas connected to their network adapters on a rooftop.</p><p>For a really long Wi-Fi link, you will want to place both antennas as high as possible, but unless you're trying to provide access to a remote mountaintop or something like that, there's probably a better <a class="indexterm" id="idx-CHP-9-1026"/>and more reliable way to create a broadband connection to the Internet or your own LAN.</p></div><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="cable_attenuation"/>Cable Attenuation</h3></div></div></div><p>The cable that carries a radio signal from a radio transmitter to an antenna, or from the antenna to a receiver, is not a perfectly efficient transmission medium; every foot of cable absorbs a small but measurable amount of power. So the amount of power that reaches the antenna drops as the cable length increases.<a class="indexterm" id="idx-CHP-9-1027"/></p><p>The effect of cable attenuation on a short cable is usually insignificant, but it can make a huge difference over longer runs. If the antenna is high on a tower or rooftop, or if you're trying to estimate the antenna gain necessary for a long point-to-point link, you must allow for cable loss when you calculate the strength of the signal reaching the antenna. The amount of loss in a particular type of cable depends on the diameter of the cable and the materials used to produce the cable. The specifications for each type of cable will include the amount of attenuation, often expressed in dB per 100 feet at different operating frequencies.</p><p>If the cable loss is rated at 6.80 dB at 2,500 MHz, you can estimate that a 20-foot cable at 2.4 GHz (2,400 MHz) will lose about 1.3 dB (20 ft = 100 ft x 0.2; 0.2 x 6.80 dB = ~1.3 dB). If the output power from an access point or network adapter is 20 dBm (100 milliwatts), the antenna will only receive 18.7 dBm (74.1 milliwatts) through that cable. So when you push that signal through an antenna with a gain of 6 dBi, the effective radiated power would be about 24.7 dB (20 – 1.3 + 6 = 24.7), or about 295 milliwatts.</p><p>Every foot of feed cable increases the amount of cable loss, so you should place your access points and network adapters as close to the antenna as possible. If the antenna is mounted on a roof or the wall of a building, try to place the radio in a nearby equipment closet or other space where you have access to AC power and your Ethernet cables. It's a lot more efficient to run a longer Ethernet cable to the access point and a shorter antenna feed cable.</p><p>When you install an antenna feed cable, it's good practice <a class="indexterm" id="idx-CHP-9-1028"/>to allow a little slack at each end to make it easier to connect <a class="indexterm" id="idx-CHP-9-1029"/>and disconnect the cable from the antenna <a class="indexterm" id="idx-CHP-9-1030"/>and the radio. But don't leave a lot of excess cable coiled up on the floor just because the premade cable is longer than you need. All that cable wastes signal with no compensating benefit.</p><p>Each coupler or connector in the cable run is also a point of loss; a typical guideline is 0.3 dB of loss per connector, so a short pigtail connector from a wireless card to a standard antenna connector would include two <a class="indexterm" id="idx-CHP-9-1031"/>connectors, then both ends of the long cable run would have two more, and the connector on the antenna itself would be a fifth point of loss. Therefore, in addition to the loss of the cabling itself, you will have an additional 1.5 dB of loss due to connectors. Whenever possible, keep the number of <a class="indexterm" id="idx-CHP-9-1032"/>connectors in your antenna <a class="indexterm" id="idx-CHP-9-1033"/>cable to a minimum.</p></div></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="campus_networks"/>Campus Networks</h2></div></div></div><p>A campus network usually provides wireless access to the Internet, and sometimes to a LAN, for users in two or more buildings, and to the outdoor spaces that surround those buildings. A campus network can exist on a college or university campus, but the same kind of planning and design can also apply to other locations. For example, a campus network might also operate in an office park or an industrial park, in a public space such as a green park or a shopping and entertainment center, or even a farm or a marina. Several cities have installed campuslike networks to provide public Internet access throughout their <a class="indexterm" id="idx-CHP-9-1034"/>central business districts. Another form of temporary campuslike network might exist at a special event such as a music festival, a Boy or Girl Scout jamboree, or a gathering of old-car enthusiasts. They're also common at flea markets and swap meets where many people want to use the Internet to consult specialty websites before they decide to buy.<a class="indexterm" id="idx-CHP-9-1035"/></p><p>The simplest campus networks occur by accident: The radio signals from the access points that provide network service to the interior of a building don't stop at the building's walls, so a user in the parking lot or the back yard can also establish wireless access to the network. A larger and more complex campus network might have additional access points in locations specifically chosen to reach network clients on the college lawn or the coffee shop across the street.</p><p>A campus network might be a complement to a set of wireless links that connect two or more buildings to the same network, but it's not the same thing; a campus network should provide broad coverage to a lot of outdoor space, while a point-to-point link simply extends a single LAN to spaces inside several buildings.</p><div class="sect3" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="setting_up_a_campus_network"/>Setting Up a Campus Network</h3></div></div></div><p>In general, the same rules apply to a campus network that you would use in designing a <a class="indexterm" id="idx-CHP-9-1036"/>Wi-Fi network that serves a single building. Choose locations for your access points that will provide signals to as much of the area as possible, and allow for some overlap from one footprint to each adjacent footprint. Each pair of overlapping coverage areas should use a different radio channel.<a class="indexterm" id="I_indexterm9_d1e11119"/><a class="indexterm" id="I_indexterm9_d1e11124"/></p><p>When you're setting up an outdoor network to provide Wi-Fi access to the Internet, remember to place your Internet modem and first access point close to a source of electric power and within a short <a class="indexterm" id="idx-CHP-9-1037"/>cable run to a telephone line or other Internet point of presence. If possible, place the antenna within a clean line of sight to campsites, picnic tables, and backstage areas (as appropriate) where your users will want to use their laptop computers.</p><p>In almost every case, the access points that serve an outdoor network should connect to external antennas rather than the captive antennas built into many access points designed <a class="indexterm" id="idx-CHP-9-1038"/>for indoor use. Choose the antenna with the best characteristics for your particular needs, and use a waterproof cable to connect it to an access point located out of the weather.</p></div></div></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="connecting_the_access_points_to_a_lan_an"/>Connecting the Access Points to a LAN and the Internet</h1></div></div></div><p>If your access points are all located in buildings that already have network service, you can treat the access points with outdoor antennas as a simple extension of the existing network. But if you don't already have a network connection at your access point, you'll have to create one.<a class="indexterm" id="idx-CHP-9-1039"/></p><p>To connect your <a class="indexterm" id="idx-CHP-9-1040"/>campus network to a LAN or the Internet, you must provide a point of network presence for every access point. The connection can be through an <a class="indexterm" id="idx-CHP-9-1041"/>Ethernet cable, a data circuit leased from the telephone company, or a point-to-point radio link.</p><p>Every access point requires a source of electric power, but it's not always necessary to run a long extension cord from the nearest AC outlet. Many access point manufacturers offer a <a class="indexterm" id="idx-CHP-9-1042"/>power over Ethernet option that carries power for the access points through the same cable that carries the Ethernet data. And don't forget solar power as a possible alternative.</p><p>Ethernet cables are easy to connect to an access point, but they're not the best choice for links between buildings except in very specific situations. First, you must have a secure path for the cable to follow; you can't just string the cable through the trees or run it across the lawn. On a college campus, it's sometimes possible to run cables through steam or other utility tunnels, but that's not practical in most other locations. Even if you have a way to route the cable from one building to another, the maximum practical distance for a 10Base-T or 100Base-T twisted pair cable connection is only about 100 meters. If your access point is more than a hundred meters from the network hub, you'll have to add one or more repeaters to the line or replace the twisted pair cable with a fiber optic connection. Either way, the cost is probably greater than using a radio link or <a class="indexterm" id="idx-CHP-9-1043"/>connecting each access point to a separate Internet router and assigning the same SSID to each network.</p><p>Sometimes the ideal location for an access point is on a building that has existing Internet service, but it's not part of the LAN you want to use for your campus network. In that case, you can set up a VPN link that creates a "tunnel" through the Internet back to your own network. The access point will pass data to and from your own network through the VPN just as if it was connected through a short cable.<a class="indexterm" id="I_indexterm9_d1e11179"/></p><p>The third alternative is often the most practical choice. Use point-<a class="indexterm" id="idx-CHP-9-1044"/>to-point wireless links between the network hub and each of your remote access points. Outdoor routers and related hardware and software that are designed specifically <a class="indexterm" id="idx-CHP-9-1045"/>for this purpose are available from Cisco, D-Link, and many other suppliers.</p></div>
<div class="sect1" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="networking_your_neighborhood"/>Networking Your Neighborhood</h1></div></div></div><p>Someplace between the relative simplicity of a home-based wireless network and a complex campus network, you might want to think about extending your own home or small-business network: You can share a high-speed Internet connection with one or more nearby neighbors or allow your employees to take their laptop computers to the coffee shop next door. If you or your children like to play multiplayer games with the family next door, or if you want to go online from your Palm handheld or Pocket PC while schmoozing with your neighbors at the annual block party, a <a class="indexterm" id="idx-CHP-9-1046"/>neighborhood network might be the way to go.<a class="indexterm" id="idx-CHP-9-1047"/></p><p>But before you decide to hang an antenna on your roof, consider exactly what you want to accomplish with your neighborhood network and how you plan to maintain security in the rest of your network. If you're trying to add a particular location to your network (such as a particular neighbor's house, or the cafe that has become your de facto branch office), use a directional antenna that will focus your signal to the specific location you want to reach. On the other hand, if you want to provide an Internet hot spot for everybody within half a block or more, you can place a high-gain nondirectional antenna at the highest point on your own building. If you're using the same LAN for both in-house and neighborhood use, make sure a firewall keeps your own computers separate from the public portion of the network.</p><p>If your network adapter has a connector for an external antenna, you might want to either buy or build a directional antenna that you can point toward the community network's nearest access point. It's quite possible that you will discover nearby signals that were not detected by the low-gain omnidirectional antenna built into the adapter.</p><p>Many neighborhood network initiatives use an alternate distribution method, called <a class="indexterm" id="idx-CHP-9-1048"/>wireless distribution system (<a class="indexterm" id="idx-CHP-9-1049"/>WDS) or mesh. In a <a class="indexterm" id="idx-CHP-9-1050"/>mesh network, each access point connects to other access points that are in wireless range, and it provides access to clients. Mesh networks trade raw speed for ease of connectivity—when additional access or range is required, simply turn on another access point. But remember that each access point in the mesh that does not also have a dedicated Internet connection can reduce the bandwidth by up to half.</p><p>Several free and commercial mesh solutions exist, as well as the standard WDS supported by many routers. Typically all access points in a WDS or mesh network must be the same brand to properly connect.</p><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="keeping_your_isp_happy"/>Keeping Your ISP Happy</h2></div></div></div><p>It seems like a perfectly logical idea: Share your high-speed cable modem or DSL service with your next-door neighbor, and split the cost. Or let everybody in your apartment building or on your suburban block share a single wireless network.</p><p>But consider the potential aggravation factor of dealing with your <a class="indexterm" id="idx-CHP-9-1051"/>Internet service provider, who might view your generous sharing of a cable or DSL account as a threat to its (real or potential) revenue stream and a violation of its terms of service. Some major ISPs have specific policies that do not allow customers to share connections through <a class="indexterm" id="idx-CHP-9-1052"/>neighborhood networks. Many other ISPs don't care, and a few even encourage the practice.</p><p>The ISPs are legitimately concerned that <a class="indexterm" id="idx-CHP-9-1053"/>neighborhood networks might generate a lot more demand <a class="indexterm" id="idx-CHP-9-1054"/>for network <a class="indexterm" id="idx-CHP-9-1055"/>bandwidth than a single user connection. When you design and construct a communications network, you calculate the maximum capacity of your network based on predicted peak demand. If you get it right, your network can handle the demand with enough capacity to spare for emergencies, but if the demand increases beyond your expectations, the whole system overloads and you have to add more capacity.</p><p>This kind of planning applies to telephone systems, highways, and even streetcar lines, as well as Internet connections. If you have enough streetcars (or bandwidth) to handle your rush hour traffic, the system runs efficiently and the number of dimes and quarters in the fare box should cover your expenses. But when a big new factory opens at one end of the line, 500 more passengers suddenly want to use your system. Unless you add more capacity, the cars are too crowded and everybody complains.</p><p>Experience can give you a pretty accurate idea of how much demand will exist at any given moment—you might not know exactly who is online at 10:15 on a Tuesday morning, but you can predict how many streetcars or how much bandwidth you will need to handle the demand.</p><p>In the case of an Internet account, the ISP has built enough bandwidth to handle the peak demand (in an office, it's probably first thing in the morning and at lunchtime; in a residential neighborhood, it's after school). But if that demand doubles, they'll have to buy and install more equipment and find a source of revenue to pay for it. They want to prevent the kind of unexpected additional demands for bandwidth that can break down the whole system, or, more accurately, they want to know about it and plan (and charge) accordingly.</p><p>You have three choices: Ask your ISP if it has a policy on <a class="indexterm" id="idx-CHP-9-1056"/>shared connections and follow its guidelines (which might mean finding a different ISP); go ahead and install your neighborhood access points and hope the telephone company, cable service, or other ISP doesn't find out about it; or investigate a commercial connection type such as synchronous DSL or even a T1-class line, which will cost more but should have less restrictive terms of use.</p></div><div class="sect2" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="network_security_everybody_is_your_neigh"/>Network Security: Everybody Is Your Neighbor</h2></div></div></div><p>The most basic configuration of a neighborhood network is a single access point with a wide coverage footprint and an unprotected connection to the Internet. Anybody with a network adapter within range of your signal can use your network to exchange data through the Internet. That includes the family next door, but it also includes the guy in the van parked on the street who's using your network to download pornography.</p><p>Unless you are intentionally creating a public Internet hot spot for everybody who comes along, you should use some of the security tools built into the Wi-Fi specifications. <a class="xref" href="ch12.html" title="Chapter 12. WIRELESS NETWORK SECURITY">Chapter 12</a> covers security in more detail, but here are the most important security tools:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Turn on WEP or WPA key encryption. This one is crucial. It's true that a dedicated intruder can crack a WEP key in less than an hour, but it does discourage the casual drive-by user and serves as a "do not disturb" sign.</p></li><li class="listitem"><p>Use MAC address filtering to restrict access to your network to specific network adapters. Again, it's not difficult to spoof a MAC address with the right software, but it's one more impediment to unauthorized access.</p></li><li class="listitem"><p>Turn off the DHCP function that automatically assigns a numeric IP address to each client, and assign a specific address to each authorized user.</p></li><li class="listitem"><p>Turn on the firewall function in your access point or router.</p></li><li class="listitem"><p>Use an external server or a firewall that forces each user to supply a username and password before it connects them to the Internet.</p></li><li class="listitem"><p>Use a VPN.</p></li></ul></div><p>If you're using the same network to link two or more of your own computers, use a firewall to isolate that part of the network from the public access point. Encourage all of the legitimate users of your network to pay close attention to file sharing so they don't allow outsiders to read or write the data stored on their computers. Also, be sure to change the access point's administrative password. Do not use <span class="emphasis"><em>admin</em></span> or any other widely used default password. An intruder who breaks into your access point can cause massive damage to your network.<a class="indexterm" id="I_indexterm9_d1e11310"/><a class="indexterm" id="I_indexterm9_d1e11315"/><a class="indexterm" id="I_indexterm9_d1e11318"/></p></div></div></body></html>