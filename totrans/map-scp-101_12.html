<html><head></head><body><div class="appendix" title="Appendix&#xA0;B.&#xA0;MAPSTRACTION REFERENCE"><div class="titlepage"><div><div><h1 class="title"><a id="mapstraction_reference"/>Appendix B. MAPSTRACTION REFERENCE</h1></div></div></div><div class="informalfigure"><div class="mediaobject"><a id="I_mediaobject_d1e16176"/><img src="httpatomoreillycomsourcenostarchimages671943.png.jpg" alt="image with no caption"/></div></div><p>The Mapstraction library makes it easy to create maps that work with any provider. This appendix provides details of Mapstraction's many classes and functions. Use it as a reference as you develop your own maps.<a id="IDX-APP-B-0215" class="indexterm"/><a id="IDX-APP-B-0216" class="indexterm"/><a id="IDX-APP-B-0217" class="indexterm"/><a id="IDX-APP-B-0218" class="indexterm"/><a id="IDX-APP-B-0219" class="indexterm"/><a id="IDX-APP-B-0220" class="indexterm"/></p><p>This appendix is organized by Mapstraction class—the way the library itself is separated. Within each class, I've covered its constructor, other functions, and any class variables. The classes include:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">mxn.Mapstraction</code>, the main class used to create and control the map</p></li><li class="listitem"><p><code class="literal">mxn.BoundingBox</code>, used to describe rectangular areas (bounds)</p></li><li class="listitem"><p><code class="literal">mxn.LatLonPoint</code>, a class for storing and referencing a single coordinate</p></li><li class="listitem"><p><code class="literal">mxn.Marker</code>, which maintains data for a single point of interest</p></li><li class="listitem"><p><code class="literal">mxn.Polyline</code>, a class for collections of connected points (shapes or lines)</p></li><li class="listitem"><p><code class="literal">mxn.util</code>, a utility class for useful functions</p></li></ul></div><p>The contents of this section are based on the official documentation generated from the Mapstraction source files. Though I have expanded most sections with examples and more detailed descriptions, a big thanks goes out to the Mapstraction developer community for maintaining the docs.<a id="IDX-APP-B-0221" class="indexterm"/><a id="IDX-APP-B-0222" class="indexterm"/><a id="IDX-APP-B-0223" class="indexterm"/><a id="IDX-APP-B-0224" class="indexterm"/></p><p>As with all things Mapstraction, you can find the latest documentation at <a class="ulink" href="http://mapstraction.com">http://mapstraction.com</a>.</p><div class="sect1" title="Class mxn.Mapstraction"><div class="titlepage"><div><div><h1 class="title"><a id="class_mxn.mapstraction"/>Class mxn.Mapstraction</h1></div></div></div><p>This is the main class; it's always your first stop with Mapstraction. You use <code class="literal">mxn.Mapstraction</code> to create a map object which then provides the main interface through which the map is altered.</p><p>In this section, you'll find the constructor, which makes a new map object. The other functions are used to perform map-level actions, such as setting the center and adding layers to the map. Much of this class is covered in <a class="xref" href="ch01.html" title="Chapter 1. MAPPING BASICS">Chapter 1</a>.</p><div class="sect2" title="Function mxn.Mapstraction"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.mapstraction"/>Function mxn.Mapstraction</h2></div></div></div><p>This is the constructor for the <code class="literal">Mapstraction</code> class. The function initiates a map with some API choice into the HTML element given. Every Mapstraction map will begin with this line:</p><a id="I_programlisting_d1e16274"/><pre class="programlisting">mxn.Mapstraction(<em class="replaceable"><code>element</code></em>, <em class="replaceable"><code>api</code></em>, <em class="replaceable"><code>debug</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>element</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> An HTML DOM element or the <code class="literal">id</code> of an HTML DOM element which will contain the map.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>api</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> Mapstraction's name for the API to use. Options include: <code class="literal">'cloudmade'</code>, <code class="literal">'geocommons'</code>, <code class="literal">'google'</code>, <code class="literal">'googlev3'</code>, <code class="literal">'map24'</code>, <code class="literal">'mapquest'</code>, <code class="literal">'microsoft'</code>, <code class="literal">'multimap'</code>, <code class="literal">'openlayers'</code>, <code class="literal">'openstreetmap'</code>, and <code class="literal">'yahoo'</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>debug</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> An optional parameter to turn on debugging support. If this parameter is true, Mapstraction will use alert panels for unsupported actions. This may be useful during development, but is not useful for production. Defaults to false.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns"/>Returns</h3></div></div></div><p>The Mapstraction object, which can be used to make calls to <code class="literal">mxn.Mapstraction</code> fields and methods. Referred to in this section as <code class="literal">mxnobj</code>.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example"/>Example</h3></div></div></div><a id="I_programlisting_d1e16365"/><pre class="programlisting">var mxnobj = new mxn.Mapstraction('mymap', 'googlev3');</pre></div></div><div class="sect2" title="Function addControls"><div class="titlepage"><div><div><h2 class="title"><a id="function_addcontrols"/>Function addControls</h2></div></div></div><p>This function adds multiple controls, such as zoom and map type, to the map, using only one call. You can specify which controls to add in the object that is the only argument.<a id="IDX-APP-B-0225" class="indexterm"/><a id="IDX-APP-B-0226" class="indexterm"/></p><a id="I_programlisting_d1e16378"/><pre class="programlisting">mxnobj.addControls(<em class="replaceable"><code>args</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>args</code></em></code></strong> <span class="strong"><strong>(object)</strong></span> Which map controls to display. Options include: <code class="literal">pan</code>, <code class="literal">zoom</code> (<code class="literal">'large'</code> or <code class="literal">'small'</code>), <code class="literal">overview</code>, <code class="literal">scale</code>, and <code class="literal">map_type</code>. Except for <code class="literal">zoom</code>, all options are booleans (<code class="literal">true</code> or <code class="literal">false</code>).</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id1"/>Example</h3></div></div></div><a id="I_programlisting_d1e16429"/><pre class="programlisting">mxnobj.addControls({map_type: true, zoom: 'small'});</pre></div></div><div class="sect2" title="Function addFilter"><div class="titlepage"><div><div><h2 class="title"><a id="function_addfilter"/>Function addFilter</h2></div></div></div><p>This function adds a marker filter to automatically show or hide markers based on attributes you have created. The <code class="literal">addFilter</code> function prepares a filter and requires <code class="literal">doFilter</code> to perform the filtering. To learn more about Mapstraction's filtering options, see <a class="xref" href="ch02s09.html" title="#9: Filter Out Certain Markers">#9: Filter Out Certain Markers</a> in <a class="xref" href="ch02s09.html" title="#9: Filter Out Certain Markers">#9: Filter Out Certain Markers</a>.</p><a id="I_programlisting_d1e16446"/><pre class="programlisting">mxnobj.addFilter(<em class="replaceable"><code>name</code></em>, <em class="replaceable"><code>operator</code></em>, <em class="replaceable"><code>value</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id1"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>name</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the attribute to place a filter on. Added via <em class="replaceable"><code>markerobject</code></em><code class="literal">.addAttribute</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>operator</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The operator used to compare the attribute to a value. Options include: <code class="literal">'ge'</code> (greater than or equal), '<code class="literal">le'</code> (less than or equal), or <code class="literal">'eq'</code> (equal).</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>value</code></em></code></strong> <span class="strong"><strong>(number, string)</strong></span> The value to compare against.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id2"/>Example</h3></div></div></div><a id="I_programlisting_d1e16502"/><pre class="programlisting">mxnobj.addFilter('age', 'ge', 21);
mxnobj.doFilter();</pre></div></div><div class="sect2" title="Function addImageOverlay"><div class="titlepage"><div><div><h2 class="title"><a id="function_addimageoverlay"/>Function addImageOverlay</h2></div></div></div><p>This function adds a geo-referenced image on top of the map at the given location. The graphic is displayed on top of the map imagery, but below markers and polylines, so it can be used as replacement or augmented imagery.<a id="IDX-APP-B-0227" class="indexterm"/><a id="IDX-APP-B-0228" class="indexterm"/></p><p>To ensure your image covers the correct area, you will need to <span class="emphasis"><em>rectify</em></span> it, as shown in <a class="xref" href="ch04s10.html" title="#25: Overlay an Image on a Map">#25: Overlay an Image on a Map</a> in <a class="xref" href="ch04s10.html" title="#25: Overlay an Image on a Map">#25: Overlay an Image on a Map</a>.</p><a id="I_programlisting_d1e16524"/><pre class="programlisting">mxnobj.addImageOverlay(<em class="replaceable"><code>unique</code></em>, <em class="replaceable"><code>url</code></em>, <em class="replaceable"><code>opacity</code></em>, <em class="replaceable"><code>west</code></em>, <em class="replaceable"><code>south</code></em>, <em class="replaceable"><code>east</code></em>, <em class="replaceable"><code>north</code></em>);</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id2"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>unique</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> A unique identifier for this overlay, used as the DOM <code class="literal">id</code> for the new object added to the map.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>url</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The file location of the image to overlay. This URL can be local or remote, and the file can be any format supported by your browser. Transparent graphics (such as PNG files) work best for augmenting (rather than replacing) map imagery.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>opacity</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> A value between 0 (transparent) and 100 (completely opaque) to determine how much of the original map imagery shows behind your graphic.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>west</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The longitude of the most western point of the graphic's bounding box.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>south</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The latitude of the most southern point of the graphic's bounding box.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>east</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The longitude of the most eastern point of the graphic's bounding box.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>north</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The latitude of the most northern point of the graphic's bounding box.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id3"/>Example</h3></div></div></div><a id="I_programlisting_d1e16614"/><pre class="programlisting">mxnobj.addImageOverlay('centralpark', 'centralpark.png', 100,
                       −73.9867415, 40.7622753, −73.9460798, 40.8032834);</pre></div></div><div class="sect2" title="Function addLargeControls"><div class="titlepage"><div><div><h2 class="title"><a id="function_addlargecontrols"/>Function addLargeControls</h2></div></div></div><p>This function adds a provider's large zoom controls to the map. In some cases it may also include other controls, such as panning controls and a scale.</p><a id="I_programlisting_d1e16621"/><pre class="programlisting">mxnobj.addLargeControls()</pre></div><div class="sect2" title="Function addMapTypeControls"><div class="titlepage"><div><div><h2 class="title"><a id="function_addmaptypecontrols"/>Function addMapTypeControls</h2></div></div></div><p>This function allows users to select from the map types available using the provider's controls.<a id="IDX-APP-B-0229" class="indexterm"/><a id="IDX-APP-B-0230" class="indexterm"/><a id="IDX-APP-B-0231" class="indexterm"/></p><a id="I_programlisting_d1e16637"/><pre class="programlisting">mxnobj.addMapTypeControls()</pre></div><div class="sect2" title="Function addMarker"><div class="titlepage"><div><div><h2 class="title"><a id="function_addmarker"/>Function addMarker</h2></div></div></div><p>This function adds a marker object (previously created using <code class="literal">mxn.Marker</code>) to the map based on the criteria in the marker object. Common options for markers are covered in <a class="xref" href="ch02.html" title="Chapter 2. PLOTTING MARKERS AND MESSAGE BOXES">Chapter 2</a>.</p><a id="I_programlisting_d1e16649"/><pre class="programlisting">mxnobj.addMarker(<em class="replaceable"><code>marker</code></em>);</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id1"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>marker</code></em></code></strong> (<strong class="userinput"><code>mxn.Marker</code></strong>) The marker to be added to the map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id4"/>Example</h3></div></div></div><a id="I_programlisting_d1e16669"/><pre class="programlisting">var mk = new mxn.Marker(new mxn.LatLonPoint(45, −122));
mxnobj.addMarker(mk);</pre></div></div><div class="sect2" title="Function addMarkerWithData"><div class="titlepage"><div><div><h2 class="title"><a id="function_addmarkerwithdata"/>Function addMarkerWithData</h2></div></div></div><p>This function adds a marker object (previously created using <code class="literal">mxn.Marker</code>) to the map with a collection of options.</p><a id="I_programlisting_d1e16679"/><pre class="programlisting">mxnobj.addMarkerWithData(<em class="replaceable"><code>marker</code></em>, <em class="replaceable"><code>options</code></em>);</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id3"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>marker</code></em></code></strong> (<strong class="userinput"><code>mxn.Marker</code></strong>) The marker to be added to the map.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>options</code></em></code></strong> <span class="strong"><strong>(object)</strong></span> A hash object of options for the marker, including <code class="literal">draggable</code>, <code class="literal">groupName</code>, <code class="literal">hover</code>, <code class="literal">hoverIcon</code>, <code class="literal">infoBubble</code>, <code class="literal">icon</code>, <code class="literal">iconShadow</code>, <code class="literal">infoDiv</code>, <code class="literal">label</code>, and <code class="literal">openBubble</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id5"/>Example</h3></div></div></div><a id="I_programlisting_d1e16741"/><pre class="programlisting">var mk = new mxn.Marker(new mxn.LatLonPoint(45, −122));
var opt = {infoBubble: 'Message box content', draggable: false};
mxnobj.addMarkerWithData(mk, opt);</pre></div></div><div class="sect2" title="Function addOverlay"><div class="titlepage"><div><div><h2 class="title"><a id="function_addoverlay"/>Function addOverlay</h2></div></div></div><p>This function adds a GeoRSS or KML overlay to the map. Both data formats are covered in detail in <a class="xref" href="ch08.html" title="Chapter 8. DATA FORMATS">Chapter 8</a>.<a id="IDX-APP-B-0232" class="indexterm"/><a id="IDX-APP-B-0233" class="indexterm"/><a id="IDX-APP-B-0234" class="indexterm"/></p><a id="I_programlisting_d1e16760"/><pre class="programlisting">mxnobj.addOverlay(<em class="replaceable"><code>url</code></em>, <em class="replaceable"><code>autoCenterAndZoom</code></em>);</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id4"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>url</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The full, public URL to a GeoRSS or KML file.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>autoCenterAndZoom</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> Whether to automatically center the map on the overlay content. Defaults to <code class="literal">false</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id6"/>Example</h3></div></div></div><a id="I_programlisting_d1e16794"/><pre class="programlisting">mxnobj.addOverlay('http://mapscripting.com/example.kml');</pre></div></div><div class="sect2" title="Function addPolyline"><div class="titlepage"><div><div><h2 class="title"><a id="function_addpolyline"/>Function addPolyline</h2></div></div></div><p>This function adds a polyline object (previously created using <code class="literal">mxn.Polyline</code>) to the map based on the criteria in the polyline object. Common options for polylines are covered in <a class="xref" href="ch04.html" title="Chapter 4. LAYER IT ON">Chapter 4</a>.</p><a id="I_programlisting_d1e16806"/><pre class="programlisting">mxnobj.addPolyline(<em class="replaceable"><code>polyline</code></em>);</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id2"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>polyline</code></em></code></strong> (<strong class="userinput"><code>mxn.Polyline</code></strong>) The polyline to be added to the map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id7"/>Example</h3></div></div></div><a id="I_programlisting_d1e16826"/><pre class="programlisting">var poly = new mxn.Polyline(
 [new mxn.LatLonPoint(45, −122), new mxn.LatLonPoint(46, −121)]);
mxnobj.addPolyline(poly);</pre></div></div><div class="sect2" title="Function addPolylineWithData"><div class="titlepage"><div><div><h2 class="title"><a id="function_addpolylinewithdata"/>Function addPolylineWithData</h2></div></div></div><p>This function adds a polyline object (previously created using <code class="literal">mxn.Polyline</code>) to the map, along with a collection of options.</p><a id="I_programlisting_d1e16836"/><pre class="programlisting">mxnobj.addPolylineWithData(<em class="replaceable"><code>polyline</code></em>, <em class="replaceable"><code>options</code></em>);</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id5"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>polyline</code></em></code></strong> (<strong class="userinput"><code>mxn.Polyline</code></strong>) The polyline to be added to the map.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>options</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> A hash object of options for the polyline, including <code class="literal">closed</code>, <code class="literal">color</code>, <code class="literal">fillColor</code>, <code class="literal">opacity</code>, and <code class="literal">width</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id8"/>Example</h3></div></div></div><a id="I_programlisting_d1e16883"/><pre class="programlisting">var poly = new mxn.Polyline(
          [new mxn.LatLonPoint(45, −122), new mxn.LatLonPoint(46, −121)]);
var opt = {color: '#ffcc99', width: 3};
mxnobj.addPolylineWithData(poly, opt);</pre></div></div><div class="sect2" title="Function addSmallControls"><div class="titlepage"><div><div><h2 class="title"><a id="function_addsmallcontrols"/>Function addSmallControls</h2></div></div></div><p>This function adds a provider's small zoom controls to the map. In some cases, it may also include the small versions of other controls, such as panning.<a id="IDX-APP-B-0235" class="indexterm"/><a id="IDX-APP-B-0236" class="indexterm"/></p><a id="I_programlisting_d1e16896"/><pre class="programlisting">mxnobj.addSmallControls()</pre></div><div class="sect2" title="Function addTileLayer"><div class="titlepage"><div><div><h2 class="title"><a id="function_addtilelayer"/>Function addTileLayer</h2></div></div></div><p>This function adds a tile layer to the map using a parameterized URL. Covered in depth in <a class="xref" href="ch04s11.html" title="#26: Use Custom Tiles">#26: Use Custom Tiles</a> in <a class="xref" href="ch04s11.html" title="#26: Use Custom Tiles">#26: Use Custom Tiles</a>.</p><a id="I_programlisting_d1e16907"/><pre class="programlisting">addTileLayer(<em class="replaceable"><code>tile_url</code></em>, <em class="replaceable"><code>opacity</code></em>, <em class="replaceable"><code>copyright</code></em>, <em class="replaceable"><code>min_zoom</code></em>, <em class="replaceable"><code>max_zoom</code></em>, <em class="replaceable"><code>map_type</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id6"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>tile_url</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The URL template for tiles. Requires a parameterized URL for <code class="literal">{X}</code> and <code class="literal">{Y}</code> coordinates and zoom level <code class="literal">{Z}</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>opacity</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> A decimal value between 0 (transparent) and 1 (completely opaque) to determine how much of the original map imagery shows behind your tile layer.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>copyright</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> Text to include in the copyright of the map.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>min_zoom</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> Minimum zoom level where the tile layer is visible.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>max_zoom</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> Maximum zoom level where the tile layer is visible.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>map_type</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> <code class="literal">true</code> if the tile layer is a selectable map type in the layers palette. Defaults to <code class="literal">false</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id9"/>Example</h3></div></div></div><a id="I_programlisting_d1e16998"/><pre class="programlisting">mxnobj.addTileLayer('http://tile.openstreetmap.org/{Z}/{X}/{Y}.png',
                     1.0, "OSM", 1, 19, true);</pre></div></div><div class="sect2" title="Function applyOptions"><div class="titlepage"><div><div><h2 class="title"><a id="function_applyoptions"/>Function applyOptions</h2></div></div></div><p>This function applies the current options settings.<a id="IDX-APP-B-0237" class="indexterm"/><a id="IDX-APP-B-0238" class="indexterm"/><a id="IDX-APP-B-0239" class="indexterm"/><a id="IDX-APP-B-0240" class="indexterm"/><a id="IDX-APP-B-0241" class="indexterm"/></p><a id="I_programlisting_d1e17020"/><pre class="programlisting">mxnobj.applyOptions()</pre></div><div class="sect2" title="Function autoCenterAndZoom"><div class="titlepage"><div><div><h2 class="title"><a id="function_autocenterandzoom"/>Function autoCenterAndZoom</h2></div></div></div><p>This function sets the center and zoom of the map to the smallest bounding box containing all markers and polylines.</p><a id="I_programlisting_d1e17027"/><pre class="programlisting">mxnobj.autoCenterAndZoom()</pre></div><div class="sect2" title="Function centerAndZoomOnPoints"><div class="titlepage"><div><div><h2 class="title"><a id="function_centerandzoomonpoints"/>Function centerAndZoomOnPoints</h2></div></div></div><p>This function sets the center and zoom of the map to the smallest bounding box containing all points passed to the function.</p><a id="I_programlisting_d1e17034"/><pre class="programlisting">mxnobj.centerAndZoomOnPoints(<em class="replaceable"><code>points</code></em>);</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id3"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>points</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> The points (as <code class="literal">mxn.LatLonPoint</code> objects) to determine the new center and zoom for the map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id10"/>Example</h3></div></div></div><a id="I_programlisting_d1e17057"/><pre class="programlisting">mxnobj.centerAndZoomOnPoints([new mxn.LatLonPoint(45, −122),
                              new mxn.LatLonPoint(46, −121)]);</pre></div></div><div class="sect2" title="Function declutterMarkers"><div class="titlepage"><div><div><h2 class="title"><a id="function_decluttermarkers"/>Function declutterMarkers</h2></div></div></div><p>You can declutter the markers on the map and group together overlapping markers with this function. It is not widely supported, though there is another method shown in <a class="xref" href="ch02s11.html" title="#11: Handle Clusters of Markers">#11: Handle Clusters of Markers</a> in <a class="xref" href="ch02s11.html" title="#11: Handle Clusters of Markers">#11: Handle Clusters of Markers</a>.</p></div><div class="sect2" title="Function doFilter"><div class="titlepage"><div><div><h2 class="title"><a id="function_dofilter"/>Function doFilter</h2></div></div></div><p>The <code class="literal">doFilter</code> function hides or shows markers based on attributes and criteria previously created using the <code class="literal">addFilter</code> function. To learn more about Mapstraction's filtering options, see <a class="xref" href="ch02s09.html" title="#9: Filter Out Certain Markers">#9: Filter Out Certain Markers</a> in <a class="xref" href="ch02s09.html" title="#9: Filter Out Certain Markers">#9: Filter Out Certain Markers</a>.</p><a id="I_programlisting_d1e17083"/><pre class="programlisting">mxnobj.doFilter()</pre><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id11"/>Example</h3></div></div></div><a id="I_programlisting_d1e17088"/><pre class="programlisting">mxnobj.addFilter('age', 'ge', 21);
mxnobj.doFilter();</pre></div></div><div class="sect2" title="Function getAttributeExtremes"><div class="titlepage"><div><div><h2 class="title"><a id="function_getattributeextremes"/>Function getAttributeExtremes</h2></div></div></div><p>This function finds the minimum and maximum values set in marker attributes.<a id="IDX-APP-B-0242" class="indexterm"/><a id="IDX-APP-B-0243" class="indexterm"/><a id="IDX-APP-B-0244" class="indexterm"/></p><a id="I_programlisting_d1e17104"/><pre class="programlisting">mxnobj.getAttributeExtremes(attribute)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id4"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>attribute</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the marker attribute.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id1"/>Returns</h3></div></div></div><p>A two element array containing the minimum and maximum values of the passed attribute.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id12"/>Example</h3></div></div></div><a id="I_programlisting_d1e17126"/><pre class="programlisting">var minmax = mxnobj.getAttributeExtremes('age'); // return [min, max]</pre></div></div><div class="sect2" title="Function getBounds"><div class="titlepage"><div><div><h2 class="title"><a id="function_getbounds"/>Function getBounds</h2></div></div></div><p>This function retrieves the <code class="literal">BoundingBox</code> of the currently viewable map.</p><a id="I_programlisting_d1e17137"/><pre class="programlisting">mxnobj.getBounds()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id2"/>Returns</h3></div></div></div><p>A <code class="literal">mxn.BoundingBox</code> object.</p></div></div><div class="sect2" title="Function getCenter"><div class="titlepage"><div><div><h2 class="title"><a id="function_getcenter"/>Function getCenter</h2></div></div></div><p>This function retrieves the center of the currently viewable map.</p><a id="I_programlisting_d1e17152"/><pre class="programlisting">mxnobj.getCenter()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id3"/>Returns</h3></div></div></div><p>A <code class="literal">mxn.LatLonPoint</code> object.</p></div></div><div class="sect2" title="Function getMap"><div class="titlepage"><div><div><h2 class="title"><a id="function_getmap"/>Function getMap</h2></div></div></div><p>This function retrieves the native map object of the current map. Useful if you need to make proprietary mapping calls.<a id="IDX-APP-B-0245" class="indexterm"/><a id="IDX-APP-B-0246" class="indexterm"/><a id="IDX-APP-B-0247" class="indexterm"/><a id="IDX-APP-B-0248" class="indexterm"/></p><a id="I_programlisting_d1e17179"/><pre class="programlisting">mxnobj.getMap()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id4"/>Returns</h3></div></div></div><p>A native object depending upon the provider you are using.</p></div></div><div class="sect2" title="Function getMapType"><div class="titlepage"><div><div><h2 class="title"><a id="function_getmaptype"/>Function getMapType</h2></div></div></div><p>This function retrieves the image type, such as satellite or hybrid, for the current map.</p><a id="I_programlisting_d1e17191"/><pre class="programlisting">mxnobj.getMapType()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id5"/>Returns</h3></div></div></div><p>A number corresponding to the map type. See <a class="xref" href="ch01s08.html" title="Set Map Type">Set Map Type</a> in <a class="xref" href="ch01s08.html" title="Set Map Type">Set Map Type</a> for a description of the available types.</p></div></div><div class="sect2" title="Function getZoom"><div class="titlepage"><div><div><h2 class="title"><a id="function_getzoom"/>Function getZoom</h2></div></div></div><p>This function retrieves the current zoom level.</p><a id="I_programlisting_d1e17207"/><pre class="programlisting">mxnobj.getZoom()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id6"/>Returns</h3></div></div></div><p>An integer corresponding to the current zoom level. The topic is covered in detail in <a class="xref" href="ch01s07.html" title="Set Zoom Level">Set Zoom Level</a> in <a class="xref" href="ch01s07.html" title="Set Zoom Level">Set Zoom Level</a>.</p></div></div><div class="sect2" title="Function getZoomLevelForBoundingBox"><div class="titlepage"><div><div><h2 class="title"><a id="function_getzoomlevelforboundingbox"/>Function getZoomLevelForBoundingBox</h2></div></div></div><p>This function retrieves the best zoom level for the bounds given.</p><a id="I_programlisting_d1e17223"/><pre class="programlisting">mxnobj.getZoomLevelForBoundingBox(<em class="replaceable"><code>bounds</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id5"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>bounds</code></em></code></strong> (<strong class="userinput"><code>mxn.BoundingBox</code></strong>) The bounds for which you want to find the best zoom level.</td></tr></table></div></div><div class="sect2" title="Function polylineCenterAndZoom"><div class="titlepage"><div><div><h2 class="title"><a id="function_polylinecenterandzoom"/>Function polylineCenterAndZoom</h2></div></div></div><p>This function sets the center and zoom of the map to the smallest bounding box containing all polylines, ignoring markers.<a id="IDX-APP-B-0249" class="indexterm"/><a id="IDX-APP-B-0250" class="indexterm"/><a id="IDX-APP-B-0251" class="indexterm"/><a id="IDX-APP-B-0252" class="indexterm"/><a id="IDX-APP-B-0253" class="indexterm"/></p><a id="I_programlisting_d1e17260"/><pre class="programlisting">mxnobj.polylineCenterAndZoom()</pre></div><div class="sect2" title="Function removeAllFilters"><div class="titlepage"><div><div><h2 class="title"><a id="function_removeallfilters"/>Function removeAllFilters</h2></div></div></div><p>The <code class="literal">removeAllFilters</code> function removes all filters previously added, but does not show previously filtered markers (for that you will need to call the <code class="literal">doFilter</code> function again). Because filters are additive, this function is useful when switching from one filtering method to another.</p><a id="I_programlisting_d1e17273"/><pre class="programlisting">mxnobj.removeAllFilters()</pre></div><div class="sect2" title="Function removeAllMarkers"><div class="titlepage"><div><div><h2 class="title"><a id="function_removeallmarkers"/>Function removeAllMarkers</h2></div></div></div><p>This function removes all markers from the map permanently. To do so temporarily, use the <code class="literal">hide</code> function within <code class="literal">mxn.Marker</code>.</p><a id="I_programlisting_d1e17286"/><pre class="programlisting">mxnobj.removeAllMarkers()</pre></div><div class="sect2" title="Function removeAllPolylines"><div class="titlepage"><div><div><h2 class="title"><a id="function_removeallpolylines"/>Function removeAllPolylines</h2></div></div></div><p>This function removes all polylines from the map permanently. To do so temporarily, use the <code class="literal">hide</code> function within <code class="literal">mxn.Polyline</code>.</p><a id="I_programlisting_d1e17299"/><pre class="programlisting">mxnobj.removeAllPolylines()</pre></div><div class="sect2" title="Function removeFilter"><div class="titlepage"><div><div><h2 class="title"><a id="function_removefilter"/>Function removeFilter</h2></div></div></div><p>This function removes a filter previously added, but does not show markers previously filtered by the removed filter (for that you will need to call the <code class="literal">doFilter</code> function again).</p><a id="I_programlisting_d1e17309"/><pre class="programlisting">mxnobj.removeFilter(<em class="replaceable"><code>name</code></em>, <em class="replaceable"><code>operator</code></em>, <em class="replaceable"><code>value</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id7"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>name</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the attribute to remove a filter on.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>operator</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The operator previously used to compare the attribute to a value.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>value</code></em></code></strong> <span class="strong"><strong>(number, string)</strong></span> The value to compare against. Can be a number or text.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id13"/>Example</h3></div></div></div><a id="I_programlisting_d1e17351"/><pre class="programlisting">mxnobj.removeFilter('age', 'ge', 21);
mxnobj.doFilter();</pre></div></div><div class="sect2" title="Function removeMarker"><div class="titlepage"><div><div><h2 class="title"><a id="function_removemarker"/>Function removeMarker</h2></div></div></div><p>This function removes a marker object (previously created using <code class="literal">mxn.Marker</code>) from the map.<a id="IDX-APP-B-0254" class="indexterm"/><a id="IDX-APP-B-0255" class="indexterm"/><a id="IDX-APP-B-0256" class="indexterm"/></p><a id="I_programlisting_d1e17371"/><pre class="programlisting">mxnobj.removeMarker(<em class="replaceable"><code>marker</code></em>);</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id6"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>marker</code></em></code></strong> (<strong class="userinput"><code>mxn.Marker</code></strong>) The marker to be removed from the map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id14"/>Example</h3></div></div></div><a id="I_programlisting_d1e17391"/><pre class="programlisting">mxnobj.removeMarker(mxnobj.markers[0]); // removes first marker</pre></div></div><div class="sect2" title="Function removePolyline"><div class="titlepage"><div><div><h2 class="title"><a id="function_removepolyline"/>Function removePolyline</h2></div></div></div><p>This function removes a polyline object (previously created using <code class="literal">mxn.Polyline</code>) from the map.</p><a id="I_programlisting_d1e17401"/><pre class="programlisting">mxnobj.removePolyline(<em class="replaceable"><code>polyline</code></em>);</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id7"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>polyline</code></em></code></strong> (<strong class="userinput"><code>mxn.Polyline</code></strong>) The polyline to be removed from the map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id15"/>Example</h3></div></div></div><a id="I_programlisting_d1e17421"/><pre class="programlisting">mxnobj.removePolyline(mxnobj.polylines[0]); // removes first polyline</pre></div></div><div class="sect2" title="Function resizeTo"><div class="titlepage"><div><div><h2 class="title"><a id="function_resizeto"/>Function resizeTo</h2></div></div></div><p>This function resizes the map object via CSS to the dimensions provided.</p><a id="I_programlisting_d1e17428"/><pre class="programlisting">mxnobj.resizeTo(<em class="replaceable"><code>width</code></em>, <em class="replaceable"><code>height</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id8"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>width</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The new width for the map.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>height</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The new height for the map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id16"/>Example</h3></div></div></div><a id="I_programlisting_d1e17459"/><pre class="programlisting">mxnobj.resizeTo(800, 600); // 800 pixels wide, 600 pixels tall</pre></div></div><div class="sect2" title="Function setBounds"><div class="titlepage"><div><div><h2 class="title"><a id="function_setbounds"/>Function setBounds</h2></div></div></div><p>This function sets the map to the appropriate center and zoom based on a <code class="literal">BoundingBox</code>.<a id="IDX-APP-B-0257" class="indexterm"/><a id="IDX-APP-B-0258" class="indexterm"/><a id="IDX-APP-B-0259" class="indexterm"/></p><a id="I_programlisting_d1e17478"/><pre class="programlisting">mxnobj.setBounds(<em class="replaceable"><code>bounds</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id8"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>bounds</code></em></code></strong> (<strong class="userinput"><code>mxn.BoundingBox</code></strong>) The <code class="literal">BoundingBox</code> to use to determine the new center and zoom level of the map.</td></tr></table></div></div><div class="sect2" title="Function setCenter"><div class="titlepage"><div><div><h2 class="title"><a id="function_setcenter"/>Function setCenter</h2></div></div></div><p>This function sets the center of the map based on a point provided.</p><a id="I_programlisting_d1e17503"/><pre class="programlisting">mxnobj.setCenter(<em class="replaceable"><code>point</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id9"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>point</code></em></code></strong> (<strong class="userinput"><code>mxn.LatLonPoint</code></strong>) The point to use as the new center of the map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id17"/>Example</h3></div></div></div><a id="I_programlisting_d1e17523"/><pre class="programlisting">mxnobj.setCenter(new mxn.LatLonPoint(45, −122));</pre></div></div><div class="sect2" title="Function setCenterAndZoom"><div class="titlepage"><div><div><h2 class="title"><a id="function_setcenterandzoom"/>Function setCenterAndZoom</h2></div></div></div><p>This function sets the center and zoom level of the map based on a point and zoom level provided.</p><a id="I_programlisting_d1e17530"/><pre class="programlisting">mxnobj.setCenterAndZoom(<em class="replaceable"><code>point</code></em>, <em class="replaceable"><code>zoom</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id9"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>point</code></em></code></strong> (<strong class="userinput"><code>mxn.LatLonPoint</code></strong>) The point to use as the new center of the map.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>zoom</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The new zoom level to use for the map. Zoom levels are covered in <a class="xref" href="ch01s07.html" title="Set Zoom Level">Set Zoom Level</a> in <a class="xref" href="ch01s07.html" title="Set Zoom Level">Set Zoom Level</a>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id18"/>Example</h3></div></div></div><a id="I_programlisting_d1e17565"/><pre class="programlisting">mxnobj.setCenterAndZoom(new mxn.LatLonPoint(45, −122), 10);</pre></div></div><div class="sect2" title="Function setDebug"><div class="titlepage"><div><div><h2 class="title"><a id="function_setdebug"/>Function setDebug</h2></div></div></div><p>This function determines whether to turn on debug support. When debug support is on, Mapstraction will use alert panels for unsupported actions.<a id="IDX-APP-B-0260" class="indexterm"/><a id="IDX-APP-B-0261" class="indexterm"/><a id="IDX-APP-B-0262" class="indexterm"/></p><a id="I_programlisting_d1e17581"/><pre class="programlisting">mxnobj.setDebug(<em class="replaceable"><code>debug</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id10"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>debug</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> If this parameter is <code class="literal">true</code>, debug support is turned on. This may be useful during development, but it is not useful for production.</td></tr></table></div></div><div class="sect2" title="Function setMapType"><div class="titlepage"><div><div><h2 class="title"><a id="function_setmaptype"/>Function setMapType</h2></div></div></div><p>This function declares the imagery type, such as satellite or hybrid, for the current map.</p><a id="I_programlisting_d1e17606"/><pre class="programlisting">mxnobj.setMapType(<em class="replaceable"><code>type</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id11"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>type</code></em></code></strong> <span class="strong"><strong>(integer)</strong></span> A number corresponding to the map type. See <a class="xref" href="ch01s08.html" title="Set Map Type">Set Map Type</a> in <a class="xref" href="ch01s08.html" title="Set Map Type">Set Map Type</a> for a description of the available types.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id19"/>Example</h3></div></div></div><a id="I_programlisting_d1e17630"/><pre class="programlisting">mxnobj.setMapType(mxn.Mapstraction.SATELLITE);</pre></div></div><div class="sect2" title="Function setOption"><div class="titlepage"><div><div><h2 class="title"><a id="function_setoption"/>Function setOption</h2></div></div></div><p>This function sets a single option, such as the scroll wheel zoom or draggable map.</p><a id="I_programlisting_d1e17637"/><pre class="programlisting">mxnobj.setOption(<em class="replaceable"><code>name</code></em>, <em class="replaceable"><code>value</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id10"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>name</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the option to set. Currently supported options: <code class="literal">'enableScrollWheelZoom'</code> and <code class="literal">'enableDragging'</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>value</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> Whether an option is set (<code class="literal">true</code> or <code class="literal">false</code>).</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id20"/>Example</h3></div></div></div><a id="I_programlisting_d1e17680"/><pre class="programlisting">mxnobj.setOption('enableDragging', false); // map cannot be dragged</pre></div></div><div class="sect2" title="Function setOptions"><div class="titlepage"><div><div><h2 class="title"><a id="function_setoptions"/>Function setOptions</h2></div></div></div><p>This function uses an object to declare many options, such as the scroll wheel zoom or draggable map, at once.<a id="IDX-APP-B-0263" class="indexterm"/><a id="IDX-APP-B-0264" class="indexterm"/></p><a id="I_programlisting_d1e17693"/><pre class="programlisting">mxnobj.setOptions(<em class="replaceable"><code>opt</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id12"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>opt</code></em></code></strong> <span class="strong"><strong>(object)</strong></span> A hash object containing the names and values for the options to set. Currently supported options: <code class="literal">'enableScrollWheelZoom'</code> and '<code class="literal">enableDragging'</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id21"/>Example</h3></div></div></div><a id="I_programlisting_d1e17719"/><pre class="programlisting">mxnobj.setOptions({'enableDragging': false, 'enableScrollWheelZoom': true);</pre></div></div><div class="sect2" title="Function setZoom"><div class="titlepage"><div><div><h2 class="title"><a id="function_setzoom"/>Function setZoom</h2></div></div></div><p>This function sets the current zoom level.<a id="IDX-APP-B-0265" class="indexterm"/><a id="IDX-APP-B-0266" class="indexterm"/></p><a id="I_programlisting_d1e17732"/><pre class="programlisting">mxnobj.setZoom(<em class="replaceable"><code>zoom</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id13"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>zoom</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> Number corresponding to the zoom level to set. The topic is covered in detail in <a class="xref" href="ch01s07.html" title="Set Zoom Level">Set Zoom Level</a> in <a class="xref" href="ch01s07.html" title="Set Zoom Level">Set Zoom Level</a>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id22"/>Example</h3></div></div></div><a id="I_programlisting_d1e17756"/><pre class="programlisting">mxnobj.setZoom(13); // Roughly city-level zoom</pre></div></div><div class="sect2" title="Function swap"><div class="titlepage"><div><div><h2 class="title"><a id="function_swap"/>Function swap</h2></div></div></div><p>The <code class="literal">swap</code> function hides the previous map and changes the active map to a different API provider on the fly.</p><a id="I_programlisting_d1e17767"/><pre class="programlisting">mxnobj.swap(<em class="replaceable"><code>api</code></em>, <em class="replaceable"><code>element</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id11"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>api</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> Mapstraction's name for the API to use with the new map. Options include: <code class="literal">'cloudmade'</code>, <code class="literal">'geocommons'</code>, <code class="literal">'google'</code>, <code class="literal">'googlev3'</code>, <code class="literal">'map24'</code>, <code class="literal">'mapquest'</code>, <code class="literal">'microsoft'</code>, <code class="literal">'multimap'</code>, <code class="literal">'openlayers'</code>, <code class="literal">'openstreetmap'</code>, and <code class="literal">'yahoo'</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>element</code></em></code></strong> <span class="strong"><strong>(string, DOM element)</strong></span> The <code class="literal">id</code> of the HTML element, or the element itself, to contain the new map.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id23"/>Example</h3></div></div></div><a id="I_programlisting_d1e17836"/><pre class="programlisting">mxnobj.swap('yahoo', 'secondmapdiv');</pre></div></div><div class="sect2" title="Function toggleFilter"><div class="titlepage"><div><div><h2 class="title"><a id="function_togglefilter"/>Function toggleFilter</h2></div></div></div><p>If the marker filter exists, this function removes it. Otherwise, it adds a marker filter to automatically show or hide markers based on attributes you have created. It still requires the <code class="literal">doFilter</code> function to perform the filtering. To learn more about Mapstraction's filtering options, see <a class="xref" href="ch02s09.html" title="#9: Filter Out Certain Markers">#9: Filter Out Certain Markers</a> in <a class="xref" href="ch02s09.html" title="#9: Filter Out Certain Markers">#9: Filter Out Certain Markers</a>.</p><a id="I_programlisting_d1e17850"/><pre class="programlisting">mxnobj.toggleFilter(<em class="replaceable"><code>name</code></em>, <em class="replaceable"><code>operator</code></em>, <em class="replaceable"><code>value</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id12"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>name</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the attribute to place a filter on. Added via <em class="replaceable"><code>markerobject</code></em><code class="literal">.addAttribute</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>operator</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The operator used to compare the attribute to a value. Options: <code class="literal">'ge'</code> (greater than or equal), <code class="literal">'le'</code> (less than or equal), or <code class="literal">'eq'</code> (equal).</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>value</code></em></code></strong> <span class="strong"><strong>(number, string)</strong></span> The value to compare against. Can be a number or text (only <code class="literal">'eq'</code>).</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id24"/>Example</h3></div></div></div><a id="I_programlisting_d1e17909"/><pre class="programlisting">mxnobj.toggleFilter('age', 'ge', 21);
mxnobj.doFilter();</pre></div></div><div class="sect2" title="Function toggleTileLayer"><div class="titlepage"><div><div><h2 class="title"><a id="function_toggletilelayer"/>Function toggleTileLayer</h2></div></div></div><p>The <code class="literal">toggleTileLayer</code> function controls the visibility of a previously added tile layer. If the tile layer is visible, this function makes it invisible (and vice versa).<a id="IDX-APP-B-0267" class="indexterm"/><a id="IDX-APP-B-0268" class="indexterm"/></p><a id="I_programlisting_d1e17925"/><pre class="programlisting">mxnobj.toggleTileLayer(<em class="replaceable"><code>tile_url</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id14"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>tile_url</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The exact URL used in the <code class="literal">addTileLayer</code> function.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id25"/>Example</h3></div></div></div><a id="I_programlisting_d1e17948"/><pre class="programlisting">mxnobj.toggleTileLayer('http://tile.openstreetmap.org/{Z}/{X}/{Y}.png');</pre></div></div><div class="sect2" title="Function visibleCenterAndZoom"><div class="titlepage"><div><div><h2 class="title"><a id="function_visiblecenterandzoom"/>Function visibleCenterAndZoom</h2></div></div></div><p>This function sets the center and zoom of the map to the smallest bounding box containing all <span class="emphasis"><em>visible</em></span> markers and polylines. Ignores markers or polylines that have been hidden.</p><a id="I_programlisting_d1e17958"/><pre class="programlisting">mxnobj.visibleCenterAndZoom()</pre></div><div class="sect2" title="Variables in mxn.Mapstraction Class"><div class="titlepage"><div><div><h2 class="title"><a id="variables_in_mxn.mapstraction_class"/>Variables in mxn.Mapstraction Class</h2></div></div></div><p>These variables can be accessed directly via the Mapstraction object. For example, you can loop through all markers added to the map using the <em class="replaceable"><code>mxnobj</code></em><code class="literal">.markers</code> variable, as shown in <a class="xref" href="ch02s07.html" title="#7: Loop Through All Markers">#7: Loop Through All Markers</a> in <a class="xref" href="ch02s07.html" title="#7: Loop Through All Markers">#7: Loop Through All Markers</a>.</p><p>The variables available are:</p><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>api</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the active API for this Mapstraction object. This value is the same as the <code class="literal">api</code> parameter passed in the <code class="literal">mxn.Mapstraction</code> constructor.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>CurrentElement</code></em></code></strong> <span class="strong"><strong>(object)</strong></span> The DOM element containing the map. Mapstraction sets this value to <code class="literal">document.getElementById(</code><em class="replaceable"><code>mxnobj</code></em><code class="literal">.element)</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>element</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The original element <code class="literal">id</code> passed as the <code class="literal">element</code> parameter to the <code class="literal">mxn.Mapstraction</code> constructor.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>markers</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> An array containing all the markers currently loaded on the map (including any hidden).</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>options</code></em></code></strong> <span class="strong"><strong>(object)</strong></span> Map options currently set using the <code class="literal">setOptions</code> function.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>polylines</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> An array containing all the polylines currently loaded on the map (including any hidden).</td></tr></table></div></div></div>
<div class="sect1" title="Class mxn.BoundingBox"><div class="titlepage"><div><div><h1 class="title"><a id="class_mxn.boundingbox"/>Class mxn.BoundingBox</h1></div></div></div><p>This class creates a <code class="literal">BoundingBox</code> and provides methods to access information about the box. A <code class="literal">BoundingBox</code> object is used to describe an area with two latitude/longitude points, as described in <a class="xref" href="ch04s04.html" title="#19: Draw a Rectangle to Declare an Area">#19: Draw a Rectangle to Declare an Area</a> in <a class="xref" href="ch04s04.html" title="#19: Draw a Rectangle to Declare an Area">#19: Draw a Rectangle to Declare an Area</a>.<a id="IDX-APP-B-0269" class="indexterm"/><a id="IDX-APP-B-0270" class="indexterm"/><a id="IDX-APP-B-0271" class="indexterm"/></p><p>Mapstraction also uses the <code class="literal">BoundingBox</code> class internally for automatically centering the map or retrieving the bounds of the current map. Additionally, you can use a <code class="literal">BoundingBox</code> object to perform a simple hit test (see <a class="xref" href="ch02s07.html" title="#7: Loop Through All Markers">#7: Loop Through All Markers</a> in <a class="xref" href="ch06s07.html#other_useful_parameters" title="Other Useful Parameters">Other Useful Parameters</a>).</p><div class="sect2" title="Function mxn.BoundingBox"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.boundingbox"/>Function mxn.BoundingBox</h2></div></div></div><p>This is the constructor for the <code class="literal">BoundingBox</code> class. Use this function to create a new <code class="literal">BoundingBox</code> object from the coordinates of the southwest and northeast corners.</p><a id="I_programlisting_d1e18098"/><pre class="programlisting">mxn.BoundingBox(<em class="replaceable"><code>swlat</code></em>, <em class="replaceable"><code>swlon</code></em>, <em class="replaceable"><code>nelat</code></em>, <em class="replaceable"><code>nelon</code></em>);</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id13"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>swlat</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The latitude of the southwest point.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>swlon</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The longitude of the southwest point.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>nelat</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The latitude of the northeast point.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>nelon</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The longitude of the northeast point.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id7"/>Returns</h3></div></div></div><p>A new <code class="literal">BoundingBox</code> object, which can be used to make calls to <code class="literal">mxn.BoundingBox</code> functions. Referred to in this section as <code class="literal">bbobj</code>.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id26"/>Example</h3></div></div></div><a id="I_programlisting_d1e18165"/><pre class="programlisting">var bbobj = new mxn.BoundingBox(45, −122, 46, −121);</pre></div></div><div class="sect2" title="Function contains"><div class="titlepage"><div><div><h2 class="title"><a id="function_contains"/>Function contains</h2></div></div></div><p>This function is used to perform a simple hit test. That is, it finds whether a given point is within a <code class="literal">BoundingBox</code>.</p><a id="I_programlisting_d1e18175"/><pre class="programlisting">bbobj.contains(<em class="replaceable"><code>point</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id15"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>point</code></em></code></strong> (<strong class="userinput"><code>LatLonPoint</code></strong>) The point with which to test.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id8"/>Returns</h3></div></div></div><p>A boolean (<code class="literal">true</code> or <code class="literal">false</code>) to describe whether the point is within the bounding box.<a id="IDX-APP-B-0272" class="indexterm"/><a id="IDX-APP-B-0273" class="indexterm"/><a id="IDX-APP-B-0274" class="indexterm"/></p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id27"/>Example</h3></div></div></div><a id="I_programlisting_d1e18215"/><pre class="programlisting">var pt = new mxn.LatLonPoint(45.5, −121.5);
var hittest = bbobj.contains(pt);</pre></div></div><div class="sect2" title="Function extend"><div class="titlepage"><div><div><h2 class="title"><a id="function_extend"/>Function extend</h2></div></div></div><p>If a point is not within the bounds, the <code class="literal">extend</code> function extends the <code class="literal">BoundingBox</code> to include the point.</p><a id="I_programlisting_d1e18228"/><pre class="programlisting">bbobj.extend(<em class="replaceable"><code>point</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id16"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>point</code></em></code></strong> (<strong class="userinput"><code>LatLonPoint</code></strong>) The new point to include in the bounds.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id28"/>Example</h3></div></div></div><a id="I_programlisting_d1e18248"/><pre class="programlisting">var pt = new mxn.LatLonPoint(45.5, −121.5);
bbobj.extend(pt);</pre></div></div><div class="sect2" title="Function getNorthEast"><div class="titlepage"><div><div><h2 class="title"><a id="function_getnortheast"/>Function getNorthEast</h2></div></div></div><p>This function retrieves the most northeast point of the bounds.</p><a id="I_programlisting_d1e18255"/><pre class="programlisting">bbobj.getNorthEast()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id9"/>Returns</h3></div></div></div><p>A <code class="literal">mxn.LatLonPoint</code> object.</p></div></div><div class="sect2" title="Function getSouthWest"><div class="titlepage"><div><div><h2 class="title"><a id="function_getsouthwest"/>Function getSouthWest</h2></div></div></div><p>This function retrieves the most southwest point of the bounds.</p><a id="I_programlisting_d1e18270"/><pre class="programlisting">bbobj.getSouthWest()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id10"/>Returns</h3></div></div></div><p>A <code class="literal">mxn.LatLonPoint</code> object.</p></div></div><div class="sect2" title="Function isEmpty"><div class="titlepage"><div><div><h2 class="title"><a id="function_isempty"/>Function isEmpty</h2></div></div></div><p>This function finds whether the bounds has zero area—that is, whether the southwest and northeast points are the same.<a id="IDX-APP-B-0275" class="indexterm"/><a id="IDX-APP-B-0276" class="indexterm"/><a id="IDX-APP-B-0277" class="indexterm"/></p><a id="I_programlisting_d1e18294"/><pre class="programlisting">bbobj.isEmpty()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id11"/>Returns</h3></div></div></div><p>A boolean (<code class="literal">true</code> if empty, <code class="literal">false</code> if the bounds has area).</p></div></div></div>
<div class="sect1" title="Class mxn.LatLonPoint"><div class="titlepage"><div><div><h1 class="title"><a id="class_mxn.latlonpoint"/>Class mxn.LatLonPoint</h1></div></div></div><p>Without this class you couldn't put much on the map. An <code class="literal">mxn.LatLonPoint</code> object describes a single point on the earth and provides a few functions for using the data, such as the one shown in <a class="xref" href="ch06.html#number_symble_36_colon_calculate_distanc" title="#36: Calculate Distance Between Two Points">#36: Calculate Distance Between Two Points</a> in <a class="xref" href="ch06.html#number_symble_36_colon_calculate_distanc" title="#36: Calculate Distance Between Two Points">#36: Calculate Distance Between Two Points</a>.</p><p>Mostly, <code class="literal">mxn.LatLonPoint</code> is a utility player. Every other class depends upon it to hold the latitude and longitude coordinates.</p><div class="sect2" title="Function mxn.LatLonPoint"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.latlonpoint"/>Function mxn.LatLonPoint</h2></div></div></div><p>This is the constructor for the <code class="literal">mxn.LatLonPoint</code> class. Use it to create new <code class="literal">LatLonPoint</code> objects that you can pass as the center of the map, location of a marker and more.</p><a id="I_programlisting_d1e18335"/><pre class="programlisting">mxn.LatLonPoint(<em class="replaceable"><code>lat</code></em>, <em class="replaceable"><code>lon</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id14"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>lat</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The latitude of the point you are creating.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>lon</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The longitude of the point you are creating.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id12"/>Returns</h3></div></div></div><p>A new <code class="literal">LatLonPoint</code> object, which can be used to make calls to <code class="literal">mxn.LatLonPoint</code> functions. Referred to in this section as <code class="literal">llobj</code>.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id29"/>Example</h3></div></div></div><a id="I_programlisting_d1e18380"/><pre class="programlisting">var llobj = new mxn.LatLonPoint(45, −122);</pre></div></div><div class="sect2" title="Function distance"><div class="titlepage"><div><div><h2 class="title"><a id="function_distance"/>Function distance</h2></div></div></div><p>This function calculates the distance, in kilometers, between the current <code class="literal">LatLonPoint</code> and a second <code class="literal">LatLonPoint</code>.<a id="IDX-APP-B-0278" class="indexterm"/><a id="IDX-APP-B-0279" class="indexterm"/></p><a id="I_programlisting_d1e18399"/><pre class="programlisting">llobj.distance(<em class="replaceable"><code>point</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id17"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>point</code></em></code></strong> (<strong class="userinput"><code>LatLonPoint</code></strong>) A second <code class="literal">LatLonPoint</code> object.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id13"/>Returns</h3></div></div></div><p>A decimal number corresponding to the kilometers between the <code class="literal">llobj LatLonPoint</code> and the parameter.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id30"/>Example</h3></div></div></div><a id="I_programlisting_d1e18430"/><pre class="programlisting">var llobj = new mxn.LatLonPoint(45, −122);
var newpt = new mxn.LatLonPoint(44, −121);
var kms = llobj.distance(newpt); // 136.578 km</pre></div></div><div class="sect2" title="Function equals"><div class="titlepage"><div><div><h2 class="title"><a id="function_equals"/>Function equals</h2></div></div></div><p>The <code class="literal">equals</code> function tests if this point is the same as a second <code class="literal">LatLonPoint</code>—whether the latitudes and longitudes are both equal.</p><a id="I_programlisting_d1e18443"/><pre class="programlisting">llobj.equals(<em class="replaceable"><code>point</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id18"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>point</code></em></code></strong> (<strong class="userinput"><code>LatLonPoint</code></strong>) A second <code class="literal">LatLonPoint</code> object.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id14"/>Returns</h3></div></div></div><p>A boolean (<code class="literal">true</code> or <code class="literal">false</code>) answering whether the points are identical.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id31"/>Example</h3></div></div></div><a id="I_programlisting_d1e18477"/><pre class="programlisting">var llobj = new mxn.LatLonPoint(45, −122);
var newpt = new mxn.LatLonPoint(44, −121);
var same = llobj.equals(newpt); // false</pre></div></div><div class="sect2" title="Function latConv"><div class="titlepage"><div><div><h2 class="title"><a id="function_latconv"/>Function latConv</h2></div></div></div><p>This function provides the latitude conversion—the distance of one degree of latitude—based on the current projection. It is used within Mapstraction for features like search radii (see <a class="xref" href="ch04s03.html" title="#18: Add Circles to Show Search Radius">#18: Add Circles to Show Search Radius</a> in <a class="xref" href="ch04s02.html#set_the_fill_color_and_opacity" title="Set the Fill Color and Opacity">Set the Fill Color and Opacity</a>).<a id="IDX-APP-B-0280" class="indexterm"/><a id="IDX-APP-B-0281" class="indexterm"/><a id="IDX-APP-B-0282" class="indexterm"/><a id="IDX-APP-B-0283" class="indexterm"/><a id="IDX-APP-B-0284" class="indexterm"/></p><a id="I_programlisting_d1e18503"/><pre class="programlisting">llobj.latConv()</pre></div><div class="sect2" title="Function lonConv"><div class="titlepage"><div><div><h2 class="title"><a id="function_lonconv"/>Function lonConv</h2></div></div></div><p>This function is like <code class="literal">latConv</code>, only it returns the longitude conversion—the distance of one degree of longitude—based on the current projection.</p><a id="I_programlisting_d1e18513"/><pre class="programlisting">llobj.lonConv()</pre></div><div class="sect2" title="Function toString"><div class="titlepage"><div><div><h2 class="title"><a id="function_tostring"/>Function toString</h2></div></div></div><p>This function gives a textual representation of the point.</p><a id="I_programlisting_d1e18520"/><pre class="programlisting">llobj.toString()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id15"/>Returns</h3></div></div></div><p>A string (like <code class="literal">45, −122</code>) that shows both the latitude and the longitude contained in the <code class="literal">LatLonPoint</code>.</p></div></div></div>
<div class="sect1" title="Class mxn.Marker"><div class="titlepage"><div><div><h1 class="title"><a id="class_mxn.marker"/>Class mxn.Marker</h1></div></div></div><p>While <code class="literal">mxn.LatLonPoint</code> declares points, <code class="literal">mxn.Marker</code> is the most common way to <span class="emphasis"><em>show</em></span> points on the map. Use this class to create new marker pins, including custom icon graphics. Markers are covered in depth in <a class="xref" href="ch02.html" title="Chapter 2. PLOTTING MARKERS AND MESSAGE BOXES">Chapter 2</a>.</p><div class="sect2" title="Function mxn.Marker"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.marker"/>Function mxn.Marker</h2></div></div></div><p>This is the constructor for the <code class="literal">mxn.Marker</code> class. Use it to create new markers, then set its options. Then add it to the map with the <code class="literal">mxn.Mapstraction.addMarker</code> function.</p><a id="I_programlisting_d1e18560"/><pre class="programlisting">mxn.Marker(point)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id19"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>point</code></em></code></strong> (<strong class="userinput"><code>LatLonPoint</code></strong>) The point on the map to place the marker.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id16"/>Returns</h3></div></div></div><p>A <code class="literal">mxn.Marker</code> object, referred to throughout this section as <code class="literal">mkobj</code>.<a id="IDX-APP-B-0285" class="indexterm"/><a id="IDX-APP-B-0286" class="indexterm"/></p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id32"/>Example</h3></div></div></div><a id="I_programlisting_d1e18594"/><pre class="programlisting">var mkobj = new mxn.Marker(new mxn.LatLonPoint(45, −122));</pre></div></div><div class="sect2" title="Function addData"><div class="titlepage"><div><div><h2 class="title"><a id="function_adddata"/>Function addData</h2></div></div></div><p>Add data, such as custom icon graphics, to the marker in one handy function. The <code class="literal">addData</code> function is similar to the <code class="literal">mxn.Mapstraction.addMarkerWithData</code> function.</p><a id="I_programlisting_d1e18607"/><pre class="programlisting">mkobj.addData(<em class="replaceable"><code>options</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id20"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>options</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> A hash object of options for the marker, including <code class="literal">draggable</code>, <code class="literal">groupName</code>, <code class="literal">hover</code>, <code class="literal">hoverIcon</code>, <code class="literal">infoBubble</code>, <code class="literal">icon</code>, <code class="literal">iconShadow</code>, <code class="literal">infoDiv</code>, <code class="literal">label</code>, and <code class="literal">openBubble</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id33"/>Example</h3></div></div></div><a id="I_programlisting_d1e18658"/><pre class="programlisting">var opt = {infoBubble: 'Message box content', draggable: false};
mkobj.addData(opt);</pre></div></div><div class="sect2" title="Function getAttribute"><div class="titlepage"><div><div><h2 class="title"><a id="function_getattribute"/>Function getAttribute</h2></div></div></div><p>This function retrieves the value of a particular attribute from the marker. Attributes are most commonly used in filtering, and they contain data about a particular marker.</p><a id="I_programlisting_d1e18665"/><pre class="programlisting">mkobj.getAttribute(<em class="replaceable"><code>name</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id21"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>name</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the attribute whose value you want to retrieve.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id17"/>Returns</h3></div></div></div><p>The value of the attribute.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id34"/>Example</h3></div></div></div><a id="I_programlisting_d1e18690"/><pre class="programlisting">var num = mkobj.getAttribute('age');</pre></div></div><div class="sect2" title="Function setAttribute"><div class="titlepage"><div><div><h2 class="title"><a id="function_setattribute"/>Function setAttribute</h2></div></div></div><p>The other side of <code class="literal">getAttribute</code>, this function sets the value of a particular attribute in the marker.<a id="IDX-APP-B-0287" class="indexterm"/><a id="IDX-APP-B-0288" class="indexterm"/><a id="IDX-APP-B-0289" class="indexterm"/></p><a id="I_programlisting_d1e18709"/><pre class="programlisting">mkobj.setAttribute(<em class="replaceable"><code>name</code></em>, <em class="replaceable"><code>value</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id15"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>name</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the attribute whose value you want to set.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>value</code></em></code></strong> <span class="strong"><strong>(varies)</strong></span> The value of the attribute you want to set.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id35"/>Example</h3></div></div></div><a id="I_programlisting_d1e18740"/><pre class="programlisting">mkobj.setAttribute('age', 21);
mkobj.setAttribute('address', '123 Main St');</pre></div></div><div class="sect2" title="Function setDraggable"><div class="titlepage"><div><div><h2 class="title"><a id="function_setdraggable"/>Function setDraggable</h2></div></div></div><p>This function declares whether a marker is draggable—able to be moved from one location to another by the user—if the provider supports this feature.</p><a id="I_programlisting_d1e18747"/><pre class="programlisting">mkobj.setDraggable(<em class="replaceable"><code>draggable</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id22"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>draggable</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> Set to <code class="literal">true</code> if the marker should be draggable (otherwise <code class="literal">false</code>).</td></tr></table></div></div><div class="sect2" title="Function setHover"><div class="titlepage"><div><div><h2 class="title"><a id="function_sethover"/>Function setHover</h2></div></div></div><p>This function determines whether a marker's message box should be displayed when the mouse hovers over the marker.</p><a id="I_programlisting_d1e18775"/><pre class="programlisting">mkobj.setHover(<em class="replaceable"><code>hover</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id23"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>hover</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> Set to <code class="literal">true</code> if you want a hoverable marker. Otherwise, set to <code class="literal">false</code>.</td></tr></table></div></div><div class="sect2" title="Function setHoverIcon"><div class="titlepage"><div><div><h2 class="title"><a id="function_sethovericon"/>Function setHoverIcon</h2></div></div></div><p>This function adds a special icon to show when the mouse hovers over the marker. The hover icon inherits the marker size from the main icon.<a id="IDX-APP-B-0290" class="indexterm"/><a id="IDX-APP-B-0291" class="indexterm"/><a id="IDX-APP-B-0292" class="indexterm"/></p><a id="I_programlisting_d1e18812"/><pre class="programlisting">mkobj.setHoverIcon(<em class="replaceable"><code>iconurl</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id24"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconurl</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> A filename or complete URL to the graphic to use as a hover icon.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id36"/>Example</h3></div></div></div><a id="I_programlisting_d1e18832"/><pre class="programlisting">mkobj.setHoverIcon('highlighted.png');</pre></div></div><div class="sect2" title="Function setIcon"><div class="titlepage"><div><div><h2 class="title"><a id="function_seticon"/>Function setIcon</h2></div></div></div><p>This function adds a custom icon to the marker. It is covered in <a class="xref" href="ch02s05.html" title="#5: Create a Custom Icon Marker">#5: Create a Custom Icon Marker</a> in <a class="xref" href="ch02s04.html" title="#4: Show and Hide Message Boxes Without Clicking the Marker">#4: Show and Hide Message Boxes Without Clicking the Marker</a>.</p><a id="I_programlisting_d1e18843"/><pre class="programlisting">mkobj.setIcon(<em class="replaceable"><code>iconurl</code></em>, <em class="replaceable"><code>iconSize</code></em>, <em class="replaceable"><code>iconAnchor</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id16"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconurl</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> A filename or complete URL to the graphic to use as an icon.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconSize</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> An array containing the width and height (in pixels) of the icon.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconAnchor</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> An optional parameter to describe where the graphic points to the map. The array contains the number of pixels to the left and down from the upper-left point in the graphic.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id37"/>Example</h3></div></div></div><a id="I_programlisting_d1e18885"/><pre class="programlisting">mkobj.setIcon('pin.png', [24, 36], [12, 36]);</pre></div></div><div class="sect2" title="Function setIconAnchor"><div class="titlepage"><div><div><h2 class="title"><a id="function_seticonanchor"/>Function setIconAnchor</h2></div></div></div><p>This function sets the icon's anchor, where the icon points to the map, directly.</p><a id="I_programlisting_d1e18892"/><pre class="programlisting">mkobj.setIconAnchor(<em class="replaceable"><code>iconAnchor</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id25"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconAnchor</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> Contains the number of pixels to the left and down from the upper-left point in the graphic.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id38"/>Example</h3></div></div></div><a id="I_programlisting_d1e18912"/><pre class="programlisting">mkobj.setIconAnchor([12, 36]);</pre></div></div><div class="sect2" title="Function setIconSize"><div class="titlepage"><div><div><h2 class="title"><a id="function_seticonsize"/>Function setIconSize</h2></div></div></div><p>This function sets the icon's dimensions directly.<a id="IDX-APP-B-0293" class="indexterm"/><a id="IDX-APP-B-0294" class="indexterm"/><a id="IDX-APP-B-0295" class="indexterm"/></p><a id="I_programlisting_d1e18929"/><pre class="programlisting">mkobj.setIconSize(<em class="replaceable"><code>iconSize</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id26"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconSize</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> An array containing the width and height (in pixels) of the icon.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id39"/>Example</h3></div></div></div><a id="I_programlisting_d1e18949"/><pre class="programlisting">mkobj.setIconSize([24, 36]);</pre></div></div><div class="sect2" title="Function setInfoBubble"><div class="titlepage"><div><div><h2 class="title"><a id="function_setinfobubble"/>Function setInfoBubble</h2></div></div></div><p>This function declares the text to be shown inside the marker when the marker is clicked (or moused over if the hover option is activated). Most providers allow this text to be HTML.</p><a id="I_programlisting_d1e18956"/><pre class="programlisting">mkobj.setInfoBubble(<em class="replaceable"><code>text</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id27"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>text</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The text or HTML to show inside a message box.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id40"/>Example</h3></div></div></div><a id="I_programlisting_d1e18976"/><pre class="programlisting">mkobj.setInfoBubble('&lt;em&gt;This&lt;/em&gt; is my message!');</pre></div></div><div class="sect2" title="Function setInfoDiv"><div class="titlepage"><div><div><h2 class="title"><a id="function_setinfodiv"/>Function setInfoDiv</h2></div></div></div><p>This function declares the text to show in a <code class="literal">div</code> outside of the map when the marker is clicked.</p><a id="I_programlisting_d1e18986"/><pre class="programlisting">mkobj.setInfoDiv(<em class="replaceable"><code>text</code></em>, <em class="replaceable"><code>div</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id17"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>text</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The text or HTML to show inside the <code class="literal">div</code>.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>div</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The <code class="literal">id</code> of the <code class="literal">div</code> in which to show your message.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id41"/>Example</h3></div></div></div><a id="I_programlisting_d1e19026"/><pre class="programlisting">mkobj.setInfoDiv('&lt;em&gt;This&lt;/em&gt; is my message!', 'msgbox');</pre></div></div><div class="sect2" title="Function setLabel"><div class="titlepage"><div><div><h2 class="title"><a id="function_setlabel"/>Function setLabel</h2></div></div></div><p>This function declares the short text to show as a tooltip above the marker when a user mouses over the marker.<a id="IDX-APP-B-0296" class="indexterm"/><a id="IDX-APP-B-0297" class="indexterm"/></p><a id="I_programlisting_d1e19039"/><pre class="programlisting">mkobj.setLabel(<em class="replaceable"><code>text</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id28"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>text</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The text to show as a tooltip on hover.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id42"/>Example</h3></div></div></div><a id="I_programlisting_d1e19059"/><pre class="programlisting">mkobj.setLabel('Name of Location');</pre></div></div><div class="sect2" title="Function setShadowIcon"><div class="titlepage"><div><div><h2 class="title"><a id="function_setshadowicon"/>Function setShadowIcon</h2></div></div></div><p>This function adds a shadow icon below the marker's icon, if supported by the provider.</p><a id="I_programlisting_d1e19066"/><pre class="programlisting">mkobj.setShadowIcon(<em class="replaceable"><code>iconurl</code></em>, <em class="replaceable"><code>iconSize</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id18"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconurl</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> A filename or complete URL to the graphic to use as a shadow icon.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>iconSize</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> An array containing the width and height (in pixels) of the shadow icon.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id43"/>Example</h3></div></div></div><a id="I_programlisting_d1e19097"/><pre class="programlisting">mkobj.setShadowIcon('pin-shadow.png', [36, 42]);</pre></div></div></div>
<div class="sect1" title="Class mxn.Polyline"><div class="titlepage"><div><div><h1 class="title"><a id="class_mxn.polyline"/>Class mxn.Polyline</h1></div></div></div><p>When a single point does not describe your data, turn to the <code class="literal">mxn.Polyline</code> class to describe lines and shapes. The most common use is to describe a route, but a number of other examples are given in <a class="xref" href="ch04.html" title="Chapter 4. LAYER IT ON">Chapter 4</a>.<a id="IDX-APP-B-0298" class="indexterm"/><a id="IDX-APP-B-0299" class="indexterm"/><a id="IDX-APP-B-0300" class="indexterm"/></p><div class="sect2" title="Function mxn.Polyline"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.polyline"/>Function mxn.Polyline</h2></div></div></div><p>This is the constructor for the <code class="literal">mxn.Polyline</code> class. Use this function to create a new polyline then set its options. Then add it to the map with the <code class="literal">mxn.Mapstraction.addPolyline</code> function.</p><a id="I_programlisting_d1e19130"/><pre class="programlisting">mxn.Polyline(<em class="replaceable"><code>points</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id29"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>points</code></em></code></strong> <span class="strong"><strong>(array)</strong></span> The <code class="literal">mxn.LatLonPoint</code> objects that describe the polyline.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id18"/>Returns</h3></div></div></div><p>A <code class="literal">mxn.Polyline</code> object, referred to in this section as <code class="literal">pobj</code>.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id44"/>Example</h3></div></div></div><a id="I_programlisting_d1e19164"/><pre class="programlisting">var pobj = new mxn.Polyline(
              [new mxn.LatLonPoint(45, −122), new mxn.LatLonPoint(44, −121)]);</pre></div></div><div class="sect2" title="Function addData"><div class="titlepage"><div><div><h2 class="title"><a id="function_adddata-id1"/>Function addData</h2></div></div></div><p>Add data, such as line color and opacity, to the polyline in one handy function. The <code class="literal">addData</code> function is similar to the <code class="literal">mxn.Mapstraction.addPolylineWithData</code> function.</p><a id="I_programlisting_d1e19177"/><pre class="programlisting">pobj.addData(<em class="replaceable"><code>options</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id30"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>options</code></em></code></strong> <span class="strong"><strong>(object)</strong></span> A hash object of options for the polyline, including <code class="literal">closed</code>, <code class="literal">color</code>, <code class="literal">fillColor</code>, <code class="literal">opacity</code>, and <code class="literal">width</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id45"/>Example</h3></div></div></div><a id="I_programlisting_d1e19213"/><pre class="programlisting">var opt = {color: '#ffcc99', width: 3};
pobj.addData(opt);</pre></div></div><div class="sect2" title="Function setClosed"><div class="titlepage"><div><div><h2 class="title"><a id="function_setclosed"/>Function setClosed</h2></div></div></div><p>This function declares whether a polyline is meant to be a polygon—a complete shape.<a id="IDX-APP-B-0301" class="indexterm"/><a id="IDX-APP-B-0302" class="indexterm"/><a id="IDX-APP-B-0303" class="indexterm"/></p><a id="I_programlisting_d1e19229"/><pre class="programlisting">pobj.setClosed(closed)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id31"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>closed</code></em></code></strong> <span class="strong"><strong>(boolean)</strong></span> If the polyline is meant to be a complete shape, set to <code class="literal">true</code>. Otherwise, <code class="literal">false</code>.</td></tr></table></div></div><div class="sect2" title="Function setColor"><div class="titlepage"><div><div><h2 class="title"><a id="function_setcolor"/>Function setColor</h2></div></div></div><p>This function declares the color of the line directly. It does not affect the color inside the polygon (if the <code class="literal">Polyline</code> is closed).</p><a id="I_programlisting_d1e19257"/><pre class="programlisting">pobj.setColor(<em class="replaceable"><code>hex</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id32"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>hex</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> A hexidecimal representation of the color value, including a preceding <code class="literal">#</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id46"/>Example</h3></div></div></div><a id="I_programlisting_d1e19280"/><pre class="programlisting">pobj.setColor('#ff0000'); // red</pre></div></div><div class="sect2" title="Function setFillColor"><div class="titlepage"><div><div><h2 class="title"><a id="function_setfillcolor"/>Function setFillColor</h2></div></div></div><p>This function declares the inner color of a polygon directly. It does not affect an unclosed <code class="literal">Polyline</code>.</p><a id="I_programlisting_d1e19290"/><pre class="programlisting">pobj.setFillColor(<em class="replaceable"><code>hex</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id33"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>hex</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> A hexidecimal representation of the color value, including a preceding <code class="literal">#</code>.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id47"/>Example</h3></div></div></div><a id="I_programlisting_d1e19313"/><pre class="programlisting">pobj.setFillColor('#0000ff'); // blue</pre></div></div><div class="sect2" title="Function setWidth"><div class="titlepage"><div><div><h2 class="title"><a id="function_setwidth"/>Function setWidth</h2></div></div></div><p>This function declares the width of the polyline (or polygon border) directly.<a id="IDX-APP-B-0304" class="indexterm"/><a id="IDX-APP-B-0305" class="indexterm"/><a id="IDX-APP-B-0306" class="indexterm"/></p><a id="I_programlisting_d1e19329"/><pre class="programlisting">pobj.setWidth(<em class="replaceable"><code>pixels</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id34"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>pixels</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The number of pixels wide.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id48"/>Example</h3></div></div></div><a id="I_programlisting_d1e19349"/><pre class="programlisting">pobj.setWidth(4);</pre></div></div><div class="sect2" title="Function simplify"><div class="titlepage"><div><div><h2 class="title"><a id="function_simplify"/>Function simplify</h2></div></div></div><p>The <code class="literal">simplify</code> function reduces the number of points in the polyline, removing those that are near others based on the tolerance you provide. Simplifying the points is a good idea if you are showing a large line at a wide zoom level.</p><a id="I_programlisting_d1e19359"/><pre class="programlisting">pobj.simplify(<em class="replaceable"><code>tolerance</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id35"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>tolerance</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The distance (in km) that a point needs to be from the previous point in order to be included in the simplified polyline.</td></tr></table></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id49"/>Example</h3></div></div></div><a id="I_programlisting_d1e19379"/><pre class="programlisting">pobj.simplify(1.5);</pre></div></div></div>
<div class="sect1" title="Namespace mxn.util"><div class="titlepage"><div><div><h1 class="title"><a id="namespace_mxn.util"/>Namespace mxn.util</h1></div></div></div><p>Mapstraction has a handful of functions that don't fit into any of the previous classes. These utility functions live in the <code class="literal">mxn.util</code> namespace. Unlike the classes, <code class="literal">mxn.util</code> does not need to be initialized with a constructor before you can use its functions.</p><div class="sect2" title="Function mxn.util.$m"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util._dollar_m"/>Function mxn.util.$m</h2></div></div></div><p>The <code class="literal">$m</code> function is similar to jQuery's <code class="literal">$</code> function, only it's used solely to look up HTML elements by <code class="literal">id</code>. It's a more elegant <code class="literal">document.getElementById</code> function.<a id="IDX-APP-B-0307" class="indexterm"/><a id="IDX-APP-B-0308" class="indexterm"/></p><a id="I_programlisting_d1e19415"/><pre class="programlisting">mxn.util.$m(<em class="replaceable"><code>id [, id]*</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id36"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>id</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The element's identifier. Unlike jQuery, this parameter does not require the CSS syntax of a preceding <code class="literal">#</code>. Multiple <code class="literal">id</code> arguments may be passed.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id19"/>Returns</h3></div></div></div><p>The HTML object corresponding to the element <code class="literal">id</code>. If multiple <code class="literal">id</code> arguments are provided, the matching elements are returned in an array.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id50"/>Example</h3></div></div></div><a id="I_programlisting_d1e19452"/><pre class="programlisting">var mapobj = mxn.util.$m('mymap');</pre></div></div><div class="sect2" title="Function mxn.util.getAvailableProviders"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.getavailableproviders"/>Function mxn.util.getAvailableProviders</h2></div></div></div><p>This function retrieves all providers currently loaded. Most of the time, you'll only be using one provider, but if you get into fancy multi-mapping, this result is useful.</p><a id="I_programlisting_d1e19459"/><pre class="programlisting">mxn.util.getAvailableProviders()</pre><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id20"/>Returns</h3></div></div></div><p>An array containing the provider identifiers.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id51"/>Example</h3></div></div></div><a id="I_programlisting_d1e19469"/><pre class="programlisting">var loaded = mxn.util.getAvailableProviders();</pre></div></div><div class="sect2" title="Function mxn.util.getStyle"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.getstyle"/>Function mxn.util.getStyle</h2></div></div></div><p>This function retrieves CSS style information. Because not all browsers access styles the same way, Mapstraction provides this cross-browser function.<a id="IDX-APP-B-0309" class="indexterm"/><a id="IDX-APP-B-0310" class="indexterm"/><a id="IDX-APP-B-0311" class="indexterm"/></p><a id="I_programlisting_d1e19485"/><pre class="programlisting">mxn.util.getStyle(<em class="replaceable"><code>htmlobj</code></em>, <em class="replaceable"><code>style</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id19"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>htmlobj</code></em></code></strong> <span class="strong"><strong>(object)</strong></span> The object version, such as the value returned by <code class="literal">mxn.util.$m</code>, of the HTML element.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>style</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The name of the style you want to retrieve.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id21"/>Returns</h3></div></div></div><p>A string containing the style information.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id52"/>Example</h3></div></div></div><a id="I_programlisting_d1e19524"/><pre class="programlisting">var this_style = mxn.util.getStyle(mxn.util.$m('mymap'), 'border');</pre></div></div><div class="sect2" title="Function mxn.util.KMToMiles"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.kmtomiles"/>Function mxn.util.KMToMiles</h2></div></div></div><p>Sure, you could do the math yourself, but Mapstraction provides several functions to convert between measuring systems. This function converts kilometers to miles.</p><a id="I_programlisting_d1e19531"/><pre class="programlisting">mxn.util.KMToMiles(<em class="replaceable"><code>km</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id37"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>km</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The number of kilometers.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id22"/>Returns</h3></div></div></div><p>The number of miles.</p></div></div><div class="sect2" title="Function mxn.util.loadScript"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.loadscript"/>Function mxn.util.loadScript</h2></div></div></div><p>This function loads a JavaScript file. This is used internally to read in appropriate Mapstraction files for providers, but you can use it, too.</p><a id="I_programlisting_d1e19558"/><pre class="programlisting">mxn.util.loadScript(<em class="replaceable"><code>scripturl</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id38"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>scripturl</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The location of the script file, either a single file or full URL.</td></tr></table></div></div><div class="sect2" title="Function mxn.util.loadStyle"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.loadstyle"/>Function mxn.util.loadStyle</h2></div></div></div><p>This function loads a CSS stylesheet.<a id="IDX-APP-B-0312" class="indexterm"/><a id="IDX-APP-B-0313" class="indexterm"/><a id="IDX-APP-B-0314" class="indexterm"/></p><a id="I_programlisting_d1e19589"/><pre class="programlisting">mxn.util.loadStyle(<em class="replaceable"><code>styleurl</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id39"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>styleurl</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The location of the stylesheet, either a single file or full URL.</td></tr></table></div></div><div class="sect2" title="Function mxn.util.lonToMetres"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.lontometres"/>Function mxn.util.lonToMetres</h2></div></div></div><p>The curvature of the earth makes the length of a degree of longitude change based on the degree of latitude at the location. This function converts a longitude to meters at sea level. Note the British spelling of the function name.</p><p>A latitude to meters conversion can be achieved by passing the latitude distance as the <em class="replaceable"><code>lon</code></em> parameter and 0 as the <em class="replaceable"><code>lat</code></em> parameter.</p><a id="I_programlisting_d1e19619"/><pre class="programlisting">mxn.util.lonToMetres(<em class="replaceable"><code>lon</code></em>, <em class="replaceable"><code>lat</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id20"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>lon</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> Degrees of longitude to convert to meters.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>lat</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The latitude of the location.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id23"/>Returns</h3></div></div></div><p>The number of meters in the specified number of degrees of longitude at the specified latitude.</p></div></div><div class="sect2" title="Function mxn.util.metresToLon"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.metrestolon"/>Function mxn.util.metresToLon</h2></div></div></div><p>This is the reverse of the <code class="literal">mxn.util.lonToMetres</code> function. It converts meters into degrees of longitude.</p><p>Degrees of latitude are the same as degrees of longitude at latitude 0, so a value of 0 for the <code class="literal">lat</code> parameter can be used to convert meters for latitude.</p><a id="I_programlisting_d1e19665"/><pre class="programlisting">mxn.util.metresToLon(<em class="replaceable"><code>meters</code></em>, <em class="replaceable"><code>lat</code></em>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id21"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>meters</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The number of meters to convert.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>lat</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The latitude of the location.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id24"/>Returns</h3></div></div></div><p>The degrees of longitude.<a id="IDX-APP-B-0315" class="indexterm"/><a id="IDX-APP-B-0316" class="indexterm"/></p></div></div><div class="sect2" title="Function mxn.util.milesToKM"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.milestokm"/>Function mxn.util.milesToKM</h2></div></div></div><p>This is the reverse of <code class="literal">mxn.util.KMToMiles</code>. This function converts miles to kilometers.</p><a id="I_programlisting_d1e19712"/><pre class="programlisting">mxn.util.milesToKM(<em class="replaceable"><code>miles</code></em>)</pre><div class="sect3" title="Parameter"><div class="titlepage"><div><div><h3 class="title"><a id="parameter-id40"/>Parameter</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>miles</code></em></code></strong> <span class="strong"><strong>(number)</strong></span> The number of miles to convert.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id25"/>Returns</h3></div></div></div><p>The number of kilometers.</p></div></div><div class="sect2" title="Function mxn.util.stringFormat"><div class="titlepage"><div><div><h2 class="title"><a id="function_mxn.util.stringformat"/>Function mxn.util.stringFormat</h2></div></div></div><p>Concatenating variables intermixed with text in JavaScript can be a pain, so Mapstraction provides this function to make it easier. Pass a parameterized string along with a number of variables and Mapstraction creates a single string of text.</p><a id="I_programlisting_d1e19740"/><pre class="programlisting">mxn.util.stringFormat(<em class="replaceable"><code>text</code></em>, <code class="literal">var1, var2, ...</code>)</pre><div class="sect3" title="Parameters"><div class="titlepage"><div><div><h3 class="title"><a id="parameters-id22"/>Parameters</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><strong class="userinput"><code><em class="replaceable"><code>text</code></em></code></strong> <span class="strong"><strong>(string)</strong></span> The full text, with special numbered parameters inside denoted with <code class="literal">{</code> and <code class="literal">}</code> brackets.</td></tr><tr><td><strong class="userinput"><code><em class="replaceable"><code>var1, var2, ...</code></em></code></strong> <span class="strong"><strong>(varied)</strong></span> Any number of variables or values matching the number of parameterized values in the <em class="replaceable"><code>text</code></em> variable.</td></tr></table></div><div class="sect3" title="Returns"><div class="titlepage"><div><div><h3 class="title"><a id="returns-id26"/>Returns</h3></div></div></div><p>The full text string, with variables/values inserted.</p></div><div class="sect3" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="example-id53"/>Example</h3></div></div></div><a id="I_programlisting_d1e19785"/><pre class="programlisting">var message = mxn.util.stringFormat('There are {0} tiny {1}', num, 'eggs');</pre></div></div></div></body></html>