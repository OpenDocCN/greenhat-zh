<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_95">
<a name="ch07" class="calibre6" id="ch07"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="99" class="calibre16" id="99"/><a name="ch07lev1sec4" class="calibre16" id="ch07lev1sec4"/><span class="chapter-titlelabel">Program 84: </span>Construction Project</h2><p class="b24-bookeditorial">The student wanted to see when the copy constructor and the operator = were called, so he wrote this program. But the results surprised him. What's happening?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 #include &lt;iostream&gt;
  2 /************************************************
  3  * trouble -- A class designed to store a       *
  4  *      single data item.                       *
  5  *                                              *
  6  * Member function:                             *
  7  *      put -- put something in the class       *
  8  *      get -- get an item from the class       *
  9  ************************************************/
 10 class trouble {
 11     private:
 12         int data;       // An item to be stored
 13     public:
 14         trouble(void) { data = 0; }
 15
 16         trouble(const trouble &amp;i_trouble) {
 17             std::cout &lt;&lt; "Copy Constructor called\n";
 18             *this = i_trouble;
 19         }
 20         trouble operator = (const trouble &amp;i_trouble) {
 21             std::cout &lt;&lt; "= operator called\n";
 22             data = i_trouble.data;
 23             return (*this);
 24         }
 25     public:
 26         // Put an item in the class
 27         void put(const int value) {
 28             data = value;
 29         }
 30         // Get an item from the class
 31         int get(void) {
 32             return (data);
 33         }
 34 };
 35
 36 int main() {
 37     trouble first;      // A place to put an item
 38     first.put(99);
 39
 40     trouble second(first); // A copy of this space
 41
 42     std::cout &lt;&lt; "Second.get " &lt;&lt; second.get() &lt;&lt; '\n';
 43
 44     return (0);
 45 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#427" target="_parent" class="calibre2">Hint 291</a>. <a href="LiB0121.html#607" target="_parent" class="calibre2">Answer 109</a>.)</p>
<div class="calibre1">
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="Start Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
<p class="b24-bookeditorial">Real Programmers don't comment their code. If it was hard to write, it should be hard to understand.</p>
<p class="b24-bookeditorial">Real Programmers don't draw flowcharts. Flowcharts are, after all, the illiterate's form of documentation. Cavemen drew flowcharts; look how much good it did them.</p>
<p class="b24-bookeditorial">Real Programmers don't play tennis, or any other sport that requires you to change clothes. Mountain climbing is okay, and Real Programmers wear their climbing boots to work in case a mountain should suddenly spring up in the middle of the machine room.</p>
<p class="b24-bookeditorial">Real Programmers don't write in BASIC. Actually, no programmers write in BASIC after reaching puberty.</p>
<p class="b24-bookeditorial">Real Programmers don't write specs â€” users should consider themselves lucky to get any programs at all and take what they get.</p>
<p class="b24-bookeditorial">Real Programmers don't comment their code. If it was hard to write, it should be hard to understand.</p>
<p class="b24-bookeditorial">Real Programmers don't write application programs; they program right down on the bare metal. Application programming is for feebs who can't do systems programming.</p>
<p class="b24-bookeditorial">Real Programmers don't eat quiche. In fact, Real Programmers don't know how to SPELL quiche. They eat Twinkies and Szechwan food.</p>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="End Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
</div>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td height="16" class="calibre8"/>
</tr>
</table>
</div>
</div>



</body></html>