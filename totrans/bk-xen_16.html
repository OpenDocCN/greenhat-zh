<html><head></head><body><div class="appendix" title="Appendix&#xA0;A.&#xA0;XM REFERENCE"><div class="titlepage"><div><div><h1 class="title"><a id="xm_reference"/>Appendix A. XM REFERENCE</h1></div></div></div><div class="informalfigure"><div class="mediaobject"><a id="I_mediaobject_d1e17438"/><img src="httpatomoreillycomsourcenostarchimages333191.png.jpg" alt="image with no caption"/></div></div><p>The <code class="literal">xm</code> command is probably the first thing to know about Xen. It's your primary interface to Xen's control-plane functionality. Using <code class="literal">xm</code>, you can create, query, and destroy domains. You can send certain instructions (e.g., shut down) to guest domains. You can attach and detach storage and network devices and dynamically adjust resource consumption.</p><p>In short, knowing <code class="literal">xm</code> is <span class="emphasis"><em>important</em></span>. That's why we've documented <code class="literal">xm</code> 's subcommands here, with references to the rest of the book.</p><div class="note" title="Note"><h3 class="title"><a id="note-61"/>Note</h3><p><span class="emphasis"><em>Some of these commands—the ones introduced with Xen 3.1 or later—may not work with the Xen version included in RHEL 5</em></span>.x <span class="emphasis"><em>because Red Hat's priority is to maintain compatibility within major releases, rather than support new features. These commands are marked with an asterisk</em></span>.</p></div><p>All of <code class="literal">xm</code>'s commands work by sending instructions to <code class="literal">xend</code>, the Xen control daemon. This is a Python program that runs in domain 0. It receives requests and sends replies to client applications, like <code class="literal">xm</code>.</p><p>If <code class="literal">xend</code> isn't running, <code class="literal">xm</code> will return an error and exit. Much of <code class="literal">xm</code>'s functionality relies on the XenBus, which is a shared communication channel between all domains on the machine, and the XenStore, which is a centralized configuration database that <code class="literal">xend</code> uses to hold domain configuration information and states. For more information on the XenStore and XenBus, take a look at <a class="xref" href="ch14.html" title="Chapter 14. TIPS">Chapter 14</a>.</p><p>That said, let's look at the general form of an <code class="literal">xm</code> command.</p><div class="sect1" title="xm's Syntax"><div class="titlepage"><div><div><h1 class="title"><a id="xms_syntax"/>xm's Syntax</h1></div></div></div><p><code class="literal">xm</code>'s syntax is fairly simple and consistent:<a id="idx-CHP-A-1120" class="indexterm"/></p><a id="I_programlisting_d1e17514"/><pre class="programlisting">xm &lt;subcommand&gt; &lt;domain specifier&gt; [options]</pre><p>Options can go either before or after the domain specifier, but we usually put them at the end. For example, to order domain 10 to shut down cleanly:</p><a id="I_programlisting_d1e17518"/><pre class="programlisting">xm shutdown 10</pre><p>Here we're not specifying any options, and we're referring to the domain by numeric ID rather than name. The domain specifier may be either a domain number or domain name—the names will be internally translated to numbers. (Note that this won't work if the XenStore isn't up, but in that case, you have bigger problems.)</p><p><code class="literal">xm</code> commands are usually asynchronous, which means that the command may return before it's actually completed. In the case of a command like <code class="literal">xm shutdown</code>, it may take the domain several minutes to actually shut down. In that case, we ordinarily poll <code class="literal">xm list</code> to make sure that the domain has stopped running.</p></div></div>
<div class="sect1" title="xm Subcommands"><div class="titlepage"><div><div><h1 class="title"><a id="xm_subcommands"/>xm Subcommands</h1></div></div></div><p>Here's a list of the various <code class="literal">xm</code> subcommands. We use some of them frequently, and we don't use some of them at all. New commands with version 3.1 are marked with an asterisk (*) because version 3.1 marks a substantial change in Xen's approach to domain management. As we mentioned earlier, this means they might also not work with RHEL 5.<span class="emphasis"><em>x</em></span>. Although RHEL 5.2, for example, uses the 3.1 version of the Xen hypervisor, it uses the 3.0.3 versions of the userspace tools, such as <code class="literal">xend</code>.<a id="idx-CHP-A-1121" class="indexterm"/></p><div class="variablelist"><dl><dt><span class="term"><strong class="userinput"><code>addlabel</code></strong>, <strong class="userinput"><code>cfgbootpolicy</code></strong>, <strong class="userinput"><code>dumppolicy</code></strong>, <strong class="userinput"><code>getlabel</code></strong>, <strong class="userinput"><code>labels</code></strong>, <strong class="userinput"><code>loadpolicy</code></strong>, <strong class="userinput"><code>makepolicy</code></strong>, <strong class="userinput"><code>resources</code></strong>, <span class="strong"><strong>and</strong></span> <strong class="userinput"><code>rmlabel</code></strong></span></dt><dd><p>These subcommands interface with Xen's security policy infrastructure. As we mention in <a class="xref" href="ch14.html" title="Chapter 14. TIPS">Chapter 14</a>, we haven't seen any practical use for Xen's security policies. If you're interested in more information about the security modules (which are themselves the subject of ongoing work), we suggest looking at the sample policies included with the Xen source distribution.</p></dd><dt><span class="term"><strong class="userinput"><code>block-attach</code></strong>, <strong class="userinput"><code>block-configure</code></strong>, <strong class="userinput"><code>block-detach</code></strong>, <span class="strong"><strong>and</strong></span> <strong class="userinput"><code>block-list</code></strong></span></dt><dd><p>The various <code class="literal">block</code> <a id="idx-CHP-A-1122" class="indexterm"/>subcommands manage storage devices that are attached to domains. These commands are handled in more detail in <a class="xref" href="ch04.html" title="Chapter 4. STORAGE WITH XEN">Chapter 4</a>.<a id="idx-CHP-A-1123" class="indexterm"/><a id="idx-CHP-A-1124" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>console</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1125" class="indexterm"/>console subcommand attaches to the given domain's console. Note that this is only useful if the domain is set up to use Xen's virtual console.<a id="idx-CHP-A-1126" class="indexterm"/><a id="idx-CHP-A-1127" class="indexterm"/><a id="idx-CHP-A-1128" class="indexterm"/><a id="idx-CHP-A-1129" class="indexterm"/><a id="idx-CHP-A-1130" class="indexterm"/><a id="idx-CHP-A-1131" class="indexterm"/><a id="idx-CHP-A-1132" class="indexterm"/><a id="idx-CHP-A-1133" class="indexterm"/><a id="idx-CHP-A-1134" class="indexterm"/><a id="idx-CHP-A-1135" class="indexterm"/></p><p>Even if everything is set up correctly, you may need to press ENTER to make it give you a login prompt. (This can be puzzling for new users, who type <code class="literal">xm console</code> and see a blank screen, because nothing's been added to the console buffer since the last time they used it.)</p></dd><dt><span class="term"><strong class="userinput"><code>create</code></strong></span></dt><dd><p>The <code class="literal">xm create</code> subcommand, in recent versions of Xen, is a synonym for <code class="literal">xm new</code> followed by <code class="literal">xm start</code>. It's the subcommand we use throughout the book to make domains go.<a id="idx-CHP-A-1136" class="indexterm"/><a id="idx-CHP-A-1137" class="indexterm"/></p><p><code class="literal">Create</code> expects the name of a config file. If you don't specify a file, it uses the default, <span class="emphasis"><em>/etc/xen/xmdefconfig</em></span>.</p><p>The <code class="literal">create</code> subcommand takes these options:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">-h</code>: Prints help.</p></li><li class="listitem"><p><code class="literal">-q</code>: Quiet mode.</p></li><li class="listitem"><p><code class="literal">--path</code>: Base path for domain configuration files (<span class="emphasis"><em>/etc/xen</em></span> by default).</p></li><li class="listitem"><p><code class="literal">-n</code>: Dry-run mode. Prints the configuration that would be generated. This is used to debug Python code in domain configurations. If you're autogenerating a domain config, it's nice to have some way to test it.</p></li><li class="listitem"><p><code class="literal">-x</code>: Similar to <code class="literal">-n</code> but outputs a domain definition in XML. Note that, as of Xen 3.3, this option still relies on the deprecated <code class="literal">xml.dom.ext</code> module and thus does not work with many Python installations.</p></li><li class="listitem"><p><code class="literal">-c</code>: Connect automatically to the console. This is necessary to interact with PyGRUB.</p></li><li class="listitem"><p><code class="literal">-s</code>: Skip DTD checking for XML domain configurations.</p></li></ul></div><p>If you don't give <code class="literal">xm create</code> a full path, it will default to looking for the config file in <span class="emphasis"><em>/etc/xen</em></span>. You can change that with the <code class="literal">--path</code> option.</p></dd><dt><span class="term"><strong class="userinput"><code>debug-keys *</code></strong></span></dt><dd><p>The <code class="literal">debug-keys</code> subcommand interacts with the GDB stub built into Xen, enabling you to send magic keystrokes to control the stub's output. It is likely to be useful only if you're hacking Xen's internals.<a id="idx-CHP-A-1138" class="indexterm"/><a id="idx-CHP-A-1139" class="indexterm"/></p><p>Note that this will only have an effect if you've built Xen with the GDB stub.</p></dd><dt><span class="term"><strong class="userinput"><code>delete *</code></strong></span></dt><dd><p>The <code class="literal">xm delete</code> subcommand removes a domain from Xen's management. If the domain is running, the <a id="idx-CHP-A-1140" class="indexterm"/>delete subcommand shuts it down, then removes its definition.<a id="idx-CHP-A-1141" class="indexterm"/><a id="idx-CHP-A-1142" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>destroy</code></strong></span></dt><dd><div class="blockquote"><blockquote class="blockquote"><p>Before you think UNIX is family oriented, note that all children must die.<a id="idx-CHP-A-1143" class="indexterm"/><a id="idx-CHP-A-1144" class="indexterm"/></p><p>—Eric Foster-Johnson, <span class="emphasis"><em>Cross-Platform Perl</em></span></p></blockquote></div><p>The <code class="literal">xm destroy</code> command is the equivalent of yanking the power plug on a physical machine. If the domU has locked up completely, it may be necessary to ask <code class="literal">xend</code> to terminate it forcefully. All resources are immediately returned to the hypervisor.</p></dd><dt><span class="term"><strong class="userinput"><code>dmesg</code></strong></span></dt><dd><p>Like the <code class="literal">dmesg</code> system command, the <code class="literal">xm dmesg</code> subcommand prints out diagnostic messages from the kernel boot. We talk more about these messages in <a class="xref" href="ch15.html" title="Chapter 15. TROUBLESHOOTING">Chapter 15</a>.</p></dd><dt><span class="term"><strong class="userinput"><code>domid</code></strong> <span class="strong"><strong>and</strong></span> <strong class="userinput"><code>domname</code></strong></span></dt><dd><p>The <code class="literal">domid</code> and <code class="literal">domname</code> commands look up a domain's ID when you have its name, or vice versa. Each subcommand takes a single argument, the domain name or ID respectively, and returns the ID or name as appropriate. They're handy if you've got a lot of domains floating around.</p></dd><dt><span class="term"><strong class="userinput"><code>dry-run</code></strong></span></dt><dd><p>Although the <code class="literal">dry-run</code> subcommand, in theory, tests whether Xen can successfully find and use its virtual devices, we've had mixed luck because it's not very good at predicting whether we'll be successful in starting a domain. One important use for it is to debug Python code that is included in domain configurations, as described in <a class="xref" href="ch14.html" title="Chapter 14. TIPS">Chapter 14</a>.<a id="idx-CHP-A-1145" class="indexterm"/><a id="idx-CHP-A-1146" class="indexterm"/><a id="idx-CHP-A-1147" class="indexterm"/><a id="idx-CHP-A-1148" class="indexterm"/><a id="idx-CHP-A-1149" class="indexterm"/><a id="idx-CHP-A-1150" class="indexterm"/><a id="idx-CHP-A-1151" class="indexterm"/><a id="idx-CHP-A-1152" class="indexterm"/><a id="idx-CHP-A-1153" class="indexterm"/></p><p>This subcommand is also a suboption for <code class="literal">xm create</code>, which creates the domain in dry-run mode.</p></dd><dt><span class="term"><strong class="userinput"><code>dump-core</code></strong></span></dt><dd><p>The <code class="literal">dump-core</code> subcommand triggers an immediate memory dump.<a id="idx-CHP-A-1154" class="indexterm"/><a id="idx-CHP-A-1155" class="indexterm"/></p><p>Ordinarily, it pauses the domain, dumps its memory to the specified file, and then unpauses. You can, however, specify the <code class="literal">-L (--live)</code> option to make it dump in a fashion similar to live migration, without pausing and unpausing the domain (or, at least, without pausing it for any noticeable amount of time).</p></dd><dt><span class="term"><strong class="userinput"><code>info</code></strong></span></dt><dd><p>The <code class="literal">info</code> subcommand prints a lot of useful information about the Xen host, including the precise version of Xen you're using, the capabilities of the processor, and the memory that's available for domUs.</p></dd><dt><span class="term"><strong class="userinput"><code>list</code></strong></span></dt><dd><p>The <code class="literal">xm list</code> subcommand, in its simplest form, just lists domains in a table. However, it can also print out general information about domains, including a complete <code class="literal">s-</code>expression (if given the <code class="literal">--long</code> option).<a id="idx-CHP-A-1156" class="indexterm"/><a id="idx-CHP-A-1157" class="indexterm"/></p><p>The short form of the <code class="literal">list</code> subcommand will also show the state for each domain.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">'b'</code> (blocked): The domain is waiting for something, either for I/O or scheduling reasons. Idle domains will show up in a blocked state. This is normal; when they have something to do, they'll be unblocked.</p></li><li class="listitem"><p><code class="literal">'p'</code> (paused): This state means that the domain's been paused by <code class="literal">xm pause</code>.</p></li><li class="listitem"><p><code class="literal">'c'</code> (crashed): The domain has crashed.</p></li><li class="listitem"><p><code class="literal">'d'</code> (dying): The domain is in shutdown and in the process of being destroyed by the hypervisor. If a domain remains in this state, the odds are good that it's a bug.</p></li><li class="listitem"><p><code class="literal">'s'</code> (shutdown): The domain is in the process of shutting down, whether because of a command issued from within the domain (e.g., <code class="literal">halt</code>) or from dom0 (e.g., <code class="literal">xm shutdown</code>). This state is also used for domains that are known to Xen but are not started. If you use <code class="literal">xm new</code>, the imported domain definition will show in <code class="literal">xm list</code> as <code class="literal">shutdown</code> until you start it with <code class="literal">xm start</code>.</p></li><li class="listitem"><p><code class="literal">'r'</code> (running): The domain is presently executing on the physical computer. Note that, on a single-processor machine, <code class="literal">xm list</code> will always show dom0 as the only running domain because dom0 is generating and displaying the <code class="literal">xm list</code> output.</p></li></ul></div></dd><dt><span class="term"><strong class="userinput"><code>log</code></strong></span></dt><dd><p>The <code class="literal">xm log</code> command simply prints out <span class="emphasis"><em>/var/log/xend.log</em></span>. We go into more detail about Xen's various log files in <a class="xref" href="ch15.html" title="Chapter 15. TROUBLESHOOTING">Chapter 15</a>.</p></dd><dt><span class="term"><strong class="userinput"><code>mem-max</code></strong></span></dt><dd><p>The <code class="literal">mem-max</code> subcommand specifies the maximum amount of memory that the domain can use in megabytes. This is identical to the maxmem directive in the domain config file. Right now, this subcommand has no effect on running domains; changes take effect when the domain reboots.</p></dd><dt><span class="term"><strong class="userinput"><code>mem-set</code></strong></span></dt><dd><p>The <code class="literal">xm mem-set</code> subcommand works by sending messages to the balloon driver in the target domU. Altering the domain's memory allocation in this way requires cooperation from the domU's operating system and thus is not guaranteed. It also raises the possibility of taking too much memory from the domain, which will make it unstable.<a id="idx-CHP-A-1158" class="indexterm"/><a id="idx-CHP-A-1159" class="indexterm"/><a id="idx-CHP-A-1160" class="indexterm"/><a id="idx-CHP-A-1161" class="indexterm"/><a id="idx-CHP-A-1162" class="indexterm"/><a id="idx-CHP-A-1163" class="indexterm"/></p><p>We prefer to avoid using this subcommand. However, for more information about the balloon driver, see the relevant discussion in <a class="xref" href="ch14.html" title="Chapter 14. TIPS">Chapter 14</a>.</p></dd><dt><span class="term"><strong class="userinput"><code>migrate</code></strong></span></dt><dd><p>The <code class="literal">migrate</code> subcommand, as one might suppose, migrates domains. Migration is fairly complicated. <a class="xref" href="ch09.html" title="Chapter 9. XEN MIGRATION">Chapter 9</a> is devoted entirely to the subject.</p></dd><dt><span class="term"><strong class="userinput"><code>network-attach</code></strong>, <strong class="userinput"><code>network-detach</code></strong>, <span class="strong"><strong>and</strong></span> <strong class="userinput"><code>network-list</code></strong></span></dt><dd><p>As you might guess, these <a id="idx-CHP-A-1164" class="indexterm"/>subcommands manage virtual network devices (<span class="emphasis"><em>vifs</em></span>, in Xen parlance, rather than networks per se). With these <a id="idx-CHP-A-1165" class="indexterm"/>subcommands, you can attach, detach, and list vifs. We address these subcommands in <a class="xref" href="ch05.html" title="Chapter 5. NETWORKING">Chapter 5</a>.</p></dd><dt><span class="term"><strong class="userinput"><code>new *</code></strong></span></dt><dd><p>The <code class="literal">new</code> subcommand adds a domain to Xen's management; that is, it defines the domain but doesn't actually allocate resources or run it. Having imported the domain into Xen, you can start it with the <code class="literal">xm start</code> subcommand.<a id="idx-CHP-A-1166" class="indexterm"/><a id="idx-CHP-A-1167" class="indexterm"/><a id="idx-CHP-A-1168" class="indexterm"/><a id="idx-CHP-A-1169" class="indexterm"/><a id="idx-CHP-A-1170" class="indexterm"/></p><p>You'll probably want to run <code class="literal">new</code> with the <code class="literal">-f</code> option, specifying a file that describes the domain. This can be XML or the standard Python config format.</p></dd><dt><span class="term"><strong class="userinput"><code>pause</code></strong></span></dt><dd><p>This subcommand <a id="idx-CHP-A-1171" class="indexterm"/>pauses the domain. While paused, the domain continues to occupy memory and hold a lock on its devices, but it won't be scheduled to run on the CPU.<a id="idx-CHP-A-1172" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>reboot</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1173" class="indexterm"/><code class="literal">reboot</code> subcommand orders the domain to reboot itself cleanly. Note that, if you're using PyGRUB, <code class="literal">xm reboot</code> will not load a new kernel; for that you'll need to shut down and re-create the domain. The same applies to, for example, <code class="literal">shutdown -r</code> from within the domU.<a id="idx-CHP-A-1174" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>rename</code></strong></span></dt><dd><p>The <code class="literal">xm rename</code><a id="idx-CHP-A-1175" class="indexterm"/> subcommand allows the administrator to change the human-readable name associated with the domain ID.<a id="idx-CHP-A-1176" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>restore</code></strong> <span class="strong"><strong>and</strong></span> <strong class="userinput"><code>save</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1177" class="indexterm"/><code class="literal">xm restore</code> and <a id="idx-CHP-A-1178" class="indexterm"/><code class="literal">save</code> subcommands complement each other. As we describe in <a class="xref" href="ch09.html" title="Chapter 9. XEN MIGRATION">Chapter 9</a>, <code class="literal">xm save</code> causes a domain to relinquish its resources and save state to a save file, and <code class="literal">xm restore</code> causes it to restore itself from a previously created save file. This is very much like hibernation.<a id="idx-CHP-A-1179" class="indexterm"/><a id="idx-CHP-A-1180" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>resume *</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1181" class="indexterm"/>resume subcommand instructs a domain to return from a suspended state. Note that this only applies to domains managed by <code class="literal">xend</code> <span class="emphasis"><em>lifecycle support</em></span>, which is essentially the ability to have <code class="literal">xend</code> manage inactive domains.<a id="idx-CHP-A-1182" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>sched-credit</code></strong></span></dt><dd><p>The credit scheduler is the default scheduler for Xen. The <a id="idx-CHP-A-1183" class="indexterm"/><code class="literal">sched-credit</code> subcommand configures the credit scheduler, allowing you to display or adjust a domain's weight and cap. We describe its use at some length in <a class="xref" href="ch07.html" title="Chapter 7. HOSTING UNTRUSTED USERS UNDER XEN: LESSONS FROM THE TRENCHES">Chapter 7</a>.<a id="idx-CHP-A-1184" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>sched-sedf</code></strong></span></dt><dd><p>The sedf scheduler, of course, is obsolete. However, if you find yourself using it, you can use the <a id="idx-CHP-A-1185" class="indexterm"/><code class="literal">sched-sedf</code> subcommand to adjust the scheduling parameters for a domain.<a id="idx-CHP-A-1186" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>shell *</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1187" class="indexterm"/><code class="literal">shell</code> subcommand is a bit interesting. It <a id="idx-CHP-A-1188" class="indexterm"/>starts an interactive <a id="idx-CHP-A-1189" class="indexterm"/>shell, nicknamed <span class="emphasis"><em>The Xen Master</em></span>, from which you can issue the various <code class="literal">xm</code> <a id="idx-CHP-A-1190" class="indexterm"/>subcommands.</p></dd><dt><span class="term"><strong class="userinput"><code>shutdown</code></strong></span></dt><dd><p>Like <code class="literal">xm reboot</code>, the <a id="idx-CHP-A-1191" class="indexterm"/><code class="literal">shutdown</code> subcommand orders the domain to shut down, with the difference that it doesn't immediately <a id="idx-CHP-A-1192" class="indexterm"/>restart it. This subcommand requires domU cooperation; if the domain doesn't shut down, <code class="literal">xend</code> won't forcefully terminate it. If <code class="literal">xm shutdown</code> doesn't work, you may want to try <code class="literal">xm destroy</code><a id="idx-CHP-A-1193" class="indexterm"/>.</p></dd><dt><span class="term"><strong class="userinput"><code>start *</code></strong></span></dt><dd><p>The <code class="literal">start</code> subcommand starts a managed domain. Note that this subcommand, like <code class="literal">new</code> and <a id="idx-CHP-A-1194" class="indexterm"/><code class="literal">suspend</code>, only exists as of Xen 3.1, which adds <code class="literal">xend</code> lifecycle support.</p></dd><dt><span class="term"><strong class="userinput"><code>suspend *</code></strong></span></dt><dd><p>The <code class="literal">xm suspend</code> subcommand suspends a managed domain.<a id="idx-CHP-A-1195" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>sysrq</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1196" class="indexterm"/><code class="literal">sysrq</code> subcommand sends one of the magic sysrq keys to the domU. Note that this can't be done via <code class="literal">xm</code> console because the dom0 won't pass a sysrq through to the domU. It's a useful last resort if the domain seems catatonic. For more information about sysrq, see the kernel documentation (<span class="emphasis"><em>Documentation/sysrq.txt</em></span> in the Linux kernel source tree).<a id="idx-CHP-A-1197" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>top</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1198" class="indexterm"/><code class="literal">xm top</code> subcommand presents status information for the running Xen domains in a format similar to that of the <code class="literal">top(1)</code> subcommand.<a id="idx-CHP-A-1199" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>trigger *</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1200" class="indexterm"/><code class="literal">trigger</code> subcommand sends a CPU event to a domain. It can trigger a Non-Maskable Interrupt (NMI), reset, or init event (although the latter two fail with a <code class="literal">function not implemented</code> message on Xen 3.2/i386). This subcommand is useful mostly for debugging.<a id="idx-CHP-A-1201" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>unpause</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1202" class="indexterm"/><code class="literal">xm unpause</code> subcommand resumes a domain that's been paused with <code class="literal">xm pause</code>.<a id="idx-CHP-A-1203" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>uptime</code></strong></span></dt><dd><p>The <a id="idx-CHP-A-1204" class="indexterm"/><code class="literal">xm uptime</code> subcommand will print the uptime for the selected domain or for all VMs if no domain is specified.<a id="idx-CHP-A-1205" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>vcpu-list</code></strong>, <strong class="userinput"><code>vcpu-pin</code></strong>, <span class="strong"><strong>and</strong></span> <strong class="userinput"><code>vcpu-set</code></strong></span></dt><dd><p>The <code class="literal">vcpu-</code> subcommands control which <code class="literal">cpus</code> a domain will use in an SMP system. For more information, see <a class="xref" href="ch07.html" title="Chapter 7. HOSTING UNTRUSTED USERS UNDER XEN: LESSONS FROM THE TRENCHES">Chapter 7</a>.<a id="idx-CHP-A-1206" class="indexterm"/><a id="idx-CHP-A-1207" class="indexterm"/></p></dd><dt><span class="term"><strong class="userinput"><code>vnet-create</code></strong>, <strong class="userinput"><code>vnet-delete</code></strong>, and <strong class="userinput"><code>vnet-list</code></strong></span></dt><dd><p>These three <code class="literal">vnet-</code> subcommands interact with Xen's VLAN support. We don't cover the VLAN support because we've never had occasion to use it and we've never seen anyone else use it. If you're finding it useful, drop us an email.</p></dd><dt><span class="term"><strong class="userinput"><code>vtpm-list</code></strong></span></dt><dd><p>The <code class="literal">vtpm-list</code> subcommand allows you to list the virtual TPMs (trusted platform modules) that are attached to a domain. Although we don't go into much detail about the TPM, we do refer to it a bit in <a class="xref" href="ch14.html" title="Chapter 14. TIPS">Chapter 14</a>.<a id="I_indexterm_d1e18637" class="indexterm"/></p></dd></dl></div></div></body></html>