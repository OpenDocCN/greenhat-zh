- en: Chapter 22\. PHPLDAP ADMIN 1.1.0
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[HTTP://PHPLDAPADMIN.SOURCEFORGE.NET](HTTP://PHPLDAPADMIN.SOURCEFORGE.NET)'
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 22.1\. SUMMARY
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: phpLDAPadmin is an open source web-based LDAP (Lightweight Directory Access
    Protocol) administration tool written in PHP. Its major features include template-based
    entry creation; the ability to add, modify, rename, and delete LDAP entries; user
    password management with hash support; LDIF (LDAP Data Interchange Format) import/export;
    and an LDAP schema browser.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: phpLDAPadmin is popular with LDAP administrators because it is platform independent.
    As a web-based application, it allows administrators to maintain LDAP databases
    remotely from virtually any computer with a web browser.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: phpLDAPadmin was created by David Smith. Deon George currently maintains the
    phpLDAPadmin project with the help of various contributors.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: 22.2\. RESOURCES
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: phpLDAPadmin Documentation
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: '[http://wiki.phpldapadmin.info](http://wiki.phpldapadmin.info)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: 22.3\. REQUIRED
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) FreeBSD 7.0-RELEASE
    (see "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)")'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Updated ports
    collection (see "[FreeBSD Ports Collection](freebsd_ports_collection.html#freebsd_ports_collection)")'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Apache HTTP
    server (see "[Apache HTTP Server 2.2.8](apache_http_server_2.2.8_split_000.html#apache_http_server_2.2.8)")'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) OpenLDAP
    (see "[OpenLDAP Server 2.3.38](openldap_server_2.3.38.html#openldap_server_2.3.38)")'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) PHP 5 (see
    "[PHP 5.2.5](php_5.2.5.html#php_5.2.5)")'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Internet
    connection'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: 22.4\. OPTIONAL
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) OpenSSL with
    a signed SSL Certificate (see "[OpenSSL 0.9.8g](openssl_0.9.8g.html#openssl_0.9.8g)")'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Registered
    domain name'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: 22.5\. PREPARATION
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you will be using phpLDAPadmin from an insecure public network, then begin
    by ensuring that your Apache HTTP server is correctly configured to accept HTTPS
    connections with SSL. If your Apache HTTP server lacks SSL support, your LDAP
    login and password will be transmitted over the network "in the clear" and may
    be exposed to unauthorized persons.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: Become the superuser.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: 22.6\. INSTALL
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To begin the installation process for phpLDAPadmin, enter:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 22.7\. CONFIGURE
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Once the installation process completes, configure phpLDAPadmin for use on your
    system.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the config.php file in /usr/local/www/phpldapadmin/config:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Scroll down to the `$config->custom->session[''blowfish'']` declaration (~49)
    and enter an alphanumeric string (letters or numbers) between the single quotes
    (longer is better). A random alphanumeric string can be found at [https://www.grc.com/passwords.htm](https://www.grc.com/passwords.htm).
    This encrypts the content of cookies (data stored in a web browser that provides
    identity information to a server) used by phpLDAPadmin. The line should appear
    as follows (with your alphanumeric string in place of the sample):'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Scroll down to the default hashing algorithm setting (~255). Change it from
    `md5` to `ssha` (which is more secure) and uncomment the line by removing the
    preceding slashes (`//`). The line should now look like this:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Save and exit.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Now we''ll create a phpLDAPadmin-specific Apache configuration file. This file
    will point Apache to the correct location of the phpLDAPadmin files and make administration
    easier by keeping phpLDAPadmin-specific options separate from the main httpd.conf
    file. By default, Apache searches the /usr/local/etc/apache22/Includes directory
    for configuration files. To create a configuration file for phpLDAPadmin, open
    the file:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'and add the following lines:'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Replace `*192.168.1*` with the first three octets of your local network to restrict
    access to the local subnet. If you need access from outside your local network,
    "See [Notes](notes-id15.html#notes-id15)" on forcing secure connections to non-local
    IPs.
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '* * *'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '***Note:*** By default, phpLDAPadmin is set up as a subdirectory of your web
    server''s root site. This means that in order to reach it you would enter [http://host.example.com/phpldapadmin](http://host.example.com/phpldapadmin)
    into your web browser. To change this default directory, replace `phpldapadmin`
    (italicized in the above entry) with a different name.'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '* * *'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Save and exit, then restart Apache to commit the changes:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'To access phpLDAPadmin with a web browser, enter the following URL (using your
    server''s hostname):'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'User John Doe in the organizational unit (ou) People on the domain [example.com](http://example.com)
    would enter:'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 22.8\. ADMINISTRATION
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: To administer your LDAP server with phpLDAPadmin, enter one of the following
    URLs, substituting your server's hostname for [host.example.com](http://host.example.com).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: '[http://host.example.com/phpldapadmin](http://host.example.com/phpldapadmin)
    (for an insecure connection)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: '[https://host.example.com/phpldapadmin](https://host.example.com/phpldapadmin)
    (for an SSL encrypted connection)'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: You will be prompted for your login DN; use the syntax shown below. Replace
    `*example*` and `*com*` with your domain name.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 22.9\. CONFIG FILES
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: /usr/local/www/phpldapadmin/config/config.php
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: Allows for the customization of phpLDAPadmin
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: 22.10\. NOTES
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To ensure the security of logins over the Internet, all communication should
    be secured by requiring HTTPS connections to phpLDAPadmin. We''ll reconstruct
    our phpLDAPadmin-specific configuration file to ensure this. Apache needs to be
    configured with SSL support for this to work. Open the existing file:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保通过互联网登录的安全性，所有通信都应该通过要求使用HTTPS连接到phpLDAPadmin来加密。我们将重新构建我们的phpLDAPadmin特定配置文件以确保这一点。Apache需要配置SSL支持才能实现这一点。打开现有文件：
- en: '[PRE10]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'and then modify the file to read as follows:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 然后修改文件，使其内容如下：
- en: '[PRE11]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Make the appropriate substitutions for your domain name and then save, exit,
    and restart Apache:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的域名进行适当的替换，然后保存、退出并重新启动Apache：
- en: '[PRE12]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
