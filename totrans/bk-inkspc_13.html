<html><head></head><body><div class="chapter" title="Chapter&#xA0;13.&#xA0;Path Effects and Extensions"><div class="titlepage"><div><div><h1 class="title"><a id="path_effects_and_extensions"/>Chapter 13. Path Effects and Extensions</h1></div></div></div><p><a id="iddle3279" class="indexterm"/>As comprehensive as the last chapter was, it didn’t cover everything there is to know about paths in Inkscape. This chapter is smaller, but it has the potential to grow much larger in later editions as Inkscape continues to evolve. Path effects (<span class="strong"><strong><a class="xref" href="ch13s01.html" title="13.1 Path Effects">13.1 Path Effects</a></strong></span>) first appeared in version 0.46; they are really taking off in version 0.47 and will likely grow even more in future versions. Extensions dealing with paths (<span class="strong"><strong><a class="xref" href="ch13s03.html" title="13.3 Path Extensions">13.3 Path Extensions</a></strong></span>) are another area of continuing growth; in the future, some of them may be turned into path effects to improve interactivity and integration with the rest of the program.</p></div>
<div class="sect1" title="13.1 Path Effects"><div class="titlepage"><div><div><h1 class="title"><a id="one3dot1_path_effects"/>13.1 Path Effects</h1></div></div></div><p><span class="emphasis"><em>Path effects</em></span> are an easy-to-use (for the end user) yet powerful (for the developer) mechanism for implementing modifications of the visible shape of the path—for example, rounding all corners, roughening it, blowing or pinching it. No matter which path effect you apply to a path, the <span class="emphasis"><em>original</em></span> path before the effect can still be viewed and edited—and after you edit the original path, the <span class="emphasis"><em>visible</em></span> path is automatically recalculated from it and from the effect parameters.</p><p><a id="iddle1758" class="indexterm"/><a id="iddle1773" class="indexterm"/><a id="iddle2434" class="indexterm"/><a id="iddle3191" class="indexterm"/><a id="iddle3278" class="indexterm"/><a id="iddle3280" class="indexterm"/><a id="iddle3281" class="indexterm"/><a id="iddle3290" class="indexterm"/><a id="iddle3313" class="indexterm"/><a id="iddle4113" class="indexterm"/><a id="iddle4139" class="indexterm"/><a id="iddle4490" class="indexterm"/>Thus, path effects in Inkscape are another example of the basic principle of vector graphics: Instead of making some permanent and destructive change, leave the original object unchanged and just record the way this change is to be applied. After that, both the original object and the parameters of the change applied to it can be edited separately at any time.</p><div class="sect2" title="13.1.1 How Path Effects Work"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot1_how_path_effects_work"/>13.1.1 How Path Effects Work</h2></div></div></div><p>Path effects, despite the name, apply not only to paths but also to shapes (<a class="xref" href="ch11.html" title="Chapter 11. Shapes">Chapter 11</a>) which remain shapes and are still editable as such, using the handles or numeric parameters in their shape tools. Path effects don’t, however, apply to text objects, clones, or bitmaps. A path effect can be applied to a group, which gives the same result as if the effect was applied to all paths and shapes in the group <span class="emphasis"><em>combined</em></span> (i.e., made subpaths of a single path).</p><div class="figure"><a id="sketch_effect_left_parenthesis13dot1dot6"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00205"/><img src="httpatomoreillycomsourcenostarchimages1736012.png.jpg" alt="The Sketch effect () applied to a path (left) and to a 3D box (right)"/></div></div><p class="title">Figure 13-1. The Sketch effect (<span class="strong"><a class="xref" href="ch13s01.html#one3dot1dot6_sketch" title="13.1.6 Sketch">13.1.6 Sketch</a></span>) applied to a path (left) and to a 3D box (right)</p></div><p>When a path effect is applied to an object, the only aspect that changes is the <span class="emphasis"><em>visible shape</em></span> of the object; if you want to change its <span class="emphasis"><em>style</em></span> in a nondestructive way, try filters instead (<a class="xref" href="ch17.html" title="Chapter 17. Filters">Chapter 17</a>). Path effects can be stacked on top of one another, so that the output of one effect is an input for the next one.</p><div class="note" title="SVG"><h3 class="title"><a id="ch13note01"/>SVG</h3><p><span class="emphasis"><em>Live path effects are an Inkscape-only feature; unlike, for example, filters, path effects are not part of the SVG standard. However, they are implemented in an SVG-compatible way: If you load an SVG file using a path effect into an SVG viewer (or into an old version of Inkscape that did not support this effect), you will see the same</em></span> visible <span class="emphasis"><em>path that you see in Inkscape, but without access to the</em></span> original <span class="emphasis"><em>path and the effect parameters. There’s a caveat: If you try to edit that visible path in a version of Inkscape that does not support the effect and then reload the changed file into a newer version that does support it, your changes will be lost because the new visible path will be generated from the unchanged original one and the effect parameters.</em></span></p><p><span class="emphasis"><em>In a</em></span> <code class="literal">path</code> <span class="emphasis"><em>element with a path effect applied, the original path data is stored in the</em></span> <code class="literal">inkscape:original-d</code> <span class="emphasis"><em>attribute. The path’s effect is specified in the</em></span> <code class="literal">inkscape:path-effect</code> <span class="emphasis"><em>attribute, which refers to an element with the same name stored, along with its parameters, in the</em></span> <code class="literal">defs</code> <span class="emphasis"><em>of the document (<span class="strong"><strong><a class="xref" href="apas04.html" title="A.4 Defs, View, and Metadata">A.4 Defs, View, and Metadata</a></strong></span>). The result of the effect is automatically recalculated and stored in the standard</em></span> <code class="literal">d</code> <span class="emphasis"><em>attribute of the path object. All Inkscape tools and commands know that, in a path with a path effect applied, they should not edit or change the</em></span> <code class="literal">d</code> <span class="emphasis"><em>but work on, or display, the</em></span> <code class="literal">inkscape:original-d</code> <span class="emphasis"><em>instead.</em></span></p></div><p><a id="iddle1498" class="indexterm"/><a id="iddle1694" class="indexterm"/><a id="iddle2589" class="indexterm"/><a id="iddle2940" class="indexterm"/><a id="iddle2953" class="indexterm"/><a id="iddle3068" class="indexterm"/><a id="iddle3264" class="indexterm"/><a id="iddle3274" class="indexterm"/><a id="iddle3276" class="indexterm"/><a id="iddle3283" class="indexterm"/><a id="iddle3286" class="indexterm"/><a id="iddle3308" class="indexterm"/><a id="iddle3338" class="indexterm"/><a id="iddle3348" class="indexterm"/><a id="iddle3711" class="indexterm"/><a id="iddle4116" class="indexterm"/><a id="iddle4459" class="indexterm"/><a id="iddle4465" class="indexterm"/>To assign one object’s path effect to any number of other paths or shapes, copy the source object (<span class="inlinemediaobject"><a id="inline_id00652"/><img src="httpatomoreillycomsourcenostarchimages1735376.png.jpg" alt=""/></span>), select the target, and use the <span class="strong"><strong>Paste Path Effect</strong></span> command (<span class="inlinemediaobject"><a id="inline_id00653"/><img src="httpatomoreillycomsourcenostarchimages1736014.png.jpg" alt=""/></span>). Inkscape comes with a number of sample SVG files (in <span class="emphasis"><em>/usr/share/inkscape/examples</em></span> on Linux, <span class="emphasis"><em>&lt;inkscape-dir&gt;\share\examples</em></span> on Windows), some of which demonstrate various path effects; you can use this copy/paste trick to reuse the effects from any of these sample files in your documents.</p><p>When you combine (<span class="strong"><strong><a class="xref" href="ch12s01.html#one2dot1dot1_subpaths" title="12.1.1 Subpaths">12.1.1 Subpaths</a></strong></span>) shapes or paths, the result will have the path effect of the topmost object, if any. Breaking apart a path with a path effect causes the effect to be applied to all resulting new paths.</p><p>To clear away the path effect and return to the original path, use the <span class="strong"><strong>Remove Path Effect</strong></span> command in the <span class="strong"><strong>Path</strong></span> menu. If, however, you want to preserve the result of the effect and forget the original path, use the <span class="strong"><strong>Object to Path</strong></span> command (<span class="inlinemediaobject"><a id="inline_id00654"/><img src="httpatomoreillycomsourcenostarchimages1735780.png.jpg" alt=""/></span>); this will not change the way the path looks, but the effect will be gone.</p><div class="note" title="SVG"><h3 class="title"><a id="ch13note02"/>SVG</h3><p><span class="emphasis"><em>The <span class="strong"><strong>Object to Path</strong></span> command is also the best way to ensure that your file is not only correctly rendered but also editable in older versions of Inkscape and in SVG editors other than Inkscape.</em></span></p></div><p>With the Node tool, you are editing the original path, not the visible path after the effect. Since the path you’re editing is not visible by itself, it is convenient to highlight it using the corresponding toolbar button (<a class="xref" href="ch12s05.html#path_highlighting_in_the_node_tool" title="Figure 12-17. Path highlighting in the Node tool">Figure 12-17</a>); most effects will enable this highlighting automatically for you.</p></div><div class="sect2" title="13.1.2 The Path Effect Editor Dialog"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot2_the_path_effect_editor_dial"/>13.1.2 The Path Effect Editor Dialog</h2></div></div></div><p>The <span class="strong"><strong>Path Effect Editor</strong></span> dialog (<span class="inlinemediaobject"><a id="inline_id00655"/><img src="httpatomoreillycomsourcenostarchimages1736016.png.jpg" alt=""/></span>, see <a class="xref" href="ch13s01.html#path_effect_editor_dialogsemicolon_a_pat" title="Figure 13-2. The Path Effect Editor dialog; a path with Spiro spline, Stitch Sub-Paths, and Sketch effects is selected.">Figure 13-2</a>) is the main control hub of path effects. It lists all path effects supported by Inkscape (this list expands with each new Inkscape version) and lets you choose those to apply to your selected path, shape, or group. When an object with one or more path effects is selected, you can use this dialog to view its stack of effects, add or remove effects, and adjust the parameters of the selected effect.</p><div class="note" title="Note"><h3 class="title"><a id="ch13note03"/>Note</h3><p><span class="emphasis"><em>If you have applied some path effects to a group, you can edit those effects’ parameters only when you select that group, not when you select any of the paths in it.</em></span></p></div><p>The <span class="strong"><strong>Effect list</strong></span> in the dialog lists all the effects applied to the selected object. They are listed top to bottom; that is, the first effect applied to the source path is the topmost one, its output is passed to the second one, and so on until the last listed effect whose output is displayed.</p><p>A new effect you add is placed at the end of the stack. You can move any effect in the stack up or down by the arrow buttons below the list. The eye icon before each effect’s name allows you to disable an effect, forcing Inkscape to bypass it (the <span class="strong"><strong>Is visible?</strong></span> checkbox in an effect’s parameters has the same function). To delete an effect from the stack, use the button with the minus sign.</p><p>Parameters of an effect can belong to several types:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="emphasis"><em>Numbers</em></span> can be either integers or fractional, depending on the nature of the parameter. When a number denotes a distance, it is usually in <code class="literal">px</code> units (<span class="strong"><strong><a class="xref" href="apas06.html" title="A.6 Coordinates and Units">A.6 Coordinates and Units</a></strong></span>).</p><div class="figure"><a id="path_effect_editor_dialogsemicolon_a_pat"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00206"/><img src="httpatomoreillycomsourcenostarchimages1736018.png.jpg" alt="The Path Effect Editor dialog; a path with Spiro spline, Stitch Sub-Paths, and Sketch effects is selected."/></div></div><p class="title">Figure 13-2. The Path Effect Editor dialog; a path with Spiro spline, Stitch Sub-Paths, and Sketch effects is selected.</p></div></li><li class="listitem"><p><a id="iddle3358" class="indexterm"/>In <span class="emphasis"><em>random number parameters</em></span>, the editable number specifies the range in which the random values must fall, and the dice button reshuffles the random values controlled by this parameter:</p><div class="figure"><a id="random_number_parameter_of_a_path_effect"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00207"/><img src="httpatomoreillycomsourcenostarchimages1736020.png.jpg" alt="A random number parameter of a path effect"/></div></div><p class="title">Figure 13-3. A random number parameter of a path effect</p></div></li><li class="listitem"><p><span class="emphasis"><em>Link parameters</em></span> are used when one path’s effect uses some other path as one of its parameters. That <span class="emphasis"><em>linked path</em></span> can be a separate object located somewhere on the canvas (in the same document), or it can be a path stored entirely within the path effect and not visible in the document.</p><div class="figure"><a id="link_parameter_of_a_path_effect"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00208"/><img src="httpatomoreillycomsourcenostarchimages1736022.png.jpg" alt="A link parameter of a path effect"/></div></div><p class="title">Figure 13-4. A link parameter of a path effect</p></div></li></ul></div><p>A link parameter displays a row of four buttons:</p><p><span class="strong"><strong>Edit button</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Switches Inkscape to the Node tool and lets you edit that linked path, regardless of whether it’s a separate object or a path stored inside the effect (<a class="xref" href="ch13s01.html#editing_a_path_effectapostrophes_linked" title="Figure 13-5. Editing a path effect’s linked path">Figure 13-5</a>). In the latter case, that path is shown as a green outline.</p><p>This is the same as if you switch manually to the Node tool and click the <span class="strong"><strong>Edit path effect parameter</strong></span> button on the controls bar.</p></li></ul></div><div class="figure"><a id="editing_a_path_effectapostrophes_linked"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00209"/><img src="httpatomoreillycomsourcenostarchimages1736024.png.jpg" alt="Editing a path effect’s linked path"/></div></div><p class="title">Figure 13-5. Editing a path effect’s linked path</p></div><p><a id="iddle1035" class="indexterm"/><a id="iddle1221" class="indexterm"/><a id="iddle1982" class="indexterm"/><a id="iddle2857" class="indexterm"/><a id="iddle2949" class="indexterm"/><a id="iddle3371" class="indexterm"/><a id="iddle3400" class="indexterm"/><a id="iddle3652" class="indexterm"/><a id="iddle4224" class="indexterm"/><a id="iddle4281" class="indexterm"/><span class="strong"><strong>Copy button</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Copies the linked path to the clipboard.</p></li></ul></div><p><span class="strong"><strong>Paste button</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Pastes the path from the clipboard into the effect, making a copy of the clipboard path and storing it in the effect.</p></li></ul></div><p><span class="strong"><strong>Link button</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Takes the path copied to the clipboard and links the effect to its original in the document. Now, editing the object you had copied will change this path’s effect.</p></li></ul></div><p>Apart from the numeric controls in the dialog, some path effects allow you to edit their parameters visually by on-canvas handles accessible in the Node or shape tools. We will see examples of this as we discuss specific effects.</p></div><div class="sect2" title="13.1.3 Pattern Along Path and Bend"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot3_pattern_along_path_and_bend"/>13.1.3 Pattern Along Path and Bend</h2></div></div></div><p>The <span class="strong"><strong>Pattern Along Path</strong></span> and <span class="strong"><strong>Bend</strong></span> effects are very similar. They both take one path (called the <span class="emphasis"><em>pattern</em></span>) and bend and/or stretch it along another path (called the <span class="emphasis"><em>skeleton</em></span>). This is very similar to “skeletal paths” in software such as Microsoft Expression, typically used for freehand drawings (see <a class="xref" href="ch14s02.html#shaped_strokes_with_the_pencil_tool" title="Figure 14-11. Shaped strokes with the Pencil tool">Figure 14-11</a>).</p><p>As usual with path effects, both the skeleton path and the pattern remain editable at any time, with the result updated live. This is a great way to create easily editable vector brushes—for example, you can start by creating a drawing with the Pen or Pencil tools, and then try applying various patterns to all its paths, adjusting the widths for the best result.</p><div class="figure"><a id="bending_a_pattern_along_a_skeleton"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00210"/><img src="httpatomoreillycomsourcenostarchimages1736026.png.jpg" alt="Bending a pattern along a skeleton"/></div></div><p class="title">Figure 13-6. Bending a pattern along a skeleton</p></div><p><a id="iddle3456" class="indexterm"/><a id="iddle3481" class="indexterm"/><a id="iddle3495" class="indexterm"/><a id="iddle3504" class="indexterm"/><a id="iddle4396" class="indexterm"/>Aside from the ability to repeat a pattern, the main difference between the <span class="strong"><strong>Pattern Along Path</strong></span> and <span class="strong"><strong>Bend</strong></span> effects is which path is the skeleton and which is the pattern:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>In <span class="strong"><strong>Pattern Along Path</strong></span>, the path you’re applying the effect to becomes the skeleton, and the pattern is linked up using a link parameter. This effect is ideal for simple, possibly repeated patterns applied to arbitrary skeletons. The linked pattern path can be either an independent path object in the document, or a path stored inside the effect itself. The result gets the style of the skeleton. This is the effect used by the <span class="strong"><strong>Shape</strong></span> option in the Pen and Pencil tools (<span class="strong"><strong><a class="xref" href="ch14s01.html#one4dot1dot5_stroke_shapes" title="14.1.5 Stroke Shapes">14.1.5 Stroke Shapes</a></strong></span>).</p><p>Once you apply <span class="strong"><strong>Pattern Along Path</strong></span> to a skeleton path, you need to supply the pattern using the <span class="strong"><strong>Pattern source</strong></span> link parameter. The <span class="strong"><strong>Edit</strong></span> button does not work unless you paste or link some pattern path first, so the usual sequence of operations is this: Select a pattern path, copy it (<span class="inlinemediaobject"><a id="inline_id00656"/><img src="httpatomoreillycomsourcenostarchimages1735376.png.jpg" alt=""/></span>), select a skeleton path, assign <span class="strong"><strong>Pattern Along Path</strong></span> to it, and paste or link the pattern to it. Or, you can quickly draw skeletons with the copied pattern applied to them automatically if you choose <span class="strong"><strong>From clipboard</strong></span> in the <span class="strong"><strong>Shape</strong></span> list in the Pen or Pencil tools.</p><div class="figure"><a id="pattern_along_path_effect"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00211"/><img src="httpatomoreillycomsourcenostarchimages1736028.png.jpg" alt="The Pattern Along Path effect"/></div></div><p class="title">Figure 13-7. The Pattern Along Path effect</p></div></li><li class="listitem"><p>In <span class="strong"><strong>Bend</strong></span>, the path you’re applying the effect to becomes the pattern, whereas the skeleton is linked up using a link parameter. This is more convenient when you have a complex pattern that you want to lightly curve along a simple, possibly shared skeleton path. Similarly, the linked skeleton path can be either an independent path in the document or a path stored inside the effect itself. The result gets the style of the pattern.</p><p>For this effect, you start with the pattern and use the <span class="strong"><strong>Bend</strong></span> link parameter to link to a skeleton. Unlike <span class="strong"><strong>Pattern Along Path</strong></span>, however, <span class="strong"><strong>Bend</strong></span> provides a default two-node skeleton path that stretches along the horizontal axis of your pattern—so you can at once use the <span class="strong"><strong>Edit</strong></span> button to edit that skeleton. If you prefer, however, you can still paste a skeleton from the clipboard or link to the copied path.</p></li></ul></div><div class="figure"><a id="bend_effect"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00212"/><img src="httpatomoreillycomsourcenostarchimages1736030.png.jpg" alt="The Bend effect"/></div></div><p class="title">Figure 13-8. The Bend effect</p></div><div class="note" title="Note"><h3 class="title"><a id="ch13note04"/>Note</h3><p><span class="emphasis"><em>You can use any path for an external linked skeleton with <span class="strong"><strong>Bend</strong></span>, including a path with some other path effect applied to it.</em></span></p></div><p>Both effects allow you to change the <span class="emphasis"><em>width</em></span> of the pattern. This width can be measured either in the units of the original width of the pattern or in the units of the skeleton length:</p><div class="figure"><a id="adjusting_the_width_of_a_pattern"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00213"/><img src="httpatomoreillycomsourcenostarchimages1736032.png.jpg" alt="Adjusting the width of a pattern"/></div></div><p class="title">Figure 13-9. Adjusting the width of a pattern</p></div><p>The <span class="strong"><strong>Pattern Along Path</strong></span> effect can use one of the following <span class="emphasis"><em>repeat modes</em></span>:</p><p><span class="strong"><strong>Single</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Places a single copy of the pattern along the skeleton, from start node, without stretching it. So, if the pattern is shorter than the skeleton, it will only cover part of the skeleton length; if the pattern is longer (i.e., does not fit even once), it will not be applied.</p></li></ul></div><p><span class="strong"><strong>Single, stretched</strong></span> (default)</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Also places a single copy of the pattern along the skeleton, but always stretches or squeezes it so it exactly fits the skeleton length. The <span class="strong"><strong>Bend</strong></span> effect always uses this mode; unlike <span class="strong"><strong>Pattern Along Path</strong></span>, in <span class="strong"><strong>Bend</strong></span> the repeat mode is not changeable.</p></li></ul></div><p><span class="strong"><strong>Repeated</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Places as many copies of the pattern along the skeleton as fits the skeleton length, but does not stretch them, so the remainder of the skeleton length less than one pattern length remains unfilled. (However, this does not mean that the copies of the pattern are identical; the curvature of the skeleton may noticeably distort them, as <a class="xref" href="ch13s01.html#repeat_modes_of_pattern_along_path" title="Figure 13-10. Repeat modes of Pattern Along Path">Figure 13-10</a> demonstrates.)</p></li></ul></div><p><a id="iddle3721" class="indexterm"/><span class="strong"><strong>Repeated, stretched</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Places as many copies of the pattern along the skeleton as would fit and stretches them evenly, so that they exactly fill the entire skeleton length.</p><div class="figure"><a id="repeat_modes_of_pattern_along_path"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00214"/><img src="httpatomoreillycomsourcenostarchimages1736034.png.jpg" alt="Repeat modes of Pattern Along Path"/></div></div><p class="title">Figure 13-10. Repeat modes of Pattern Along Path</p></div><p>The pattern always starts from the start of the path; if you want it to go the other way, use <span class="strong"><strong>Path</strong></span> ▸ <span class="strong"><strong>Reverse</strong></span>.</p><p>Also, the <span class="strong"><strong>Pattern Along Path</strong></span> effect allows you to adjust some <span class="emphasis"><em>distance parameters</em></span>:</p></li></ul></div><p><span class="strong"><strong>Spacing</strong></span> (only for repeated modes)</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Sets the spacing between copies of the pattern on the path.</p></li></ul></div><p><span class="strong"><strong>Normal offset</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Moves all copies of the pattern <span class="emphasis"><em>perpendicular</em></span> to the skeleton path at each point.</p></li></ul></div><p><span class="strong"><strong>Tangential offset</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Moves all copies of the pattern <span class="emphasis"><em>along</em></span> the skeleton path, starting the first pattern not at the start of the skeleton but this specified distance from it.</p></li></ul></div><p>These offsets and spacing parameters are, by default, in absolute <code class="literal">px</code> units. By checking the <span class="strong"><strong>Offset in units of pattern size</strong></span> checkbox, you can express them as multipliers of the pattern size—for example, a tangential offset of 0.5 will shift the pattern along the skeleton by half of the pattern’s width.</p><div class="figure"><a id="spacing_and_offsets_in_pattern_along_pat"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00215"/><img src="httpatomoreillycomsourcenostarchimages1736036.png.jpg" alt="Spacing and offsets in Pattern Along Path"/></div></div><p class="title">Figure 13-11. Spacing and offsets in Pattern Along Path</p></div><p>By default, the original of the pattern is considered to be horizontal—that is, the pattern is aligned on the skeleton by the pattern’s horizontal axis. By checking the <span class="strong"><strong>Pattern is vertical</strong></span> (for <span class="strong"><strong>Pattern Along Path</strong></span>) or <span class="strong"><strong>Original path is vertical</strong></span> (for <span class="strong"><strong>Bend</strong></span>) checkboxes, you can rotate the pattern by 90 degrees so that it’s aligned on its vertical axis, as shown in <a class="xref" href="ch13s01.html#orientation_of_pattern_in_pattern_along" title="Figure 13-12. Orientation of pattern in Pattern Along Path">Figure 13-12</a>.</p><div class="figure"><a id="orientation_of_pattern_in_pattern_along"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00216"/><img src="httpatomoreillycomsourcenostarchimages1736038.png.jpg" alt="Orientation of pattern in Pattern Along Path"/></div></div><p class="title">Figure 13-12. Orientation of pattern in Pattern Along Path</p></div></div><div class="sect2" title="13.1.4 Stitch Sub-Paths"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot4_stitch_sub-paths"/>13.1.4 Stitch Sub-Paths</h2></div></div></div><p><a id="iddle2599" class="indexterm"/><a id="iddle4335" class="indexterm"/><a id="iddle4455" class="indexterm"/>The surprisingly useful <span class="strong"><strong>Stitch Sub-Paths</strong></span> effect works only for paths with two or more subpaths (<span class="strong"><strong><a class="xref" href="ch12s01.html#one2dot1dot1_subpaths" title="12.1.1 Subpaths">12.1.1 Subpaths</a></strong></span>). It replaces the source path with a lattice of paths connecting equispaced points on the subpaths; you can set the number of the connecting paths via a parameter. With this effect, you can create all kinds of hair, fur, lattices, moiré patterns, or “power fields”:</p><div class="figure"><a id="stitching_subpaths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00217"/><img src="httpatomoreillycomsourcenostarchimages1736040.png.jpg" alt="Stitching subpaths"/></div></div><p class="title">Figure 13-13. Stitching subpaths</p></div><div class="note" title="Note"><h3 class="title"><a id="ch13note05"/>Note</h3><p><span class="emphasis"><em>If the path has three or more subpaths, each pair of subpaths gets its own connecting lattice. This means that the number of connecting lines literally explodes as you increase the number of subpaths in the original—so don’t try this effect on a path with more than a few subpaths, or you will easily bog Inkscape down to a halt!</em></span></p></div><div class="figure"><a id="stitching_three_or_more_subpaths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00218"/><img src="httpatomoreillycomsourcenostarchimages1736042.png.jpg" alt="Stitching three or more subpaths"/></div></div><p class="title">Figure 13-14. Stitching three or more subpaths</p></div><p>The connecting lines need not be straight, although that is the default. You can use the <span class="strong"><strong>Stitch path</strong></span> link parameter to paste or link any existing open path to serve as the stitches, or you can edit the lines with the Node tool. The <span class="strong"><strong>Scale width</strong></span> parameter scales the stitch path in the direction perpendicular to its start-end direction (the value of 1 gives it its natural width). The <span class="strong"><strong>Scale width relative to length</strong></span> makes the width of each stitch depend on the length of this stitch, as shown in <a class="xref" href="ch13s01.html#adjusting_the_width_of_curved_stitch_pat" title="Figure 13-15. Adjusting the width of curved stitch path">Figure 13-15</a>.</p><div class="figure"><a id="adjusting_the_width_of_curved_stitch_pat"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00219"/><img src="httpatomoreillycomsourcenostarchimages1736044.png.jpg" alt="Adjusting the width of curved stitch path"/></div></div><p class="title">Figure 13-15. Adjusting the width of curved stitch path</p></div><p><a id="iddle1460" class="indexterm"/><a id="iddle2719" class="indexterm"/><a id="iddle3378" class="indexterm"/>Finally, a group of randomization (<span class="strong"><strong>variance</strong></span>) parameters allows you to shuffle the attachment points of the stitches, both along the path (<span class="strong"><strong>spacing</strong></span>) and perpendicular to it (<span class="strong"><strong>edge</strong></span>), separately for the beginning and end of each stitch:</p><div class="figure"><a id="randomizing_the_stitched_subpaths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00220"/><img src="httpatomoreillycomsourcenostarchimages1736046.png.jpg" alt="Randomizing the stitched subpaths"/></div></div><p class="title">Figure 13-16. Randomizing the stitched subpaths</p></div></div><div class="sect2" title="13.1.5 Knot"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot5_knot"/>13.1.5 Knot</h2></div></div></div><p>This effect breaks a path into subpaths, creating gaps between them where the path (or a group of paths) self-intersect. It can turn a stroked path with self-intersections into a Celtic knot:</p><div class="figure"><a id="knot_effect_on_a_path_with_self-intersec"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00221"/><img src="httpatomoreillycomsourcenostarchimages1736048.png.jpg" alt="The Knot effect on a path with self-intersections"/></div></div><p class="title">Figure 13-17. The Knot effect on a path with self-intersections</p></div><p>The only numeric parameter for this effect specifies the width of each gap in <code class="literal">px</code> units. On canvas, you can control each intersection individually. Select a path with the <span class="strong"><strong>Knot</strong></span> effect, switch to the Node tool, and notice that one of its self-intersections has a diamond-shaped handle and a green circular indicator which is open on one side. Click that handle; the indicator flips to the other side and the gap now affects the other line at the intersection. Click it again and you close the intersection removing any gaps; the indicator is now a solid circle. <a id="iddle1169" class="indexterm"/><a id="iddle1181" class="indexterm"/><a id="iddle1671" class="indexterm"/><a id="iddle4140" class="indexterm"/>You can cycle through these three states of an intersection by clicking the handle. To control another intersection on your path, just drag the handle and drop near the intersection you need.</p></div><div class="sect2" title="13.1.6 Sketch"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot6_sketch"/>13.1.6 Sketch</h2></div></div></div><p><span class="strong"><strong>Sketch</strong></span> is a complex artistic effect that turns a path into a sketch-like drawing with multiple strokes, as if hand-drawn by an artist who was trying to find the best shape:</p><div class="figure"><a id="sketch_effect"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00222"/><img src="httpatomoreillycomsourcenostarchimages1736050.png.jpg" alt="The Sketch effect"/></div></div><p class="title">Figure 13-18. The Sketch effect</p></div><p>To make sense of the plethora of parameters of this complex effect, remember that the sketch consists of two types of artifacts: approximating strokes and construction lines. The <span class="emphasis"><em>approximating strokes</em></span> cover the entire path; they are typically curvilinear, more or less parallel to the original path (with certain tremor), and travel at some distance from it. The <span class="emphasis"><em>construction lines</em></span>, on the other hand, identify and emphasize straight or almost straight parts of the path by drawing straight lines that extend on both sides.</p><p>For the approximating strokes, you can change:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The average <span class="strong"><strong>number</strong></span> of parallel strokes at each point of the path (the default is five). Set this parameter to 0 to hide approximating strokes (leaving only construction lines); low values make the sketch airy and tentative, increasing the number makes it bolder and noisier:</p><div class="figure"><a id="changing_the_number_of_approximating_str"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00223"/><img src="httpatomoreillycomsourcenostarchimages1736052.png.jpg" alt="Changing the number of approximating strokes (construction lines are off)"/></div></div><p class="title">Figure 13-19. Changing the number of approximating strokes (construction lines are off)</p></div></li><li class="listitem"><p>The maximum <span class="strong"><strong>length</strong></span> of strokes (in <code class="literal">px</code> units) and the range of the random length <span class="strong"><strong>variation</strong></span> (relative to the maximum length).</p></li><li class="listitem"><p>The maximum <span class="strong"><strong>overlapping</strong></span> of subsequent strokes (in <code class="literal">px</code> units) and the range of the random <span class="strong"><strong>variation</strong></span> of this parameter (relative to the maximum overlap value).</p></li><li class="listitem"><p>The <span class="strong"><strong>end tolerance</strong></span> affecting how close the approximating strokes follow the original path.</p></li><li class="listitem"><p>The average <span class="strong"><strong>offset</strong></span> of the approximating strokes from the original path; by varying this parameter, you can make the sketch either neat and tight or wide and ruffled.</p></li><li class="listitem"><p>The maximum <span class="strong"><strong>tremble</strong></span> and its <span class="strong"><strong>frequency</strong></span>; these control how the strokes oscillate around the original path. Increasing the maximum tremble ruffles the sketch, similar to increasing offset but more randomly; increasing the frequency makes the sketch lines look rougher by making them tremble on a smaller scale.</p></li></ul></div><div class="figure"><a id="changing_the_tremble_frequency_of_approx"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00224"/><img src="httpatomoreillycomsourcenostarchimages1736054.png.jpg" alt="Changing the tremble frequency of approximating strokes"/></div></div><p class="title">Figure 13-20. Changing the tremble frequency of approximating strokes</p></div><p>For the construction lines, you can change:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The total (not average) <span class="strong"><strong>number</strong></span> of the lines in the sketch (the default is five). Set this to 0 to suppress construction lines, leaving only approximating strokes.</p></li><li class="listitem"><p>The <span class="strong"><strong>scale</strong></span> parameter tells how far the ends of the construction lines can go beyond the ends of the straight (or approximately straight) parts of the path.</p></li><li class="listitem"><p>The maximum <span class="strong"><strong>length</strong></span> and its random <span class="strong"><strong>variation</strong></span> set the upper limit on the length of construction lines:</p><div class="figure"><a id="playing_with_construction_lines_left_par"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00225"/><img src="httpatomoreillycomsourcenostarchimages1736056.png.jpg" alt="Playing with construction lines (approximating strokes are off)"/></div></div><p class="title">Figure 13-21. Playing with construction lines (approximating strokes are off)</p></div></li></ul></div></div><div class="sect2" title="13.1.7 Spiro Spline"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot7_spiro_spline"/>13.1.7 Spiro Spline</h2></div></div></div><p><a id="iddle1239" class="indexterm"/><a id="iddle3468" class="indexterm"/><a id="iddle3500" class="indexterm"/><a id="iddle4254" class="indexterm"/><a id="iddle4255" class="indexterm"/><a id="iddle4260" class="indexterm"/>Building paths with Bézier curves (<span class="strong"><strong><a class="xref" href="ch12s01.html#one2dot1dot4_beacutezier_curves" title="12.1.4 Bézier Curves">12.1.4 Bézier Curves</a></strong></span>) has many years of tradition behind it. All modern graphics software worth its salt supports it in much the same way, and millions of users are familiar with it. The Bézier paradigm is, undoubtedly, extremely flexible and powerful. I think most people who have ever used it will find it difficult to name any major disadvantages specific to it.</p><p>And yet, once you try something better, these disadvantages become painfully obvious.</p><p><span class="emphasis"><em>Spiro splines</em></span> are a novel way of defining curvilinear paths, developed by Raph Levien. They take some getting used to, but for certain tasks (such as lettershape design) Spiros have a clear advantage over Bézier curves. Since version 0.47, Spiro splines are available as a path effect in Inkscape, which means you can use all the convenient Inkscape path tools (such as moving and transforming groups of nodes, node sculpting, etc.) on Spiro paths. The Pen and Pencil tools can produce Spiro paths directly (<span class="strong"><strong><a class="xref" href="ch14s01.html#one4dot1dot4_modes" title="14.1.4 Modes">14.1.4 Modes</a></strong></span>).</p><p>A Spiro path is defined by a sequence of nodes. However, unlike a regular path consisting of Bézier curves, all Spiro nodes lie on the path, and there are no off-path handles. The curvature of the path is defined entirely by the positions of the nodes and their types. The path behaves very similar to a springy rod that is forced to pass through the given points and which uses the minimum possible curvature to satisfy the requirement:</p><div class="figure"><a id="converting_a_regular_path_to_a_spiro_pat"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00226"/><img src="httpatomoreillycomsourcenostarchimages1736058.png.jpg" alt="Converting a regular path to a Spiro path and back"/></div></div><p class="title">Figure 13-22. Converting a regular path to a Spiro path and back</p></div><p>Once you get the basic idea, the Spiro behavior will feel more and more natural as you’re getting used to it. More importantly, the resulting path is always very smooth—not just superficially smooth, as in having no cusps, but smooth at a deeper level, which you can only achieve with Béziers after a lot of laborious tweaking.</p><p>After a Spiro experience, it becomes clear that the main problem with Béziers is each node having not only a position but also its own intrinsic “direction” and “curvature,” as defined by its handles. So, whenever you move a Bézier node around, you also need to carefully adjust its handles so the curve still looks smooth and natural. With Spiros, you are freed of this requirement; just move the node wherever you want the curve to go, and the smoothness of the curve is taken care of automatically.</p><div class="note" title="Note"><h3 class="title"><a id="ch13note06"/>Note</h3><p><span class="emphasis"><em>After a Spiro path is converted to a regular path, it gets two to three times as many nodes; now, consider that each of these Bézier nodes are actually three points (the node itself and its handles) compared to just a single point of a Spiro node—and you will get an idea of how much faster and easier Spiro path editing can be.</em></span></p></div><div class="figure"><a id="lettershapes_created_with_spiro_paths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00227"/><img src="httpatomoreillycomsourcenostarchimages1736060.png.jpg" alt="Lettershapes created with Spiro paths"/></div></div><p class="title">Figure 13-23. Lettershapes created with Spiro paths</p></div><p><a id="iddle2994" class="indexterm"/><a id="iddle3021" class="indexterm"/><a id="iddle3044" class="indexterm"/>To create a Spiro path, select any path and assign the <span class="strong"><strong>Spiro spline</strong></span> path effect to it. There are no parameters. Each node of your path becomes a point of a Spiro path, depending on the type of node (<span class="strong"><strong><a class="xref" href="ch12s05.html#one2dot5dot5_node_types" title="12.5.5 Node Types">12.5.5 Node Types</a></strong></span>):</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>Smooth nodes</strong></span> (those with two collinear Bézier handles) are smooth points on the Spiro path. Note that the length and direction of the Bézier handles on the source path are ignored; the only thing that matters is their collinearity (i.e., smoothness). Press <span class="inlinemediaobject"><a id="inline_id00657"/><img src="httpatomoreillycomsourcenostarchimages1735382.png.jpg" alt=""/></span> to line up the handles of the selected node to make it smooth.</p></li><li class="listitem"><p><span class="strong"><strong>Half-smooth nodes</strong></span> (those with one Bézier handle collinear with a straight line segment on the other side) behave exactly the same on a Spiro path: They sit between a straight line and a curve and enforce that these two segments join smoothly without a cusp. If you have a straight line segment on one side of a node, the first <span class="inlinemediaobject"><a id="inline_id00658"/><img src="httpatomoreillycomsourcenostarchimages1735382.png.jpg" alt=""/></span> will make it half-smooth.</p></li><li class="listitem"><p><span class="strong"><strong>Cusp nodes</strong></span> on the source path become corner points of the Spiro path. They behave like free hinges on the springy rod, allowing it to bend at any angle. Between two corner points, the Spiro path is always a straight line. To make a node cusp, press <span class="inlinemediaobject"><a id="inline_id00659"/><img src="httpatomoreillycomsourcenostarchimages1735970.png.jpg" alt=""/></span> twice (the first <span class="inlinemediaobject"><a id="inline_id00660"/><img src="httpatomoreillycomsourcenostarchimages1735970.png.jpg" alt=""/></span> just changes the type of the node and the second actually retracts the handles).</p></li></ul></div><div class="figure"><a id="playing_with_node_types_in_a_spiro_path"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00228"/><img src="httpatomoreillycomsourcenostarchimages1736062.png.jpg" alt="Playing with node types in a Spiro path"/></div></div><p class="title">Figure 13-24. Playing with node types in a Spiro path</p></div><div class="note" title="Note"><h3 class="title"><a id="ch13note07"/>Note</h3><p><a id="iddle2026" class="indexterm"/><a id="iddle2262" class="indexterm"/><a id="iddle2941" class="indexterm"/><a id="iddle2954" class="indexterm"/><a id="iddle3349" class="indexterm"/><a id="iddle4923" class="indexterm"/><span class="emphasis"><em>What matters for Spiro is the actual collinearity of a node’s handles, regardless of the node type that the node has in the Node tool. For example, if a node designated as cusp (diamond-shaped) has collinear handles, it will still be a smooth curve point on the Spiro path.</em></span></p></div><p>Probably the biggest problem with Spiro splines is that some configurations of points are unstable and produce wild loops and spirals instead of a smooth curve. Still, sensible sequences of points usually work fine; you just need to avoid sharp changes in direction between points to prevent such instability. Hopefully, the robustness of the algorithm will be improved in future releases.</p><div class="figure"><a id="divergent_spiro_path_with_five_nodes"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00229"/><img src="httpatomoreillycomsourcenostarchimages1736064.png.jpg" alt="A divergent Spiro path with five nodes"/></div></div><p class="title">Figure 13-25. A divergent Spiro path with five nodes</p></div><p>When editing Spiro paths with the Node tool, the red highlight of the source path may be a distraction; you can turn it off with a toggle button in the controls bar.</p></div><div class="sect2" title="13.1.8 Envelope Deformation"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot8_envelope_deformation"/>13.1.8 Envelope Deformation</h2></div></div></div><p>This effect distorts a path or a group of paths by fitting them into a curvilinear envelope. After you apply the effect, the envelope is rectangular, and you can curve its sides one by one by the Node tool. The effect treats all four sides as separate helper paths (“bend paths”), which is slightly inconvenient: You need to click the <span class="strong"><strong>Edit</strong></span> buttons for each side in turn to curve all four sides. The <span class="strong"><strong>Copy</strong></span> and <span class="strong"><strong>Paste</strong></span> buttons allow you to transfer the exact shape of the envelope from one object to another.</p><div class="figure"><a id="envelope_distortion_of_a_group_of_paths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00230"/><img src="httpatomoreillycomsourcenostarchimages1736066.png.jpg" alt="Envelope distortion of a group of paths"/></div></div><p class="title">Figure 13-26. Envelope distortion of a group of paths</p></div></div><div class="sect2" title="13.1.9 VonKoch"><div class="titlepage"><div><div><h2 class="title"><a id="one3dot1dot9_vonkoch"/>13.1.9 VonKoch</h2></div></div></div><p>This fractal-like recursive effect takes the original path and repeats it twice (as subpaths) with shifting, scaling, and rotating; it then repeats the same operation on these copies, and so on for the specified number of <span class="emphasis"><em>generations</em></span>. The transforming of the copies is determined by the configuration of three helper paths: a <span class="emphasis"><em>reference segment</em></span> (initially, horizontally across the source path) and two <span class="emphasis"><em>generating</em></span> <a id="iddle1936" class="indexterm"/><a id="iddle1948" class="indexterm"/><a id="iddle1957" class="indexterm"/><a id="iddle1959" class="indexterm"/><a id="iddle2563" class="indexterm"/><a id="iddle2797" class="indexterm"/><a id="iddle2799" class="indexterm"/><a id="iddle3155" class="indexterm"/><span class="emphasis"><em>paths</em></span> (initially, horizontally across the two first-generation copies). These helper paths are two-node straight line segments (i.e., their curvature is disregarded); to edit them, you can use the Node tool and click the <span class="strong"><strong>Edit path effect parameter</strong></span> button on its control bar once or twice; or, you can click the <span class="strong"><strong>Edit</strong></span> button in the effect’s parameters for the corresponding helper path. Here are some examples:</p><div class="figure"><a id="number_of_vonkoch_fractals_for_the_same"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00231"/><img src="httpatomoreillycomsourcenostarchimages1736068.png.jpg" alt="A number of VonKoch fractals for the same source path and different helper segments"/></div></div><p class="title">Figure 13-27. A number of VonKoch fractals for the same source path and different helper segments</p></div></div></div>
<div class="sect1" title="13.2 Dynamic and Linked Offsets"><div class="titlepage"><div><div><h1 class="title"><a id="one3dot2_dynamic_and_linked_offsets"/>13.2 Dynamic and Linked Offsets</h1></div></div></div><p>We’ve already seen the regular offset commands (<span class="strong"><strong><a class="xref" href="ch12s04.html" title="12.4 Offsetting">12.4 Offsetting</a></strong></span>) that expand (<span class="emphasis"><em>outset</em></span>) or contract (<span class="emphasis"><em>inset</em></span>) a path perpendicular to its direction at each point. Those commands are destructive—once you offset a path, you lose the original. There exist, however, nondestructive versions of the same commands: <span class="emphasis"><em>dynamic offsets</em></span> and <span class="emphasis"><em>linked offsets</em></span>.</p><div class="note" title="Note"><h3 class="title"><a id="ch13note08"/>Note</h3><p><span class="emphasis"><em>Dynamic offsets and linked offsets are conceptually very similar to path effects—they, too, have an invisible original path, the visible offset path, and the parameter specifying how much to offset. However, for historical reasons, offsets are not implemented as path effects and therefore are not available in the <span class="strong"><strong>Path Effect Editor</strong></span> dialog. It appears likely, however, that in a future version offsets will be reimplemented as path effects.</em></span></p></div><p>With a <span class="emphasis"><em>dynamic offset</em></span>, the original path is not visible anywhere on canvas—it is <span class="emphasis"><em>stored</em></span> inside the dynamic offset object, which displays only the offset path. To create such an object, select a path and press <span class="inlinemediaobject"><a id="inline_id00661"/><img src="httpatomoreillycomsourcenostarchimages1736070.png.jpg" alt=""/></span> or choose <span class="strong"><strong>Path</strong></span> ▸ <span class="strong"><strong>Dynamic Offset</strong></span>. A <span class="emphasis"><em>linked offset</em></span> is different only in that it <span class="emphasis"><em>links</em></span> to an existing path as its source. In this way, you can create multiple offsets from a single source path, and all of them will be updated when the source path is edited. To create a linked offset, select the source path and press <span class="inlinemediaobject"><a id="inline_id00662"/><img src="httpatomoreillycomsourcenostarchimages1736072.png.jpg" alt=""/></span>, choose <span class="strong"><strong>Path</strong></span> ▸ <span class="strong"><strong>Linked Offset</strong></span>, or simply duplicate (<span class="inlinemediaobject"><a id="inline_id00663"/><img src="httpatomoreillycomsourcenostarchimages1735374.png.jpg" alt=""/></span>) an existing linked offset of the same original.</p><p>Both kinds of offsets display a single, diamond-shaped handle on the offset path. You can drag that handle anywhere; its distance from the original path determines how much the path is inset or outset, but you can also move it along the path to where it’s most convenient for you:</p><div class="figure"><a id="dynamic_and_linked_offsets_offsetting_wi"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00232"/><img src="httpatomoreillycomsourcenostarchimages1736074.png.jpg" alt="Dynamic and linked offsets: offsetting with handles"/></div></div><p class="title">Figure 13-28. Dynamic and linked offsets: offsetting with handles</p></div><p><a id="iddle1082" class="indexterm"/><a id="iddle1345" class="indexterm"/><a id="iddle2106" class="indexterm"/><a id="iddle2108" class="indexterm"/><a id="iddle2110" class="indexterm"/><a id="iddle2111" class="indexterm"/><a id="iddle2113" class="indexterm"/><a id="iddle2277" class="indexterm"/><a id="iddle2283" class="indexterm"/><a id="iddle2689" class="indexterm"/><a id="iddle3069" class="indexterm"/><a id="iddle3288" class="indexterm"/><a id="iddle4853" class="indexterm"/>As with path effects, to convert a dynamic or linked offset to a regular path, choose <span class="strong"><strong>Path</strong></span> ▸ <span class="strong"><strong>Object to Path</strong></span> (<span class="inlinemediaobject"><a id="inline_id00664"/><img src="httpatomoreillycomsourcenostarchimages1735780.png.jpg" alt=""/></span>).</p></div>
<div class="sect1" title="13.3 Path Extensions"><div class="titlepage"><div><div><h1 class="title"><a id="one3dot3_path_extensions"/>13.3 Path Extensions</h1></div></div></div><p><span class="emphasis"><em>Extensions</em></span> are simple external programs that perform some actions on the selected objects in the document. They are represented by the commands in the submenus of the <span class="strong"><strong>Extensions</strong></span> menu. However, they should not be confused with path effects; they are one-off, destructive operations that change objects without preserving the originals. The only way to reverse the effect of an extension command is by using <span class="strong"><strong>Edit</strong></span> ▸ <span class="strong"><strong>Undo</strong></span>.</p><p>A typical extension has a number of <span class="emphasis"><em>parameters</em></span> you can set in a dialog before running the extension. Most extension dialogs have the <span class="strong"><strong>Live preview</strong></span> checkbox which, when checked, lets you preview the effect of various parameters in the document without having to undo and call the extension again. Note that while the <span class="strong"><strong>Live preview</strong></span> is off, the extension dialog is not modal, which means you can pan the canvas and select different objects; as soon as you turn <span class="strong"><strong>Live preview</strong></span> on, the dialog locks the rest of Inkscape so you can only change the parameters in the dialog and see their effect on the current selection. (There’s usually a pause between changing the parameters and updating the canvas with <span class="strong"><strong>Live preview</strong></span>.) To apply the changes as final, click the <span class="strong"><strong>Apply</strong></span> button; to cancel without applying, click <span class="strong"><strong>Close</strong></span>.</p><p>Not all extensions deal with paths; some extensions were already mentioned where it was relevant, and others will be covered throughout the book. In this chapter, we will look only at the extensions that modify or create path objects.</p><p>In the <span class="strong"><strong>Generate from Path</strong></span> submenu, there are several extensions that take the selected path and generate some new path or paths from it:</p><p><span class="strong"><strong>Inset/Outset Halo</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Adds to the selected path a specified number of inset or outset paths, spaced by a given distance, each further offset having lower and lower opacity. This may be an acceptable choice if you want to blur the edge of your object but don’t want to use the <span class="strong"><strong>Gaussian Blur</strong></span> filter (<span class="strong"><strong><a class="xref" href="ch17s01.html" title="17.1 Blur">17.1 Blur</a></strong></span>):</p><div class="figure"><a id="halo_extension_creates_a_quotation_markp"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00233"/><img src="httpatomoreillycomsourcenostarchimages1736076.png.jpg" alt="The Halo extension creates a “poor man’s Gaussian blur.”"/></div></div><p class="title">Figure 13-29. The Halo extension creates a “poor man’s Gaussian blur.”</p></div></li></ul></div><p><span class="strong"><strong>Extrude</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Creates a primitive 3D effect by extruding the selected path at a given angle to a given distance. The result of the effect is a group of two objects, one being the original path and the other its extrusion skirt, which you can style differently, as shown in <a class="xref" href="ch13s03.html#extruding_creates_a_simple_3d-like_effec" title="Figure 13-30. Extruding creates a simple 3D-like effect.">Figure 13-30</a>.</p><div class="figure"><a id="extruding_creates_a_simple_3d-like_effec"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00234"/><img src="httpatomoreillycomsourcenostarchimages1736078.png.jpg" alt="Extruding creates a simple 3D-like effect."/></div></div><p class="title">Figure 13-30. Extruding creates a simple 3D-like effect.</p></div></li></ul></div><p><a id="iddle2692" class="indexterm"/><a id="iddle2863" class="indexterm"/><a id="iddle3119" class="indexterm"/><a id="iddle3298" class="indexterm"/><a id="iddle3334" class="indexterm"/><a id="iddle3402" class="indexterm"/><a id="iddle3722" class="indexterm"/><span class="strong"><strong>Interpolate</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Creates an interpolation, or <span class="emphasis"><em>blend</em></span>, between two paths—a sequence of intermediate paths that smoothly transition between the two paths. You can specify the number of the <span class="strong"><strong>Interpolation steps</strong></span> and the <span class="strong"><strong>Exponent</strong></span>, which, if different from the default 0, shifts the blend toward one of the ends:</p><div class="figure"><a id="interpolating_paths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00235"/><img src="httpatomoreillycomsourcenostarchimages1736080.png.jpg" alt="Interpolating paths"/></div></div><p class="title">Figure 13-31. Interpolating paths</p></div><p>The <span class="strong"><strong>Interpolate style</strong></span> option, although marked “experimental,” worked well enough in my tests. The two interpolation <span class="strong"><strong>methods</strong></span> differ slightly in the way they generate intermediate steps. The extension generates all the intermediate steps as a group of paths; the <span class="strong"><strong>Duplicate endpaths</strong></span> option adds copies of the original paths to this group as well. Since interpolation always connects beginnings and ends of the two paths, you may need to reverse one of the paths (<span class="strong"><strong>Path</strong></span> ▸ <span class="strong"><strong>Reverse</strong></span>) in order to get the result you want.</p></li></ul></div><p><span class="strong"><strong>Pattern Along Path</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This is similar to the path effect of the same name (<span class="strong"><strong><a class="xref" href="ch13s01.html#one3dot1dot3_pattern_along_path_and_bend" title="13.1.3 Pattern Along Path and Bend">13.1.3 Pattern Along Path and Bend</a></strong></span>) and, in fact, is the first version of this functionality, introduced before path effects became possible. Currently, the extension has one advantage compared to the path effect: It can use a group of objects (each with its own style) as the pattern, whereas in the path effect you are limited to a single-pattern path. To use the extension, select the pattern path or group and the skeleton path (the pattern must be on top of the skeleton in z-order) and choose the extension from the menu. Its options are similar to those for the corresponding path effect.</p></li></ul></div><p>The <span class="strong"><strong>Modify Path</strong></span> submenu contains extensions that change the selected path directly:</p><p><a id="iddle1093" class="indexterm"/><a id="iddle1227" class="indexterm"/><a id="iddle2028" class="indexterm"/><a id="iddle2230" class="indexterm"/><a id="iddle2703" class="indexterm"/><a id="iddle2981" class="indexterm"/><a id="iddle3023" class="indexterm"/><a id="iddle3370" class="indexterm"/><a id="iddle3517" class="indexterm"/><a id="iddle3626" class="indexterm"/><a id="iddle3906" class="indexterm"/><a id="iddle4352" class="indexterm"/><span class="strong"><strong>Add Nodes</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This useful extension creates more nodes in the path without changing its shape. You can specify either the maximum allowed distance between adjacent nodes or the number of segments into which each segment will be divided. We’ve seen this extension in action in <a class="xref" href="ch09s05.html#adding_mid_nodes_by_pressing_repeatedly" title="Figure 9-11. Adding mid nodes by pressing repeatedly (left) and by using the Add Nodes extension (right)">Figure 9-11</a>.</p></li></ul></div><p><span class="strong"><strong>Envelope</strong></span> and <span class="strong"><strong>Perspective</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Both of these extensions require that you select two paths, the second being exactly four nodes long. This second path is treated as a deformation envelope into which the first path is inscribed (only the coordinates of the corners matter; curvature of the sides, if any, is ignored). These extensions have no parameters. The only difference between the two extensions is that <span class="strong"><strong>Perspective</strong></span>, unlike <span class="strong"><strong>Envelope</strong></span>, interprets the four-node envelope as a perspective plane, performing foreshortening so that parts “farther away” are made smaller:</p><div class="figure"><a id="envelope_and_perspective"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00236"/><img src="httpatomoreillycomsourcenostarchimages1736082.png.jpg" alt="Envelope and Perspective"/></div></div><p class="title">Figure 13-32. Envelope and Perspective</p></div></li></ul></div><p><span class="strong"><strong>Flatten Béziers</strong></span> and <span class="strong"><strong>Straighten Segments</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The <span class="strong"><strong>Flatten Béziers</strong></span> extension approximates each Bézier curve in the selected path with a sequence of straight line segments (the higher <span class="strong"><strong>Flatness</strong></span> is, the rougher the approximation), whereas <span class="strong"><strong>Straighten Segments</strong></span> simply shortens all Bézier handles by the given percent, so that setting this to 100 percent turns each Bézier curve into a straight line segment:</p><div class="figure"><a id="flattening_beacuteziers_and_straightenin"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00237"/><img src="httpatomoreillycomsourcenostarchimages1736084.png.jpg" alt="Flattening Béziers and straightening segments"/></div></div><p class="title">Figure 13-33. Flattening Béziers and straightening segments</p></div></li></ul></div><p><span class="strong"><strong>Jitter Nodes</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This extension randomizes the selected path by displacing all nodes in random directions and at random distances, limited by the <span class="strong"><strong>Maximum displacement</strong></span> parameters, which can be set separately for X and Y (for example, set maximum displacement for X to 0 if you want the nodes to be jittered only vertically). Also, you can separately enable jittering for nodes themselves and for their Bézier handles. Turn <span class="strong"><strong>Use normal distribution</strong></span> on <a id="iddle1247" class="indexterm"/><a id="iddle2116" class="indexterm"/><a id="iddle2260" class="indexterm"/><a id="iddle3792" class="indexterm"/>to make smaller displacements more probable than large ones; without it, any displacement within the <span class="strong"><strong>Maximum displacement</strong></span> limits is equally probable.</p><div class="figure"><a id="jittering_nodes"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00238"/><img src="httpatomoreillycomsourcenostarchimages1736086.png.jpg" alt="Jittering nodes"/></div></div><p class="title">Figure 13-34. Jittering nodes</p></div></li></ul></div><p><span class="strong"><strong>Fractalize</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This is another way to randomize a path. Unlike <span class="strong"><strong>Jitter Nodes</strong></span>, it creates new nodes between existing nodes itself, and then moves these new nodes (any Bézier handles in the original path are discarded) leaving all the original nodes in place. The <span class="strong"><strong>Subdivisions</strong></span> parameter determines how many times each segment will be subdivided in two (caution: Increasing this value makes the node count grow exponentially—for example, 10 subdivisions turn a two-node path into one with 1,025 nodes), whereas <span class="strong"><strong>Smoothness</strong></span> changes how far the new nodes can move (lower <span class="strong"><strong>Smoothness</strong></span> produces a rougher path). This effect is perfect for creating coastal lines in fantasy maps:</p><div class="figure"><a id="fractalizing_a_path"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00239"/><img src="httpatomoreillycomsourcenostarchimages1736088.png.jpg" alt="Fractalizing a path"/></div></div><p class="title">Figure 13-35. Fractalizing a path</p></div></li></ul></div><p><span class="strong"><strong>Rubber Stretch</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This extension stretches the object vertically (rotate it before and after applying the extension if you want a different stretch direction) while blowing it horizontally on the sides, making it behave in a nonlinear way as if made of rubber:</p><div class="figure"><a id="rubber_stretch_pulls_a_path_verticallydo"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00240"/><img src="httpatomoreillycomsourcenostarchimages1736090.png.jpg" alt="Rubber Stretch pulls a path vertically."/></div></div><p class="title">Figure 13-36. Rubber Stretch pulls a path vertically.</p></div></li></ul></div><p><a id="iddle1094" class="indexterm"/><a id="iddle1218" class="indexterm"/><a id="iddle2269" class="indexterm"/><a id="iddle2407" class="indexterm"/><a id="iddle2415" class="indexterm"/><a id="iddle2933" class="indexterm"/><a id="iddle2982" class="indexterm"/><a id="iddle3714" class="indexterm"/><a id="iddle4050" class="indexterm"/><a id="iddle4559" class="indexterm"/><a id="iddle4929" class="indexterm"/><span class="strong"><strong>Whirl</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This distorts the selected path into a whirl, its center being in the center of view in Inkscape when you start the extension. You can always place the center of view at the geometric center of selection by pressing <span class="inlinemediaobject"><a id="inline_id00665"/><img src="httpatomoreillycomsourcenostarchimages1735470.png.jpg" alt=""/></span> or choosing <span class="strong"><strong>View</strong></span> ▸ <span class="strong"><strong>Zoom</strong></span> ▸ <span class="strong"><strong>Selection</strong></span> (<span class="strong"><strong><a class="xref" href="ch03s09.html" title="3.9 The Zoom Tool">3.9 The Zoom Tool</a></strong></span>). This extension gives better results if you add more nodes to the source path, either by <span class="inlinemediaobject"><a id="inline_id00666"/><img src="httpatomoreillycomsourcenostarchimages1735734.png.jpg" alt=""/></span> in the Node tool (<span class="strong"><strong><a class="xref" href="ch12s05.html#one2dot5dot3_deleting_and_creating_nodes" title="12.5.3 Deleting and Creating Nodes">12.5.3 Deleting and Creating Nodes</a></strong></span>) or via the <span class="strong"><strong>Add Nodes</strong></span> extension:</p><div class="figure"><a id="whirling_paths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00241"/><img src="httpatomoreillycomsourcenostarchimages1736092.png.jpg" alt="Whirling paths"/></div></div><p class="title">Figure 13-37. Whirling paths</p></div></li></ul></div><p>The <span class="strong"><strong>Render</strong></span> submenu contains extensions that generate entirely new objects not based on anything in your document:</p><p><span class="strong"><strong>Grid</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This extension generates a rectangular grid as a single path, each line being a subpath (such as the grid in <a class="xref" href="ch13s03.html#rubber_stretch_pulls_a_path_verticallydo" title="Figure 13-36. Rubber Stretch pulls a path vertically.">Figure 13-36</a>). You can set the number of horizontal and vertical lines and the spacing.</p></li></ul></div><p><span class="strong"><strong>Barcode</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This is a universal barcode generator supporting a number of common barcode standards (EAN8, EAN13, Code39, and others).</p></li></ul></div><p><span class="strong"><strong>Function Plotter</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This is a complex extension that draws a graph of an arbitrary function in Cartesian (rectangular) or polar coordinates. Before calling this extension, draw or select a rectangle that will define the scale of the graph; the first four numeric parameters define the ranges of the X and Y coordinates. The <span class="strong"><strong>Multiply X range by 2*pi</strong></span> checkbox is convenient for trigonometric functions; when it’s checked, the X range of, for example, 0 to 2 is treated as 0 to 2 × π. The <span class="strong"><strong>Use polar coordinates</strong></span> checkbox transforms the graph into a circle, centered at the center of the original rectangle, with the X range mapped to the angle and Y to the radius.</p><p>The <span class="strong"><strong>Samples</strong></span> parameter sets the total number of times the function will be sampled, at points equidistant on the X axis; since each sampling produces a node, this is also the total number of nodes in the generated path. The higher this number, the more precise the graph. The optimum number of samples, however, depends on the nature of your function; for example, if you’re using a periodic function with <span class="emphasis"><em>n</em></span> periods in the X range, you will need at least several samples per period to reproduce it with any fidelity.</p><p>The function itself must be written using the syntax of the Python programming language. It can use a number of built-in mathematical functions such as <code class="literal">sin(x)</code>, <code class="literal">log(x)</code>, or <code class="literal">sqrt(x)</code>; refer to the <span class="strong"><strong>Functions</strong></span> tab for a full list.</p><p><a id="iddle2794" class="indexterm"/><a id="iddle2817" class="indexterm"/>Each sampling of the function creates a smooth Bézier node; the <span class="emphasis"><em>first derivative</em></span> of the function at that point is what determines the angle of the handles of that node. You can ask the extension to <span class="strong"><strong>Calculate first derivative numerically</strong></span>, or you can uncheck that checkbox and provide the derivative function analytically, using the same Python syntax and built-in functions as for the function itself (for example, the first derivative of <code class="literal">sin(x)</code> is <code class="literal">cos(x)</code>).</p><div class="figure"><a id="function_plotter_examples"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00242"/><img src="httpatomoreillycomsourcenostarchimages1736094.png.jpg" alt="Function Plotter examples"/></div></div><p class="title">Figure 13-38. Function Plotter examples</p></div></li></ul></div><p><span class="strong"><strong>L-system</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This extension implements <span class="emphasis"><em>Lindenmeyer systems</em></span>—a simple graphic language with recursion that can produce complex sequential or tree-like structures:</p><div class="figure"><a id="l-system_examples"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00243"/><img src="httpatomoreillycomsourcenostarchimages1736096.png.jpg" alt="L-system examples"/></div></div><p class="title">Figure 13-39. L-system examples</p></div><p><a id="iddle1257" class="indexterm"/><a id="iddle1802" class="indexterm"/><a id="iddle1803" class="indexterm"/><a id="iddle1886" class="indexterm"/><a id="iddle1914" class="indexterm"/><a id="iddle2853" class="indexterm"/><a id="iddle3064" class="indexterm"/><a id="iddle3357" class="indexterm"/><a id="iddle3614" class="indexterm"/><a id="iddle4264" class="indexterm"/><a id="iddle4920" class="indexterm"/>The “program” in this language, built of simple commands like “draw one step forward” or “turn left,” contains two parts: the <span class="strong"><strong>Axiom</strong></span> and the <span class="strong"><strong>Rules</strong></span> for substitution. The rules are applied to the axiom as many times as specified by the <span class="strong"><strong>Order</strong></span>. The rest of the parameters determine the length and angles produced by the primitive commands in the axiom and rules and allow you to randomize these values to render the result more natural. For a complete list of the commands recognized in the axiom and rules, refer to the <span class="strong"><strong>Help</strong></span> tab.</p></li></ul></div><p><span class="strong"><strong>Random Tree</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This is similar to the <span class="strong"><strong>L-system</strong></span> extension but is much more primitive; all it does is draw a randomly branching tree, where the first segment of the trunk is <span class="strong"><strong>Initial size</strong></span> long, and each subsequent branch is progressively shorter, until the <span class="strong"><strong>Minimum size</strong></span> is reached and the drawing terminates. Thus, the bigger the difference between the initial and minimum sizes, the more complex the tree.</p></li></ul></div><p><span class="strong"><strong>Spirograph</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This is an implementation of the popular toy of the same name, in which a small circle rolls along the edge of a larger circular hole. In the extension, you can vary the diameters of these two circles and some other parameters.</p></li></ul></div><p>Finally, the <span class="strong"><strong>Visualize Path</strong></span> submenu collects extensions that, in one way or another, visualize the selected path:</p><p><span class="strong"><strong>Number Nodes</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This replaces a path with a group of dots, each dot corresponding to the node of the original path, numbered sequentially. You can change the size of the dots and the font size of the text objects that represent the numbers.</p></li></ul></div><p><span class="strong"><strong>Draw Handles</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This extension adds lines that correspond to the Bézier handles of the selected path, as a new path with separate subpaths.</p></li></ul></div><p><span class="strong"><strong>Dimensions</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This creates a frame and dimension lines around the selected object (not necessarily a path), such as those used on plans or technical drafts. After creating dimension lines, you can use the <span class="strong"><strong>Measure Path</strong></span> extension to add the actual length measurements.</p></li></ul></div><p><span class="strong"><strong>Measure Path</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This extension calculates the length of the path, from start to finish, and adds this value as a text-on-path object put on the source path (<span class="strong"><strong><a class="xref" href="ch15s07.html" title="15.7 Converting Text to Path">15.7 Converting Text to Path</a></strong></span>). You can specify the <span class="strong"><strong>Precision</strong></span> and the <span class="strong"><strong>Length Unit</strong></span> of the value and adjust the <span class="strong"><strong>Font size</strong></span> and the distance from the path (<span class="strong"><strong>Offset</strong></span>).</p><div class="figure"><a id="combined_effect_of_dimensions_and_measur"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00244"/><img src="httpatomoreillycomsourcenostarchimages1736098.png.jpg" alt="The combined effect of Dimensions and Measure Path"/></div></div><p class="title">Figure 13-40. The combined effect of Dimensions and Measure Path</p></div></li></ul></div></div></body></html>