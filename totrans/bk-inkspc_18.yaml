- en: Chapter 18. Bitmaps
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第18章 位图
- en: Most vector images start or end (sometimes both) their lives as bitmaps (**[1.1
    What Vector Graphics Is and Why It Matters](ch01s01.html "1.1 What Vector Graphics
    Is and Why It Matters")**), and Inkscape’s SVG documents are no exception. Many
    vector drawings, artistic as well as technical, are developed from tracings of
    photos, scans, or other bitmap drawings; at the other end of its lifetime, almost
    all vector art is eventually exported into bitmap formats for viewing in software
    that cannot deal directly with vectors. Bitmaps are an important object type in
    Inkscape, and the techniques for dealing with them are sufficiently versatile
    to warrant a whole chapter to cover them.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数矢量图像开始或结束（有时两者都是）它们的生命周期作为位图（**[1.1 矢量图形是什么以及为什么它很重要](ch01s01.html "1.1 矢量图形是什么以及为什么它很重要")**），Inkscape的SVG文档也不例外。许多矢量绘图，无论是艺术性的还是技术性的，都是从照片、扫描或其他位图绘图中发展而来的；在其生命周期的另一端，几乎所有矢量艺术最终都导出为位图格式，以便在无法直接处理矢量的软件中查看。位图是Inkscape中的重要对象类型，处理它们的技巧足够灵活，足以用整整一章来介绍。
- en: 18.1 Import
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.1 导入
- en: If you have a bitmap image file, you can insert it as a bitmap object into your
    Inkscape document by using the **File** ▸ **Import** command. Inkscape can deal
    with a large number of bitmap formats, including all of the major ones (PNG, JPG,
    TIFF, GIF, and BMP). Choose **All Bitmaps** for the type of the files in the **Import**
    dialog so that only the supported bitmap formats are in the list.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您有一个位图图像文件，您可以通过使用**文件** ▸ **导入**命令将其作为位图对象插入到Inkscape文档中。Inkscape可以处理大量位图格式，包括所有主要格式（PNG、JPG、TIFF、GIF和BMP）。在**导入**对话框中，选择**所有位图**作为文件类型，以便只有支持的位图格式出现在列表中。
- en: Also, you can use **File** ▸ **Open** to display any bitmap file as a document
    in its own right. In this case, Inkscape automatically creates a new SVG document,
    its page size (**[3.4.3 Page Size](ch03s04.html#threedot4dot3_page_size "3.4.3
    Page Size")**) matching the pixel size of the bitmap, and places the bitmap on
    the canvas (into the document root—that is, not in any layer). You can now add
    vector objects to that document and save it as SVG (if you want to get a bitmap
    with the result, you need to export it, **[18.9 Bitmap Export](ch18s09.html "18.9
    Bitmap Export")**), or you can copy and paste the bitmap object from that document
    into any other.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还可以使用**文件** ▸ **打开**来将任何位图文件作为独立文档显示。在这种情况下，Inkscape会自动创建一个新的SVG文档，其页面大小（**[3.4.3
    页面大小](ch03s04.html#threedot4dot3_page_size "3.4.3 页面大小")**）与位图的像素大小相匹配，并将位图放置在画布上（即文档根目录，而不是任何图层中）。现在您可以向该文档添加矢量对象并将其保存为SVG（如果您想得到带有结果的位图，您需要将其导出，**[18.9
    位图导出](ch18s09.html "18.9 位图导出")**），或者您可以将该文档中的位图对象复制并粘贴到任何其他文档中。
- en: In any case, what you now have in your document is a *bitmap object* displaying
    the bitmap’s contents. In most aspects, this is a regular object that you can
    transform, duplicate, clone, apply filters to, and so on. In the status bar, it
    is described as *Image* with its pixel size, for example *640 × 480*.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何情况下，您现在文档中拥有的都是一个显示位图内容的**位图对象**。在大多数方面，这是一个常规对象，您可以对其进行变换、复制、克隆、应用滤镜等。在状态栏中，它被描述为带有其像素大小的**图像**，例如**640
    × 480**。
- en: '![Bitmap objects in a document and the status bar display for a selected object](httpatomoreillycomsourcenostarchimages1736344.png.jpg)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![文档中的位图对象和选中对象的状态栏显示](httpatomoreillycomsourcenostarchimages1736344.png.jpg)'
- en: Figure 18-1. Bitmap objects in a document and the status bar display for a selected
    object
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-1. 文档中的位图对象和选中对象的状态栏显示
- en: Bitmaps consist of pixels (**[1.1 What Vector Graphics Is and Why It Matters](ch01s01.html
    "1.1 What Vector Graphics Is and Why It Matters")**), and Inkscape does not attempt
    to conceal this fact. Just zoom in close enough, and you will easily see the separate
    pixels in a bitmap object as flat-color squares. By default, all bitmaps are imported
    at the resolution of 90 pixels per inch, which means the size of each pixel square
    is exactly 1×1 px (**[A.6 Coordinates and Units](apas06.html "A.6 Coordinates
    and Units")**). If you squeeze, skew, or rotate the bitmap, its pixels will be
    transformed correspondingly.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 位图由像素组成（**[1.1 矢量图形是什么以及为什么它很重要](ch01s01.html "1.1 矢量图形是什么以及为什么它很重要")**），Inkscape并不试图隐藏这一事实。只需足够接近地放大，您就会很容易地看到位图对象中的单独像素作为单色方块。默认情况下，所有位图都以每英寸90像素的分辨率导入，这意味着每个像素方块的大小正好是1×1
    px（**[A.6 坐标和单位](apas06.html "A.6 Coordinates and Units")**）。如果您挤压、倾斜或旋转位图，其像素将相应地变换。
- en: 18.2 Linking vs. Embedding
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.2 链接与嵌入的区别
- en: By default, any bitmap you import into Inkscape is *linked* to the document.
    This means that the actual content of the bitmap is taken from the original bitmap
    file; what the SVG document contains is just a reference to that file—its filename,
    including path. This way, the SVG file size is kept to a minimum, and multiple
    SVG documents can reuse the same bitmap file. The status bar description of a
    linked bitmap object reports its filename ([Figure 18-1](ch18s01.html#bitmap_objects_in_a_document_and_the_sta
    "Figure 18-1. Bitmap objects in a document and the status bar display for a selected
    object")).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，你导入到Inkscape中的任何位图都*链接*到文档。这意味着位图的实际内容是从原始位图文件中获取的；SVG文档中包含的只是对该文件的引用——包括路径的文件名。这样，SVG文件的大小保持最小，多个SVG文档可以重用相同的位图文件。链接的位图对象的任务栏描述报告了其文件名（[图18-1](ch18s01.html#bitmap_objects_in_a_document_and_the_sta
    "图18-1. 文档中的位图对象和选定对象的任务栏显示")）。
- en: This also means that any changes you do to that linked bitmap file outside of
    Inkscape (for example, color correction or cropping) will be immediately reflected
    in the Inkscape document. Moreover, you can run an external editor (such as GIMP
    or Photoshop) on your linked image from inside Inkscape by right-clicking the
    bitmap object and choosing **Edit externally**. On the **Bitmaps** page of **Inkscape
    Preferences** (**[3.1.1 Inkscape Preferences](ch03s01.html#threedot1dot1_inkscape_preferences
    "3.1.1 Inkscape Preferences")**), you can disable the automatic reloading of changed
    bitmaps as well as choose which external editor you want to use.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 这也意味着，你对该链接位图文件进行的任何更改（例如，颜色校正或裁剪）都将立即反映在Inkscape文档中。此外，你可以通过在Inkscape内部右键单击位图对象并选择**外部编辑**来在链接的图片上运行外部编辑器（例如GIMP或Photoshop）。在**Inkscape首选项**的**位图**页面（**[3.1.1
    Inkscape首选项](ch03s01.html#threedot1dot1_inkscape_preferences "3.1.1 Inkscape首选项")**）中，你可以禁用更改位图的自动重新加载，以及选择你想要使用的哪个外部编辑器。
- en: The biggest disadvantage of linked bitmaps is how easy it is to disrupt this
    link. If the bitmap file is deleted or moved to a different location relative
    to the SVG document, the result is not pretty, as [Figure 18-2](ch18s02.html#this_is_what_inkscape_shows_when_it_cann
    "Figure 18-2. This is what Inkscape shows when it cannot find a linked bitmap
    file.") demonstrates.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 链接位图的最大缺点是破坏这个链接是多么容易。如果位图文件被删除或移动到相对于SVG文档的不同位置，结果将不会很美观，正如[图18-2](ch18s02.html#this_is_what_inkscape_shows_when_it_cann
    "图18-2. 当Inkscape找不到链接的位图文件时，它显示的内容")所示。
- en: '![This is what Inkscape shows when it cannot find a linked bitmap file.](httpatomoreillycomsourcenostarchimages1736346.png.jpg)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![当Inkscape找不到链接的位图文件时，它显示的内容](httpatomoreillycomsourcenostarchimages1736346.png.jpg)'
- en: Figure 18-2. This is what Inkscape shows when it cannot find a linked bitmap
    file.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-2. 当Inkscape找不到链接的位图文件时，它显示的内容。
- en: This is a common problem when you send your art to someone but forget to include
    the linked images.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这是在你将你的艺术作品发送给某人但忘记包括链接的图片时常见的问题。
- en: SVG
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: SVG
- en: '*What matters for Inkscape is the relative location of the bitmap, because
    in the* `xlink:href` *attribute of the* `svg:image` *object, it stores a* relative
    path *from the SVG document location to the image file. For example, if the bitmap
    is in the* images *subfolder of the folder in which your SVG document resides,
    you can move that folder along with its* images *subfolder to any location on
    your computer without a problem.*'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '*对于Inkscape来说，重要的是位图的相对位置，因为在*`svg:image`*对象的*`xlink:href`*属性中，它存储了从SVG文档位置到图片文件的*相对路径*。例如，如果位图位于你的SVG文档所在的文件夹的*images*子文件夹中，你可以将这个文件夹及其*images*子文件夹移动到电脑上的任何位置而不会出现问题。*'
- en: '*Moreover, Inkscape to some extent protects you against a situation where you
    move the SVG document to another location on the same computer but leave the linked
    image behind. Inkscape additionally stores the* absolute path *to the image in
    the* `sodipodi:absref` *attribute and tries to use it if the relative link in*
    `xlink:href` *fails. This won’t help, however, if you move your SVG onto a different
    computer without its associated images.*'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '*此外，Inkscape在一定程度上保护你免受这种情况的影响：你将SVG文档移动到同一台电脑上的另一个位置，但留下了链接的图片。Inkscape还存储了图片的*绝对路径*在*`sodipodi:absref`*属性中，并在*`xlink:href`*中的相对链接失败时尝试使用它。然而，如果你将SVG移动到没有相关图片的不同电脑上，这并不会有所帮助。*'
- en: There is a way to prevent these linking problems once and for all by *embedding*
    an image into your SVG document. An embedded image is stored right inside the
    SVG file and will never be lost. On the downside, this increases the file size
    of the SVG file (by about 1.4 times the file size of the bitmap file, which may
    be significant); also, embedded images cannot be edited in an external bitmap
    editor.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 有一种方法可以一次性防止这些链接问题，那就是将图像*嵌入*到你的 SVG 文档中。嵌入的图像存储在 SVG 文件内部，永远不会丢失。然而，这会增加 SVG
    文件的文件大小（大约是位图文件大小的 1.4 倍，这可能是显著的）；此外，嵌入的图像不能在外部位图编辑器中编辑。
- en: 'To embed one or more images into the document, use **Extensions** ▸ **Images**
    ▸ **Embed Images**. You have the choice of embedding only the selected bitmap
    object (leaving all others as they are) or embedding all the bitmap objects in
    the document:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 要将一个或多个图像嵌入到文档中，请使用**Extensions** ▸ **Images** ▸ **Embed Images**。你可以选择仅嵌入选定的位图对象（保留其他所有对象不变）或嵌入文档中的所有位图对象：
- en: '![Extensions ▸ Images ▸ Embed Images embeds either all or just selected images
    into SVG.](httpatomoreillycomsourcenostarchimages1736348.png.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![Extensions ▸ Images ▸ Embed Images embeds either all or just selected images
    into SVG.](httpatomoreillycomsourcenostarchimages1736348.png.jpg)'
- en: Figure 18-3. Extensions ▸ Images ▸ Embed Images embeds either all or just selected
    images into SVG.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-3. **Extensions** ▸ **Images** ▸ **Embed Images** 将所有或仅选定的图像嵌入到 SVG 中。
- en: 'An embedded image is described in the status bar as, for example, *Image 64
    × 64: embedded*. With **Extensions** ▸ **Images** ▸ **Extract Image**, you can
    reverse the embedding of a bitmap—that is, extract an embedded image into a separate
    linked file; you will be asked for the path to save the extracted file to.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '嵌入的图像在状态栏中描述为，例如，*Image 64 × 64: embedded*。使用**Extensions** ▸ **Images** ▸
    **Extract Image**，你可以反转位图的嵌入——也就是说，将嵌入的图像提取到单独的链接文件中；你需要指定保存提取文件的路径。'
- en: 18.3 Bitmap as Pattern
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.3 位图作为图案
- en: Usually, the first thing you’d want to do to an imported bitmap is *crop* it,
    removing the unnecessary margins and only leaving part of the image. In Inkscape,
    there are several ways to achieve this.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你首先想要对导入的位图进行的是*裁剪*，移除不必要的边框，只留下图像的一部分。在 Inkscape 中，有几种方法可以实现这一点。
- en: If you want the bitmap to remain a rectangle and you only want to shave off
    some margins, it is convenient to turn it into a *pattern* (**[10.8 Patterns](ch10s08.html
    "10.8 Patterns")**) by pressing ![](httpatomoreillycomsourcenostarchimages1735694.png.jpg).
    This does not change the visible display but converts a rectangular bitmap (it
    must not be rotated or skewed for this to work properly) into a rectangle object
    (**[11.2 Rectangles](ch11s02.html "11.2 Rectangles")**) with a pattern fill displaying
    the bitmap.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望位图保持矩形形状，并且只想去除一些边框，通过按 ![](httpatomoreillycomsourcenostarchimages1735694.png.jpg)
    可以方便地将它转换为*图案**（**[10.8 图案](ch10s08.html "10.8 Patterns")**）。这不会改变可见的显示，但将矩形位图（必须未旋转或倾斜才能正确工作）转换为具有图案填充的矩形对象（**[11.2
    矩形](ch11s02.html "11.2 Rectangles")**）。
- en: Now you can resize the rectangle using its two corner handles, for example with
    the Node or Rectangle tool (**[11.2.1 Sizing](ch11s02.html#one1dot2dot1_sizing
    "11.2.1 Sizing")**). This does not affect the fill, which means you can crop it
    by moving the rectangle handles inward. At the same time, you can also use the
    pattern’s three handles to move, scale, and rotate the pattern, as described in
    **[10.8.2 Editing Patterns](ch10s08.html#one0dot8dot2_editing_patterns "10.8.2
    Editing Patterns")**. (Initially, the pattern handles coincide with the rectangle
    handles; drag the X-shaped handle in the top-left corner to separate them.)
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以使用其两个角手柄来调整矩形的大小，例如使用节点工具或矩形工具（**[11.2.1 尺寸调整](ch11s02.html#one1dot2dot1_sizing
    "11.2.1 尺寸调整")**）。这不会影响填充，这意味着你可以通过移动矩形手柄向内来裁剪它。同时，你还可以使用图案的三个手柄来移动、缩放和旋转图案，如**[10.8.2
    编辑图案](ch10s08.html#one0dot8dot2_editing_patterns "10.8.2 Editing Patterns")**中所述。（最初，图案手柄与矩形手柄重合；将左上角的
    X 形手柄拖动以分离它们。）
- en: '![A bitmap as a pattern in a rectangle](httpatomoreillycomsourcenostarchimages1736350.png.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![A bitmap as a pattern in a rectangle](httpatomoreillycomsourcenostarchimages1736350.png.jpg)'
- en: Figure 18-4. A bitmap as a pattern in a rectangle
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-4. 矩形中的位图作为图案
- en: After you convert your bitmap to a patterned rectangle, you can turn the rectangle
    into any other path—for example, by converting it to path by ![](httpatomoreillycomsourcenostarchimages1735780.png.jpg)
    and node-editing the result, or by intersecting (**[12.2 Boolean Operations](ch12s02.html
    "12.2 Boolean Operations")**) the rectangle with a path. This method is convenient
    because you can edit the shape or path and its bitmap fill at the same time. Transforming,
    by default, affects both the shape/path and its pattern fill; see **[6.10 What
    Transformations Affect](ch06s10.html "6.10 What Transformations Affect")** for
    how to change that.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在将您的位图转换为图案矩形后，您可以将矩形转换为任何其他路径——例如，通过将其转换为路径（![](httpatomoreillycomsourcenostarchimages1735780.png.jpg)）并编辑结果，或者通过将矩形与路径相交（**[12.2
    逻辑运算](ch12s02.html "12.2 逻辑运算")**）。这种方法很方便，因为您可以同时编辑形状/路径及其位图填充。默认情况下，变换会影响形状/路径及其图案填充；有关如何更改此设置的详细信息，请参阅**[6.10
    受哪些变换影响](ch06s10.html "6.10 受哪些变换影响")**。
- en: 18.4 Clipping and Masking
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.4 裁剪和遮罩
- en: Another approach to cropping images is to use *clipping* or *masking*. Although
    here, these techniques are illustrated by bitmap objects, you can in fact clip
    or mask any kind of object, including groups.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种裁剪图像的方法是使用**裁剪**或**遮罩**。尽管在这里，这些技术是通过位图对象来展示的，但实际上您可以对任何类型的对象进行裁剪或遮罩，包括组。
- en: Inkscape allows any object to be clipped by a path, so that only the part of
    the object inside that path will be visible. Starting from a bitmap object, draw
    a clipping path or shape over it using any convenient tool—for example, Calligraphic
    pen or Pencil. Then, select both the bitmap and the path and choose **Object**
    ▸ **Clip** ▸ **Set**. The clipping path disappears (it now resides in `defs`,
    **[A.4 Defs, View, and Metadata](apas04.html "A.4 Defs, View, and Metadata")**)
    but the bottom object is now clipped by it. To edit the clipping path without
    unclipping, click the corresponding button in the Node tool’s controls bar, as
    shown in [Figure 18-5](ch18s04.html#applying_clipping_to_a_bitmap_object "Figure 18-5. Applying
    clipping to a bitmap object").
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: Inkscape 允许任何对象通过路径进行裁剪，这样只有路径内部的对象部分才会可见。从位图对象开始，使用任何方便的工具（例如，书法笔或铅笔）在其上绘制裁剪路径或形状。然后，选择位图和路径，并选择**对象**
    ▸ **裁剪** ▸ **设置**。裁剪路径消失（现在它位于`defs`中，**[A.4 Defs, View, and Metadata](apas04.html
    "A.4 Defs, View, and Metadata")**），但底部对象现在被它裁剪。要在不取消裁剪的情况下编辑裁剪路径，请点击节点工具控制栏中的相应按钮，如图[图18-5](ch18s04.html#applying_clipping_to_a_bitmap_object
    "图18-5. 应用裁剪到位图对象")所示。
- en: '![Applying clipping to a bitmap object](httpatomoreillycomsourcenostarchimages1736352.png.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![应用裁剪到位图对象](httpatomoreillycomsourcenostarchimages1736352.png.jpg)'
- en: Figure 18-5. Applying clipping to a bitmap object
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-5. 应用裁剪到位图对象
- en: At any time, you can do **Object** ▸ **Clip** ▸ **Release** to remove the clipping
    and get the object and its clipping path as two separate objects again.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何时候，您都可以通过**对象** ▸ **裁剪** ▸ **释放**来移除裁剪，并将对象及其裁剪路径再次作为两个单独的对象获得。
- en: Note
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*The clipping path needs not be a single path; it can just as well be a group
    of paths.*'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '*裁剪路径不一定是单个路径；它也可以是一组路径。*'
- en: 'Masking is very similar to clipping: You select the object and the mask and
    choose **Object** ▸ **Mask** ▸ **Set** to mask it, or **Object** ▸ **Mask** ▸
    **Release** to remove the mask. The main difference between clipping and masking
    is that a clip limits the object to the interior of the clipping path, disregarding
    any embellishments such as fill color, stroke style, gradient, or blur. Clipping
    is *binary*; at any point, the clipped object is either visible or not. Masking,
    however, is *gradual*—it may make an object *partially* transparent.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 遮罩与裁剪非常相似：您选择对象和遮罩，然后选择**对象** ▸ **遮罩** ▸ **设置**来应用遮罩，或者选择**对象** ▸ **遮罩** ▸ **释放**来移除遮罩。裁剪和遮罩之间的主要区别在于，裁剪将对象限制在裁剪路径的内部，忽略任何装饰，如填充颜色、描边样式、渐变或模糊。裁剪是**二进制**的；在任何时刻，裁剪的对象要么可见，要么不可见。然而，遮罩是**渐变**的——它可以使对象**部分**透明。
- en: 'The rule to remember is this: In a mask, *black* makes masked objects *transparent*
    (invisible) and *white* makes them *opaque* (visible). What’s more, the “no color”
    fill or full transparency in a mask is considered “transparent black”—that is,
    areas of the object not covered by a mask at all or areas that fall into gaps
    or holes in a mask disappear. To make a part of an object visible, the mask over
    that part must be non-black; pure opaque white gives 100 percent opacity in the
    masked object, while anything darker or more transparent produces less than 100
    percent opacity.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 要记住的规则是：在遮罩中，*黑色*使被遮罩的对象*透明*（不可见）和*白色*使它们*不透明*（可见）。更重要的是，遮罩中的“无颜色”填充或完全透明被认为是“透明黑色”——也就是说，没有被遮罩覆盖的区域或落在遮罩缝隙或孔中的区域消失。要使对象的一部分可见，该部分的遮罩必须是非黑色的；纯不透明白色在遮罩对象中给出100%的不透明度，而任何更暗或更透明的颜色都会产生低于100%的不透明度。
- en: 'Obviously, masking is most useful when you use gradients or blurring. For example,
    you can easily blend a photo strip with the background (using linear gradient
    mask) or feather the irregular edges of a photo cutout (using blurred mask):'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，当使用渐变或模糊时，遮罩最有用。例如，你可以轻松地将照片条带与背景融合（使用线性渐变遮罩）或使照片剪贴的不规则边缘羽化（使用模糊遮罩）：
- en: '![Applying masking to a bitmap object](httpatomoreillycomsourcenostarchimages1736354.png.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![对位图对象应用遮罩](httpatomoreillycomsourcenostarchimages1736354.png.jpg)'
- en: Figure 18-6. Applying masking to a bitmap object
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-6. 对位图对象应用遮罩
- en: Just as a clipping path, a mask can be a group of objects instead of a single
    object. The Node tool has another button for editing the mask of the selected
    object. Unfortunately, this button only allows you to node-edit the single path
    or shape of the mask—you can’t change its color, gradient, or blur; for this,
    you need to release the mask and set it again after changing.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 就像剪裁路径一样，遮罩可以是一组对象而不是单个对象。节点工具还有一个按钮用于编辑所选对象的遮罩。不幸的是，此按钮仅允许你节点编辑遮罩的单一路径或形状——你不能改变其颜色、渐变或模糊；为此，你需要释放遮罩，在更改后再次设置。
- en: 18.5 Retouching and Patching
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.5 修图和修补
- en: Simple bitmap editing tasks, such as removing defects or suppressing unnecessary
    details, are entirely possible in Inkscape using its vector tools, without resorting
    to an external bitmap editor. While this approach is limited, it is often surprisingly
    useful and fast.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在Inkscape中使用矢量工具，可以完全实现简单的位图编辑任务，例如去除缺陷或抑制不必要的细节，无需求助于外部位图编辑器。虽然这种方法有限，但它往往出人意料地有用且快速。
- en: 'Imagine we need to remove a small blemish in a photo. Start by zooming in closely
    and drawing a calligraphic stroke over it; then, switch to the Dropper tool and
    pick a color from the photo nearby. In some cases, this may be all you really
    need—even such a primitive patch may blend well enough to not be noticeable once
    you zoom out. More likely, however, the edges of the patch will be painfully obvious
    on at least one side. Here, a gradient may help; switch to the Gradient tool (**[10.1
    The Gradient Tool](ch10s01.html "10.1 The Gradient Tool")**), draw a linear or
    elliptic gradient trying to match the dominant direction of color change in the
    background, and use the Dropper tool again (**[8.6 The Dropper Tool](ch08s06.html
    "8.6 The Dropper Tool")**) to pick colors for the gradient stops. If the gradient
    failed to make the patch completely blend into the background, see if a little
    blurring helps:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们需要从照片中移除一个小瑕疵。首先，放大照片并在其上方绘制一个书法笔触；然后，切换到滴管工具并从照片附近的颜色中选取颜色。在某些情况下，这可能是你真正需要的——即使这样的原始修补也可能足够融合，以至于在缩小视图时不会引起注意。然而，修补的边缘在至少一个侧面可能会非常明显。在这种情况下，渐变可能会有帮助；切换到渐变工具（**[10.1
    渐变工具](ch10s01.html "10.1 渐变工具")**），绘制一个线性或椭圆形渐变，尝试匹配背景中颜色变化的主要方向，并再次使用滴管工具（**[8.6
    滴管工具](ch08s06.html "8.6 滴管工具")**)来选取渐变停止点的颜色。如果渐变未能使修补完全融入背景，可以尝试稍微模糊一下：
- en: '![Covering a small blemish on the cheek with a vector patch path, made “invisible”
    by gradient and blur](httpatomoreillycomsourcenostarchimages1736356.png.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![用矢量修补路径覆盖脸颊上的小瑕疵，通过渐变和模糊使其“隐形”](httpatomoreillycomsourcenostarchimages1736356.png.jpg)'
- en: Figure 18-7. Covering a small blemish on the cheek with a vector patch path,
    made “invisible” by gradient and blur
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-7. 用矢量修补路径覆盖脸颊上的小瑕疵，通过渐变和模糊使其“隐形”
- en: When you’re done retouching, don’t forget to group the bitmap object with all
    its vector patches so the group can be moved as a single object.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 完成修图后，别忘了将位图对象及其所有矢量修补组合在一起，这样组合就可以作为一个单独的对象移动。
- en: 18.6 Bitmap Filters
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.6 位图滤镜
- en: Some of the preset filters (**[17.3 Preset Filters](ch17s03.html "17.3 Preset
    Filters")**), collected in **Filters** ▸ **Image Effects**, are specifically designed
    for bitmaps ([Figure 17-12](ch17s03.html#filters_from_the_image_effects_submenu
    "Figure 17-12. Filters from the Image Effects submenu")). Of course, you can apply
    these filters to any other objects or apply any other filters to bitmaps; this
    submenu simply collects those filters that make sense *mostly* for bitmaps because
    they operate on the internal colors or textures of an object, not its overall
    shape.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 一些预设的过滤器（**[17.3 预设过滤器](ch17s03.html "17.3 预设过滤器")**），收集在**过滤器** ▸ **图像效果**中，是专门为位图设计的（[图17-12](ch17s03.html#filters_from_the_image_effects_submenu
    "图17-12. 从图像效果子菜单中的过滤器")）。当然，你可以将这些过滤器应用于任何其他对象或将任何其他过滤器应用于位图；此子菜单仅收集那些主要适用于位图的过滤器，因为它们作用于对象的内部颜色或纹理，而不是其整体形状。
- en: 18.7 Bitmap Effects
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.7 位图效果
- en: All of the techniques described so far, while essential for dealing with bitmaps,
    are equally applicable to any kind of object. However, Inkscape also has a number
    of “genuinely bitmap” extension effects, collected in the **Extensions** ▸ **Raster**
    submenu. (Refer to **[13.3 Path Extensions](ch13s03.html "13.3 Path Extensions")**
    for general tips on working with extension effects.)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止描述的所有技术，虽然对于处理位图是必不可少的，但同样适用于任何类型的对象。然而，Inkscape 还有一系列“真正”的位图扩展效果，收集在**扩展**
    ▸ **栅格**子菜单中。（有关使用扩展效果的通用提示，请参阅**[13.3 路径扩展](ch13s03.html "13.3 路径扩展")**。）
- en: Unlike the SVG filters we just saw, all these effects make permanent changes
    to the bitmap; they can be undone—but you cannot, for example, readjust the parameters
    of such an effect after it is applied. Also unlike filters, these effects can
    work *only* on bitmap objects; you cannot, for example, apply a bitmap effect
    to a clone of a bitmap. If the bitmap is linked, these effects embed it and work
    on the embedded copy, not on the external linked original.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 与我们刚才看到的 SVG 过滤器不同，所有这些效果都会永久性地更改位图；它们可以被撤销——但例如，在应用后你不能重新调整这种效果的相关参数。而且与过滤器不同，这些效果只能作用于位图对象；例如，你不能将位图效果应用于位图的副本。如果位图是链接的，这些效果将嵌入它并在嵌入的副本上工作，而不是在外部链接的原始位图上。
- en: 'There are over 30 raster effects; only those most useful (and not easily achievable
    via filters) are listed here:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 有超过30种栅格效果；这里只列出了最有用（且不通过过滤器容易实现）的那些：
- en: '![Examples of extension effects from Extensions ▸ Raster](httpatomoreillycomsourcenostarchimages1736358.png.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![从扩展 ▸ 栅格中扩展效果的示例](httpatomoreillycomsourcenostarchimages1736358.png.jpg)'
- en: Figure 18-8. Examples of extension effects from Extensions ▸ Raster
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-8. 从扩展 ▸ 栅格中扩展效果的示例
- en: '**Add Noise** gives you a choice of various types of noise to overlay on your
    image; most types look more or less like scattered sand.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**添加噪声**为你提供了在图像上叠加各种类型噪声的选择；大多数类型看起来或多或少像散落的沙子。'
- en: '**Channel** takes one channel from the bitmap (one of R/G/B, C/M/Y/K, opacity,
    or matte).'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通道**从位图中提取一个通道（R/G/B、C/M/Y/K、不透明度或哑光中的一个）。'
- en: '**Charcoal** turns your image into an imitation of a charcoal drawing. Increasing
    **Radius** makes the strokes rougher, while raising **Sigma** makes the drawing
    darker overall.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**炭笔**将你的图像变成炭笔画的模仿。增加**半径**会使笔触更粗糙，而提高**Sigma**会使整体绘制更暗。'
- en: '**Contrast** increases the contrast (difference between lights and darks).
    You can apply it several times for more effect.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**对比度**增加对比度（明暗之间的差异）。你可以多次应用它以获得更明显的效果。'
- en: '**Cycle Colormap** cycles the colormap of a bitmap.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**循环色图**循环位图的色图。'
- en: '**Despeckle**, **Enhance**, and **Reduce Noise** implement various noise reduction
    algorithms.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**去斑**、**增强**和**减少噪声**实现了各种噪声减少算法。'
- en: '**Equalize** applies histogram equalization to the image.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**均衡**将直方图均衡应用于图像。'
- en: '**Level** blackens pixels that are darker than the **Black Point**, whitens
    pixels brighter than the **White Point**, and scales those that fall within this
    range to the full color range. **Gamma Correction** specifies additional brightness
    correction (1 means no change).'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**级别**将比**黑点**暗的像素变黑，将比**白点**亮的像素变白，并将处于此范围内的像素缩放到全色范围。**伽玛校正**指定额外的亮度校正（1表示无变化）。'
- en: '**Level (with Channel)** is the same as **Level** but for a single channel
    only.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**级别（带通道）**与**级别**相同，但仅适用于单个通道。'
- en: '**Median** paints each pixel with the median color of its circular neighborhood,
    for an effect similar to blurring.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**中值**用其圆形邻域的中值颜色绘制每个像素，产生类似于模糊的效果。'
- en: '**HSB Adjust** adjusts the hue (in the range of –360 to 360), saturation (–200
    to 200), and brightness (–200 to 200).'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HSB调整**调整色调（在-360到360的范围内），饱和度（-200到200），和亮度（-200到200）。'
- en: '**Normalize** increases contrast by expanding the color range of pixels to
    the full range of color (for example, if the image has no reds, all colors will
    be stretched in the direction of the red to compensate for that).'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**归一化**通过将像素的颜色范围扩展到完整的颜色范围（例如，如果图像没有红色，所有颜色都会在红色的方向上拉伸以补偿这一点）来增加对比度。'
- en: '**Resample** is perhaps the most practically useful of all image effects: It
    allows you to change the pixel size of the bitmap without scaling it. Resampling
    *up* (i.e., making a bitmap larger than its current pixel size) does not change
    the appearance of an image but may be useful if you plan to apply some other effect
    and want it to work with higher resolution. Resampling *down* (to a smaller-than-current
    size) makes the image lose detail without changing its dimensions in the document;
    this is a good way to reduce the file size of an SVG document with an embedded
    bitmap.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重采样**可能是所有图像效果中最实用的：它允许你改变位图的像素大小而不进行缩放。向上重采样（即，使位图大于其当前像素大小）不会改变图像的外观，但如果你计划应用其他效果并希望它以更高分辨率工作，这可能是有用的。向下重采样（到小于当前大小）会使图像失去细节，而不会改变文档中的尺寸；这是减少嵌入位图的SVG文档文件大小的好方法。'
- en: '**Dither** randomly scatters pixels in a bitmap, with **Amount** specifying
    the radius of scattering.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**抖动**在位图中随机散布像素，**数量**指定散布的半径。'
- en: '**Swirl** swirls the bitmap in a spiral around its center.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**漩涡**将位图在其中心以螺旋状旋转。'
- en: '**Unsharp Mask** sharpens the image using the popular “unsharp mask” algorithm.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**锐化蒙版**使用流行的“锐化蒙版”算法来锐化图像。'
- en: '**Wave** warps the image along a horizontal sine wave with the given amplitude
    and wavelength.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**波浪**沿给定振幅和波长的水平正弦波扭曲图像。'
- en: 18.8 Tracing
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.8 追踪
- en: For a vector editor, one of the most important bitmap-related capabilities is
    converting bitmap objects to vectors (*tracing*) and vice versa (*bitmap export*).
    Inkscape offers rich and powerful tools for these conversions, which the rest
    of this chapter will cover in detail.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 对于矢量编辑器来说，最重要的位图相关功能之一是将位图对象转换为矢量（*追踪*）以及相反的（*位图导出*）。Inkscape提供了丰富的强大工具来进行这些转换，本章的其余部分将详细介绍这些工具。
- en: 18.8.1 Manual Tracing
  id: totrans-78
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.8.1 手动追踪
- en: 'The most straightforward approach to creating vector art from a bitmap image
    does not involve any tools except those we already know. Just switch to the Pen
    tool (**[14.1 The Pen Tool](ch14s01.html "14.1 The Pen Tool")**), zoom in on your
    bitmap, and do a series of clicks around or along an area that you want to turn
    into a vector path, then double-click or press ![](httpatomoreillycomsourcenostarchimages1735344.png.jpg)
    to finish the path. Use click-and-release in a sharp corner to create a cusp node;
    for smooth curved edges, use a series of click-and-drags in critical nodes:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 从位图图像创建矢量艺术的最直接方法不涉及任何除了我们已知的工具以外的工具。只需切换到钢笔工具（**[14.1 钢笔工具](ch14s01.html "14.1
    钢笔工具")**），放大你的位图，然后在你想要转换为矢量路径的区域周围或沿线进行一系列点击，然后双击或按 ![](httpatomoreillycomsourcenostarchimages1735344.png.jpg)
    完成路径。在尖锐的角落使用点击并释放来创建尖点节点；对于平滑的曲线边缘，在关键节点使用一系列点击并拖动：
- en: '![Manual tracing of a bitmap](httpatomoreillycomsourcenostarchimages1736360.png.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![位图手动追踪](httpatomoreillycomsourcenostarchimages1736360.png.jpg)'
- en: Figure 18-9. Manual tracing of a bitmap
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-9. 位图手动追踪
- en: You can vary the density of your clicks depending on how precisely you want
    to trace a specific area. If you want the shape to be extra smooth, switch to
    the Spiro mode (**[13.1.7 Spiro Spline](ch13s01.html#one3dot1dot7_spiro_spline
    "13.1.7 Spiro Spline")**); in this mode, it does not matter in which direction
    you drag after clicking, just as long as you drag a bit *somewhere* to create
    a smooth node. If you’re tracing a polygon without any curves at all, it is convenient
    to use the Straight lines mode so that an accidental drag does not create an undesired
    smooth node.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以根据你想要追踪特定区域的精确程度来调整点击的密度。如果你想形状更加平滑，切换到斯皮罗模式（**[13.1.7 斯皮罗样条](ch13s01.html#one3dot1dot7_spiro_spline
    "13.1.7 斯皮罗样条")**）；在此模式下，点击后拖动的方向无关紧要，只要你在某个地方稍微拖动一下以创建平滑节点即可。如果你正在追踪没有任何曲线的多边形，使用直线模式会更方便，这样意外的拖动就不会创建不想要的平滑节点。
- en: While this technique may seem time-consuming at first, once you get the hang
    of it, you will be able to trace complex art very quickly. Like any manual technique,
    its main advantage is the complete creative control—you decide what parts to trace
    and what to ignore, how to simplify complex shapes, where to diverge from the
    bitmap blueprint, and where to place each node. Depending on your skill, the result
    will likely look much more satisfying than either an automatic trace or a fully
    manual drawing.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这种技术在最初可能看起来很耗时，但一旦您掌握了技巧，您将能够非常快速地跟踪复杂的艺术作品。像任何手动技术一样，它的主要优势是完全的创意控制——您决定跟踪哪些部分、忽略哪些部分，如何简化复杂形状，在哪里偏离位图蓝图，以及在哪里放置每个节点。根据您的技能，结果可能会比自动跟踪或完全手动绘图更令人满意。
- en: 18.8.2 The Trace Bitmap Dialog
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.8.2 跟踪位图对话框
- en: Inkscape’s tool for automatic bitmap tracing is very powerful; based on the
    standalone Potrace open source tracer (*[http://potrace.sourceforge.net](http://potrace.sourceforge.net)*),
    it is acknowledged to be one of the best tools of its kind in modern vector editors.
    With it, you can trace anything from a simple black-and-white logo that needs
    just a few nodes to a complex photo that produces dozens of colored paths with
    thousands of nodes.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: Inkscape的自动位图跟踪工具非常强大；基于独立的Potrace开源跟踪器（*[http://potrace.sourceforge.net](http://potrace.sourceforge.net)*），它被认为是现代矢量编辑器中同类工具中最好的之一。使用它，您可以跟踪从只需要几个节点的简单黑白标志到产生数十个彩色路径和数千个节点的复杂照片。
- en: '![The Trace Bitmap dialog](httpatomoreillycomsourcenostarchimages1736362.png.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![The Trace Bitmap dialog](httpatomoreillycomsourcenostarchimages1736362.png.jpg)'
- en: Figure 18-10. The Trace Bitmap dialog
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-10. 跟踪位图对话框
- en: 'The **Trace Bitmap** dialog (![](httpatomoreillycomsourcenostarchimages1736364.png.jpg))
    has two main areas: the options panel on the left and the preview panel on the
    right. Note, however, that the preview panel does not show you the traced vector
    path (that may be time-consuming to create); instead, you see the bitmap you’re
    tracing with all the color reduction and filtering steps as specified in the options
    panel. To update the preview after the options have changed, click **Update**.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**跟踪位图**对话框（![](httpatomoreillycomsourcenostarchimages1736364.png.jpg)）有两个主要区域：左侧的选项面板和右侧的预览面板。请注意，然而，预览面板不会显示您正在跟踪的矢量路径（这可能很耗时来创建）；相反，您看到的是根据选项面板中指定的所有颜色减少和过滤步骤进行跟踪的位图。要更新选项更改后的预览，请点击**更新**。'
- en: To perform the actual trace of the selected bitmap object, click **OK**. For
    a large bitmap, this may be slow; watch the status bar for progress messages.
    You can interrupt tracing at any time by clicking the **Stop** button.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 要执行所选位图对象的实际跟踪，请点击**确定**。对于大位图，这可能很慢；请查看状态栏以获取进度消息。您可以在任何时候通过点击**停止**按钮来中断跟踪。
- en: 'The **Mode** tab of the dialog chooses the principal mode of operation of the
    tracing tool. The available modes are divided into two groups: the *single-scan
    modes* create a single path, while the *multiple-scan modes* create multiple paths
    (grouped together).'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框的**模式**选项卡选择跟踪工具的主要操作模式。可用的模式分为两组：**单扫描模式**创建单个路径，而**多扫描模式**创建多个路径（分组在一起）。
- en: 18.8.2.1 Brightness Cutoff
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 18.8.2.1 亮度截止
- en: '**Brightness cutoff** is the simplest and most common approach to tracing a
    path: The resulting path covers anything that is darker than the threshold you
    set. This trace path, while a single object, can consist of multiple nonoverlapping
    subpaths (**[12.1.1 Subpaths](ch12s01.html#one2dot1dot1_subpaths "12.1.1 Subpaths")**).
    The **Threshold** is set as a fraction of the entire brightness range of the image;
    for example, when set to 0.6, the trace path covers all the areas in the darkest
    60 percent of the image. If you click **Invert**, the meaning of **Threshold**
    is inverted (i.e., the path will cover the brightest 40 percent of the image).'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**亮度截止**是跟踪路径最简单也是最常见的方法：生成的路径覆盖了所有比您设置的阈值更暗的部分。这个跟踪路径，虽然是一个单一的对象，但可以由多个非重叠的子路径组成（**[12.1.1
    子路径](ch12s01.html#one2dot1dot1_subpaths "12.1.1 子路径")**）。**阈值**是以图像整个亮度范围的一部分来设置的；例如，当设置为0.6时，跟踪路径覆盖了图像最暗的60%的所有区域。如果您点击**反转**，**阈值**的含义将被反转（即，路径将覆盖图像最亮的40%）。'
- en: '![Brightness cutoff tracing for different threshold values](httpatomoreillycomsourcenostarchimages1736366.png.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![不同阈值值的亮度截止跟踪](httpatomoreillycomsourcenostarchimages1736366.png.jpg)'
- en: Figure 18-11. Brightness cutoff tracing for different threshold values
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-11. 不同阈值值的亮度截止跟踪
- en: Usually, this is the best tracing mode for simple monochrome shapes such as
    logos, text, vignettes, and so on.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，这是追踪简单单色形状（如标志、文本、剪影等）的最佳追踪模式。
- en: 18.8.2.2 Tracing Quality
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 18.8.2.2 追踪质量
- en: Even if the bitmap you’re tracing is a rendition of a vector path, the trace
    will never exactly reproduce that original path. Rendering a vector into a bitmap
    always incurs some loss of information, and Inkscape’s tracer cannot restore this
    lost information other than by guessing. Although it is generally pretty good
    at it, there will be cases where you will be disappointed by its failure to recognize
    some features (arcs, straight lines, corners) that you can easily “see” in the
    bitmap. This is especially evident when tracing low-resolution bitmaps or those
    containing text.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 即使您正在追踪的位图是矢量路径的版本，追踪也不会精确地重现原始路径。将矢量渲染为位图总会造成一些信息丢失，Inkscape的追踪器无法通过猜测来恢复这些丢失的信息。尽管它通常做得相当不错，但仍然会有一些情况让您对其未能识别您在位图中容易“看到”的一些特征（弧线、直线、角落）感到失望。这在追踪低分辨率位图或包含文本的位图时尤其明显。
- en: '![Some common quality problems with bitmap tracing](httpatomoreillycomsourcenostarchimages1736368.png.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![位图追踪的一些常见质量问题](httpatomoreillycomsourcenostarchimages1736368.png.jpg)'
- en: Figure 18-12. Some common quality problems with bitmap tracing
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-12. 位图追踪的一些常见质量问题
- en: 'Perhaps the best piece of advice in this situation is to obtain the highest
    possible *resolution* bitmap. It is nearly impossible to get a decent trace from
    a bitmap where some crucial features are several pixels across; tracing a higher-resolution
    version of an image often makes a big difference. Also, you can try to adjust
    the **Threshold** and experiment with the contents of the **Options** page of
    the dialog (it applies to all modes, both single-scan and multiple-scan):'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，最好的建议可能是获取尽可能高的分辨率位图。从一些关键特征跨越几个像素的位图中获取合理的追踪几乎是不可能的；追踪图像的高分辨率版本通常会有很大的不同。此外，您可以尝试调整**阈值**并实验对话框的**选项**页面（它适用于所有模式，无论是单扫描还是多扫描）的内容：
- en: The **Suppress speckles** option removes any color blobs that are smaller than
    the specified number of pixels across. This suppresses creating small superfluous
    subpaths when tracing dirty or “dithered” bitmaps.
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**抑制杂点**选项移除任何小于指定像素数的颜色块。这可以抑制在追踪脏或“抖动”位图时创建小的多余子路径。'
- en: Increasing the **Smooth corners** parameter makes the trace algorithm less inclined
    to recognize sharp corners in the image. This may be useful when tracing a naturally
    smooth shape from a highly pixelated, low-resolution bitmap where you don’t want
    accidental pixel cusps to become sharp corners in the traced path. Conversely,
    lowering this parameter is appropriate when you are tracing geometric shapes without
    any curved lines; when **Smooth corners** is zero, the resulting path almost entirely
    consists of straight line segments with cusp nodes between them.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加平滑角落参数会使追踪算法不太倾向于识别图像中的尖锐角落。当您从高度像素化、低分辨率的位图追踪自然平滑的形状，且不希望意外的像素尖角成为追踪路径中的尖锐角落时，这可能很有用。相反，当您正在追踪没有曲线的几何形状时，降低此参数是合适的；当**平滑角落**为零时，生成的路径几乎完全由直线段组成，它们之间有尖角节点。
- en: The **Optimize paths** parameter tries to reduce the number of nodes in the
    trace path, much like the **Simplify** command does (**[12.3 Simplifying](ch12s03.html
    "12.3 Simplifying")**). Raising this value decreases the number of nodes you get,
    but it also increases the chance of introducing visible distortions or losing
    some important details of the shape.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**优化路径**参数试图减少追踪路径中的节点数，就像**简化**命令所做的那样（**[12.3 简化](ch12s03.html "12.3 简化")**）。提高此值会减少您获得的节点数，但也会增加引入可见扭曲或丢失形状的一些重要细节的机会。'
- en: 18.8.2.3 Other Single-Scan Modes
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 18.8.2.3 其他单扫描模式
- en: The **Edge detection** mode applies the edge detection filter to the bitmap
    before tracing it. As a result, the trace path will contain narrow strips that
    follow the color boundaries in the source bitmap. The lower the **Threshold**
    is, the more edges will be detected and traced.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**边缘检测**模式在追踪位图之前将其应用于边缘检测过滤器。因此，追踪路径将包含窄条，这些窄条遵循源位图中的颜色边界。**阈值**越低，检测和追踪到的边缘就越多。'
- en: The **Color quantization** mode first quantizes (divides) the image into the
    given number of areas (**Colors**), each with its own dominant color, much like
    when reducing a full-color image to a fixed palette using a bitmap editor. It
    then traces *every other* such area, which results in a stripped appearance for
    color gradients.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**颜色量化**模式首先将图像量化（分割）为给定数量的区域（**颜色**），每个区域都有其主导颜色，就像使用位图编辑器将全色图像减少到固定调色板时一样。然后它追踪**每个**这样的区域，这导致颜色渐变呈现出剥离的外观。'
- en: '![The Edge detection and Color quantization modes](httpatomoreillycomsourcenostarchimages1736370.png.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![边缘检测和颜色量化模式](httpatomoreillycomsourcenostarchimages1736370.png.jpg)'
- en: Figure 18-13. The Edge detection and Color quantization modes
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-13. 边缘检测和颜色量化模式
- en: 18.8.2.4 Multiple-Scan Modes
  id: totrans-109
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 18.8.2.4 多扫描模式
- en: Like the **Color quantization** mode we’ve just seen, each multiple-scan mode
    starts by quantizing the image into the given number of areas (specified by **Scans**).
    It then traces each area separately, assigns an appropriate color or gray level
    to the trace path, and groups all such paths together. With a sufficient number
    of quantization steps, the result may look very similar to the original bitmap,
    faithfully reproducing its color gradients, blur, natural textures, and so on.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 就像我们刚刚看到的**颜色量化**模式一样，每种多扫描模式首先将图像量化为给定数量的区域（由**扫描数**指定）。然后它分别追踪每个区域，为追踪路径分配适当的颜色或灰度级别，并将所有这些路径组合在一起。在足够多的量化步骤下，结果可能看起来非常接近原始位图，忠实地再现其颜色渐变、模糊、自然纹理等。
- en: 'The three multiple-scan modes differ only in the way the image is quantized.
    The **Brightness steps** option is the best one for grayscale images; it ignores
    any hue or saturation differences and groups pixels into areas based solely on
    their brightness ([Figure 18-14](ch18s08.html#multiple_scans_10_brightness_steps
    "Figure 18-14. Multiple scans: 10 brightness steps")). The **Colors** mode considers
    all aspects of the colors when performing quantization, which results in the most
    faithful reproduction of full-color images (see Figure 14 on the color insert).
    Finally, the **Grays** option works the same as **Colors**, except that the resulting
    paths are painted with approximating shades of gray instead of the original colors.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 三种多扫描模式在图像量化方式上有所不同。**亮度级别**选项是灰度图像的最佳选择；它忽略任何色调或饱和度差异，并根据亮度将像素分组到区域中（[图18-14](ch18s08.html#multiple_scans_10_brightness_steps
    "图18-14. 多扫描：10个亮度级别"））。**颜色**模式在量化时考虑颜色的所有方面，这导致全色图像的忠实再现（参见彩色插页上的图14）。最后，**灰度**选项与**颜色**选项的工作方式相同，只是结果路径用近似灰度色调而不是原始颜色来绘制。
- en: '![Multiple scans: 10 brightness steps](httpatomoreillycomsourcenostarchimages1736372.png.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![多扫描：10个亮度级别](httpatomoreillycomsourcenostarchimages1736372.png.jpg)'
- en: 'Figure 18-14. Multiple scans: 10 brightness steps'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-14. 多扫描：10个亮度级别
- en: 'The **Smooth** option applies a certain amount of blur to the image before
    quantizing it; this may produce better results in complex photographic images.
    The **Stack scans** option is best kept on; it makes sure that each area’s path
    covers not only that area but also all areas below it in z-order, which means
    there will be no gaps between the scans:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**平滑**选项在量化图像之前应用一定量的模糊；这在复杂摄影图像中可能会产生更好的结果。**堆叠扫描**选项最好保持开启状态；它确保每个区域的路径不仅覆盖该区域，还覆盖z顺序中所有位于其下方的区域，这意味着扫描之间不会有间隙：'
- en: '![Stacking scans vs. abutting them](httpatomoreillycomsourcenostarchimages1736374.png.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![堆叠扫描与相邻](httpatomoreillycomsourcenostarchimages1736374.png.jpg)'
- en: Figure 18-15. Stacking scans vs. abutting them
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-15. 扫描堆叠与相邻
- en: The **Remove background** option simply removes the bottommost scan path from
    the group, which is useful when you are tracing a photo of something on a flat-color
    background and want the result to only contain the object itself, not the background.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**移除背景**选项简单地从组中移除最底层的扫描路径，这在您正在追踪一个在单色背景上的照片，并且希望结果只包含对象本身，而不包含背景时非常有用。'
- en: 18.9 Bitmap Export
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.9 位图导出
- en: 'In a bitmap-dominated world, a vector editor without a good rasterization and
    bitmap export capability is useless. Inkscape’s bitmap export facilities are convenient
    and can be automated in numerous ways. On the downside, Inkscape lacks an export
    preview and supports only one bitmap format: PNG. Also, you can only create images
    with 8 bits per channel (no indexed color, no 16 bits per channel), and it is
    impossible to suppress antialiasing.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在位图主导的世界里，没有良好光栅化和位图导出功能的矢量编辑器是无用的。Inkscape 的位图导出功能方便，可以通过多种方式自动化。然而，Inkscape
    缺乏导出预览，并且只支持一种位图格式：PNG。此外，你只能创建每个通道 8 位（没有索引颜色，没有每个通道 16 位），并且无法抑制抗锯齿。
- en: The lack of support for bitmap formats other than PNG is not as bad as it may
    sound. The PNG format faithfully preserves the maximum rendering quality Inkscape
    is capable of, including alpha transparency, antialiasing, filters, and so on.
    From a PNG file, you can easily create any other format (such as JPG or TIFF)
    using a bitmap editor or any image conversion utility such as ImageMagick (you
    can download it from *[http://imagemagick.org](http://imagemagick.org)*). During
    this conversion, you can optimize your image in various ways (e.g., to minimize
    the file size or palette).
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 不支持 PNG 之外的位图格式并不像听起来那么糟糕。PNG 格式忠实地保留了 Inkscape 能够达到的最大渲染质量，包括 alpha 透明度、抗锯齿、滤镜等。从
    PNG 文件中，你可以轻松地使用位图编辑器或任何图像转换工具（如 ImageMagick）创建任何其他格式（如 JPG 或 TIFF）（你可以在 *[http://imagemagick.org](http://imagemagick.org)*
    下载它）。在此转换过程中，你可以以各种方式优化你的图像（例如，最小化文件大小或调色板）。
- en: Note
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*If you think your PNG export has lost the transparency of the original SVG,
    the most likely source of the problem is not Inkscape but the image file viewer
    you’re using to examine the PNG. Not all image viewers can handle alpha transparency
    in PNG; one program that is guaranteed to show your PNG correctly is the Firefox
    browser.*'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果你认为你的 PNG 导出丢失了原始 SVG 的透明度，最可能的问题来源不是 Inkscape，而是你用来检查 PNG 的图像文件查看器。并非所有图像查看器都能处理
    PNG 中的 alpha 透明度；一个能保证正确显示你的 PNG 的程序是 Firefox 浏览器。*'
- en: 18.9.1 The Export Bitmap Dialog
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.9.1 导出位图对话框
- en: 'With the **Export Bitmap** dialog (![](httpatomoreillycomsourcenostarchimages1735404.png.jpg)),
    you can export your drawing or any part of it into a PNG file at any resolution.
    The dialog consists of three main areas, in which you configure the following:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 **导出位图** 对话框 (![](httpatomoreillycomsourcenostarchimages1735404.png.jpg))，你可以将你的绘图或其任何部分导出为
    PNG 文件，任何分辨率。该对话框由三个主要区域组成，其中你配置以下内容：
- en: The canvas area you want to export
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你想要导出的画布区域
- en: The pixel size of the bitmap
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 位图的像素大小
- en: The filename of the export file
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导出文件的文件名
- en: '![The Export Bitmap dialog](httpatomoreillycomsourcenostarchimages1736376.png.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![导出位图对话框](httpatomoreillycomsourcenostarchimages1736376.png.jpg)'
- en: Figure 18-16. The Export Bitmap dialog
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-16. 导出位图对话框
- en: For the **Export area**, you can choose either the *page* of your SVG document
    (anything beyond the edges of the page is not exported), the bounding box of the
    *drawing* (which can be smaller or larger than the page; the page rectangle is
    not in any way visible in the exported bitmap), or the bounding box of the *selection*
    (again, it can be inside or outside the page rectangle—this does not matter).
    These options correspond to the first three toggle buttons at the top of the dialog.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 **导出区域**，你可以选择你的 SVG 文档的 *页面*（页面边缘之外的内容不会被导出），*绘图* 的边界框（这可以比页面小或大；页面矩形在导出的位图中在任何方式下都是不可见的），或者
    *选择* 的边界框（再次，它可以在页面矩形内部或外部——这并不重要）。这些选项对应于对话框顶部的第一个三个切换按钮。
- en: Alternatively, you can click the **Custom** toggle button and type your own
    values of the coordinates for the top-left corner (**x0**, **y0**), bottom-right
    corner (**x1**, **y1**), or width and height of the export area. You can also
    choose the measurement unit for these values (the default is `px`, **[A.6 Coordinates
    and Units](apas06.html "A.6 Coordinates and Units")**).
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，你可以点击 **自定义** 切换按钮，并输入导出区域左上角坐标（**x0**，**y0**）、右下角坐标（**x1**，**y1**）或宽度和高度的值。你还可以选择这些值的测量单位（默认为
    `px`，**[A.6 坐标和单位](apas06.html "A.6 Coordinates and Units**)**）。
- en: The **Export Bitmap** dialog is not modal—that is, you can keep working on the
    canvas as you normally do while it is open. Unless you choose **Custom**, the
    dialog responds to changing a selection on the canvas by switching to the **Selection**
    mode and updating the coordinates to match the bounding box of the new selection.
    If nothing is selected and you are not in **Custom**, the dialog defaults to the
    **Drawing** mode.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '**导出位图**对话框不是模态的——也就是说，当它打开时，您可以像平时一样继续在画布上工作。除非您选择**自定义**，否则对话框会根据画布上的选择变化而切换到**选择**模式，并更新坐标以匹配新选择的边界框。如果没有选择任何内容并且您不在**自定义**模式下，对话框默认为**绘图**模式。'
- en: For the **Bitmap size**, you can type the width and height, in pixels, or you
    can adjust the resolution value (*dpi*, which stands for *dots*—that is, pixels—*per
    inch*). The default resolution of 90 dpi results in one SVG `px` unit corresponding
    exactly to one pixel of the rendered bitmap. The horizontal and vertical dpi values
    cannot differ; changing any one of the three editable values (**Width**, **Height**,
    **dpi**) changes the other two to match.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**位图大小**，您可以输入宽度和高度，以像素为单位，或者调整分辨率值（*dpi*，代表*每英寸点数*——即像素），默认分辨率为90 dpi，使得一个SVG
    `px` 单位正好对应渲染位图的像素。水平和垂直的dpi值不能不同；更改三个可编辑值中的任何一个（**宽度**、**高度**、**dpi**）都会使其他两个值相应改变。
- en: Note
  id: totrans-134
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*If your drawing contains some `px`-sized objects (such as strokes a whole
    number of `px` wide) and you want them to export precisely into the pixels of
    the bitmap, it may not be sufficient to choose the 90 dpi resolution. For example,
    a 1×1 px square in SVG may fall on a boundary between pixels in an exported bitmap
    and this would end up “smeared” into four adjacent pixels instead of one. The
    easiest way to prevent such misalignment and ensure your export is as crisp as
    possible is to use the grid (**[7.2 Grids](ch07s02.html "7.2 Grids")**). Snap
    your objects to the default 1 px-sized grid, and make sure that your export area
    has integer **x0** and **y0** coordinates when measured in `px`—that is, is itself
    aligned to the `px` grid. After that, exporting at 90 dpi will give you a perfectly
    crisp image.*'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果您的绘图包含一些`px`大小的对象（例如宽度为整数的`px`的线条）并且您希望它们精确地导出到位图的像素中，选择90 dpi分辨率可能不足以做到这一点。例如，SVG中的1×1
    px正方形可能会落在导出位图中像素之间的边界上，这最终会导致“扩散”到四个相邻像素而不是一个。防止这种错位并确保您的导出尽可能清晰的最简单方法是使用网格（**[7.2
    网格](ch07s02.html "7.2 网格")**）。将对象吸附到默认的1 px大小的网格上，并确保在`px`测量时导出区域具有整数**x0**和**y0**坐标——也就是说，它本身对齐到`px`网格。之后，在90
    dpi下导出将为您提供一张完美清晰的图像。*'
- en: For the **Filename**, you can type a complete path to the file (the *.png* extension
    will be added automatically) or click the **Browse** button to access your filesystem
    and choose a folder and a file.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**文件名**，您可以输入文件的完整路径（将自动添加*.png*扩展名）或点击**浏览**按钮访问您的文件系统并选择一个文件夹和一个文件。
- en: 18.9.1.1 Export Hints
  id: totrans-137
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 18.9.1.1 导出提示
- en: When exporting a single selected object, the export filename and resolution
    of the export are remembered and stored in SVG document (so you may need to save
    it after performing the export) and restored into the **Export Bitmap** dialog
    when you select this object to export again. These *export hints* are one of the
    greatest time savers when using Inkscape to export multiple objects to multiple
    bitmap files—for example, slices of a web page graphic. Just as you select various
    objects with the **Export Bitmap** dialog open, you can see their saved export
    filenames popping up in the **Filename** field. For the same reason—to make it
    easier to export multiple objects one by one—the dialog stays open even after
    you click the **Export** button.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 当导出单个选定的对象时，导出文件名和分辨率会被记住并存储在SVG文档中（因此您可能需要在导出后保存它），并在您再次选择此对象进行导出时恢复到**导出位图**对话框中。这些*导出提示*是使用Inkscape导出多个对象到多个位图文件时节省时间的一大方法——例如，网页图形的切片。正如您在打开**导出位图**对话框时选择各种对象一样，您可以在**文件名**字段中看到它们保存的导出文件名弹出。出于同样的原因——为了更容易逐个导出多个对象——对话框在您点击**导出**按钮后仍然保持打开状态。
- en: You can speed up the process even more if you select all objects that you want
    to export, each to its own file, and check the **Batch export all selected objects**
    checkbox. Now, clicking **Export** will create one bitmap file per each selected
    object. If an object has already been exported before—that is, has the filename
    and resolution hints saved—these values will be used for it; otherwise, a name
    for the bitmap file will be constructed from the ID of the object (for example,
    *text2402.png*, see **[A.9 Linking](apas09.html "A.9 Linking")**), and the file
    will be placed in the directory where your SVG document was last saved.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你选择所有你想要导出的对象，每个对象到一个单独的文件，并勾选**批量导出所有选定的对象**复选框，你可以进一步加快这个过程。现在，点击**导出**将为每个选定的对象创建一个位图文件。如果一个对象之前已经被导出——也就是说，已经保存了文件名和分辨率提示——这些值将被使用；否则，将从对象的ID（例如，*text2402.png*，见**[A.9
    链接](apas09.html "A.9 链接")**）构造位图文件的名称，并将文件放置在保存你的SVG文档的最后目录中。
- en: By default, even if you are exporting a selection, you are actually exporting
    an area—the bounding box of the selection—which may contain lots of other objects,
    all of which will be visible. Checking the **Hide all except selected** checkbox
    makes sure the exported bitmap will contain *only* the exported objects, while
    all others, even if they overlap the export area, will not be rendered.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，即使你正在导出选择项，实际上你导出的是一个区域——选择项的边界框，它可能包含许多其他对象，所有这些对象都将可见。勾选**隐藏除所选之外的所有内容**复选框可以确保导出的位图只包含导出的对象，而所有其他对象，即使它们与导出区域重叠，也不会被渲染。
- en: 18.9.2 Exporting via the Command Line
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.9.2 通过命令行导出
- en: 'All of the capabilities of the **Export Bitmap** dialog are also available
    when you run Inkscape from the command line by using various switches and parameters.
    This way, Inkscape can be used as a GUI-less utility from scripts or programs
    to automate various SVG rendering jobs. For example, this is how you export an
    object with `id="text2402"` at 600 dpi:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 当你通过使用各种开关和参数从命令行运行Inkscape时，**导出位图**对话框的所有功能也都可用。这样，Inkscape可以作为无GUI的实用工具从脚本或程序中用于自动化各种SVG渲染任务。例如，这是如何以600
    dpi导出`id="text2402"`的对象的：
- en: '[PRE0]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: For a complete list of Inkscape’s command-line switches, refer to [Appendix C](apc.html
    "Appendix C. The Command Line").
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Inkscape的完整命令行开关列表，请参阅[附录C](apc.html "附录C. 命令行")。
- en: 18.9.3 Icon Preview
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.9.3 图标预览
- en: 'While there’s currently no preview pane in the **Export Bitmap** dialog, if
    you use Inkscape to create icons, one way to preview your work rendered to different
    icon sizes is via the **Icon Preview** dialog, which you can call from the **View**
    menu:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然目前**导出位图**对话框中没有预览窗格，但如果你使用Inkscape创建图标，一种预览你的工作在不同图标尺寸上的渲染效果的方法是通过**图标预览**对话框，你可以从**视图**菜单中调用它：
- en: '![The Icon Preview dialog](httpatomoreillycomsourcenostarchimages1736378.png.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![图标预览对话框](httpatomoreillycomsourcenostarchimages1736378.png.jpg)'
- en: Figure 18-17. The Icon Preview dialog
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-17. 图标预览对话框
- en: This dialog contains previews of your document rasterized in a few typical icon
    sizes, from 16-by-16 to 128-by-128 pixels; on the left of the dialog, one of these
    renderings is additionally displayed scaled up so you can see how your vector
    objects translate to actual pixels. Click the **Selection** toggle button to switch
    the preview from the entire document to the current selection. The **Refresh**
    button updates the preview (there’s no automatic update of the preview yet).
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 此对话框包含你的文档以几种典型的图标尺寸进行光栅化的预览，从16x16像素到128x128像素；在对话框的左侧，这些渲染之一会额外显示并放大，以便你可以看到你的矢量对象如何转换为实际像素。点击**选择**切换按钮可以在整个文档的预览和当前选择之间切换。**刷新**按钮更新预览（目前还没有自动更新预览的功能）。
- en: 18.9.4 Make a Bitmap Copy
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.9.4 制作位图副本
- en: 'You can immediately import (**[18.1 Import](ch18s01.html "18.1 Import")**)
    the bitmap file you have exported back into the document to review how rasterization
    worked. If, however, you only need that bitmap in your document and not as a separate
    file, you can use Inkscape’s shortcut: the **Edit** ▸ **Make a Bitmap Copy** command.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以立即将你导出的位图文件导入文档中，以查看光栅化是如何工作的。然而，如果你只需要在文档中使用该位图，而不是作为单独的文件，你可以使用Inkscape的快捷方式：**编辑**
    ▸ **制作位图副本**命令。
- en: This command exports the selected objects and at once imports the resulting
    bitmap back to the document, overlaying it on top of the selection. The new bitmap
    object is not embedded (it is placed in the document’s last save directory); use
    the embedding effect (**[18.2 Linking vs. Embedding](ch18s02.html "18.2 Linking
    vs. Embedding")**) to embed it. The resolution of the export can be set on the
    **Bitmaps** page of **Inkscape Preferences**; the default is 90 dpi, and for that
    value, the command will additionally snap the export area to the 1 px grid, making
    sure the pixels of the created bitmap align exactly with the boundaries of `px`
    squares.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令导出选定的对象，并立即将生成的位图导入文档中，将其叠加在选区上方。新的位图对象没有嵌入（它被放置在文档的最后保存目录中）；使用嵌入效果（**[18.2
    链接与嵌入](ch18s02.html "18.2 链接与嵌入")**)来嵌入它。导出的分辨率可以在 **Inkscape 预设** 的 **位图** 页上设置；默认值为
    90 dpi，对于这个值，命令还将导出区域吸附到 1 px 网格上，确保创建的位图像素与 `px` 方格的边界对齐。
- en: '![A 90-dpi bitmap copy of a path, aligned to the grid](httpatomoreillycomsourcenostarchimages1736380.png.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![路径的 90-dpi 位图副本，对齐到网格](httpatomoreillycomsourcenostarchimages1736380.png.jpg)'
- en: Figure 18-18. A 90-dpi bitmap copy of a path, aligned to the grid
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-18. 路径的 90-dpi 位图副本，对齐到网格
- en: This command can be used for a quick preview of how your art will rasterize
    (after which, the bitmap object can be deleted). It is also useful when you have
    some very slow-rendering filters (**[17.5 Filter Rendering Options](ch17s05.html
    "17.5 Filter Rendering Options")**) but do not want to work in the No Filters
    or Outline modes; in this case, just make a bitmap copy of the filtered object
    and delete or hide the slow-rendering original. Also, you can create a low-resolution
    bitmap copy of an object in order to trace it to achieve a characteristic distortion
    of its shape, which may have artistic value.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令可以用来快速预览你的艺术作品如何光栅化（之后，位图对象可以被删除）。当你有一些渲染速度非常慢的过滤器（**[17.5 过滤器渲染选项](ch17s05.html
    "17.5 过滤器渲染选项")**)，但又不想在无过滤器或轮廓模式下工作；在这种情况下，只需创建一个过滤对象的位图副本，然后删除或隐藏渲染速度慢的原始对象。此外，你可以创建一个低分辨率位图副本来追踪对象，以实现其形状的特征性扭曲，这可能具有艺术价值。
- en: 18.10 Color Management
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.10 色彩管理
- en: The goal of color management tools is to ensure that the colors in your artwork
    are correctly translated between different output devices, most often from screen
    to print. The ranges of colors that can be reproduced are different for different
    devices, and some color distortions are unavoidable. Color management allows you
    to preview, control, and thereby minimize these distortions.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 色彩管理工具的目标是确保你的艺术作品中的颜色在不同输出设备之间正确转换，最常见的是从屏幕到打印。不同设备可以重现的颜色范围不同，一些颜色失真是不可避免的。色彩管理允许你预览、控制和因此最小化这些失真。
- en: In Inkscape, color management is a developing area, and it is still in a quite
    primitive state. You can use screen proofing to preview output colors; however,
    using Inkscape alone, you cannot properly prepare a file for print (i.e., color-separate
    it and save it with a color profile embedded). However, in most cases you can
    get the result you need by using some tricks and employing some additional software,
    as described in this section.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Inkscape 中，色彩管理是一个正在发展的领域，目前还处于相当原始的状态。你可以使用屏幕校样来预览输出颜色；然而，仅使用 Inkscape，你无法正确地为打印准备文件（即，分离颜色并保存带有嵌入色彩配置文件的文件）。然而，在大多数情况下，你可以通过使用一些技巧和采用一些额外的软件，如本节所述，来获得所需的结果。
- en: However, before you go into it, consider if you really *need* color management.
    If you are going to print your art on a desktop color printer, chances are its
    quality is simply not good enough for color management to make a significant difference.
    A typical desktop printer will accept and print the same RGB data as is displayed
    on your screen, performing its own color conversion without bothering the user.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在深入之前，考虑一下你是否真的*需要*色彩管理。如果你打算在台式彩色打印机上打印你的艺术作品，那么其质量可能根本不足以让色彩管理产生显著差异。典型的台式打印机将接受并打印与屏幕上显示相同的
    RGB 数据，执行自己的颜色转换，而不打扰用户。
- en: The need for color management arises when you are going to print your documents
    using a professional printer, e.g., by sending them to a print service provider.
    Even then, some providers will perform color management on your documents for
    you if you ask them to. If you have sufficient control over this process (for
    example, can review the print proofs), this is usually the best option because
    the print service staff knows what works best with their equipment.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 当您打算使用专业打印机打印文档时，例如通过将它们发送到打印服务提供商，就需要进行颜色管理。即使在这种情况下，一些提供商如果被要求，也会为您管理文档中的颜色。如果您对这一过程有足够的控制（例如，可以审查打印校样），这通常是最佳选择，因为打印服务人员知道什么最适合他们的设备。
- en: 18.10.1 ICC Color Profiles
  id: totrans-161
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.10.1 ICC颜色配置文件
- en: An ICC color profile is a file that fully describes the color capabilities of
    an output device. If you want to prepare your document for outputting on a specific
    device, you must first obtain the ICC profile that exactly corresponds to this
    device and the output media (for example, paper type used for printing). Sometimes,
    you can find an appropriate profile file on the Internet (for example, on the
    web site of the printer hardware’s manufacturer); sometimes, you can request them
    from the print service provider you will be using. A useful package of generic
    profiles can be obtained from Adobe at *[http://www.adobe.com/downloads](http://www.adobe.com/downloads)*.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: ICC颜色配置文件是一个完全描述输出设备颜色能力的文件。如果您想为在特定设备上输出文档做准备，您必须首先获取与该设备及输出介质（例如，用于打印的纸张类型）完全对应的ICC配置文件。有时，您可以在互联网上找到合适的配置文件（例如，在打印机硬件制造商的网站上）；有时，您可以从您将要使用的打印服务提供商那里请求它们。您可以从Adobe获取一个有用的通用配置文件包，网址为*[http://www.adobe.com/downloads](http://www.adobe.com/downloads)*。
- en: Once you get the destination profile, put it into *~/.local/share/color/icc*
    on Linux and *system32\spool\drivers\color* inside the Windows folder on Windows.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您获得了目标配置文件，将其放入Linux上的*~/.local/share/color/icc*或Windows文件夹中的*system32\spool\drivers\color*。
- en: 18.10.2 Screen Proofing
  id: totrans-164
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.10.2 屏幕校样
- en: 'Since the color range of a typical printer is narrower than that of a computer
    display, Inkscape can *preview* the printing output on screen by emulating the
    printer colors on your display. For this, you need to have two ICC color profiles:
    one for the printer you’re going to use and another for your screen.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 由于典型打印机的颜色范围比计算机显示器的颜色范围窄，Inkscape可以通过在您的显示器上模拟打印机颜色来在屏幕上*预览*打印输出。为此，您需要有两个ICC颜色配置文件：一个用于您将要使用的打印机，另一个用于您的屏幕。
- en: Ideally, you should have your display *calibrated* using a special hardware
    device called *colorimeter*; this calibration creates a custom ICC profile of
    your display. If you cannot do calibration, a generic RGB profile, such as “Adobe
    RGB” from Adobe’s profile pack mentioned above, should work well enough unless
    your quality requirements are truly demanding.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，您应该使用一种称为*色度计*的特殊硬件设备来校准您的显示器；这种校准会创建一个定制的ICC配置文件。如果您无法进行校准，可以使用一个通用的RGB配置文件，例如上面提到的Adobe的配置文件包中的“Adobe
    RGB”，除非您的质量要求真正严格。
- en: In **Inkscape Preferences**, go to the **Color management** tab. Choose the
    display profile in the **Display adjustment** section. Then, in the **Proofing**
    section, check **Simulate output on screen** and choose the **Device profile**
    of your target device (i.e., printer).
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 在**Inkscape首选项**中，转到**颜色管理**选项卡。在**显示调整**部分选择显示配置文件。然后，在**校样**部分，勾选**在屏幕上模拟输出**并选择目标设备的**设备配置文件**（即打印机）。
- en: For both screen and target device profiles, you can also choose **Device rendering
    intent**. The default **Perceptual** is the best choice in most cases; if you
    want the output to look as color-rich as possible (for example, when printing
    simple business graphics), try **Saturation**.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 对于屏幕和目标设备配置文件，您还可以选择**设备渲染意图**。默认的**感知**在大多数情况下是最好的选择；如果您希望输出看起来尽可能色彩丰富（例如，在打印简单的商业图形时），尝试**饱和度**。
- en: If a screen color is “out of gamut”—that is, cannot be rendered on the output
    device at all—it can be made immediately visible by converting it to a specially
    designated color. For example, if your design has no reds, check **Mark out of
    gamut colors** and choose red for **Out of gamut warning color**. Then, wherever
    you see red in your drawing, you know that you need to change the actual color
    of that object (it is of course shown correctly in the status bar or in the **Fill
    and Stroke** dialog, the red mark is only in the drawing) if you want it to print
    without gross distortions.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 如果屏幕颜色“超出色域”——也就是说，根本无法在输出设备上渲染——可以通过将其转换为特别指定的颜色来立即使其可见。例如，如果你的设计中没有红色，请检查**标记超出色域颜色**，并选择红色作为**超出色域警告颜色**。然后，无论你在绘图中发现红色，你都知道你需要更改该对象的实际颜色（当然，它在状态栏或**填充和描边**对话框中显示正确，红色标记仅在绘图上），如果你想让它打印而不出现明显的扭曲。
- en: 18.10.3 Separating and Embedding
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 18.10.3 分色和嵌入
- en: Screen proofing is helpful, but sometimes it is not enough—you may be required
    to produce a file already converted to the target color system. Such files are
    often called *color-separated* because they contain the separate color channels
    (usually CMYK, **[8.2.2 CMYK](ch08s02.html#eightdot2dot2_cmyk "8.2.2 CMYK")**)
    corresponding to the inks of the output device. Such a file may also have the
    target color profile embedded into it. The most commonly used formats are PDF
    (vector) and TIFF (bitmap); both can contain color-separated data and embed ICC
    profiles.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕校对很有帮助，但有时可能不够——你可能需要生成一个已经转换为目标色彩系统的文件。这样的文件通常被称为*分色文件*，因为它们包含了对应输出设备油墨的单独色彩通道（通常是CMYK，**[8.2.2
    CMYK](ch08s02.html#eightdot2dot2_cmyk "8.2.2 CMYK")**）。这样的文件也可能嵌入目标色彩配置文件。最常用的格式是PDF（矢量）和TIFF（位图）；两者都可以包含分色数据并嵌入ICC配置文件。
- en: Although it can export PDF and render bitmaps, as of version 0.47 Inkscape cannot
    do color separation or profile embedding. You need some other software to do the
    job for you, such as Adobe Photoshop (for TIFF) or Illustrator (for PDF); both
    can import Inkscape’s SVG format directly. You can also use open source software;
    the Scribus page layout program (*[http://scribus.net](http://scribus.net)*) will
    import SVG and create color-separated PDFs, and the Separate+ plugin for GIMP
    (*[http://registry.gimp.org/node/471](http://registry.gimp.org/node/471)*) will
    take Inkscape-exported PNG bitmap and convert it into a color-separated TIFF with
    screen proofing for complete control.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管它可以导出PDF和渲染位图，但截至版本0.47，Inkscape无法进行分色或配置文件嵌入。你需要其他软件来完成这项工作，例如Adobe Photoshop（用于TIFF）或Illustrator（用于PDF）；两者都可以直接导入Inkscape的SVG格式。你也可以使用开源软件；Scribus页面布局程序（*[http://scribus.net](http://scribus.net)*）可以导入SVG并创建分色PDF，而GIMP的Separate+插件（*[http://registry.gimp.org/node/471](http://registry.gimp.org/node/471)*）可以将Inkscape导出的PNG位图转换为带有屏幕校对的分色TIFF，以实现完全控制。
