<html><head></head><body>

<div class="calibre1"><div class="calibre1"><a name="isc_dhcp_server_3.0.5" class="calibre8" id="isc_dhcp_server_3.0.5"/>
<div class="calibre24" id="calibre_pb_0"/><h2 id="title-ID0EWEPM" class="docPrefaceTitle">Chapter 11. ISC DHCP SERVER 3.0.5</h2>
<h4 class="calibre32"><a class="calibre2" target="_blank" href="HTTP://WWW.ISC.ORG/SW/DHCP">HTTP://WWW.ISC.ORG/SW/DHCP</a></h4>
<a name="summary-id10" class="calibre8" id="summary-id10"/>
<h3 class="docSection1Title" id="-100000">11.1. SUMMARY</h3>
<p class="docText1"><span class="docEmphasis1"><a name="DHCP " class="calibre8" id="DHCP "/>DHCP (Dynamic Host Configuration Protocol)</span><a name="clients with" class="calibre8" id="clients with"/> provides network clients with an automated method of obtaining the configuration parameters necessary to communicate with other systems in an IP (Internet Protocol) based network. The parameters a DHCP server commonly provides to clients include IP address assignments, DNS server addresses, and default routers or gateway addresses.<a name="IDX-CHP-11-0182" class="calibre8" id="IDX-CHP-11-0182"/><a name="IDX-CHP-11-0183" class="calibre8" id="IDX-CHP-11-0183"/></p>
<p class="docText1"><a name="first joins" class="calibre8" id="first joins"/>When a client system first joins a network using DHCP, it broadcasts a request to the local network for configuration information. The DHCP server then answers this request with the parameters set in the DHCP server configuration file. The client system applies this assigned configuration to its network interface in order to communicate with the network.</p>
<p class="docText1"><a name="assign IP" class="calibre8" id="assign IP"/>DHCP servers generally assign IP addresses in one of two ways: statically or dynamically. The <span class="docEmphasis1">static</span><a name="the client" class="calibre8" id="the client"/> method allocates an IP address to a client based on the client's hardware MAC (Media Access Control) address. This IP address will not change. A <span class="docEmphasis1">dynamic</span><a name="a leased" class="calibre8" id="a leased"/> IP address assignment is a leased address. The DHCP server assigns these addresses from a pool or range set by the administrator. Dynamic IP addresses are returned to the pool when a client disconnects from the network. If the same client rejoins the network, it may be assigned a different IP address if the previously assigned address is unavailable.</p>
<p class="docText1"><a name="replacement for" class="calibre8" id="replacement for"/>DHCP first appeared in October 1993 as a replacement for BOOTP (Bootstrap Protocol). Version 1 of ISC's DHCP server was released by Ted Lemon in December 1997. ISC's DHCP implementation remains one of the most popular and robust open source DHCP solutions.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="resources-id10" class="calibre8" id="resources-id10"/>
<h3 class="docSection1Title" id="-100000">11.2. RESOURCES</h3>
<p class="docText1"><span class="b"><a name="Ted Lemon" class="calibre8" id="Ted Lemon"/>Ted Lemon's Paper on the ISC DHCP Distribution (dated 1998)</span></p>
<p class="docText1"><a class="calibre2" target="_blank" href="http://www.isc.org/sw/dhcp/dhcp-freenix.php">http://www.isc.org/sw/dhcp/dhcp-freenix.php</a></p>
<p class="docText1"><span class="b"><a name="Version " class="calibre8" id="Version "/>ISC DHCP Version 3 README</span></p>
<p class="docText1"><span class="docEmphasis1">http://www.isc.org/sw/dhcp/dhcpv3-README.php</span></p>
<p class="docText1"><span class="b">RFC 1541 - Dynamic Host Configuration Protocol</span></p>
<p class="docText1"><span class="docEmphasis1">http://tools.ietf.org/html/rfc1541</span></p>
<p class="docText1"><span class="b">The FreeBSD Handbook</span></p>
<p class="docText1"><a class="calibre2" target="_blank" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/network-dhcp.html">http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/network-dhcp.html</a></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="required-id10" class="calibre8" id="required-id10"/>
<h3 class="docSection1Title" id="-100000">11.3. REQUIRED</h3>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="FreeBSD " class="calibre8" id="FreeBSD "/> FreeBSD 7.0-RELEASE (see "<a class="calibre2" href="freebsd_7.0_split_000.html#freebsd_7.0">FreeBSD 7.0</a>")</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="collection " class="calibre8" id="collection "/> Updated ports collection (see "<a class="calibre2" href="freebsd_ports_collection.html#freebsd_ports_collection">FreeBSD Ports Collection</a>")</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/> Internet connection</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/> Your ISP's DNS server addresses</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="or default" class="calibre8" id="or default"/> IP address of your router or default gateway; to find this information:</p>
<pre class="calibre30"># <b class="calibre28">netstat -rn | grep default</b></pre>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="optional-id5" class="calibre8" id="optional-id5"/>
<h3 class="docSection1Title" id="-100000">11.4. OPTIONAL</h3>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="Authoritative BIND" class="calibre8" id="Authoritative BIND"/> Authoritative BIND DNS server, if you wish to enable dynamic DNS updates (see "<a class="calibre2" href="isc_bind_dns_server_9.4.2.html#isc_bind_dns_server_9.4.2">ISC BIND DNS Server 9.4.2</a>")<a name="IDX-CHP-11-0184" class="calibre8" id="IDX-CHP-11-0184"/><a name="IDX-CHP-11-0185" class="calibre8" id="IDX-CHP-11-0185"/></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="preparation-id10" class="calibre8" id="preparation-id10"/>
<h3 class="docSection1Title" id="-100000">11.5. PREPARATION</h3>
<p class="docText1"><a name="If you" class="calibre8" id="If you"/>If you plan on running your own DNS server, install and configure it prior to starting this guide. Become the superuser.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="install-id10" class="calibre8" id="install-id10"/>
<h3 class="docSection1Title" id="-100000">11.6. INSTALL</h3>
<p class="docText1"><a name="To begin" class="calibre8" id="To begin"/>To begin the ISC DHCP server installation process, enter the following commands:</p>
<pre class="calibre30"># <b class="calibre28">cd /usr/ports/net/isc-dhcp3-server</b>
# <b class="calibre28">make config ; make install clean</b>
# <b class="calibre28">rehash</b></pre>
<p class="docText1"><a name="of options" class="calibre8" id="of options"/>A menu of options will appear. Leave these options at their defaults (unless you have a specific need to change them), press [tab] to highlight <span class="b">OK</span>, and then press [enter].</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="configure-id10" class="calibre8" id="configure-id10"/>
<h3 class="docSection1Title" id="-100000">11.7. CONFIGURE</h3>
<p class="docText1"><a name="Once the" class="calibre8" id="Once the"/>Once the installation process is complete, it's time to configure DHCP for use on your system.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="to copy" class="calibre8" id="to copy"/>We need to copy the default configuration file <span class="docEmphasis1">dhcpd.conf.sample</span> to a new file named <span class="docEmphasis1">dhcpd.conf</span><a name="the DHCP" class="calibre8" id="the DHCP"/>. Then we'll open it and customize the DHCP server's configuration. Enter the following commands to make the copy and open the file for editing:</p><pre class="calibre30"># <b class="calibre28">cd /usr/local/etc</b>
# <b class="calibre28">cp dhcpd.conf.sample dhcpd.conf</b>
# <b class="calibre28">ee dhcpd.conf</b></pre>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="to the" class="calibre8" id="to the"/>Scroll down to the <tt class="calibre20">domain-name</tt> option and replace <a class="calibre2" target="_blank" href="http://example.org">example.org</a><a name="Replace" class="calibre8" id="Replace"/> with your domain name. Replace <a class="calibre2" target="_blank" href="http://ns1.example.org">ns1.example.org</a> and <a class="calibre2" target="_blank" href="http://ns2.example.org">ns2.example.org</a><a name="like the" class="calibre8" id="like the"/> with the IP addresses of the DNS servers you'd like the DHCP server to assign to clients. You may use your own DNS server IPs here, or those of your ISP. The two lines (~7) would appear as follows if your domain name was <a class="calibre2" target="_blank" href="http://example.com">example.com</a> and your DNS server IPs were <tt class="calibre20"><i class="docEmphasis1">192.168.1.11</i></tt> and <tt class="calibre20"><i class="docEmphasis1">61.32.24.84</i></tt>:</p><pre class="calibre30">option domain-name "<tt class="calibre20"><i class="docEmphasis1">example.com</i></tt>";
option domain-name-servers <tt class="calibre20"><i class="docEmphasis1">192.168.1.11</i></tt>, <tt class="calibre20"><i class="docEmphasis1">61.32.24.84</i></tt>;</pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Scroll down and uncomment the <tt class="calibre20">authoritative</tt> directive by removing the leading hash mark (<tt class="calibre20">#</tt><a name="should look" class="calibre8" id="should look"/>) to make the DHCP server authoritative. The line (~15) should look like this:</p><pre class="calibre30">authoritative;</pre><br class="calibre1"/>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> Make sure no other DHCP server is on the network. Most routers have a built-in DHCP server; disable it before starting "<a class="calibre2" href="testing-id7.html#testing-id7">Testing</a>".</span><hr size="1" noshade="noshade" class="calibre27"/></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Scroll down to the <tt class="calibre20">ddns-update-style</tt> option and change <tt class="calibre20">ad-hoc</tt> to <tt class="calibre20">none</tt><a name="to" class="calibre8" id="to"/> to disable dynamic DNS updates. To enable dynamic DNS updates, change this to <tt class="calibre20">interim</tt><a name="with dynamic" class="calibre8" id="with dynamic"/> (you must have a local BIND DNS server with dynamic DNS updates configured for this to work). The line (~18) should look like this if dynamic DNS updates are enabled:</p><pre class="calibre30">ddns-update-style <tt class="calibre20"><i class="docEmphasis1">interim</i></tt>;</pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="to the" class="calibre8" id="to the"/>Scroll down to the second subnet declaration (~32). You should see the following:</p><pre class="calibre30">subnet 10.254.239.0 netmask 255.255.255.224 {
range 10.254.239.10 10.254.239.20;
option routers rtr-239-0-1.example.org, rtr-239-0-2.example.org;
}</pre><br class="calibre1"/>
<p class="docText1"><a name="These lines" class="calibre8" id="These lines"/>These lines specify the IP address subnet, netmask, range, and routers that will be assigned to DHCP clients. Modify these lines to fit your desired network setup. As an example, we will use the <tt class="calibre20">subnet</tt> <tt class="calibre20"><i class="docEmphasis1">192.168.1.0</i></tt> and <tt class="calibre20">netmask</tt> <tt class="calibre20"><i class="docEmphasis1">255.255.255.0</i></tt><a name="DHCP IP" class="calibre8" id="DHCP IP"/>. We'll set the DHCP IP <tt class="calibre20">range</tt> from <tt class="calibre20"><i class="docEmphasis1">192.168.1.12</i></tt> to <tt class="calibre20"><i class="docEmphasis1">192.168.1.62</i></tt><a name="address is" class="calibre8" id="address is"/>. We will assume the router's (default gateway) IP address is <tt class="calibre20"><i class="docEmphasis1">192.168.1.1</i></tt><a name="the lines" class="calibre8" id="the lines"/>. After modifying the lines above, we now have the following:</p><pre class="calibre30">subnet <tt class="calibre20"><i class="docEmphasis1">192.168.1.0</i></tt> netmask <tt class="calibre20"><i class="docEmphasis1">255.255.255.0</i></tt> {
range <tt class="calibre20"><i class="docEmphasis1">192.168.1.12</i></tt> <tt class="calibre20"><i class="docEmphasis1">192.168.1.62</i></tt>;
option routers <tt class="calibre20"><i class="docEmphasis1">192.168.1.1</i></tt>;
}</pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">By default, the <span class="docEmphasis1">dhcpd.conf</span><a name="lines of" class="calibre8" id="lines of"/> file contains numerous lines of examples that should be commented out or removed. For simplicity, remove all subsequent lines following the subnet declaration mentioned above.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="how to" class="calibre8" id="how to"/>The next two sections are optional. The first explains how to set static IP addresses so certain DHCP clients will always receive the same IP address; the second enables dynamic DNS updates. In order for the latter to work, ensure the BIND DNS server is configured for dynamic DNS updates. See "ISC BINDDNS Server 9.4.2" on page 73 for details. You may skip to the appropriate section or save, exit, and proceed to "See <a class="calibre2" href="testing-id7.html#testing-id7">Testing</a><a name="either of" class="calibre8" id="either of"/>" if you do not wish to configure either of these options.<a name="IDX-CHP-11-0186" class="calibre8" id="IDX-CHP-11-0186"/></p></div></li></ol></div>
<a name="static_ip_assignments" class="calibre8" id="static_ip_assignments"/>
<h4 id="title-ID0EGGPM" class="docSection1Title">11.7.1. Static IP Assignments</h4>
<p class="docText1"><a name="to a" class="calibre8" id="to a"/>This section shows how to assign a static IP address to a DHCP client. This is useful for devices like network-attached printers.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="to a" class="calibre8" id="to a"/>To assign a static (or fixed) IP address assignment to a host (computer) via DHCP, obtain its hardware MAC address. The MAC address can be obtained a number of different ways. On FreeBSD and Macintosh OS X systems, use the <tt class="calibre20">ifconfig</tt><a name="the Terminal" class="calibre8" id="the Terminal"/> command (on Macintosh, launch the Terminal program and type <tt class="calibre20"><b class="calibre28">ifconfig</b></tt><a name="at the" class="calibre8" id="at the"/> at the prompt). The MAC address of each interface will follow the <tt class="calibre20">ether</tt><a name="Windows system" class="calibre8" id="Windows system"/> statement. On a Windows system, use the command <tt class="calibre20">ipconfig /all</tt><a name="address of" class="calibre8" id="address of"/> at the command prompt; the MAC address of each respective interface will be listed following <tt class="calibre20">Physical Address</tt>.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="following lines" class="calibre8" id="following lines"/>Add the following lines to the end of the <span class="docEmphasis1">dhcpd.conf</span> file. Replace <a class="calibre2" target="_blank" href="http://desktop01.example.com">desktop01.example.com</a><a name="its MAC" class="calibre8" id="its MAC"/> with the target system's hostname, its MAC address, and the IP address you wish to assign. The static IP declaration should appear like this:</p><pre class="calibre30">host <tt class="calibre20"><i class="docEmphasis1">desktop01.example.com</i></tt> {
  hardware ethernet <tt class="calibre20"><i class="docEmphasis1">08:00:07:26:c0:a5</i></tt>;
  fixed-address <tt class="calibre20"><i class="docEmphasis1">192.168.1.10</i></tt>;}</pre><br class="calibre1"/>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> The <tt class="calibre20">fixed-address</tt> can also be an FQDN if you have an authoritative DNS server with an appropriate entry in the zone's DNS lookup file. Do not assign IP addresses that fall within the range of IPs used for dynamically assigned IPs. In the sample configuration above, the declared range is from 192.168.1.12 to 192.168.1.62; thus 192.168.1.10 would be acceptable while 192.168.1.13 would not.</span><hr size="1" noshade="noshade" class="calibre27"/><p class="docText1"><a name="using the" class="calibre8" id="using the"/>You may add multiple static IP address assignments using the same format as above. To enable dynamic DNS updates, proceed to the next section; otherwise save, exit, and skip to "<a class="calibre2" href="testing-id7.html#testing-id7">Testing</a>".</p></div></li></ol></div>
<a name="dynamic_dns_updates" class="calibre8" id="dynamic_dns_updates"/>
<h4 id="title-ID0EHIPM" class="docSection1Title">11.7.2. Dynamic DNS Updates</h4>
<p class="docText1"><a name="DNS updates" class="calibre8" id="DNS updates"/>This section shows how to enable dynamic DNS updates with the ISC BIND DNS server.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1">Copy the contents of the <span class="docEmphasis1">rndc.key</span> file into the <span class="docEmphasis1">dhcpd.conf</span><a name="the DNS" class="calibre8" id="the DNS"/> file. This will allow the DHCP daemon to encrypt communications with the DNS server when updates are necessary. The following commands will append the contents of <span class="docEmphasis1">rndc.key</span> to <span class="docEmphasis1">dhcpd.conf</span>, assuming the <span class="docEmphasis1">rndc.key</span> file is in its default location:</p><pre class="calibre30"># <b class="calibre28">cd /usr/local/etc</b>
# <b class="calibre28">cp dhcpd.conf dhcpd.conf.old</b>
# <b class="calibre28">cat /var/named/etc/namedb/rndc.key &gt;&gt; dhcpd.conf</b></pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="of the" class="calibre8" id="of the"/>Add two zone declarations to the bottom of the <span class="docEmphasis1">dhcpd.conf</span> file. If <span class="docEmphasis1">dhcpd.conf</span> isn't already open, type:</p><pre class="calibre30"># <b class="calibre28">ee /usr/local/etc/dhcpd.conf</b></pre><br class="calibre1"/>
<p class="docText1"><a name="to the" class="calibre8" id="to the"/>Scroll down to the bottom of the <span class="docEmphasis1">dhcpd.conf</span><a name="file using" class="calibre8" id="file using"/> file using [ctrl-U] and add the following lines:</p><pre class="calibre30">zone <tt class="calibre20"><i class="docEmphasis1">example.com</i></tt>. {
     primary <tt class="calibre20"><i class="docEmphasis1">192.168.1.11</i></tt>;
     key rndc-key;
}
zone 1.168.192.in-addr.arpa. {
     primary <tt class="calibre20"><i class="docEmphasis1">192.168.1.11</i></tt>;
     key rndc-key;
}</pre><br class="calibre1"/>
<p class="docText1">Replace <a class="calibre2" target="_blank" href="http://example.com">example.com</a>. and <tt class="calibre20"><i class="docEmphasis1">1.168.192.in-addr.arpa.</i></tt><a name="names of" class="calibre8" id="names of"/> with the names of your forward and reverse lookup zone files. The IP addresses above should point to your BIND DNS server (you may use 127.0.0.1 if your DNS server exists on the same computer). If you did not create a reverse lookup zone file, then simply omit the reverse zone declaration.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Add the following line to <span class="docEmphasis1">dhcpd.conf</span><a name="static IP" class="calibre8" id="static IP"/> if you set up any static IP assignments. This will allow DHCP to update DNS with static assignments.</p><pre class="calibre30">update-static-leases on;</pre><br class="calibre1"/>
<p class="docText1">Save and exit.</p></div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="testing-id7" class="calibre8" id="testing-id7"/>
<h3 class="docSection1Title" id="-100000">11.8. TESTING</h3>
<p class="docText1"><a name="In this" class="calibre8" id="In this"/>In this section, we'll perform some basic tests to confirm that the DHCP server answers DHCP requests properly.<a name="IDX-CHP-11-0187" class="calibre8" id="IDX-CHP-11-0187"/></p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="have an" class="calibre8" id="have an"/>If you have an existing DHCP server on your network, disable it before proceeding. Most consumer NAT routers have one built in and turned on by default. The following command will start the DHCP server in debug mode; this allows you to see DHCP messages in real time.</p><pre class="calibre30"># <b class="calibre28">dhcpd -f -d</b></pre>
<p class="docText1"><a name="client system" class="calibre8" id="client system"/>Power on and connect a client system to the network and watch for a <tt class="calibre20">DHCPREQUEST</tt><a name="a" class="calibre8" id="a"/> followed by a <tt class="calibre20">DHCPACK</tt><a name="DHCP requests" class="calibre8" id="DHCP requests"/>. You should see real-time DHCP requests and acknowledgments. If a client system is already running, you can force a DHCP renewal by rebooting.</p><p class="docText1">Because the <tt class="calibre20">DHCPREQUEST</tt> and <tt class="calibre20">DHCPACK</tt><a name="should be" class="calibre8" id="should be"/> responses contain both assigned IPs and MAC addresses, you should be able to verify static IP assignments, if you configured any. To quit this mode, press [ctrl-C].</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="the" class="calibre8" id="the"/>If you enabled dynamic DNS updates, try using the <tt class="calibre20">host</tt><a name="computer named" class="calibre8" id="computer named"/> command to resolve client IP addresses with their hostnames. Assuming a computer named <tt class="calibre20"><i class="docEmphasis1">desktop01</i></tt><a name="file previously" class="calibre8" id="file previously"/> is not declared in a DNS zone file previously, you could use the following command to resolve its IP address:</p><pre class="calibre30"># <b class="calibre28">host</b> <span class="docEmphBoldItalic">desktop01.example.com</span>

desktop01.example.com has address 192.168.1.13</pre><br class="calibre1"/>
<p class="docText1"><a name="get a" class="calibre8" id="get a"/>If you get a <tt class="calibre20"><a name="host not" class="calibre8" id="host not"/>host not found</tt><a name="have renewed" class="calibre8" id="have renewed"/> message, verify you have renewed that computer's DHCP lease by rebooting it or forcing a renewal with the operating system specific utility. Also, check the messages log file (located in <span class="docEmphasis1">/var/log</span><a name="dhcpd when" class="calibre8" id="dhcpd when"/>) for errors from named or dhcpd when troubleshooting.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="DHCP server" class="calibre8" id="DHCP server"/>Configure the DHCP server to start automatically at boot time. To do this, open the <span class="docEmphasis1">rc.conf</span> file in <span class="docEmphasis1">/etc</span>:</p><pre class="calibre30"># <b class="calibre28">ee /etc/rc.conf</b></pre><br class="calibre1"/>
<p class="docText1"><a name="following line" class="calibre8" id="following line"/>and add the following line:</p><pre class="calibre30">dhcpd_enable="YES"</pre><br class="calibre1"/>
<p class="docText1">Save, exit, and start DHCP with this command:</p><pre class="calibre30"># <b class="calibre28">/usr/local/etc/rc.d/isc-dhcpd start</b></pre><br class="calibre1"/>
</div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="config_files-id10" class="calibre8" id="config_files-id10"/>
<h3 class="docSection1Title" id="-100000">11.9. CONFIG FILES</h3>
<p class="docText1"><span class="b">/usr/local/etc/dhcpd.conf</span><a name="IDX-CHP-11-0188" class="calibre8" id="IDX-CHP-11-0188"/><a name="IDX-CHP-11-0189" class="calibre8" id="IDX-CHP-11-0189"/><a name="IDX-CHP-11-0190" class="calibre8" id="IDX-CHP-11-0190"/></p>
<p class="docText1"><a name="Main configuration" class="calibre8" id="Main configuration"/>Main configuration file for dhcpd</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="log_files-id6" class="calibre8" id="log_files-id6"/>
<h3 class="docSection1Title" id="-100000">11.10. LOG FILES</h3>
<p class="docText1"><span class="b">/var/db/dhcpd.leases</span></p>
<p class="docText1"><a name="A database" class="calibre8" id="A database"/>A database of leases dhcpd has issued</p>
<p class="docText1"><span class="b">/var/log/messages</span></p>
<p class="docText1"><a name="and status" class="calibre8" id="and status"/>Contains error and status messages from the dhcpd daemon</p>
</div></div>

</body></html>