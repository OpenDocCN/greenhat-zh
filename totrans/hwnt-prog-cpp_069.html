<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_76">
<a name="ch05" class="calibre6" id="ch05"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="79" class="calibre16" id="79"/><a name="ch05lev1sec5" class="calibre16" id="ch05lev1sec5"/><span class="chapter-titlelabel">Program 67: </span>Let's Play "Hide the Problem"</h2><p class="b24-bookeditorial">The following program dumps core with a floating-point divide error on UNIX. This is puzzling because we do no floating-point operations.</p>
<p class="b24-bookeditorial">In order to find the problem, we've put in a few <span>printf</span> statements and discovered that it's happening somewhere before the function call. We can tell this because we never see the "starting" message.</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * Compute a simple average.  Because this      *
  3  * takes a long time (?) we output some         *
  4  * chatter as we progress through the system.   *
  5  ************************************************/
  6 #include &lt;stdio.h&gt;
  7
  8 /************************************************
  9  * average -- Compute the average given the     *
 10  *      total of the series and the number      *
 11  *      of items in the series.                 *
 12  *                                              *
 13  * Returns:                                     *
 14  *      The average.                            *
 15  ************************************************/
 16 int average(
 17     const int total,// The total of the series
 18     const int count // The number of items
 19 )
 20 {
 21     return (total/count);
 22 }
 23
 24 int main()
 25 {
 26     int ave;    // Average of the number
 27
 28     printf("Starting....");
 29     ave = average(32, 0);
 30     printf("..done\n");
 31
 32     printf("The answer is %d\n", ave);
 33     return (0);
 34 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#244" target="_parent" class="calibre2">Hint 108</a>. <a href="LiB0121.html#566" target="_parent" class="calibre2">Answer 68</a>.)</p>
</div>
</div>



</body></html>