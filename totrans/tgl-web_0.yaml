- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: 'Just fifteen years ago, the Web was as simple as it was unimportant: a quirky
    mechanism that allowed a handful of students, plus a bunch of asocial, basement-dwelling
    geeks, to visit each other’s home pages dedicated to science, pets, or poetry.
    Today, it is the platform of choice for writing complex, interactive applications
    (from mail clients to image editors to computer games) and a medium reaching hundreds
    of millions of casual users around the globe. It is also an essential tool of
    commerce, important enough to be credited for causing a recession when the 1999
    to 2001 dot-com bubble burst.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 只是在十五年前，Web既简单又无关紧要：一种奇特的机制，允许少数学生和一些社交障碍、地下室居住的极客访问彼此的科学、宠物或诗歌主页。今天，它是编写复杂、交互式应用的优选平台（从邮件客户端到图像编辑器到计算机游戏），并且是一种覆盖全球数亿普通用户的媒介。它也是商业的重要工具，重要性足以在1999年至2001年的互联网泡沫破裂时被归因于引发经济衰退。
- en: 'This progression from obscurity to ubiquity was amazingly fast, even by the
    standards we are accustomed to in today’s information age—and its speed of ascent
    brought with it an unexpected problem. The design flaws and implementation shortcomings
    of the World Wide Web are those of a technology that never aspired to its current
    status and never had a chance to pause and look back at previous mistakes. The
    resulting issues have quickly emerged as some of the most significant and prevalent
    threats to data security today: As it turns out, the protocol design standards
    one would apply to a black-on-gray home page full of dancing hamsters are not
    necessarily the same for an online shop that processes millions of credit card
    transactions every year.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这种从默默无闻到无处不在的进步速度之快，即使是按照我们今天信息时代习惯的标准来看也是惊人的——其上升速度带来了一个意想不到的问题。万维网的设计缺陷和实施不足是那种从未渴望达到当前地位、从未有机会停下来回顾以前错误的技术。由此产生的问题迅速成为今天数据安全最重大和最普遍的威胁之一：事实证明，人们应用于充满跳舞仓鼠的灰黑色主页的协议设计标准，并不一定适用于每年处理数百万张信用卡交易的在线商店。
- en: 'When taking a look at the past decade, it is difficult not to be slightly disappointed:
    Nearly every single noteworthy online application devised so far has had to pay
    a price for the corners cut in the early days of the Web. Heck, *xssed.com*, a
    site dedicated to tracking a narrow subset of web-related security glitches, amassed
    some 50,000 entries in about three years of operation. Yet, browser vendors are
    largely unfazed, and the security community itself has offered little insight
    or advice on how to cope with the widespread misery. Instead, many security experts
    stick to building byzantine vulnerability taxonomies and engage in habitual but
    vague hand wringing about the supposed causes of this mess.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 当回顾过去十年时，难以避免地会感到些许失望：迄今为止，几乎所有值得注意的在线应用在Web早期阶段都不得不为节省的代价付出代价。嘿，*xssed.com*，一个专注于跟踪与Web相关的安全漏洞的狭窄子集的网站，在运营大约三年后积累了约50,000条条目。然而，浏览器供应商对此大多无动于衷，而安全社区本身也几乎没有提供关于如何应对这种普遍痛苦的见解或建议。相反，许多安全专家坚持构建复杂的漏洞分类法，并习惯性地进行模糊的手腕扭动，关于这种混乱的所谓原因。
- en: Part of the problem is that said experts have long been dismissive of the whole
    web security ruckus, unable to understand what it was all about. They have been
    quick to label web security flaws as trivial manifestations of the *confused deputy
    problem*^([[1](#ftn.PREFACE-FN-1)]) or of some other catchy label outlined in
    a trade journal three decades ago. And why should they care about web security,
    anyway? What is the impact of an obscene comment injected onto a dull pet-themed
    home page compared to the gravity of a traditional system-compromise flaw?
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 问题的一部分在于，这些专家长期以来一直对整个Web安全问题不屑一顾，无法理解其本质。他们迅速将Web安全漏洞标记为*困惑的副手问题*^([[1](#ftn.PREFACE-FN-1)])或其他三十年前在贸易杂志上概述的吸引人的标签的微不足道的表现。他们为什么要关心Web安全呢？与传统的系统妥协漏洞的严重性相比，在无聊的宠物主题主页上注入的令人厌恶的评论有什么影响？
- en: In retrospect, I’m pretty sure most of us are biting our tongues. Not only has
    the Web turned out to matter a lot more than originally expected, but we’ve failed
    to pay attention to some fundamental characteristics that put it well outside
    our comfort zone. After all, even the best-designed and most thoroughly audited
    web applications have far more issues, far more frequently, than their nonweb
    counterparts.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾过去，我相当确信我们大多数人都忍住了。不仅互联网的重要性远远超出了最初的预期，而且我们没有注意到一些基本特征，这些特征使它远远超出了我们的舒适区。毕竟，即使是设计得最好、最彻底审计过的网络应用程序，其问题也比非网络应用程序多得多，而且出现频率也更高。
- en: We all messed up, and it is time to repent. In the interest of repentance, *The
    Tangled Web* tries to take a small step toward much-needed normalcy, and as such,
    it may be the first publication to provide a systematic and thorough analysis
    of the current state of affairs in the world of web application security. In the
    process of doing so, it aims to shed light on the uniqueness of the security challenges
    that we—security engineers, web developers, and users—have to face every day.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我们都犯了错误，现在是忏悔的时候了。为了忏悔，*网络迷踪*试图迈出一小步，朝着急需的正常化前进，因此，它可能是第一本提供对网络应用程序安全领域当前状况的系统性和彻底分析的作品。在这个过程中，它旨在揭示我们——安全工程师、网络开发人员和用户——每天都要面对的安全挑战的独特性。
- en: The layout of this book is centered on exploring some of the most prominent,
    high-level browser building blocks and various security-relevant topics derived
    from this narrative. I have taken this approach because it seems to be more informative
    and intuitive than simply enumerating the issues using an arbitrarily chosen taxonomy
    (a practice seen in many other information security books). I hope, too, that
    this approach will make *The Tangled Web* a better read.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的设计布局集中在探索一些最突出、最高级别的浏览器构建块和由此产生的各种与安全相关的话题。我采取这种方法，因为它似乎比简单地使用任意选择的分类法（许多其他信息安全书籍中见到的做法）更有信息量和直观性。我也希望这种方法会使*网络迷踪*成为一本更好的读物。
- en: For readers looking for quick answers, I decided to include quick engineering
    cheat sheets at the end of many of the chapters. These cheat sheets outline sensible
    approaches to some of the most commonly encountered problems in web application
    design. In addition, the final part of the book offers a quick glossary of the
    well-known implementation vulnerabilities that one may come across.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 对于寻求快速答案的读者，我决定在许多章节的末尾包含快速工程速查表。这些速查表概述了处理网络应用程序设计中遇到的一些最常见问题的合理方法。此外，本书的最后一部分提供了一个快速词汇表，列出了可能遇到的知名实现漏洞。
- en: Acknowledgments
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 致谢
- en: Many parts of *The Tangled Web* have their roots in the research done for Google’s
    *Browser Security Handbook*, a technical wiki I put together in 2008 and released
    publicly under a Creative Commons license. You can browse the original document
    online at [http://code.google.com/p/browsersec/](http://code.google.com/p/browsersec/).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 《网络迷踪》的许多部分都源于为谷歌的《浏览器安全手册》所进行的研究，这是一份我在2008年整理的技术维基，并在Creative Commons许可下公开发布。您可以在[http://code.google.com/p/browsersec/](http://code.google.com/p/browsersec/)在线浏览原始文档。
- en: I am fortunate to be with a company that allowed me to pursue this project—and
    delighted to be working with a number of talented peers who provided excellent
    input to make the *Browser Security Handbook* more useful and accurate. In particular,
    thanks to Filipe Almeida, Drew Hintz, Marius Schilder, and Parisa Tabriz for their
    assistance.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我很幸运能加入一家允许我追求这个项目的公司，并且很高兴能与一群才华横溢的同行合作，他们为使《浏览器安全手册》更加有用和准确提供了出色的建议。特别是，感谢Filipe
    Almeida、Drew Hintz、Marius Schilder和Parisa Tabriz在他们的协助。
- en: I am also proud to be standing on the shoulders of giants. This book owes a
    lot to the research on browser security done by members of the information security
    community. Special credit goes to Adam Barth, Collin Jackson, Chris Evans, Jesse
    Ruderman, Billy Rios, and Eduardo Vela Nava for the advancement of our understanding
    of this field.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我也自豪地站在巨人的肩膀上。这本书在很大程度上归功于信息安全社区成员对浏览器安全的研究。特别感谢Adam Barth、Collin Jackson、Chris
    Evans、Jesse Ruderman、Billy Rios和Eduardo Vela Nava在这个领域的理解上的进步。
- en: Thank you all—and keep up the good work.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢大家——并继续做好工作。
- en: '* * *'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: ^([[1](#PREFACE-FN-1)]) *Confused deputy problem* is a generic concept in information
    security used to refer to a broad class of design or implementation flaws. The
    term describes any vector that allows the attacker to trick a program into misusing
    some “authority” (access privileges) to manipulate a resource in an unintended
    manner—presumably one that is beneficial to the attacker, however that benefit
    is defined. The phrase “confused deputy” is regularly invoked by security researchers
    in academia, but since virtually all real-world security problems could be placed
    in this bucket when considered at some level of abstraction, this term is nearly
    meaningless.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[1](#PREFACE-FN-1)]) *混乱代理问题* 是信息安全中的一个通用概念，用于指代一类广泛的设计或实现缺陷。这个术语描述了任何允许攻击者欺骗程序滥用某些“权限”（访问权限）以未预期的方式操纵资源的向量——假设这种未预期的方式对攻击者有利，无论这种利益如何定义。短语“混乱代理”通常由学术界的安全研究人员引用，但由于在某种程度上抽象考虑时，几乎所有现实世界的安全问题都可以归入这个类别，因此这个术语几乎毫无意义。
