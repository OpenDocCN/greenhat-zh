<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_55">
<a name="ch04" class="calibre6" id="ch04"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="56" class="calibre16" id="56"/><a name="ch04lev1sec21" class="calibre16" id="ch04lev1sec21"/><span class="chapter-titlelabel">Program 47: </span>Microsoft Backwardness</h2><p class="b24-bookeditorial">Why does the following program fail to open the file when compiled and run under MS-DOS?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * read config file -- Open a configuration     *
  3  *      file and read in the data.              *
  4  *                                              *
  5  * Designed to work on both UNIX and MS-DOS.    *
  6  *                                              *
  7  * Note: Incomplete program.                    *
  8  ************************************************/
  9 #include &lt;iostream&gt;
 10 #include &lt;fstream&gt;
 11
 12 #ifdef MS_DOS
 13
 14 // DOS path
 15 const char name[] = "\root\new\table";
 16
 17 #else /* MS_DOS */
 18
 19 // UNIX path
 20 const char name[] = "/root/new/table";
 21
 22 #endif /* MS_DOS */
 23
 24
 25 int main() {
 26     // The file to read
 27     std::ifstream in_file(name);
 28
 29     if (in_file.bad())
 30     {
 31         std::cerr &lt;&lt;
 32             "Error: Could not open " &lt;&lt; std::endl;
 33         std::cerr &lt;&lt; name &lt;&lt; std::endl;
 34         exit (8);
 35     }
 36
 37     return (0);
 38 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#353" target="_parent" class="calibre2">Hint 217</a>. <a href="LiB0121.html#535" target="_parent" class="calibre2">Answer 37</a>.)</p>
</div>
</div>



</body></html>