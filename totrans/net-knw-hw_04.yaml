- en: Chapter 4. HOW COMPUTER NETWORKS ARE ORGANIZED
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In order to exchange files and messages through a network, all the computers
    connected to that network must use the same set of rules (known to network designers
    as a *protocol*). The rules that control the Internet are called *transmission
    control protocol/Internet protocol (TCP/IP)*. Even if you don''t plan to connect
    your network to the Internet right now, you should use TCP/IP for at least two
    reasons: First, TCP/IP is built into the Windows, Macintosh, and Linux operating
    systems and most inexpensive networking equipment; and second, you would waste
    a lot of time and money finding equipment that works with one of the other, older
    network protocols.'
  prefs: []
  type: TYPE_NORMAL
- en: This chapter offers a relatively simple explanation of the TCP/IP protocols
    and how your network uses them.
  prefs: []
  type: TYPE_NORMAL
- en: TCP/IP Networks
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: TCP/IP is really a suite of protocols. The most important are TCP (transmission
    control protocol), which controls the way commands, messages, and files are broken
    into packets and reassembled at the other end, and IP (Internet protocol), which
    provides the rules that guide each data packet through different kinds of networks
    to the correct destination.
  prefs: []
  type: TYPE_NORMAL
- en: Your computer handles transmission control automatically, so you don't have
    to devote a lot of attention to individual data packets and their contents. The
    information in [Chapter 2](ch02.html "Chapter 2. TYPES OF NETWORK CONNECTIONS")
    of this book provides as much detail as most users ever need. But the Internet
    protocol is another matter; you should understand how your network (and just about
    every other network connected to the Internet) uses names and addresses for individual
    computers and other network nodes and how to use some of the standard software
    tools that are included in every network computer.
  prefs: []
  type: TYPE_NORMAL
- en: Fortunately, internal routing through the Internet is automatic; if you enter
    a valid address in your web browser, email client, or other program, the Internet
    will almost always find a path to the computer with that address. If it doesn't,
    the `ping` and `traceroute` commands described in "Network Tools" in [Network
    Tools](ch04s02.html "Network Tools") will help you find the source of the problem.
  prefs: []
  type: TYPE_NORMAL
- en: Names and Addresses
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: An "addressing convention" sounds like an event where people attend speeches
    and workshops about house numbers and receive awards for sending out five million
    pieces of junk mail without an error. The formal sessions are often boring, but
    the after-hours parties are great. In networks, *addressing conventions* are actually
    the rules that everybody uses to identify the computers and other devices connected
    to a network and the people who use them. Every computer connected to a network
    has a unique name and address within that network, and every network connected
    to the Internet has its own unique numeric Internet address known as an *IP address*.
  prefs: []
  type: TYPE_NORMAL
- en: Numeric Addresses
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The technical committees, international standards organizations, and government
    agencies that manage the Internet have all agreed on a 32-bit numeric address
    format shown as four numbers between 0 and 255, separated by periods, like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '| 192.168.3.200 |'
  prefs: []
  type: TYPE_TB
- en: When you read an IP address out loud, you pronounce each digit separately and
    each period as "dot." So you would read this sample address as "one-nine-two dot
    one-six-eight dot three dot two-zero-zero."
  prefs: []
  type: TYPE_NORMAL
- en: You can think of an IP address as similar to your telephone number. Every computer
    connected to your LAN and every device or network connected to the Internet has
    a different address.
  prefs: []
  type: TYPE_NORMAL
- en: The agency responsible for assigning numeric IP addresses on the Internet is
    the *Internet Assigned Names Authority (IANA)*. Some formal contracts with the
    US government are involved, but the real reason IANA can provide this service
    to the worldwide Internet community is that everybody agrees to respect their
    assignments.
  prefs: []
  type: TYPE_NORMAL
- en: As the owner of a small LAN, you will never deal directly with IANA. Your Internet
    service provider controls a block of numeric addresses, and it will assign you
    one address (or more) when you set up your new connections.
  prefs: []
  type: TYPE_NORMAL
- en: Reserved Addresses
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'As [Chapter 3](ch03.html "Chapter 3. HUBS, SWITCHES, AND ROUTERS") explained,
    your LAN communicates with other networks through a router. As far as the networks
    connected to that router are concerned, the router is just one more network connection
    with an IP address. Therefore, as [Figure 4-1](ch04.html#a_router_presents_separate_ip_addresses
    "Figure 4-1. A router presents separate IP addresses to each network.") shows,
    a router has two different IP addresses: one for its connection to the LAN and
    the other for the WAN or the Internet. The router presents a single address to
    the Internet that represents all the computers and other devices on your LAN;
    it performs a function called *network address translation (NAT)* that converts
    your public address to the addresses of individual network devices. One of the
    benefits of this system is that you can use the same IP addresses within your
    LAN as your neighbor across the street (or a LAN on the other side of the world),
    and the addresses won''t interfere with one another.'
  prefs: []
  type: TYPE_NORMAL
- en: In order to make this system work properly, IANA has reserved several blocks
    of IP address numbers for LANs; when a router receives a packet with an address
    in one of these ranges, it does not relay the packet to the Internet. If you use
    these addresses for the devices in your LAN, you can be certain that your packets
    (and the commands, messages, and files that make up those packets) won't end up
    at the reading room of the National Library of Ecuador when you wanted to send
    them to your assistant across the corridor.
  prefs: []
  type: TYPE_NORMAL
- en: 'The reserved IP addresses are:'
  prefs: []
  type: TYPE_NORMAL
- en: '| 10.0.0.0 to 10.255.255.255 |'
  prefs: []
  type: TYPE_TB
- en: '| 169.254.0.0 to 169.254.255.255 |'
  prefs: []
  type: TYPE_TB
- en: '| 172.16.0.0 to 172.31.255.255 |'
  prefs: []
  type: TYPE_TB
- en: '| 192.168.0.0 to 192.168.255.255 |'
  prefs: []
  type: TYPE_TB
- en: Fixed and Dynamic Address Assignments (DHCP)
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The computers and other nodes in your LAN can obtain their numeric IP addresses
    in one of two ways: The person who sets up the network connection can assign a
    permanent address, or a router or other network control device can automatically
    assign an address every time the device connects to the network. A permanent assignment
    is called a *fixed* or *static* IP address; an automatic assignment is a *dynamic*
    address.'
  prefs: []
  type: TYPE_NORMAL
- en: '![A router presents separate IP addresses to each network.](tagoreillycom20090324nostarchimages266232.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 4-1. A router presents separate IP addresses to each network.**'
  prefs: []
  type: TYPE_NORMAL
- en: The method for assigning dynamic IP addresses is called *Dynamic Host Configuration
    Protocol (DHCP)*, so the device that makes the assignments is a *DHCP server*.
    In a LAN, the DHCP server uses numbers from the reserved range; on the Internet,
    the servers use numbers from a range provided to your ISP by IANA.
  prefs: []
  type: TYPE_NORMAL
- en: Both fixed and dynamic IP address assignments can work equally well, but all
    the devices on the network must use the same system; otherwise, more than one
    device might use the same number at the same time.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If your LAN includes laptops and other portables that connect and disconnect
    from the network, DHCP is the better choice because it allows the network to assign
    an address automatically when a user connects and to re-use the same address after
    the first user has disconnected.
  prefs: []
  type: TYPE_NORMAL
- en: Some Internet service providers and corporate network managers assign static
    IP addresses to each user, whereas others use DHCP to generate addresses. [Chapter 10](ch10.html
    "Chapter 10. CONNECTING YOUR NETWORK TO THE INTERNET") and [Chapter 11](ch11.html
    "Chapter 11. CONNECTING YOUR COMPUTER TO A NETWORK") explain how to set up your
    own computer and LAN to use either method.
  prefs: []
  type: TYPE_NORMAL
- en: The Domain Name System
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Computers have no trouble handling long strings of numbers, but people often
    do. Addresses in the form of words rather than numbers are generally easier to
    remember and use. That's why the Internet and just about every LAN use names for
    each computer connected to a network. In a LAN, each computer reads the name of
    every other device on the same network automatically; on the Internet, a computer
    called a *Domain Name System server (DNS server)* converts names to numeric addresses;
    when you type the name of a website into a browser, a DNS server finds the number
    that corresponds to that name and returns it to your browser, which connects to
    that numeric address.
  prefs: []
  type: TYPE_NORMAL
- en: You (or your network manager) will assign a name to each computer when you set
    up your network; your Internet service provider should set up a domain name for
    your connection to the Internet. Within a LAN, you can use simple descriptive
    names for each computer, such as "Sam" or "Kate."
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand, the system for naming computers and networks connected to
    the Internet (rather than to your own LAN) follows some very specific rules called
    the *Domain Name System (DNS)*. In the Domain Name System, every name starts with
    a top-level domain name at the extreme right that can be either a generic description
    (such as *com*, *net*, or *edu*) or a two-letter country code (such as *uk* for
    the United Kingdom or *ca* for Canada). As you move to the left, the next word
    (or group of letters and numbers) is a name (called a *subdomain*) that has been
    reserved by a specific owner—an individual, a business, a government agency, or
    some other formal or informal organization. Large organizations might have one
    or more additional subdomain names to the left of the first one. Each part of
    the name is divided from the next one by a period (read as *dot*).
  prefs: []
  type: TYPE_NORMAL
- en: For example, the University of Washington's domain name is [washington.edu](http://washington.edu).
    Within the university, the Department of Genome Science's address is [gs.washington.edu](http://gs.washington.edu).
    And within that department, the addresses of the research group studying evolutionary
    genetics is [evolution.gs.washington.edu](http://evolution.gs.washington.edu).
  prefs: []
  type: TYPE_NORMAL
- en: At the extreme left of a domain name, you will sometimes see a subdomain that
    identifies the type of server. This address might be the familiar *www* or some
    other Internet service such as *ftp (file transfer protocol)*.
  prefs: []
  type: TYPE_NORMAL
- en: Many addresses also include the *type* of Internet service (the *protocol*)
    that the web resource at that address uses as a leading part of the address, followed
    by a colon and two forward slashes (*//*), such as [http://host.sample.com/](http://host.sample.com/).
    The *http* part stands for *HyperText Transfer Protocol* —the protocol that defines
    most websites. If you want to reach a different service at the same destination
    such as a file transfer server, a telnet host, or an Internet Relay Chat server,
    you might instead use [ftp://host.sample.com/](ftp://host.sample.com/), [telnet://host.sample.com/](http://telnet://host.sample.com/),
    or [irc://host.sample.com/](http://irc://host.sample.com/), respectively. When
    an address does not include the protocol type and the two forward slashes, your
    web browser will assume it's an http address. Some top-level domains that use
    country codes have other structures that differ from one country to another. Domain
    names that have a *us* (for United States) top-level domain sometimes use subdomains
    (also called *second-level domains*) that identify the state and city where the
    owner is located, such as [example.sf.ca.us](http://example.sf.ca.us), which would
    be in San Francisco, California. In Canada and other countries, the domain name
    comes right before the country code (such as the Canadian Broadcasting Corporation's
    *cbc.ca*), whereas other countries use generic identifiers along with the geographic
    domain, such as [bbc.co.uk](http://bbc.co.uk) for the British Broadcasting Corporation;
    the *co* stands for *commercial* and the *uk* for the *United Kingdom*.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Just because a domain name address has a country code, the owner of that address
    is not necessarily located in that country. For example, many American FM radio
    stations have obtained addresses in the *.fm* domain, which belongs to the Federated
    States of Micronesia, and some television stations use the *.tv* domain assigned
    to the Pacific island nation of Tuvalu.
  prefs: []
  type: TYPE_NORMAL
- en: '[Table 4-1](ch04.html#generic_top-level_domains "Table 4-1. Generic Top-Level
    Domains") lists the most common generic top-level domains.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Table 4-1. Generic Top-Level Domains**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Top-Level Domain | Used By |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| *.com* | Originally commercial, but now a generic domain |'
  prefs: []
  type: TYPE_TB
- en: '| *.net* | Originally reserved for domains related to networks, but now a generic
    domain |'
  prefs: []
  type: TYPE_TB
- en: '| *.edu* | Reserved for US colleges and universities |'
  prefs: []
  type: TYPE_TB
- en: '| *.org* | Originally reserved for nonprofit organizations, but now a generic
    domain |'
  prefs: []
  type: TYPE_TB
- en: '| *.gov* | Originally reserved for the US government, but now also used by
    state and local governments |'
  prefs: []
  type: TYPE_TB
- en: '| *.mil* | Reserved for branches of the US military |'
  prefs: []
  type: TYPE_TB
- en: '| *.info* | A generic domain with no restrictions |'
  prefs: []
  type: TYPE_TB
- en: '| *.biz* | A generic domain restricted to businesses |'
  prefs: []
  type: TYPE_TB
- en: '| *.name* | A generic domain reserved for individuals |'
  prefs: []
  type: TYPE_TB
- en: Some other top-level domains such as *.asia*, *.coop*, *.museum*, and *.travel*
    are restricted to certain categories of users. Still others, such as
  prefs: []
  type: TYPE_NORMAL
- en: '| ![Generic Top-Level Domains](tagoreillycom20090324nostarchimages266234.png)
    |'
  prefs: []
  type: TYPE_TB
- en: '| ![Generic Top-Level Domains](tagoreillycom20090324nostarchimages266236.png.jpg)
    |'
  prefs: []
  type: TYPE_TB
- en: '| ![Generic Top-Level Domains](tagoreillycom20090324nostarchimages266238.png.jpg)
    |'
  prefs: []
  type: TYPE_TB
- en: '| ![Generic Top-Level Domains](tagoreillycom20090324nostarchimages266240.png)
    |'
  prefs: []
  type: TYPE_TB
- en: are for addresses that don't use the Roman alphabet.
  prefs: []
  type: TYPE_NORMAL
- en: Name Servers
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: DNS name servers are an essential part of the Internet's internal plumbing,
    but most people don't know that they exist. If your computer can't find a DNS
    server, your email program, web browser, and other Internet programs won't work
    unless you use a numeric IP address to identify a destination.
  prefs: []
  type: TYPE_NORMAL
- en: DNS servers perform what seems like a simple task, but this task is more complicated
    than it first appears because millions of domain names are out there, and new
    ones are added all the time. Every DNS server in the world has to keep up with
    all the adds, moves, changes, and deletions. It accomplishes this through a system
    of *root servers* that are continuously updated. If a local DNS server doesn't
    recognize a name, it consults the root server that keeps up with that name's top-level
    domain.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: There's actually a hierarchy of DNS servers, so a root server might end up consulting
    yet another server (and so on up the line) if it can't handle a name request itself.
  prefs: []
  type: TYPE_NORMAL
- en: When you set up your computer for access to the Internet, you must specify the
    DNS servers that the computer will use to convert domain names to numeric IP addresses.
    In most cases, your Internet service provider or network manager will give you
    the numeric address of one or more nearby DNS servers. If your primary DNS server
    is not accessible, your computer will look for an alternate server if you have
    provided an alternate address.
  prefs: []
  type: TYPE_NORMAL
- en: It's generally best to use the DNS server address supplied by your ISP because
    the server with this address is probably closer to your own computer than any
    other server, and the system works best when total demand for DNS service is spread
    among as many servers as possible. But if you can't obtain reliable DNS service
    from your local service provider, a public DNS is often a useful alternative.
    You can find addresses for several public DNS servers though a Google or other
    web search for *Public DNS server*.
  prefs: []
  type: TYPE_NORMAL
- en: Some public DNS services can also provide some added features that your ISP
    might not offer. For example, OpenDNS ([http://www.opendns.com/](http://www.opendns.com/))
    can provide another layer of filtering against spyware, identity theft, adult
    sites, and other possible problems. It will also allow you to set up two three-letter
    shortcuts to frequently used addresses and will automatically correct common keystroke
    errors (such as typing *example.cmo* instead of *.com*). There's some controversy
    about some of these features, because they could lend themselves to returning
    names that are links to advertisements rather than the sites the original user
    requested.
  prefs: []
  type: TYPE_NORMAL
- en: Network Tools
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You won't use them often if your LAN and your Internet connection are working
    properly, but you should know about a handful of troubleshooting tools that allow
    you to examine the innards of your network and its Internet connection.
  prefs: []
  type: TYPE_NORMAL
- en: All of these tools are simple text commands that you can use with just about
    any operating system. When you type a command, the system will display the results
    in the same window or screen. In Microsoft Windows, you can open a Command Prompt
    window after selecting Start▸ Programs or by selecting Start▸ Run and then typing
    **cmd**. In Mac OS X, select Applications▸ Utilities and the Terminal program.
    If you're using Linux or Unix, use a command prompt or an XTerminal.
  prefs: []
  type: TYPE_NORMAL
- en: IPConfig
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The IPConfig tool displays detailed information about your computer's current
    LAN and Internet connection, as shown in [Example 4-1](ch04s02.html#the_ipconfig_tool_displays_the_status_o
    "Example 4-1. The IPConfig tool displays the status of a computer's network configuration.").
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 4-1. The IPConfig tool displays the status of a computer''s network
    configuration.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: In this example, `Connection-specific DNS Suffix` is an address assigned by
    a DHCP host. This address is often an arbitrary name used internally within the
    network, but if your computer is connected directly to the Internet, it might
    be your computer's DNS address. If you try to connect to a domain name without
    a suffix (such as "example" rather than "example.net"), the network will assign
    this suffix to the address when it sends it to a DNS server.
  prefs: []
  type: TYPE_NORMAL
- en: The `IP Address` is the numeric address of this computer within the LAN or WAN.
    The `Subnet Mask` tells the network which parts of the numeric address identify
    individual computers, and the `Default Gateway` is the numeric address within
    the LAN of the gateway router that connects your LAN to the Internet.
  prefs: []
  type: TYPE_NORMAL
- en: For more details about your network connection, add `/all` to the command, as
    shown in [Example 4-2](ch04s02.html#the_ipconfig_solidus_all_command_displa "Example 4-2. The
    IPConfig /all command displays additional information about your connection.").
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 4-2. The `IPConfig /all` command displays additional information
    about your connection.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Obviously, this command produces a lot more information. The `Host Name` is
    the name that this computer uses on the LAN. The `Description` identifies the
    type of network interface adapter that connects this computer to the network.
    The `Physical Address` is the *MAC address*—the unique hardware identifier—of
    the network adapter. The `DHCP Server` is the address of the device that assigns
    IP addresses to other devices on the LAN (in this case, this device is the same
    as the `Default Gateway`), and the `DNS Servers` are the computers that this network
    consults to convert DNS addresses into numeric IP addresses. The `Lease Obtained`
    and `Lease Expires` lines show the date and time that this computer obtained its
    IP address from the DHCP server and the time the computer will give up that address;
    the host automatically renews the lease long before it expires, so you don't have
    to worry about the expiry time.
  prefs: []
  type: TYPE_NORMAL
- en: ifconfig
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `ifconfig` command is available in Macinstosh OS X and in Unix and Linux.
    This command displays information about the current network interface, including
    the connection type and the connection's current status. The format of the information
    display, however, varies in different operating systems. Therefore, the best place
    to find a detailed explanation of the `ifconfig` display produced by your own
    system is the man page for the `ifconfig` command.
  prefs: []
  type: TYPE_NORMAL
- en: ping
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `ping` command is an echo request. When you type `ping target address`,
    your computer sends a series of "please answer" messages to the target address,
    and that computer sends you a reply, as shown in [Example 4-3](ch04s02.html#the_ping_command_sends_a_series_of_echo
    "Example 4-3. The ping command sends a series of echo requests to a designated
    address."). Your computer measures the amount of time for each roundtrip and displays
    the duration in milliseconds.
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 4-3. The `ping` command sends a series of echo requests to a designated
    address.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Many books and people will tell you that ping is an acronym for *Packet InterNet
    Groper*, but Mike Muuss, who wrote the original program, always insisted that
    he chose the name to imitate the sound of a sonar system aboard a submarine; the
    sonar system makes an audible "ping" when an echo pulse returns from a target.
  prefs: []
  type: TYPE_NORMAL
- en: '`ping` has several uses. It can confirm that the distant computer is alive,
    and that your computer''s connection is working properly. It can also provide
    a rough idea of the network''s performance (less time means higher speed). `ping`
    is also useful for finding a DNS problem; if you get a successful ping echo when
    you enter the target''s numeric IP address, but not when you enter the domain
    name, the glitch is almost certainly someplace in the DNS system.'
  prefs: []
  type: TYPE_NORMAL
- en: In [Example 4-3](ch04s02.html#the_ping_command_sends_a_series_of_echo "Example 4-3. The
    ping command sends a series of echo requests to a designated address."), it took
    about one-tenth of a second (100 ms) for each test to go from Seattle to San Francisco
    and back. That's a perfectly reasonable amount of time. But if one or more of
    the attempts had taken around 500 milliseconds or more, that would indicate some
    kind of problem.
  prefs: []
  type: TYPE_NORMAL
- en: '*Ping* has also become a verb in computer jargon. You''ll hear a technician
    at a help desk ask you to "ping me" at a specific address, meaning that you should
    send a ping request to that address. Some people have extended that usage beyond
    computer networks: They''ll talk about "pinging" somebody when they intend to
    get that person''s attention, either by email, telephone, or even poking their
    head into the recipient''s office.'
  prefs: []
  type: TYPE_NORMAL
- en: Many large commercial Internet sites, such as [yahoo.com](http://yahoo.com)
    and [microsoft.com](http://microsoft.com), have chosen to block ping requests
    from outside their own network. If you get a `no reply` response to a ping request,
    try another address before you assume the problem is with your own Internet connection.
  prefs: []
  type: TYPE_NORMAL
- en: TraceRoute
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The TraceRoute tool measures and displays the amount of time it takes for your
    computer to receive an echo from each network device between your computer and
    the target. As a result, a TraceRoute display can show you the route between your
    computer and any other computer on the Internet and pinpoint the segment of that
    route where a problem is occurring. In Windows, the command is `tracert`; in OS
    X, Linux and Unix, it's `traceroute`. TraceRoute sends three requests to each
    intermediate node, and shows the timing for each request.
  prefs: []
  type: TYPE_NORMAL
- en: '[Example 4-4](ch04s02.html#traceroute_shows_the_path_to_a_distant "Example 4-4. TraceRoute
    shows the path to a distant computer through the Internet.") shows a TraceRoute
    from my office in Seattle to No Starch Press in San Francisco.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 4-4. TraceRoute shows the path to a distant computer through the
    Internet.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'In this case, it took 15 hops to complete the connection:'
  prefs: []
  type: TYPE_NORMAL
- en: ❶ The first two lines show the very fast response from the router sitting on
    the same table as the computer through a 6-foot cable. Line 2 repeats line 1 because
    of a software problem in the router.
  prefs: []
  type: TYPE_NORMAL
- en: ❷ Line 3, whose domain name and IP address I have hidden, is my Internet service
    provider's WAN, a couple of miles away in downtown Seattle. Completing that echo
    takes longer, but it's still pretty fast.
  prefs: []
  type: TYPE_NORMAL
- en: ❸ Lines 4 to 7 show the packets moving through various routers in the same switching
    center in Seattle.
  prefs: []
  type: TYPE_NORMAL
- en: ❹ Starting at line 8, the route apparently jumps through routers in Chicago,
    Kansas City, Fort Worth, and Dallas, which increases the response times.
  prefs: []
  type: TYPE_NORMAL
- en: ❺ The path moves around a routing center in Dallas at lines 11 through 15 until
    it ends up at the Laughing Squid web host that houses the No Starch web server.
  prefs: []
  type: TYPE_NORMAL
- en: This connection goes from origin to destination with several thousand miles
    of detours. However, the whole thing takes only about a tenth of a second, so
    those detours don't really matter.
  prefs: []
  type: TYPE_NORMAL
- en: 'TraceRoute can help identify several possible problems:'
  prefs: []
  type: TYPE_NORMAL
- en: If a TraceRoute report ends with one or more lines of asterisks (`***`), that
    usually isolates the problem to either the router named in the preceding line
    or the connection from that router to the next one.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the report shows a very long path that includes router addresses that don't
    seem to be a on a reasonable route (such as a path from New York to Philadelphia
    by way of Singapore), one of the network routers is not configured correctly.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the route shows that a pair of routers are passing the signal back and forth
    until TraceRoute times out, that usually indicates that one of those routers has
    lost a connection and is returning the signal back to the previous router. *That*
    router still thinks the best path is through the other one, so it tries again.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the report shows a long delay that always begins at the same router, it could
    indicate a problem with that router or very high demand for service through that
    part of the Internet.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Unless you're a network manager, you probably won't have to analyze TraceRoute
    reports very often. But if you're having a connection problem, they can sometimes
    help you to understand why you're not getting through to a website or instant
    message recipient.
  prefs: []
  type: TYPE_NORMAL
