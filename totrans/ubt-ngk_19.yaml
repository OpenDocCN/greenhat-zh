- en: Chapter 19. DEFENDING THE NEST
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Security
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages656092.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Many a Windows user has entered the Linux fold after a host of bad experiences
    with *malware* in the Windows world—viruses, spyware, and all sorts of other malicious
    bits of software code, too numerous to imagine. Windows is also plagued by a seemingly
    endless array of security vulnerabilities, leaving the system easy prey to invaders
    with less than noble intentions. Every trip out into cyberspace thus becomes something
    like a run through the infectious diseases ward of a hospital. For a Windows user,
    it can sometimes seem that more time is spent ridding the system of viral pests
    and defending it from invaders than is actually spent getting things done.
  prefs: []
  type: TYPE_NORMAL
- en: Fortunately, Linux does not suffer greatly from such problems, leading to the
    much-touted claim that Linux is practically virus free and quite secure. Numerous
    lines of reasoning have been proffered to explain Linux's malware-and exploit-resistant
    nature. One reason is simply popularity—or lack thereof. Because Linux is not
    as widespread a system as Windows is, it is also a much less attractive target
    of digital evil-doers, who very often seem to be motivated by the challenge and
    headline-catching glory that comes with creating a truly global virus or finding
    a theretofore unknown back door.
  prefs: []
  type: TYPE_NORMAL
- en: Another reason is that Linux users, as a general rule, work on their computers
    in a nonprivilege mode, one in which the user does not have the right to install
    software without a password. This is not the case in some versions of Windows.
    A virus or other form of malware attached to an email or piggybacked upon another
    file or application cannot, therefore, install itself in your Linux system without
    that password . . . well, theoretically, at least. Of course, now that more recent
    versions of Windows use a privilege structure by default, this point is a bit
    less of an issue.
  prefs: []
  type: TYPE_NORMAL
- en: There is also the matter of structural design. Every system has security holes
    that can be exploited by digital and human foe alike. Windows might well be called
    the Swiss cheese of operating systems in this regard. Of course, Linux has its
    holes too, though far fewer of them than Windows does; and Linux plugs them through
    downloadable updates faster, once they are found.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, Ubuntu's preconfigured security policy brings a defensive edge—there
    are no open incoming ports in Ubuntu desktop systems. This means your Ubuntu Linux
    system is even less susceptible to unwanted intrusions.
  prefs: []
  type: TYPE_NORMAL
- en: Does My System Need Protection?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So, with all this talk about Linux's great security, you may wonder whether
    you need to bother worrying about it at all. Well, if you take a look at the Ubuntu
    forums, you might find yourself a bit confused. When asked whether Linux users
    need to install antivirus software or firewalls, most users answer with an emphatic
    *no*. On the other hand, you'll find that an awful lot of people have installed
    or are trying to install that software. Hmmm.
  prefs: []
  type: TYPE_NORMAL
- en: So, what's a Linux user to do?
  prefs: []
  type: TYPE_NORMAL
- en: If you are on a network where you transfer a lot of files among a lot of Windows
    machines, you might want to think about installing some antivirus software, if
    for nothing more than the good of the Windows systems involved and the users of
    those systems—your unenlightened (i.e., Windows-using) email pals, for example.
    You might also want to give it a go if you are, by nature, on the cautious side
    of the spectrum. Basically, if it makes you feel safer to install some protection,
    go ahead. If it makes you feel safer to go whole-hog and install the full line
    of defense mechanisms I cover in this chapter, go ahead. After all, either way
    you go, it isn't going to cost you anything, and it certainly isn't going to hurt
    you any.
  prefs: []
  type: TYPE_NORMAL
- en: The First Line of Defense
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Regardless of the system you happen to be using (though I am assuming that you
    have become a Linux devotee by now), the first line of defense for any computer
    permanently hooked up to the Internet is a *router*—an electronic device that
    allows a number of computers on a local network (such as in your home or at your
    office) to connect to and share a single connection from your Internet service
    provider (ISP). While the router is connected to your modem via cable, the connection
    from the router to the computers on your local network can be wired, wireless,
    or both.
  prefs: []
  type: TYPE_NORMAL
- en: What does a router have to do with the defense of your computer? Well, most
    routers include a *firewall*, which essentially functions to keep all of the bad
    stuff on the Web away from your computer, much in the way that the firewall in
    your car keeps the heat, fumes, and noise from your engine out of the passenger
    compartment. This built-in firewall is one reason that even people with only one
    computer, who could just as easily connect their computer directly to their cable
    or DSL modem, use a router. Of course, just how much security the firewall in
    your router provides depends on which filters you select in the firewall setup
    software. For example, a very common and useful filter (particularly for those
    with a wireless network) limits Internet access to those machines specified on
    the firewall's access list. This prevents your next-door neighbors from hitching
    a wireless ride via your ISP connection. They aren't paying the bill, after all.
  prefs: []
  type: TYPE_NORMAL
- en: The setup software for a router is built into the router, so you don't have
    to worry about software installation and system compatibility. Using your router
    with Linux is no different from using it with Windows. You can access the software
    and modify your settings via a simple web browser, as you can see in [Figure 19-1](ch19s02.html#setting_up_a_router
    "Figure 19-1. Setting up a router"). Just type the IP address of the router (usually
    provided in the owner's manual) in the browser's location bar, press **enter**,
    and you'll be ready to go.
  prefs: []
  type: TYPE_NORMAL
- en: '![Setting up a router](httpatomoreillycomsourcenostarchimages656689.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-1. Setting up a router
  prefs: []
  type: TYPE_NORMAL
- en: Software Firewalls
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you don't have a router and don't plan on getting one or if you have one
    but are bordering on paranoia, you might want to consider using a software firewall,
    in particular one of the most popular software firewalls available for Linux,
    Firestarter.
  prefs: []
  type: TYPE_NORMAL
- en: You can get Firestarter via the Ubuntu Software Center by searching for *firestarter*
    and installing it. Once it is installed, run it by selecting **System** ▸ **Administration**
    ▸ **Firestarter** (you might be asked for your password). Firestarter will open
    with a self-explanatory setup wizard the first time. Just read each screen carefully;
    make whatever selection are suggested, if any; and click the **Forward** button
    in each of the wizard screens until you get to the last one (shown in [Figure 19-2](ch19s03.html#the_last_screen_of_the_firestarter_setup
    "Figure 19-2. The last screen of the Firestarter setup wizard")). On that screen,
    make sure that the box next to *Start firewall now* is checked, and then click
    the **Save** button. The wizard window will then close, and the main Firestarter
    window will appear. Assuming the correct network device was detected and selected
    and the correct wizard choice made, the firewall will be up and running.
  prefs: []
  type: TYPE_NORMAL
- en: '![The last screen of the Firestarter setup wizard](httpatomoreillycomsourcenostarchimages656691.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-2. The last screen of the Firestarter setup wizard
  prefs: []
  type: TYPE_NORMAL
- en: If the wrong network device was selected, a warning window will appear telling
    you so. In that case, you can do a bit of trial-and-error manipulation by selecting
    **Edit** ▸ **Preferences** in the main Firestarter window and then clicking **Network
    Settings** in the Preferences window that appears ([Figure 19-3](ch19s03.html#selecting_network_devices_in_firestarter
    "Figure 19-3. Selecting network devices in Firestarter")). In that window, select
    one of the other devices listed in the Detected device(s) drop-down menu, and
    then click the **Accept** button. Once back at the main Firestarter window, click
    the **Start Firewall** button (which looks like a Play button), and see what happens.
    If you still can't start the firewall, repeat the process I've just described,
    this time selecting a different network device.
  prefs: []
  type: TYPE_NORMAL
- en: '![Selecting network devices in Firestarter](httpatomoreillycomsourcenostarchimages656693.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-3. Selecting network devices in Firestarter
  prefs: []
  type: TYPE_NORMAL
- en: Once your firewall is up and running, there is nothing more that you really
    need to do. You can simply look at the Firestarter window ([Figure 19-4](ch19s03.html#firestarter_in_action
    "Figure 19-4. Firestarter in action")) to see what is going on network-wise on
    your computer—which active connections you have, how much information has been
    coming and going, and whether there have been any events in which, for example,
    the firewall has blocked an intruder. If you click the **Events** tab, you can
    then see the details of those events, such as what connection attempts were blocked,
    where they came from, and when they happened.
  prefs: []
  type: TYPE_NORMAL
- en: '![Firestarter in action](httpatomoreillycomsourcenostarchimages656695.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-4. Firestarter in action
  prefs: []
  type: TYPE_NORMAL
- en: Taking Control of Firestarter
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can control how Firestarter deals with various network events by creating
    your own *policies*. The default policy set in Firestarter allows you to do whatever
    you normally do via the Internet, while it blocks new connections to your computer
    from the Internet or any other computer on your network.
  prefs: []
  type: TYPE_NORMAL
- en: To make things a bit more draconian, you can click the **Policy** tab, select
    **Outbound traffic policy** in the Editing drop-down menu, and then select **Restrictive
    by default, whitelist traffic**. If you just want to deny anyone working on your
    computer access to a specific website, for instance, simply select **Permissive
    by default, blacklist traffic**, right-click the **Deny connections to host**
    field, and select **Add Rule** in the pop-up menu. In the Add new outbound rule
    window, enter the domain name for the targeted site (as in *example.com*), click
    **Add**, and then click the **Apply Policy** button in the main Firestarter window
    (it's the one that looks like a green check mark).
  prefs: []
  type: TYPE_NORMAL
- en: Confirming That Firestarter Runs Automatically
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: After you run Firestarter the first time, it will set itself to automatically
    start up whenever you start your system. Don't be concerned when you don't see
    the graphical interface you saw when you first started it; Firestarter will be
    running in the background, silently protecting your computer.
  prefs: []
  type: TYPE_NORMAL
- en: If you are the doubting type, you can check to see whether Firestarter actually
    is running in the background by opening a Terminal window, typing **`sudo /etc/init.d/firestarter
    status`**, and then pressing **enter**. If Firestarter is running, you will see
    the message `* Firestarter is running...` in the Terminal window. Worries over.
    If Firestarter isn't running, the response will read `* Firestarter is stopped`.
  prefs: []
  type: TYPE_NORMAL
- en: Finding Out More
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If the world of firewalls is new to you, you can check out the Firestarter home
    page to learn a bit more. To check out the online manual, just to go to the Firestarter
    **Help** menu, and select **Online Users' Manual**, which will open the page in
    your web browser. If you prefer to check out the manual before installing Firestarter,
    point your browser to [http://www.fs-security.com/docs/](http://www.fs-security.com/docs/).
    You will also find a pretty good quick tutorial there.
  prefs: []
  type: TYPE_NORMAL
- en: 'ClamAV: Antivirus Software, Linux Style'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Despite the lack of viruses that can wreak havoc upon your Linux system, your
    computer could still act as a transmitter of Windows viruses. As a result, a number
    of free antivirus scanners are available for Linux users interested in helping
    protect Windows users from viruses. These include Panda Desktop Secure ([http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/](http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/)),
    f-Prot ([http://www.f-prot.com/](http://www.f-prot.com/)), and numerous others.
    For most Linux users, however, the virus scanner of choice is the open source
    contender: ClamAV.'
  prefs: []
  type: TYPE_NORMAL
- en: Although it can be used on a number of operating systems, ClamAV is considered
    to be *the* Linux antivirus software package. It is open source and totally free,
    and you don't have to worry about licenses or suffer the bother of renewing them.
    Unfortunately, on its own, ClamAV is a command-driven application, which makes
    it a bit less user-friendly. Fortunately for all involved, a graphical interface,
    albeit a simple one, is available; it goes by the name of ClamTk. Both ClamAV
    and ClamTk are available via the Ubuntu Software Center—just search for *clamtk*,
    and install Virus Scanner. The Ubuntu Software Center will then automatically
    install ClamAV and all other packages it needs in order to run.
  prefs: []
  type: TYPE_NORMAL
- en: Once ClamAV is installed, you can perform a virus scan by selecting **Applications**
    ▸ **Accessories** ▸ **Virus Scanner**. This will open the ClamTk Virus Scanner
    window ([Figure 19-5](ch19s04.html#clamtkmthe_graphical_interface_for_clama "Figure 19-5. ClamTk—the
    graphical interface for ClamAV")).
  prefs: []
  type: TYPE_NORMAL
- en: Once up and running, you can scan your system on demand from the Scan menu.
    To scan a single folder, select **A Directory**. To scan a directory and everything
    within it, choose **Recursive Scan**. In either case, the Select a Directory window
    will appear. Select the folder or disc you want to scan, and click **OK**. ClamAV
    will then start scanning your system. ClamTk will let you know what it is scanning
    at any given moment in the empty space just below the button bar. If it finds
    anything suspicious, it will list that item in the main pane of the window.
  prefs: []
  type: TYPE_NORMAL
- en: '![ClamTk—the graphical interface for ClamAV](httpatomoreillycomsourcenostarchimages656697.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-5. ClamTk—the graphical interface for ClamAV
  prefs: []
  type: TYPE_NORMAL
- en: ClamAV is set up by default to check for *signature updates* when it starts.
    These signature updates tell ClamAV what new viruses to be on the lookout for.
    If you leave your machine on for days and days at a time, it is probably also
    a good idea to set things up so that ClamAV will automatically check for signature
    updates daily rather than just on startup. To do this, go to the **Advanced**
    menu, and select **Scheduler**. In the Schedule window, select a time for ClamAV
    to do its update check in the bottom half of the window. Click the **Add** button
    when done. You can also use this window to set up a time to regularly scan the
    system—just select the time you'd like the scan to occur, and click **Add**. When
    you're finished, click **Close**.
  prefs: []
  type: TYPE_NORMAL
- en: As I mentioned, the only viruses you are likely to encounter during a virus
    scan are those designed for Windows systems, which cannot affect your Linux system.
    Although it won't hurt you any to scan your entire system for viruses, it is probably
    better to focus your virus-scanning activities on your Windows partition, if you
    have one, and on any files that you will be sending as email attachments, particularly
    to Windows users.
  prefs: []
  type: TYPE_NORMAL
- en: 'Project 19A: Virus Scanning with avast!'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Although ClamAV may be the virus scanner of choice in the Linux world, my personal
    favorite is still avast!, which defended me during my Windows years. I think it
    is easier to use and, for what it's worth, nicer to look at. On the downside,
    it does require you to register every year so that you can get a license key,
    but that is hardly a monumental task, and it is still free.
  prefs: []
  type: TYPE_NORMAL
- en: '19A-1: Downloading the avast! DEB Package and License Key'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: First you have to get the avast! file and license key. You can do this by opening
    your web browser and going to [http://www.avast.com/linux-home-edition/](http://www.avast.com/linux-home-edition/).
    Once you're there, click the **Download** tab, and then download the DEB package
    of the avast! Linux Edition.
  prefs: []
  type: TYPE_NORMAL
- en: Once the download is complete, double-click the DEB package, and when the Package
    Installer window appears, click the **Install Package** button. You will then
    be prompted for your password, so provide that, and click **OK**. The download
    and installation will then begin. When these processes are complete, close the
    notification window and the Package Installer. Once you've downloaded and installed
    avast!, you'll need a license key in order to use it. Just go back to the avast!
    Download page in Firefox, click the **registration form** link, and then fill
    out and submit that form. You should receive your license key by email a few minutes
    later (though the page says it could take up to 24 hours).
  prefs: []
  type: TYPE_NORMAL
- en: '19A-2: Running and Using avast!'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Once avast! is installed, you can run it by selecting **Applications** ▸ **Accessories**
    ▸ **avast! Antivirus**. The first time you run avast!, a small window ([Figure 19-6](ch19s05.html#entering_your_avast_exclamation_license
    "Figure 19-6. Entering your avast! license key")) will appear asking you to input
    your license code. Assuming you registered your free copy of avast! at the beginning
    of the project as I instructed you to do, your registration key should already
    be waiting for you in your email inbox. Copy the key, and paste it into the text
    field in the Registration window using **ctrl**-V or by right-clicking in the
    box and selecting **Paste**. Once the license key is in place, click the **OK**
    button.
  prefs: []
  type: TYPE_NORMAL
- en: The main avast! window ([Figure 19-7](ch19s05.html#avast_exclamation_virus_scanner
    "Figure 19-7. avast! virus scanner")) will now appear, but before you get started
    scanning away, it is a good idea to check for any updates to your virus database.
    New viruses are constantly appearing in cyberspace, so you should keep avast!'s
    virus database up-to-date so that it recognizes any viral newcomers. To perform
    the update, just click the **Update database** button, and let avast! do its thing.
  prefs: []
  type: TYPE_NORMAL
- en: '![Entering your avast! license key](httpatomoreillycomsourcenostarchimages656699.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-6. Entering your avast! license key
  prefs: []
  type: TYPE_NORMAL
- en: '![avast! virus scanner](httpatomoreillycomsourcenostarchimages656701.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-7. avast! virus scanner
  prefs: []
  type: TYPE_NORMAL
- en: 'When avast! is done updating the virus database, you can get on to the work
    of virus scanning by first deciding whether you want to scan just your home directory,
    the entire system, or selected folders. You can also decide how thorough a scan
    you want to perform via the three choices available in the middle of the window:
    Quick, Standard, or Thorough.'
  prefs: []
  type: TYPE_NORMAL
- en: Which one of these sensitivity modes you choose depends on how thorough you
    want the scan to be. The Quick scan just scans files that end in certain extensions
    (*.exe*, *.scr*, *.com*, *.doc*, and so on), because these are the file types
    that are most often virus carriers. The Standard scan targets more files, ignoring
    extensions but still limiting the scan to those file types that are usually associated
    with viruses. Finally, the Thorough scan scans everything and searches for every
    type of virus.
  prefs: []
  type: TYPE_NORMAL
- en: Once you have made your selections, click the **Start scan** button, and avast!
    will start doing exactly that—showing its progress within the same window. When
    the scan is complete, a small window will pop up telling you, ideally, that no
    viruses were found. When was the last time you got a message like that on your
    Windows machine?
  prefs: []
  type: TYPE_NORMAL
- en: 'Project 19B: Encrypting Your Files'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Protecting yourself against Internet nasties is all well and good, but what
    if someone gains physical access to your computer? Data theft is a serious business,
    so if you have any sensitive files, you should think about protecting them. A
    good way of doing this is to *encrypt* your sensitive files. Encryption is a way
    of taking a file and scrambling it in such a way that only a person with the right
    *decryption key* will be able to recover the original information. If someone
    tries to look at the file while it's still encrypted, all they will be able to
    see is a bunch of nonsense characters.
  prefs: []
  type: TYPE_NORMAL
- en: '19B-1: Creating an Encrypted File Folder'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Ubuntu has a nice way of encrypting files, but you should take care when using
    it! The whole point of encrypting your files is that no one but you will be able
    to access them, so there''s little chance of recovering them if you forget your
    password. Here are the steps you need to follow to get encrypted:'
  prefs: []
  type: TYPE_NORMAL
- en: Open the Ubuntu Software Center, and search for and install *ecryptfs-utils*.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once installation has completed, open a Terminal by clicking **Applications**
    ▸ **Accessories** ▸ **Terminal**, type **`ecryptfs-setup-private`**, and press
    **enter**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You'll be prompted for the password that you use to log in to Ubuntu. Type it,
    and press **enter**. (The letters won't show up on the screen, but that's normal.)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You'll be asked to enter your mount passphrase (password). Pick something *very*
    memorable—there's no recovering this password if you forget it! Press **enter**,
    retype the password (to make sure there were no typos), and press **enter** again.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Close the Terminal window, log out of your user account, and log back in again.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When you log in, an Update information window will appear ([Figure 19-8](ch19s06.html#checking_your_encryption_passphrase
    "Figure 19-8. Checking your encryption passphrase")). Click **Run this action
    now**, type your login password into the window that appears (it will look as
    if nothing is being typed again), and press **enter**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Your mount password (also referred to as *encryption passphrase*) will be displayed
    on the screen. Make a careful note of it, press **enter**, and then click **Close**
    in the Update information window to continue logging in.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Checking your encryption passphrase](httpatomoreillycomsourcenostarchimages656703.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 19-8. Checking your encryption passphrase
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: If you open your home folder, you'll now see a folder called *Private*. Anything
    you put in this folder will be encrypted and will be safe from prying eyes. This
    is especially useful if your computer gets stolen—only someone with your mount
    password will be able to look at the files, and ideally the only person who knows
    it is you!
  prefs: []
  type: TYPE_NORMAL
- en: '19B-2: Recovering Encrypted Files If Something Goes Wrong'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you have problems with your computer and need to recover the files in the
    encrypted *Private* directory, use the following steps after you get Ubuntu up
    and running again. If you don't feel confident following these instructions, you
    should definitely ask for advice on the Ubuntu forums first.
  prefs: []
  type: TYPE_NORMAL
- en: Open a Terminal, type **`sudo mount -t ecryptfs /home/`****``*`username`*``****`/.Private
    /home/`****``*`username`*``****`/Private`**, and press **enter**. You should,
    of course, replace **``*`username`*``** with your own username.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You'll be asked for your passphrase. Type your mount passphrase (password),
    and press **enter**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now you'll be prompted a few times to make a section. Hit **enter** a few times
    until you're given a `WARNING` message.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type **`yes`**, and press **enter**; then type **`no`**, and press **enter**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you entered the right mount password, the *Private* folder will be decrypted,
    and you'll be able to access your files. Copy them from that folder to somewhere
    safe!
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you have no luck recovering your files, take a look at [https://help.ubuntu.com/community/EncryptedPrivateDirectory/](https://help.ubuntu.com/community/EncryptedPrivateDirectory/)
    to see whether there's anything further you can try.
  prefs: []
  type: TYPE_NORMAL
- en: 'Project 19C: Shredding Documents Digitally'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Although most people are satisfied with deleting their files when they no longer
    need them, they may not realize that the deleted file data is still retrievable.
    This may pose little concern when it comes to photos of your summer trip to Maryland
    or reports you may have written for a class on Thai cooking, but it is a completely
    different situation if you've been storing bank details or other confidential
    information on your hard disk. Even if you reformat that disk, the data stays.
    That is great news if you want to retrieve any files you may have accidentally
    deleted (or formatted away), but it isn't such good news if your computer gets
    lost or stolen or if you just decide to give it away. In such cases, it might
    not be a bad idea to do some digital shredding.
  prefs: []
  type: TYPE_NORMAL
- en: '19C-1: Trying the shred Command'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Digital shredding in Linux is done with the `shred` command. Its usage is very
    similar to the `rm` command you learned to use in [Chapter 9](ch09.html "Chapter 9. SIMPLE
    KITTEN WAYS"), though in terms of removal, `shred` is much more thorough. To give
    it a try, create a dummy file by going to the **File** menu of a Nautilus window,
    and selecting **Create Document** ▸ **Empty File**. Name the new document **`myShredExp.txt`**,
    and then double-click the file. This will open gedit. Type a couple of sentences
    in the document—anything will do—and then save it. Close gedit. The first couple
    of words you typed should now appear on the icon of the new dummy file you created
    (as shown in the example on the left side of [Figure 19-9](ch19s07.html#files_change_their_appearances_after_bei
    "Figure 19-9. Files change their appearances after being shredded.")).
  prefs: []
  type: TYPE_NORMAL
- en: '![Files change their appearances after being shredded.](httpatomoreillycomsourcenostarchimages656705.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-9. Files change their appearances after being shredded.
  prefs: []
  type: TYPE_NORMAL
- en: 'With your new file in hand and placed in your home folder to make it easier
    to follow along, you are ready to try `shred`. Open a Terminal window, type **`shred
    myShredExp.txt`**, and then press **enter**. If you now look in your home folder,
    you will notice the difference right away: Your original file is still there,
    but the text on the icon now looks like gibberish (as you can see in the example
    on the right side of [Figure 19-8](ch19s06.html#checking_your_encryption_passphrase
    "Figure 19-8. Checking your encryption passphrase")), which is what your file
    has become. If you double-click the file, gedit will open like it did before,
    but this time around, it won''t be able to read your file, and it will tell you
    so ([Figure 19-10](ch19s07.html#gedit_can_apostrophy_t_open_your_shredde "Figure 19-10. gedit
    can''t open your shredded files.")).'
  prefs: []
  type: TYPE_NORMAL
- en: '![gedit can''t open your shredded files.](httpatomoreillycomsourcenostarchimages656707.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-10. gedit can't open your shredded files.
  prefs: []
  type: TYPE_NORMAL
- en: So, now you've got yourself a shredded file sitting in your folder, but it sure
    would be handy to get rid of the file rather than just have it sitting there littering
    things up, wouldn't it? Of course, you can remove the file via the Terminal by
    using the `rm` command, but it would be easier to get future shredded files deleted
    immediately after being shredded. Fortunately, this is easy enough to do by using
    the `shred` command with the `-u` flag. You can try it on the file you've already
    shredded by opening a Terminal window, typing **`shred -u myShredExp.txt`**, and
    then pressing **enter**. Your file will then be further shredded and deleted.
  prefs: []
  type: TYPE_NORMAL
- en: '19C-2: Taking the shred Command Graphical in Nautilus'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Although using the `shred` command isn''t all that difficult, most average
    users would prefer to do things graphically. After all, you don''t *have* to type
    commands to delete or move a file, right? You can do all of that easily enough
    through Nautilus, and it''s the same with `shred`. The only difference is that
    `shred`''s functionality does not come bundled into Nautilus out of the box—you
    have to add it yourself. Here are the steps you need to follow:'
  prefs: []
  type: TYPE_NORMAL
- en: From the Ubuntu Software Center, search for *nautilus-actions*, and install
    Nautilus Actions Configuration. This package allows you to add commands and other
    functionality to Nautilus.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once the installation is complete, select **System** ▸ **Preferences** ▸ **Nautilus
    Actions Configuration**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When the Nautilus Actions windows appears, click the **Add** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Add a New Action window that appears, type **`Shred`** in the Label box
    and **`Erase files more securely`** in the Tooltip box.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you want to choose an icon for your Shred menu entry in Nautilus, click the
    arrow button to the left of the Browse button, and then select an icon of your
    choosing (I just used the delete icon). When you're finished, your window should
    look like that in [Figure 19-11](ch19s07.html#making_the_shred_command_graphical_via_n
    "Figure 19-11. Making the shred command graphical via Nautilus").
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Making the shred command graphical via Nautilus](httpatomoreillycomsourcenostarchimages656709.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 19-11. Making the `shred` command graphical via Nautilus
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Next, click the **Command** tab, and type **`shred`** in the Path box, and **`-f
    -u -v -z %M`** in the Parameters box (making sure you use an uppercase *M*).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now click the **Conditions** tab. In the Appears if selection contains section
    of that tab, choose whether you want the new Shred menu to appear only when you
    have selected a file, only when you've selected a folder, or both. To play it
    safe at first, you might want to stick with the default, Only files, so you don't
    inadvertently shred a whole folder full of important files. Once done, check the
    **Appears if selection has multiple files or folders** box, and then save your
    work by going to the **File** menu and selecting **Save**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The label for the `shred` command in the left pane of the still-open Nautilus
    Actions window will now no longer be in italics. Click the **Close** button in
    that window.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To put `shred` to work in its new graphical manifestation, you must first log
    out and log back in to your account. After, that just right-click a file you want
    to shred, and then select **Shred** from the pop-up menu ([Figure 19-12](ch19s07.html#invoking_the_shred_command_via_nautilus
    "Figure 19-12. Invoking the shred command via Nautilus")). The file will be securely,
    and permanently, deleted. Decidedly cool.
  prefs: []
  type: TYPE_NORMAL
- en: '![Invoking the shred command via Nautilus](httpatomoreillycomsourcenostarchimages656711.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 19-12. Invoking the `shred` command via Nautilus
  prefs: []
  type: TYPE_NORMAL
