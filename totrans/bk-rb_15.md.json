["```\nf = File.open( 'friends.sav', 'w' )\nMarshal.dump( [\"fred\", \"bert\", \"mary\"], f )\nf.close\n\nFile.open( 'morefriends.sav', 'w' ){ |friendsfile|\n    Marshal.dump( [\"sally\", \"agnes\", \"john\" ], friendsfile )\n}\n\nFile.open( 'morefriends.sav' ){ |f|\n    $arr= Marshal.load(f)\n}\nmyfriends = Marshal.load(File.open( 'friends.sav' ))\nmorefriends = Marshal.load(File.open( 'morefriends.sav' ))\n\np( myfriends )    #=> [\"fred\", \"bert\", \"mary\"]\np( morefriends )  #=> [\"sally\", \"agnes\", \"john\"]\np( $arr )         #=> [\"sally\", \"agnes\", \"john\"]\n```", "```\nFile.open( 'game.sav', 'w' ){ |f|\n    Marshal.dump( mymap, f )    # save data to file\n}\n\nFile.open( 'game.sav' ){ |f|\n    mymap = Marshal.load(f)     # reload saved data from file\n}\n```", "```\ndef marshal_dump\n    [@variable_a, @variable_b]\nend\n```", "```\ndef marshal_load(data)\n    @variable_a = data[0]\n    @variable_b = data[1]\n    @some_other_variable = \"a default value\"\nend\n```", "```\nclass Mclass\n    def initialize(aNum, aStr, anArray)\n        @num = aNum\n        @str = aStr\n        @arr = anArray\n    end\n\n    def marshal_dump\n        [@num, @arr]\n    end\n\n    def marshal_load(data)\n        @num = data[0]\n        @arr = data[1]\n        @str = \"default\"\n   end\nend\n\nob = Mclass.new( 100, \"fred\", [1,2,3] )\np( ob )\n#=> #<Mclass:0x2be7278 @num=100, @str=\"fred\", @arr=[1, 2, 3]>\n\nmarshal_data = Marshal.dump( ob )\nob2 = Marshal.load( marshal_data )\np( ob2 )\n#=> #<Mclass:0x2be70e0 @num=100, @str=\"default\", @arr=[1, 2, 3]>\n```", "```\nob = Object.new\n\nclass << ob\n    def xxx( aStr )\n        @x = aStr\n    end\nend\n```", "```\n# YAML version of singleton-save\nob.xxx( \"hello world\" )\n\nFile.open( 'test.yml', 'w' ){ |f|\n    YAML.dump( ob, f )\n}\n\nob.xxx( \"new string\" )\n\nFile.open( 'test.yml' ){ |f|\n    ob = YAML.load(f)\n}\n```", "```\n--- !ruby/object\nx: hello world\n```", "```\nclass X\n    def marshal_dump\n        [@x]\n    end\n\n    def marshal_load(data)\n        @x = data[0]\n    end\nend\n\nob = X.new\n\nclass << ob\n    def xxx( aStr )\n        @x = aStr\n    end\nend\n\nob.xxx( \"hello\" )\np( ob )\n\nFile.open( 'test2.sav', 'w' ){ |f|\n    Marshal.dump( ob, f )\n}\n\nob.xxx( \"new string\" )\np( ob )\nFile.open( 'test2.sav' ){ |f|\n    ob = Marshal.load(f)\n}\n\np( ob )\n```", "```\n#<X:0x2b86cc0 @x=\"hello\">       # value when saved\n#<X:0x2b86cc0 @x=\"new string\">  # new value then assigned\n#<X:0x2b869f0 @x=\"hello\">       # value after saved data loaded\n```", "```\nob.xxx( \"this fails\" )\n```", "```\nFILENAME = 'test2.sav'\n\nclass X\n    def marshal_dump\n        [@x]\n    end\n\n    def marshal_load(data)\n        @x = data[0]\n    end\nend\n\nob = X.new\n\n# a) if File exists, load data into ob - a generic X object\nif File.exists?(FILENAME) then\n    File.open(FILENAME){ |f|\n        ob = Marshal.load(f)\n    }\nelse\n    puts( \"Saved data can't be found\" )\nend\n# b) Now transform ob in a singleton\nclass << ob\n    def xxx=( aStr )\n        @x = aStr\n    end\n\n    def xxx\n        return @x\n    end\nend\n```", "```\nif ob.xxx == \"hello\" then\n   ob.xxx = \"goodbye\"\nelse\n   ob.xxx = \"hello\"\nend\n\nFile.open( FILENAME, 'w' ){ |f|\n    Marshal.dump( ob, f )\n}\n```", "```\ndef makeIntoSingleton( someOb )\n   class << someOb\n      def xxx=( aStr )\n         @x = aStr\n      end\n\n      def xxx\n         return @x\n      end\n   end\n   return someOb\nend\n```", "```\nstr = Marshal.dump(\"thing\")\nRUBY_VERSION       #=> \"1.8.0\"\nstr[0]             #=> 4\nstr[1]             #=> 8\n```", "```\nx = Marshal.dump( \"hello world\" )\nprint( \"Marshal version: #{x[0]}:#{x[1]}\\n\" )\n```", "```\nMarshal version: 4:8\n```", "```\np( x[0] )   #=> 4 (Ruby 1.8)    \"\\x04\" (Ruby 1.9)\np( x[1] )   #=> 8 (Ruby 1.8)    \"\\b\"   (Ruby 1.9)\n```", "```\nprint( \"Marshal version: #{x[0].ord}:#{x[1].ord}\\n\" )\n```", "```\nf = File.open( 'friends.sav', 'w' )\nx = Marshal.dump( [\"fred\", \"bert\", \"mary\"], f )\nf.close        #=> x is now: #<File:friends.sav (closed)>\n```", "```\np( x[0] )\n#=> Error: undefined method '[]' for #<File:friends.sav (closed)> (NoMethodError)\n```", "```\nFile.open( 'friends.sav' ){ |f|\n    x = Marshal.load(f)\n}\n\nputs( x[0] )\nputs( x[1] )\n```", "```\nf = File.open('test2.sav')\nif (RUBY_VERSION.to_f > 1.8) then\n    vMajor = f.getc().ord\n    vMinor = f.getc().ord\nelse\n    vMajor = f.getc()\n    vMinor = f.getc()\nend\nf.close\n```", "```\nif vMajor == Marshal::MAJOR_VERSION then\n   puts( \"Major version number is compatible\" )\n   if vMinor == Marshal::MINOR_VERSION then\n      puts( \"Minor version number is compatible\" )\n   elsif vMinor < Marshal::MINOR_VERSION then\n      puts( \"Minor version is lower - old file format\" )\n   else\n      puts( \"Minor version is higher - newer file format\" )\n   end\nelse\n   puts( \"Major version number is incompatible\" )\nend\n```"]