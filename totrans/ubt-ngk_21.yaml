- en: Chapter 21. WOUNDED WINGS
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Fixing Common Problems
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages656092.png.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
- en: Like death and taxes, computer problems are an inescapable fact of life. Ubuntu
    suffers from its fair share of annoyances, and although I seem to spend far less
    time fixing things on Ubuntu than I ever used to on Windows, it's best not to
    ignore the possibility that you might some day experience a hardware hiccup or
    sticky software situation.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: The purpose of this chapter is to arm you with some general-purpose tips, tricks,
    and troubleshooting hints. You'll find explicit instructions on how to fix several
    specific problems, but for the most part I've tried to keep the discussion general.
    This is because the way you resolve some issues will depend heavily on the peculiarities
    of your setup, and there just isn't a bookshelf big enough for a guide that covers
    every possible eventuality in suitable detail. Fortunately, the Internet harbors
    a sizable collection of Ubuntu-related guides, so even if you don't arrive at
    the exact answer you were looking for here, I hope you'll be able to use some
    of my tips to help you find the right information on the Web.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: 'If you''ve run into a problem, flip through this chapter to see whether there''s
    anything that might help. I''ve covered problems with installation, booting, sound
    and video, Internet and network connections, hard disks and storage, and displays
    and graphics cards, along with pesky software issues such as programs freezing
    or slowing down your computer. If you''re not beset by any particular computer
    quandary, you might like to skim through this chapter to give you some idea of
    what to do if misfortune does befall you in the future. Or, you could take my
    preferred route: Make yourself a hot beverage and head back to the games chapter
    ([Chapter 17](ch17.html "Chapter 17. FEATHERED FLIPPERS")) for some well-deserved
    R&R.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: I Can't Get Ubuntu Installed
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Not being able to install Ubuntu is a particularly unhappy problem because it
    means that you've probably been denied all the fun from the previous 20 chapters
    of this book! Never fear; there's plenty you can do to convince Ubuntu to install
    itself on your computer, and if you're still struggling, you can try alternative
    installation methods like booting from a USB stick, which I've covered in [Appendix A](apa.html
    "Appendix A. INSTALLING UBUNTU FROM A USB FLASH DRIVE").
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: My Computer Won't Boot from the CD
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If you tried to start your computer from the Ubuntu installation CD but never
    even got to the purple boot screen (see [Going for a Dip](ch02.html#going_for_a_dip
    "Going for a Dip") in [Going for a Dip](ch02.html#going_for_a_dip "Going for a
    Dip")) or if the computer just boots into Windows every time, try one of the following
    options:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: '**Check the boot order**'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: When your computer starts up (*boots*), it goes through a list of devices in
    a set order, checking to see whether they have an operating system on them. As
    soon as it finds an operating system, the computer will boot from that device,
    and it won't check any of the other devices. This means that if the hard disk
    comes before the CD drive in the boot order, the computer will boot from the hard
    disk rather than the CD drive. To boot from the CD, you need to make sure that
    the CD drive comes first in the boot order. See [Going for a Dip](ch02.html#going_for_a_dip
    "Going for a Dip") in [Going for a Dip](ch02.html#going_for_a_dip "Going for a
    Dip") for instructions on setting up the boot order correctly.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '**Check the integrity of the CD**'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: You could have a faulty or damaged CD that your computer isn't able to boot
    from. It's possible to check whether a disc has faults on it by doing a *checksum*
    test. A checksum is sort of like a fingerprint; you take the checksum of your
    Ubuntu CD and compare it with the checksum of an Ubuntu CD that is known to be
    free of faults. If there is but one tiny difference between the two discs, the
    checksums will be different too—the fingerprints won't match. Ubuntu uses the
    MD5SUM program to do its checksums. Go to [https://help.ubuntu.com/community/HowToMD5SUM/](https://help.ubuntu.com/community/HowToMD5SUM/),
    and scroll down to the "MD5SUM on Windows" section to see how you can find the
    checksum of your disc. If it turns out that the checksums don't match, you'll
    need to get another CD (for example, by downloading a CD image from [http://www.ubuntu.com/getubuntu/download/](http://www.ubuntu.com/getubuntu/download/)
    or by contacting No Starch Press to ask for a replacement).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: '**Make sure you burned the disc correctly**'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: If you downloaded a CD image (*.iso*) file instead of using the CD that came
    with this book, make sure that you burned the CD correctly. A common mistake that
    people make is to just copy the *.iso* file onto a CD, as if it were a normal
    file. This won't work; you need to use the Burn Disc Image option (or something
    similar) in your CD-burning software to do it properly. See [https://help.ubuntu.com/community/BurningIsoHowto/](https://help.ubuntu.com/community/BurningIsoHowto/)
    for instructions on how to do this.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: I Can't Get the Installer to Run
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If you can boot from the Ubuntu CD (so that the purple boot screen in [Figure 21-1](ch21.html#the_purple_boot_screen_is_displayed_when
    "Figure 21-1. The purple boot screen is displayed when you first boot from the
    Ubuntu CD.") is displayed) but when you choose to try or install Ubuntu, something
    goes wrong and you never get to the installer screen, the computer might be struggling
    to start some of the software required to run the live CD. You can try the following:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '**Try some kernel options**'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: As soon as you get to the purple boot screen, press any key (my favorite is
    the spacebar), and choose your language from the list that appears by using the
    arrow keys and **enter**. Then, press F6 to open a little menu with a list of
    cryptic options ([Figure 21-2](ch21.html#disabling_kernel_options_via_the_ubuntu
    "Figure 21-2. Disabling kernel options via the Ubuntu live CD boot menu")). These
    are *kernel options* and can be used to turn off features that sometimes cause
    problems when you're trying to start the computer. Use the arrow keys to go up
    and down the list and the **enter** key to select an option (an `x` will appear
    next to it). In the first instance, I recommend selecting `acpi=off`, `noapic`,
    `nodmraid`, and `nomodeset`. Then, press **esc** to hide the menu, and try to
    boot from the CD normally by selecting one of the options in the main list and
    pressing **enter**. If that didn't do anything, you might need to apply some good
    ol' trial and error to the kernel options to find a combination that works for
    you.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '**Try an alternate CD/memory stick**'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: Some computers are simply unable to run the live CD. An alternative text-based
    installation CD is available from [http://www.ubuntu.com/getubuntu/downloadmirrors#alternate/](http://www.ubuntu.com/getubuntu/downloadmirrors#alternate/);
    you'll have to download the CD image (*.iso*) file yourself and burn it to a disc
    before you can use it (see [https://help.ubuntu.com/community/BurningIsoHowto/](https://help.ubuntu.com/community/BurningIsoHowto/)
    for details). This installation method isn't as user-friendly as the graphical
    installation from the live CD, but it's much more likely to work if you're having
    problems. You could also try installing from a USB memory stick, as described
    in [Appendix A](apa.html "Appendix A. INSTALLING UBUNTU FROM A USB FLASH DRIVE").
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: '![The purple boot screen is displayed when you first boot from the Ubuntu CD.](httpatomoreillycomsourcenostarchimages656739.png.jpg)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
- en: Figure 21-1. The purple boot screen is displayed when you first boot from the
    Ubuntu CD.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '![Disabling kernel options via the Ubuntu live CD boot menu](httpatomoreillycomsourcenostarchimages656741.png.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
- en: Figure 21-2. Disabling kernel options via the Ubuntu live CD boot menu
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: The Installer Stops Partway Through
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This is probably one of the most annoying problems you can encounter. You boot
    from the Ubuntu CD, go through all the pages of options described in [Chapter 2](ch02.html
    "Chapter 2. WADING AND DIVING"), and then click **Install** to start installing
    Ubuntu. But, after all that, the installer doesn't finish and gets stuck a few
    percent shy of 100.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: There are lots of reasons why this might happen, most of which relate to misbehaving
    hardware. I've briefly described a few of the things you can try in this section,
    but because the underlying problem might be peculiar to the hardware in your computer,
    you will probably need to ask for help on the Ubuntu forums.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '**Wait for a while**'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: Installation takes longer on some computers than others. There are many reasons
    why this could happen (such as problems getting hardware to work), but if you
    give it an extra 20 or 30 minutes, it might finish.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: '**Disconnect from the Internet**'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: If you are connected to the Internet, the installer might try to fetch extra
    settings or look for package updates while it is running. If something goes wrong
    when it tries to do this, it could stall, and the installation won't finish. Restart
    your computer and boot from the live CD again, but this time make sure you disconnect
    from the Internet before starting the installer.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: '**Disconnect any unnecessary devices**'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Some computer hardware can confuse the installer just by being plugged in. Turn
    off your computer, and disconnect or switch off any devices that you don't absolutely
    need to have attached. Printers, scanners, USB wireless cards, and external hard
    disks in particular should be disconnected. Then, start the computer, and attempt
    the installation again. Once installation is complete, you should be able to plug
    everything back in without any problems.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: '**Check the integrity of the CD**'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: If the CD has a fault on it, the installer might not be able to access something
    that it needs from the disc. See [My Computer Won't Boot from the CD](ch21.html#my_computer_won_apostrophy_t_boot_from_t
    "My Computer Won't Boot from the CD") in [I Can't Get Ubuntu Installed](ch21.html#i_can_apostrophy_t_get_ubuntu_installed
    "I Can't Get Ubuntu Installed") for advice on how to check the integrity of the
    CD.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: Something Goes Wrong Before Ubuntu Finishes Booting
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Boot problems are especially awkward—if Ubuntu won't start, how can you access
    the software you need to fix the problem? To get around this particular annoyance,
    you might need to start the computer from a live CD (like the one included with
    this book) or use some special options to help the process along.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: This section covers the two most common classes of boot problems, GRUB errors
    and kernel problems. There's some general advice for other types of boot problem
    too, including tips for dual-booters struggling to get Windows to start.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: I Get a GRUB Error
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you try to start your computer, you might be left with a black screen,
    which says that there was a GRUB error. This means there is a problem with the
    GRUB bootloader, which is responsible for telling your computer's hardware how
    to start Ubuntu. Fixing these errors tends to involve typing a few cryptic-looking
    commands or booting off a live CD, so be prepared for that. You can find a short
    guide to handling common GRUB errors at [https://help.ubuntu.com/community/Grub2#GRUB%20Errors/](https://help.ubuntu.com/community/Grub2#GRUB%20Errors/).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: I Get a Kernel Panic or the Computer Freezes
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Kernel panics have a scary name for a reason. If you get an error message saying
    that there was a kernel panic, something pretty serious went wrong in Linux-land,
    and you'll probably find that you can't use the computer until you fix the problem.
    Fortunately, such errors are rare, and even if you do get one, you should be able
    to fix it without too much work. I should also note that kernel panics are only
    serious in that they make it difficult to run software on the computer—the physical
    hardware side of your computer won't be damaged at all, so once you get the software
    working again, everything will be back to normal. So really, there's no need to
    panic at all.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: Freezes and kernel panics often go hand in hand, but they're not necessarily
    the same thing. You've probably seen a computer freeze up before—moving the mouse
    or pressing keys on the keyboard does nothing, and the display stays frozen. If
    the computer freezes, all you can do is give it a minute or two to see whether
    it wakes up and, if not, restart the computer or turn it off by holding down the
    power button for a few seconds.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: You can try a few things if you keep getting kernel panics or freezes, detailed
    in the following sections. If nothing seems to be working, ask for advice in the
    Ubuntu forums, and, with a bit of luck, you'll soon be up and running again.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: Unplug Unnecessary Hardware
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: A lot of freezes are caused by problems with hardware devices. If you recently
    bought some new hardware, try unplugging it and see whether you still get the
    freezes. If you recently installed some system updates, the driver for some hardware
    could be causing the problem too. It's worth unplugging any unnecessary hardware
    (such as scanners, printers, external hard drives, and the like) to check whether
    they're causing the problems.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: Disable Restricted Drivers
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Some freezes are caused by problems with accelerated graphics drivers (see
    [Games/Compiz Don''t Work: Installing Accelerated Graphics Drivers](ch21s05.html#games_solidus_compiz_don_apostrophy_t_wo
    "Games/Compiz Don''t Work: Installing Accelerated Graphics Drivers") in [Problems
    with the Display and Graphics Cards](ch21s05.html "Problems with the Display and
    Graphics Cards")) or restricted drivers for other hardware (see [Installing Drivers
    for Your Network/Wireless Card](ch21s04.html#installing_drivers_for_your_network_soli
    "Installing Drivers for Your Network/Wireless Card"), in [Installing Drivers for
    Your Network/Wireless Card](ch21s04.html#installing_drivers_for_your_network_soli
    "Installing Drivers for Your Network/Wireless Card")). If you suspect that this
    might be the case, disable the restricted drivers if you can. To do this, select
    **System** ▸ **Administration** ▸ **Hardware Drivers** to open the Hardware Drivers
    tool ([Figure 21-3](ch21s02.html#using_the_hardware_drivers_tool_to_disab "Figure 21-3. Using
    the Hardware Drivers tool to disable a restricted driver")). Select a currently
    activated driver, and click **Remove**. Then, restart the computer to see whether
    you experience any more freezes.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: '![Using the Hardware Drivers tool to disable a restricted driver](httpatomoreillycomsourcenostarchimages656743.png.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
- en: Figure 21-3. Using the Hardware Drivers tool to disable a restricted driver
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: Check Your System Memory for Defects
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Your system memory (also known as RAM) is vital to the operation of your computer.
    It's where all your programs (and Linux itself) store information when they're
    running. If a fault develops in your system memory, freezes and crashes can start
    happening for seemingly no reason.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: To check for problems with the system memory, boot from the Ubuntu CD included
    with this book (see [Chapter 2](ch02.html "Chapter 2. WADING AND DIVING") to remind
    yourself how to do this). As soon as the purple boot screen appears, press a key
    and select your language from the gray menu that pops up. Then, choose **Test
    memory** from the main menu, and press **enter**. The screen will turn blue, and
    the Memtest86 program will start running ([Figure 21-4](ch21s02.html#checking_for_memory_faults_with_memtest8
    "Figure 21-4. Checking for memory faults with Memtest86")).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: Memtest86 repeatedly writes things to your system memory and then accesses them
    a few moments later. It's sort of like a stress test for your RAM. Let it run
    until the `Pass` percentage at the top right of the screen has gone past 100 percent
    once or twice—this might take as long as an hour or two, depending on how much
    system memory you have. By that time, Memtest86 should have found any faults in
    the system memory and reported them on the screen. If it does find a problem,
    you might need to get some of your RAM replaced, because it could be damaged.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: You can turn off your computer at any time while Memtest86 is running—you don't
    need to shut it down properly as you usually would.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: '![Checking for memory faults with Memtest86](httpatomoreillycomsourcenostarchimages656745.png.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
- en: Figure 21-4. Checking for memory faults with Memtest86
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: Use an Older Kernel
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Some freezes occur because of problems with kernel updates or drivers. You can
    try using an older version of the Linux kernel if you have one installed. Take
    a look at [If an Update Ruins Your Day . . . or System](ch06s02.html#if_an_update_ruins_your_day_._._._or_sys
    "If an Update Ruins Your Day . . . or System") in [If an Update Ruins Your Day
    . . . or System](ch06s02.html#if_an_update_ruins_your_day_._._._or_sys "If an
    Update Ruins Your Day . . . or System") for instructions on running an older kernel.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: Use Rescue Mode
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you've asked for help online, chances are you'll be called upon to type some
    commands to try to fix your computer. There's no way of entering any commands
    if you can't get it to start up, though, so you'll need to use the rescue mode
    to get yourself to a command line.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: Restart your computer, and, as quickly as you can, hold down the shift key until
    a GRUB boot menu like the one in [Figure 21-5](ch21s02.html#the_grub_boot_menu
    "Figure 21-5. The GRUB boot menu") appears. If you have a dual-boot setup, you'll
    be used to seeing this boot menu anyway. Then, use the keyboard to select the
    topmost item with (*recovery mode*) in its name, and press **enter**. Text will
    flash across the screen for a while, and you'll be left at the Recovery Menu screen.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: Use the arrow keys to highlight the `netroot` option, and press **enter**. After
    some more text passes by, you'll be dropped to a root command line, which says
    something like `root@rg-laptop:˜#` and has a blinking cursor. From here, you can
    type commands that could help you fix the computer.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: In particular, you might like to try updating your system to see whether a subsequent
    update fixes your problem. (This will work only if you're connected to the Internet.)
    Type **`apt-get update`**; then press **enter**, and wait for the list of packages
    to be updated. Then, type **`apt-get dist-upgrade`** to see whether any more updates
    are available for you to install.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Wireless Internet connections are unlikely to work in recovery mode. Plug your
    computer in with an Ethernet cable if you can.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: '![The GRUB boot menu](httpatomoreillycomsourcenostarchimages656747.png.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
- en: Figure 21-5. The GRUB boot menu
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: Reinstall Ubuntu
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It pains me to say it, but if you just can't fix the problem no matter what
    you try, it might be worth reinstalling Ubuntu. To do this, follow the instructions
    in [Chapter 2](ch02.html "Chapter 2. WADING AND DIVING"). You might need some
    of the advice on manual partitioning from [Appendix C](apc.html "Appendix C. MANUALLY
    PARTITIONING YOUR HARD DISK") too.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: 'Before you reinstall, remember to back up any files that you want to keep.
    You can do this by copying them to an external hard disk or USB memory stick while
    you''re running the live CD—all you need to do to access the files is mount your
    hard disk as described in [Project 18A: Accessing Files on Your Windows Partition
    (for Dual-Booters)](ch18.html#project_18a_colon_accessing_files_on_you "Project
    18A: Accessing Files on Your Windows Partition (for Dual-Booters)") in [Project
    18A: Accessing Files on Your Windows Partition (for Dual-Booters)](ch18.html#project_18a_colon_accessing_files_on_you
    "Project 18A: Accessing Files on Your Windows Partition (for Dual-Booters)") (but
    mount your Ubuntu partition rather than your Windows one).'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: Windows Won't Boot
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If you installed Ubuntu in a dual-boot setup, you may find that the computer
    restarts or displays an error message when you try to boot Windows instead of
    Ubuntu. Dual-boot Windows setups sometimes have a problem with hibernation and
    disk checking, so try the following steps to see whether you can get it working
    again:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: Boot into Ubuntu, and mount your Windows partition (see [Chapter 18](ch18.html
    "Chapter 18. PENGUINS AT THE GATES") for details on how to do this).
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Find *hiberfil.sys* (it should be in the top-level folder of your Windows partition,
    as shown in [Figure 21-6](ch21s02.html#the_top-level_folder_of_a_windows_partit
    "Figure 21-6. The top-level folder of a Windows partition, including the hiberfil.sys
    file")), and rename it something like *old_hiberfil.sys*. This will cause Windows
    to ignore all of the hibernation information it has stored.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Restart your computer, and boot into Windows by selecting it from the GRUB boot
    menu. Ideally, Windows will now boot.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If Windows does not boot and you get a blank screen or it restarts, reboot the
    computer into Windows again, but this time press the F8 key a few times immediately
    after choosing to boot Windows from the GRUB menu. A Windows boot menu should
    appear.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **Safe Mode (with Networking)** option, and see whether that runs.
    If it does, perform a disk check in Windows. You can do this by going to (My)
    Computer, right-clicking your hard disk, and selecting **Properties**. You can
    find the Error-checking option you need on the Tools tab. Once the check is finished,
    restart the computer to see whether Windows will start normally.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You may need to repeat the rebooting-and-pressing-F8 procedure once or twice
    for it to stick—let it run a disk check whenever it ask to do so.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: '![The top-level folder of a Windows partition, including the hiberfil.sys file](httpatomoreillycomsourcenostarchimages656749.png.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
- en: Figure 21-6. The top-level folder of a Windows partition, including the *hiberfil.sys*
    file
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: Sound and Video Problems
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you're met with silence when you try to watch a movie or play a song, either
    you've rented a Charlie Chaplin film or you're having issues with your sound card.
    Assuming it's the latter, you'll find that most sound-related problems in Ubuntu
    are caused by using incorrect sound card settings. Unfortunately, the number of
    these settings tends to be overwhelming, and it's rarely obvious which ones you
    should change to get things working. Trial and error is the order of the day when
    it comes to sound problems, I'm afraid, although I've tried to explain as many
    of the relevant options as possible in this section to help you out.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: If the problem has more to do with what you're not seeing than what you're not
    hearing, then you're possibly in for an easier ride. Video problems tend to be
    easier to fix—most of the time, all you'll need to do is find the right piece
    of software to install and then, erm, install it. Skip to the end of the section
    for more on video issues.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: Ubuntu Doesn't Play Any Sounds
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are many reasons why Ubuntu might not be playing any sounds. I'll concentrate
    on some of the more basic issues in this section, but if none of this helps, you
    can always try the Ubuntu forums or IRC; both are discussed in detail in [Chapter 20](ch20.html
    "Chapter 20. A COLONY OF PENGUINS").
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: To start troubleshooting, find a song on your computer and play it in Rhythmbox
    or the Totem Movie Player. (If you need it, there's a sample song available in
    the */usr/share/example-content/Ubuntu_Free_Culture_Showcase* folder, aptly called
    "Frustration Blues.") You need to have a sound file playing constantly in the
    background so that you can tell whether changing any of these settings has worked.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: If you are unable to even start playing the file, Ubuntu may not have detected
    your sound card properly. Open a Terminal (**Applications** ▸ **Accessories**
    ▸ **Terminal**), type **`aplay -l`** into it, and press **enter**. If the list
    of playback hardware devices is empty, your sound card hasn't been detected. In
    this case, you'll definitely need to get some community support—see [Chapter 20](ch20.html
    "Chapter 20. A COLONY OF PENGUINS") for more information on using the Ubuntu forums
    and IRC.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, check that your speakers are turned on, turned up, and plugged into the
    correct socket on your computer (it''s often a light green color). Many times
    in the past I''ve plugged my speakers into the microphone socket and sat there
    wondering why they were silent. When you''re confident that your speakers are
    OK, try the following steps:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: Click the speaker icon on the top panel, and select **Sound Preferences** from
    the menu that pops up. The Sound Preferences window will appear ([Figure 21-7](ch21s03.html#the_sound_preferences_window
    "Figure 21-7. The Sound Preferences window")).
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Make sure that the Mute option is not checked and that the Output volume slider
    at the top of the window is pulled all the way to the right.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the **Applications** tab, and make sure that none of the applications
    in the list is muted or set to a low volume.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the **Output** tab, and make sure that the right connector is chosen.
    If you're not sure, try choosing different connectors by trial and error until
    you get one that works. If none of them works, return this option to its original
    setting (usually Analog Speakers).
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the **Hardware** tab, and choose a different device from the Profile option.
    Then, repeat the previous steps, checking that nothing is muted or at low volume
    and that the right output device is selected. Trial and error often works.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If none of this helped, check out [http://ubuntuforums.org/showthread.php?t=205449/](http://ubuntuforums.org/showthread.php?t=205449/).
    It's a pretty comprehensive guide to identifying sound problems, though it requires
    quite a lot of work in the Terminal. (See [Chapter 9](ch09.html "Chapter 9. SIMPLE
    KITTEN WAYS") if you need to refresh your memory on how the Terminal works.)
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '![The Sound Preferences window](httpatomoreillycomsourcenostarchimages656751.png.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
- en: Figure 21-7. The Sound Preferences window
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: My Microphone Doesn't Work
  id: totrans-99
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As long as your sound card is detected correctly by Ubuntu, any microphone with
    a standard audio jack connection (similar to the connector on headphones) should
    work.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: To test your microphone, select **System** ▸ **Preferences** ▸ **Sound** to
    open the Sound Preferences window, and then go to the Input tab ([Figure 21-8](ch21s03.html#the_input_tab_of_the_sound_preferences_w
    "Figure 21-8. The Input tab of the Sound Preferences window")). There you'll see
    an Input level indicator, which should dance up and down when you make a sound.
    If nothing happens to the indicator when you make a noise, your microphone isn't
    being picked up, so try some of the following tips.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: '**Plug it in**'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: Check that the microphone is plugged into the correct socket (it should be marked
    by a small microphone symbol and is often pink). Also, be aware that some sound
    cards can switch inputs and outputs between different sockets, so what you think
    is the microphone socket might have actually been assigned to something else.
    In that case, try plugging the microphone into the other sockets.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: '**Turn it up**'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: Go back to the Input tab in the Sound Preferences window, and turn up the Input
    volume as high as it will go if necessary. If your sound card or microphone has
    a volume control, make sure that that is turned up too.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: '**Check that it''s not muted**'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: Also on the Input tab, make sure that the Mute option next to the Input volume
    control is not checked.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: '![The Input tab of the Sound Preferences window](httpatomoreillycomsourcenostarchimages656753.png.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
- en: Figure 21-8. The Input tab of the Sound Preferences window
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: '**Choose the right device**'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: Ubuntu sometimes detects sound cards as being more than one device. Click the
    **Hardware** tab in the Sound Preferences window, and try choosing a different
    sound device from the list or a different profile for the device if you can. You
    could also try changing the device in the Choose a device for sound input list
    on the Input tab.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: '**Choose the right input**'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: Some sound cards have more than one microphone input. This is often the case
    on laptops, which might have a microphone socket and a built-in microphone. Check
    whether you've enabled the correct input by changing the Connector option on the
    Input tab of the Sound Preferences window ([Figure 21-8](ch21s03.html#the_input_tab_of_the_sound_preferences_w
    "Figure 21-8. The Input tab of the Sound Preferences window")).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
- en: '**Test using a different program**'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: The lack of sound from your microphone could be a problem with the program you're
    using to record the sound rather than the way the microphone is set up. Try using
    a different program to test the microphone. The Sound Recorder (**Applications**
    ▸ **Sound & Video** ▸ **Sound Recorder**) is usually helpful.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: One program that seems to suffer particularly heavily from microphone-related
    problems is Skype. See [https://help.ubuntu.com/community/Skype/](https://help.ubuntu.com/community/Skype/)
    for some Skype-specific sound troubleshooting tips.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: I Can't Play an Audio or Video File
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The most common reason for not being able to play an audio or video file is
    that you don''t have the necessary *codec* installed to play the file. A codec
    is a small piece of software that adds support for a given audio/video format
    into a program. Rhythmbox and the Totem Movie Player normally find the right codec
    for you (for example, see [Project 14A: Installing MP3 Support for Audio Apps](ch14s02.html
    "Project 14A: Installing MP3 Support for Audio Apps") in [Project 14A: Installing
    MP3 Support for Audio Apps](ch14s02.html "Project 14A: Installing MP3 Support
    for Audio Apps")). However, if they fail, try installing the Ubuntu restricted
    extras package—this package contains a lot of extra codecs. Once it''s installed,
    close and re-open your audio/video file and see whether it plays. If not, you
    can try using a different program, which might have the right codec built-in.
    Try installing the MPlayer Media Player or VLC media player—both of these programs
    have support for a wide range of formats.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: If you're struggling to play a video on the Web (for example, one on YouTube),
    see [Multimedia Plug-Ins](ch05.html#multimedia_plug-ins "Multimedia Plug-Ins")
    in [Keeping Up-to-Date with Live Bookmarks](ch05.html#keeping_up-to-date_with_live_bookmarks
    "Keeping Up-to-Date with Live Bookmarks").
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: Another reason for a file being unplayable is that it is damaged. If you downloaded
    the file, try downloading it again—occasionally, parts of the file are accidentally
    missed during the download process, so repeating the download should fix this.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
- en: Finally, you might have a problem with your sound card. See [Ubuntu Doesn't
    Play Any Sounds](ch21s03.html#ubuntu_doesn_apostrophy_t_play_any_sound "Ubuntu
    Doesn't Play Any Sounds") in [Ubuntu Doesn't Play Any Sounds](ch21s03.html#ubuntu_doesn_apostrophy_t_play_any_sound
    "Ubuntu Doesn't Play Any Sounds") for advice.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: Internet and Network Connection Problems
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you haven't been able to get Ubuntu connected to the Internet (or a network),
    the most likely cause is that your wireless/network card hasn't been detected
    correctly. Other people have probably had the same problem with the same network
    card before, so it's always a good idea to search online to see whether you can
    find specific instructions on setting up your card. You're not guaranteed to find
    something useful (or intelligible), however, so I've provided some general instructions
    on diagnosing connection problems and installing network and wireless card drivers
    in this section.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
- en: Finding the Cause of a Connection Problem
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are so many different causes of connection problems that it can be difficult
    to know where to start. In this section, I've provided a few tips on how you can
    get more information to help you figure out your connection problem. Unfortunately,
    some of the information is quite technical, so you might find some of the results
    of these tests confusing. If that is the case, just make a note of the results
    you get. The information might be useful to someone in the forums or elsewhere,
    who could help you fix the problem.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
- en: '**Do you have a connection to the Internet?**'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
- en: Open Firefox, and try to visit a popular website, like [http://www.google.com/](http://www.google.com/)
    or [http://www.bbc.co.uk/](http://www.bbc.co.uk/). If neither of those pages loads
    and you get a "Server not found" message or similar, you may not have a link to
    the Internet, or you might just have a problem with Firefox. To check, open a
    Terminal (**Applications** ▸ **Accessories** ▸ **Terminal**), and then type **`ping
    209.85.227.106`** into it, followed by enter. This should ping Google's servers;
    *pinging* a server is a way of checking whether your computer can communicate
    with it. If you receive a message starting with the text `64 bytes from` (as shown
    in [Figure 21-9](ch21s04.html#the_results_of_pinging_one_of_google_apo "Figure 21-9. The
    results of pinging one of Google's servers if you have a working Internet connection")),
    you have a working Internet connection. Press **ctrl**-C to stop pinging Google.
    In this case, the problem might be with your DNS settings or some other software,
    rather than your connection or your network/wireless card. If you get any other
    message, you probably aren't connected to the Internet, so it could be a hardware
    problem.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: '![The results of pinging one of Google''s servers if you have a working Internet
    connection](httpatomoreillycomsourcenostarchimages656755.png.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
- en: Figure 21-9. The results of pinging one of Google's servers if you have a working
    Internet connection
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
- en: '**Is your card recognized?**'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: Open a Terminal, and type **`lshw -c network -short`**, and press **enter**.
    A list of the network and wireless cards that were recognized on your computer
    will be displayed, similar to the one shown in [Figure 21-10](ch21s04.html#the_list_of_recognized_network_and_wirel
    "Figure 21-10. The list of recognized network and wireless cards on my computer");
    check whether any of them have a description matching the make or model of your
    card. If they do, the card has been recognized but may not necessarily have the
    right drivers.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
- en: '![The list of recognized network and wireless cards on my computer](httpatomoreillycomsourcenostarchimages656757.png.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
- en: Figure 21-10. The list of recognized network and wireless cards on my computer
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: '**Is your card turned on?**'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: If you have a wireless card, it may have been turned off. See the instructions
    in [No Wireless Networks Are Found](ch21s04.html#no_wireless_networks_are_found
    "No Wireless Networks Are Found") in [No Wireless Networks Are Found](ch21s04.html#no_wireless_networks_are_found
    "No Wireless Networks Are Found") for advice on how to check whether this is the
    case.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: '**Are you using the right drivers?**'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: Ubuntu sometimes uses the wrong driver for a network/wireless card. To check
    which driver is being used for your card, open a Terminal, and type **`lshw -c
    network`** followed by **enter**. Scroll down through all of the text, and find
    the card that has a `product` or `vendor` matching those of your card. Then, scroll
    down a few more lines until you get to the `configuration` line. This will tell
    you which driver is being used and the version number of the driver. You can compare
    this with the information for your card at [https://wiki.ubuntu.com/HardwareSupportComponentsWiredNetworkCards/](https://wiki.ubuntu.com/HardwareSupportComponentsWiredNetworkCards/)
    (for wired network cards) or [https://help.ubuntu.com/community/WifiDocs/WirelessCardsSupported/](https://help.ubuntu.com/community/WifiDocs/WirelessCardsSupported/)
    (for wireless cards).
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: '**Have you checked your settings?**'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: Select **System** ▸ **Preferences** ▸ **Network Connections**, and find the
    entry for your connection on the appropriate tab. Then, select the connection,
    and click **Edit**. Check through the settings in the Editing window to see whether
    any of them are wrong—the usual suspects are your default gateway and DNS servers
    (if you have a manually configured wired network) and the wireless security key
    (if you have a wireless connection).
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
- en: For those of you struggling with a wireless connection, you can find a wireless
    troubleshooting guide at [https://help.ubuntu.com/community/WifiDocs/WirelessTroubleShootingGuide/](https://help.ubuntu.com/community/WifiDocs/WirelessTroubleShootingGuide/).
    It's quite technical in places, though, so you might prefer to ask for help on
    the Ubuntu forums.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: Installing Drivers for Your Network/Wireless Card
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If your network card or wireless card hasn't been recognized or isn't working
    as expected, you might need to install some different drivers for it. You can
    try a few methods, and the one that works will very much depend on the make and
    model of your card. I've included two of the most general ones in the following
    sections, but some cards need you to follow very specific instructions to get
    them working. The lists at [https://wiki.ubuntu.com/HardwareSupportComponentsWiredNetworkCards/](https://wiki.ubuntu.com/HardwareSupportComponentsWiredNetworkCards/)
    (wired cards) and [https://help.ubuntu.com/community/WifiDocs/WirelessCardsSupported/](https://help.ubuntu.com/community/WifiDocs/WirelessCardsSupported/)
    (wireless cards) should be able to help you figure out which method to use.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: Check for Restricted Drivers
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Some network/wireless cards have *restricted drivers* that you can download
    to get your card working. These drivers are normally provided by the manufacturer
    of the card and are "restricted" in the sense that they can't be fixed by Ubuntu
    developers if something goes wrong with them (in other words, they're not open
    source).
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
- en: You need to be connected to the Internet to download restricted drivers. If
    you don't have a working connection (probably because you're currently in the
    process of trying to get your card working!), try using an Ethernet cable to plug
    the computer directly into your wireless router or cable modem (see [Chapter 4](ch04.html
    "Chapter 4. MORE THAN WEBBED FEET") for more information). This will work only
    if you have a functioning wired network card. If your wired network card doesn't
    work, you won't be able to follow these instructions.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
- en: Select **System** ▸ **Administration** ▸ **Hardware Drivers**. Ubuntu will search
    for restricted drivers. If it finds any, they will be displayed in the list at
    the top of the window (as in [Figure 21-3](ch21s02.html#using_the_hardware_drivers_tool_to_disab
    "Figure 21-3. Using the Hardware Drivers tool to disable a restricted driver")).
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Check to see whether any of the restricted drivers have anything to do with
    networks or wireless (it should say in their descriptions). If you find one that
    does, select it, and click **Activate** to download and install it. Some cards
    require two drivers, so if you find two drivers that look relevant, install them
    both.
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once the installation has finished, you'll probably be told to restart the computer.
    It's a good idea to do this anyway, so restart.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Ideally, after restarting and logging in again, you'll now be able to use your
    network/wireless connection. See [Chapter 4](ch04.html "Chapter 4. MORE THAN WEBBED
    FEET") for details on how to get connected.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Install Windows Drivers
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Believe it or not, you can sometimes get the Windows drivers for your network/wireless
    card working in Ubuntu. To do this, you''ll need the Windows driver for your card,
    plus a program called *ndiswrapper* that converts the driver into something more
    Ubuntu-friendly. Full instructions are available at [https://help.ubuntu.com/community/WifiDocs/Driver/Ndiswrapper/](https://help.ubuntu.com/community/WifiDocs/Driver/Ndiswrapper/),
    but here''s an outline to help you get started:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
- en: Find the Windows drivers for your card. These normally come supplied on a CD
    with your computer, or you may be able to download them from the card manufacturer's
    website. A list of drivers is available at [http://sourceforge.net/apps/mediawiki/ndiswrapper/](http://sourceforge.net/apps/mediawiki/ndiswrapper/).
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Find the *.inf* file for the Windows XP version of your card's drivers. The
    drivers are normally provided as Zip files, which you can open and search inside
    for the INF file, or in folders on the driver CD. If you can't find the file,
    you might be able to get more information on the ndiswrapper website mentioned
    in the previous step.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the *.inf* file on your desktop or in some other convenient location.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Borrow a computer with Internet access, and download the *.deb* files from
    the following links (you''ll need to click the link for a nearby location before
    the file can be downloaded):'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '| [http://packages.ubuntu.com/lucid/all/ndiswrapper-common/download](http://packages.ubuntu.com/lucid/all/ndiswrapper-common/download)
    |'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| [http://packages.ubuntu.com/lucid/i386/ndiswrapper-utils-1.9/download](http://packages.ubuntu.com/lucid/i386/ndiswrapper-utils-1.9/download)
    |'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: '| [http://packages.ubuntu.com/lucid/i386/ndisgtk/download](http://packages.ubuntu.com/lucid/i386/ndisgtk/download)
    |'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_TB
- en: Save the three *.deb* files to a memory stick or some other storage device,
    and use it to copy them onto your Ubuntu computer. Again, copying them onto the
    desktop would be convenient.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Now, double-click the *ndiswrapper-common* file, and install it (see [Project
    6B: Installing Software from a PPA: OpenSonic](ch06s04.html "Project 6B: Installing
    Software from a PPA: OpenSonic") in [APT-URL: Installing from Websites](ch06s03.html#apt-url_colon_installing_from_websites
    "APT-URL: Installing from Websites") to learn how to do this).'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once that's installed, install the *ndiswrapper-utils* file. The order that
    you install these files in is important.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, install the *ndisgtk* file.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now, select **System** ▸ **Administration** ▸ **Windows Wireless Drivers**,
    and **enter** your password if prompted. The Wireless Network Drivers window will
    open ([Figure 21-11](ch21s04.html#the_wireless_network_drivers_window "Figure 21-11. The
    Wireless Network Drivers window")).
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click **Install New Driver**, and then click the **Location** button. Select
    the *.inf* file you found earlier, and click **Open**.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click **Install**. If everything goes to plan, the Windows driver for your card
    will be installed.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Restart your computer, and try to get connected once you've logged in again
    ([Chapter 4](ch04.html "Chapter 4. MORE THAN WEBBED FEET")).
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Don't worry if something goes wrong—there are several minor problems that might
    trip you up during this process. Visit the ndiswrapper website mentioned in Step
    1, or ask on the Ubuntu forums for more specific advice.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
- en: '![The Wireless Network Drivers window](httpatomoreillycomsourcenostarchimages656759.png.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
- en: Figure 21-11. The Wireless Network Drivers window
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
- en: No Wireless Networks Are Found
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If you know that your wireless card is working in Ubuntu but you can''t seem
    to find any networks, try the steps in this section:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
- en: Check to make sure that your wireless card is turned on. Many laptops have a
    keyboard shortcut that toggles the wireless card on and off (on mine it's **fn**-F2).
    Some cards have a physical switch that you need to flip instead. If your card
    has an antenna with a cable, make sure that it's firmly secured to the card too.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now, right-click the Network Manager icon on the top panel, and make sure that
    **Enable Networking** and **Enable Wireless** are checked ([Figure 21-12](ch21s04.html#making_sure_that_wireless_and_network_co
    "Figure 21-12. Making sure that wireless and network connections are enabled in
    Network Manager")). If they aren't, check them, and wait a minute or two while
    the wireless card wakes up.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If the Enable Wireless option was already checked, try unchecking it, waiting
    for a minute or so, and then checking it again. Your wireless card might have
    needed turning off and on again to wake it up. You can also try doing this with
    the hardware switch/keyboard toggle I mentioned in Step 1.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If none of this has any effect, try restarting your computer. Some wireless
    cards work fine until you hibernate or suspend the computer, after which they
    fall into a deep sleep. Restarting should be enough to wake it up.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You should also check that the network you want to connect to doesn't have a
    hidden network name (also called an *SSID*). If it does, it won't appear in Network
    Manager's list, and you'll have to manually enter its name to be able to connect.
    To do this, click the Network Manager icon, choose **Connect to Hidden Wireless
    Network** from the menu, and fill out the details in the window that appears.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, if you're still struggling, are you sure that you are sufficiently
    close to a wireless base station? If the signal is too weak, your card might not
    pick up the network at all.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Making sure that wireless and network connections are enabled in Network
    Manager](httpatomoreillycomsourcenostarchimages656761.png.jpg)'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 21-12. Making sure that wireless and network connections are enabled
    in Network Manager
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Other Users on My Computer Can't Connect
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If you have more than one user account on your computer, you might find that
    you can connect to the Internet, but other users can''t. To fix this problem,
    you need to make your network connection available to all users:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
- en: While working in your user account, select **System** ▸ **Preferences** ▸ **Network
    Connections**.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Find the network connection that you use on one of the tabs. For example, if
    you use a wireless network called "Marconi," you would click the **Wireless**
    tab and look for *Marconi* in the list there.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the network, and click **Edit**.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Check the **Available to all users** option at the bottom of the screen, and
    click **Apply**.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type your password when prompted. The network will disconnect, and you may need
    to reconnect it by using the Network Manager icon on the top panel (see [Chapter 4](ch04.html
    "Chapter 4. MORE THAN WEBBED FEET") for further details on connecting).
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Log in to a different user account. You should now be able to connect to the
    network in that user account too.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Problems with the Display and Graphics Cards
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Recently, Ubuntu has been doing an excellent job of detecting graphics cards,
    so it's unlikely that you'll ever be left staring at a blank screen. Things aren't
    guaranteed to turn out perfect, however. This section covers such problems as
    getting 3D acceleration support (if it's missing) and adjusting your screen resolution
    (if it's looking weird). Just in case, there's something to help you with a dreaded
    blank screen too.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
- en: 'Games/Compiz Don''t Work: Installing Accelerated Graphics Drivers'
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you can't get Compiz or a certain game to work, you might need to install
    some accelerated graphics drivers. This is because only basic drivers (which can't
    handle fancy effects and 3D games) are installed for some graphics cards by default,
    due to the lack of availability of suitable open source alternatives. If accelerated
    drivers exist for your card, you can install the more powerful (but possibly less
    open source) drivers by selecting **System** ▸ **Administration** ▸ **Hardware
    Drivers**, selecting the graphics driver from the list, and then clicking **Activate**
    to install it. Once it's installed, restart the computer, and the new driver should
    be enabled.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
- en: You can directly download Linux graphics drivers from some manufacturers. These
    tend to be updated more regularly than the ones that come with Ubuntu, and they
    may have some extra features too. The next couple of sections cover how to get
    these drivers for the two biggest manufacturers, ATI and nVidia.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
- en: ATI Cards
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Go to [http://support.amd.com/us/gpudownload/Pages/index.aspx/](http://support.amd.com/us/gpudownload/Pages/index.aspx/),
    and select *Linux x86* from the list on the left side of the page.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose the type of card you have from the next list, and choose the model/series
    of your card from the list next to that.
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click **GO!**, and you'll be taken to a download page for the driver. Scroll
    down to the bottom of the page, and click **Download**.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When prompted, click **Save File** to download the driver.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When the download finishes, find the driver file. It will probably be saved
    in your *Downloads* folder, and its name should end with *.run*.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open a Terminal (**Applications** ▸ **Accessories** ▸ **Terminal**), and type
    **`cd Downloads`** (followed by **enter**) to change to your Downloads folder
    (if it's stored in there).
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now, type **`chmod +x ati-driver*.run`**, and press **enter** to make it so
    that you can run the file as a program.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To start the installer, type **`sudo ./ati-driver`**, and then press the **tab**
    key. This should complete the name of the installer file for you, so you can press
    **enter** and run the installer.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter your password. Then, follow the instructions on the screen to install
    the driver.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: nVidia Cards
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Go to [http://www.nvidia.com/object/unix.html](http://www.nvidia.com/object/unix.html),
    and click the link for the latest version under the "Linux IA32" heading (or the
    "Linux IA64" heading if you're running the 64-bit version of Ubuntu).
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click **Download** and then **Agree & Download**. When prompted, click **Save
    File** to download the driver.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Find the driver file; it will probably be in your *Downloads* folder, with a
    name ending with *.run*.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open a Terminal (**Applications** ▸ **Accessories** ▸ **Terminal**), type **`cd
    Downloads`**, and then press **enter** to change to your *Downloads* folder (if
    it's stored in there).
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now, type **`chmod +x NVIDIA-Linux*.run`**, and press **enter** to make it so
    that you can run the file as a program.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To start the installer, type **`sudo ./NVIDIA-Linux`**, and then press the **tab**
    key. This should complete the name of the installer file for you, so you can press
    **enter** and run the installer.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter your password, and then follow the instructions on the screen to install
    the driver.
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  id: totrans-212
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Because they're not open source, the quality of some of the graphics drivers
    can vary, and problems can't be fixed by the Ubuntu developers (as they can be
    with open source ones). As such, some accelerated graphics drivers can cause problems,
    most often when you try to hibernate or suspend your computer. If you do run into
    problems, consider uninstalling the driver so that you revert to the default open
    source one.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
- en: The Screen Looks Stretched or the Wrong Size
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If your screen doesn't look quite right, the screen resolution has probably
    been detected incorrectly. To fix this problem, select **System** ▸ **Preferences**
    ▸ **Monitors**, and change the Resolution setting to match the default resolution
    of your screen (trial and error will suffice if you don't know what the default
    is). Click **Apply**; if everything looks OK, click **Keep This Configuration**.
    If your screen goes blank, don't worry—just wait for 30 seconds, and the resolution
    will be returned to its original setting.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
- en: 'If the correct resolution for your monitor isn''t available from the list,
    you might have to use a different display driver. See [Games/Compiz Don''t Work:
    Installing Accelerated Graphics Drivers](ch21s05.html#games_solidus_compiz_don_apostrophy_t_wo
    "Games/Compiz Don''t Work: Installing Accelerated Graphics Drivers") in [Problems
    with the Display and Graphics Cards](ch21s05.html "Problems with the Display and
    Graphics Cards").'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: The Screen Is Blank
  id: totrans-217
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'One possible cause of a blank screen is that something went wrong with your
    graphics card or its drivers. Thankfully, this is a reasonably rare occurrence,
    and it''s much more likely that something minor (and easy to fix) happened. Peruse
    the following tips before you start worrying about some sort of graphics card
    apocalypse scenario:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
- en: '**Check that the display cable is connected**'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
- en: Most desktop computers have a separate monitor that plugs into the back of the
    computer. Look at the back of the monitor, and make sure both of the cables coming
    out of the back of it are firmly plugged in at both ends. You might also want
    to check that the display is switched on and that its power cable hasn't fused.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: '**Try to wake up the computer**'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
- en: Your computer may have gone into a power-saving (sleep) mode, which you can
    wake it up from by moving your mouse or pressing keys on the keyboard. If that
    doesn't work, try pressing the power button on your computer once. This sometimes
    wakes computers up from their sleep too.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: '**Switch to a command line**'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
- en: The part of the Ubuntu that's responsible for displaying things on the screen
    is called *X11*, or just *X*. Sometimes X fails to start. To see whether this
    is the case, press **ctrl**-**alt**-F2\. You should see a `login:` prompt if everything
    but X is working properly. You can type your username and password (pressing **enter**
    after typing each one) to access a command line, just like the Terminal you met
    in [Chapter 9](ch09.html "Chapter 9. SIMPLE KITTEN WAYS"). While you're using
    the command line, try typing **`sudo startx`**, followed by enter, and type your
    password again if prompted. This will try to start X; it might work, or it might
    give you an error message telling you what the problem is. Alternatively, type
    **`sudo reboot`** to restart your computer. (If you're wondering what happened
    here, pressing **ctrl**-**alt**-F2 switched you to a different *virtual terminal*.
    Ubuntu starts a few virtual terminals and uses them for different things; pressing
    **ctrl**-**alt**-F7 will switch you back to the virtual terminal used by X to
    display everything.)
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: '**Restart the computer**'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
- en: Some computers occasionally start up without turning on the graphics card or
    the monitor. (This tends to be more of a problem on older computers.) As a last
    resort, try turning the computer off and then on again by pressing the power button.
    If the computer won't turn off, hold down the power button for a few seconds until
    it does.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: Hard Disks and Storage Problems
  id: totrans-227
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I never really understood how you could completely fill up your hard disk until
    I bought a digital video camera. If you have a similarly expensive disk usage
    habit, this section is for you. There are a few tips on how to free up some disk
    space and, worst-case scenario, how to deal with a *completely* full disk.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: My Disk Is Almost Full
  id: totrans-229
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If your hard disk is almost full, Ubuntu will pop up a warning message similar
    to the one in [Figure 21-13](ch21s06.html#a_message_warning_you_that_your_disk_is
    "Figure 21-13. A message warning you that your disk is almost full"). Click the
    **Examine** button to start the Disk Usage Analyzer—it will scan your disk and
    display a colored chart showing you what is using most of the disk space. You
    can use this information to hunt down the files and folders that are taking up
    most of your disk's capacity. If you're wondering exactly how much disk space
    you have left, select **System** ▸ **Administration** ▸ **System Monitor**, and
    look on the File Systems tab to see how much space is left on each disk.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
- en: '![A message warning you that your disk is almost full](httpatomoreillycomsourcenostarchimages656763.png.jpg)'
  id: totrans-231
  prefs: []
  type: TYPE_IMG
- en: Figure 21-13. A message warning you that your disk is almost full
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
- en: 'Apart from rooting through your home folder and deleting unwanted files, you
    can try a few other things to free up some disk space:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
- en: '**Empty your Trash**'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
- en: When you delete files, they get moved to the *Trash* folder in case you change
    your mind about having removed them. To empty the *Trash* folder (thus permanently
    removing all the files in it), click the **Trash** icon on the bottom panel, and
    click the **Empty Trash** button in the Nautilus window that appears.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
- en: '**Clean up unwanted packages**'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
- en: When you remove a package using the Ubuntu Software Center, it sometimes leaves
    other packages that were installed at the same time on the system, even though
    they're not needed anymore. To remove them, open a Terminal, type **`sudo apt-get
    autoremove`**, and then press **enter**. Type your password when prompted, followed
    by **enter**, and see whether there are any leftover packages that can be removed.
    If there are, press Y and then press **enter** to remove them.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
- en: '**Empty the package cache**'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: When the Ubuntu Software Center installs a program, it keeps the package used
    to install it for a little while in case it's needed again. These cached files
    can take up quite a bit of disk space, but it's fine to delete them (the program
    won't be uninstalled or anything like that). Open a Terminal, and type **`sudo
    apt-get clean`**, followed by **enter**. Type your password if prompted, and then
    press **enter** to empty the cache.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
- en: My Disk Is Completely Full
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If your hard disk is completely full, you may not be able to start Ubuntu at
    all, and all you''ll get is a blank screen. If this happens, press **ctrl**-**alt**-F2
    to change to a Terminal login prompt. Type your username, followed by **enter**,
    followed by your password, followed by **enter** again, to access a command line.
    Once there, try clearing some disk space by typing some of the commands recommended
    in [My Disk Is Almost Full](ch21s06.html#my_disk_is_almost_full "My Disk Is Almost
    Full") in [Hard Disks and Storage Problems](ch21s06.html "Hard Disks and Storage
    Problems"). You can also use the `rm` command to remove some files in your home
    folder, but be careful: There''s no undo when using `rm`.'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
- en: Once you've cleared a little disk space, type **`sudo reboot`** to restart the
    computer. With any luck, there will be enough disk space for you to be able to
    log in now.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
- en: I Can't Delete a File
  id: totrans-243
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The usual reason for not being able to delete a file is because you don't have
    the right permissions to delete it (see [Chapter 7](ch07.html "Chapter 7. A TIDY
    NEST") for an explanation of file permissions). Right-click a blank area of the
    folder that the file is stored in, choose **Properties**, and select the **Permissions**
    tab. If you are listed as the owner, make sure that your Folder Access permissions
    are set to Create and delete files. Click **Close**, and then try to delete the
    file again.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
- en: 'If you are not the owner of the folder, you''ll have to gain ownership of it
    before you can delete the file. This is where you need to ask yourself, "Should
    I really be deleting someone else''s file?" Sometimes file permissions get messed
    up and so the file might be yours—in that case, it''s OK to delete it. If it''s
    someone else''s file, though, ask for their permission first. If you''re convinced
    that deleting the file is a good idea, open a Terminal, and use the **`chown`**
    command to change the owner of the folder. Here''s how it works: If I wanted to
    delete a file called *cats.jpg* from the *Pets* folder in my *Pictures* folder,
    I would type **`sudo chown phil ˜/Pictures/Pets`**, followed by the enter **key**
    (remember, *˜* means "my home folder"). After typing my password and pressing
    **enter** again, I would become the owner of the *Pets* folder and could delete
    *cats.jpg* as normal. Of course, you should substitute the name of the folder
    and your username in place of mine for this to work for you.'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-246
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Don't use this method to delete system files (in other words, files that aren't
    stored in the */home* folder) unless you're sure you know what you're doing. You
    don't have permission to delete system files for a reason; you could really screw
    up your system if you remove something vital.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: Software Installation Problems
  id: totrans-248
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Ubuntu's software management tools tend to operate pretty smoothly these days.
    Nevertheless, I've included some troubleshooting tips for two or three problems
    that used to be common (but seem to be getting rarer with each release). If you're
    having a problem with installing, removing, or updating packages, this section
    is for you.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 今天的Ubuntu软件管理工具通常运行得很顺畅。尽管如此，我还是包括了一些针对曾经很常见（但随着每个版本的发布似乎变得越来越少）的两个或三个问题的故障排除技巧。如果你在安装、删除或更新包时遇到问题，本节就是为你准备的。
- en: I Get an Error About Unauthenticated Packages
  id: totrans-250
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我在安装程序时遇到了未认证包的错误
- en: 'If you get an error message about unauthenticated packages when you try to
    install a program, try the following:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在尝试安装程序时收到关于未认证包的错误消息，请尝试以下操作：
- en: Select **System** ▸ **Administration** ▸ **Update Manager** to open the Update
    Manager.
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**系统** ▸ **管理** ▸ **更新管理器**以打开更新管理器。
- en: Click the **Check** button, and enter your password if prompted. The package
    list will be updated, along with all the files that are used to check whether
    your packages are "authentic."
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**检查**按钮，如果提示，请输入你的密码。包列表将被更新，以及所有用于检查你的包是否“认证”的文件。
- en: When it has finished updating the package list, close the Update Manager, and
    try to install your program again.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当它完成更新包列表后，关闭更新管理器，然后再次尝试安装你的程序。
- en: If you're still getting the error message, you may have added a software repository
    without adding its GPG key. The GPG key is required to do the authentication stuff
    that the error message is talking about. If this is the case, look at [Adding
    Extra Software Repositories](ch06s03.html "Adding Extra Software Repositories")
    in [Adding Extra Software Repositories](ch06s03.html "Adding Extra Software Repositories")
    for instructions on how to add the GPG key for a repository.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仍然收到错误消息，你可能已经添加了一个软件仓库，但没有添加其GPG密钥。GPG密钥是执行错误消息中提到的认证操作所必需的。如果是这种情况，请参阅[添加额外软件仓库](ch06s03.html
    "Adding Extra Software Repositories")中的说明，了解如何添加仓库的GPG密钥。
- en: I Get a dpkg Error
  id: totrans-256
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我遇到了dpkg错误
- en: There are a couple of common reasons why you might get an error message related
    to dpkg when you try to install, update, or remove a software package.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 有几个常见的原因可能导致你在尝试安装、更新或删除软件包时收到与dpkg相关的错误消息。
- en: 'If you get an error saying `E: Sub-process /usr/bin/dpkg returned an error
    code (1)`, you could have a broken package on your system. Here are some techniques
    you can try to fix a broken package:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '如果你收到一个错误消息说`E: 子进程 /usr/bin/dpkg 返回错误代码 (1)`，你系统上可能有损坏的包。以下是一些你可以尝试修复损坏包的技术：'
- en: Select **Application** ▸ **Accessories** ▸ **Terminal** to open a Terminal.
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**应用程序** ▸ **附件** ▸ **终端**以打开终端。
- en: Type **`sudo apt-get install --fix-broken`**, and press **enter**. Type your
    password when prompted, and press **enter** again. This command looks for broken
    packages and tries to fix them.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入**`sudo apt-get install --fix-broken`**，并按**回车键**。当提示时，输入你的密码，然后再次按**回车键**。此命令查找损坏的包并尝试修复它们。
- en: With any luck, this will fix the problem; try installing a package via the Ubuntu
    Software Center to see whether you still get the dpkg error message.
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 希望这样能解决问题；尝试通过Ubuntu软件中心安装一个包，看看是否仍然收到dpkg错误消息。
- en: If you do still get the error message, type **`sudo dpkg --configure -a`** into
    the Terminal, and press **enter**. This command tries to fix half-installed packages
    if there are any.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你仍然收到错误消息，请在终端中输入**`sudo dpkg --configure -a`**，并按**回车键**。如果存在半安装的包，此命令尝试修复它们。
- en: Try installing a package from the Ubuntu Software Center again. If you're still
    getting an error message, ask for help on the Ubuntu forums.
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次尝试从Ubuntu软件中心安装一个包。如果你仍然收到错误消息，请在Ubuntu论坛上寻求帮助。
- en: 'If you get an error message saying `E: Could not get lock /var/lib/dpkg/lock
    - open (11: Resource temporarily unavailable)` or `E: Unable to lock the administration
    directory (/var/lib/dpkg/)`, you are probably running more than one package manager
    (APT frontend) at the same time (see the note at the end of [Chapter 6](ch06.html
    "Chapter 6. ROUNDING OUT THE BIRD")). For example, if you are installing a package
    using the `apt-get` command in a Terminal while simultaneously trying to install
    a program with the Ubuntu Software Center, you will get this error message.'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
- en: Wait until one of the package managers finishes what it's doing, and then close
    it and try to use the other one again. If no other package managers are running,
    you won't get this error message. If you don't think you have any other package
    managers running, the Update Manager could be running in the background and causing
    the problem. Wait for a few minutes for the Update Manager to finish what it's
    doing and then try again.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
- en: I Have a Broken Update
  id: totrans-266
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you update your computer using Update Manager but receive an error message
    saying that you have a broken update, try the instructions in [I Get a dpkg Error](ch21s07.html#i_get_a_dpkg_error
    "I Get a dpkg Error") in [Software Installation Problems](ch21s07.html "Software
    Installation Problems") to try to fix the problem. If that doesn't work, try asking
    on the Ubuntu forums for help—there may be a bug in the package that was being
    updated when the error occurred.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
- en: Common Problems with Applications
  id: totrans-268
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So many applications are available for Ubuntu that it would be impossible to
    go through each one and point out what might possibly, some day, go wrong. Instead,
    in this section I've chosen to provide some general advice on how to deal with
    misbehaving programs, plus a sneaky little section on a particularly common Firefox
    problem. If it is something specific that you need to handle, it's never a bad
    idea to try looking at the help files for a given program. Selecting **Help**
    ▸ **Contents** should get you to a manual for most software. Failing that, a Google
    search often does the trick for me.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
- en: Firefox Says It's Already Running
  id: totrans-270
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you exit Firefox, it sometimes takes a while to close itself down properly—the
    window will disappear, but Firefox could still be running somewhere in the murky
    depths of your computer. When you try to open Firefox again, you may receive a
    message that Firefox is running in the background, so you can't open a new window.
    This is no good, because you want a Firefox window that you can see! If this happens,
    open a Terminal (**Applications** ▸ **Accessories** ▸ **Terminal**), type **`killall
    firefox`**, and then press **enter**. (The command is case sensitive, so be sure
    you're typing in all lowercase.) This will force Firefox to shut down immediately.
    With that done, try to open Firefox again, and the window should pop up as normal.
    If it still isn't working, try repeating the previous command one or two more
    times.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
- en: A Program Always Crashes
  id: totrans-272
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you have a program that keeps crashing, try running it in a Terminal to see
    what's going wrong. You'll have to get the name of the command needed to run the
    program first—see [Reporting a Bug](ch20s03.html#reporting_a_bug "Reporting a
    Bug") in [Reporting a Bug](ch20s03.html#reporting_a_bug "Reporting a Bug") for
    information on how you can find it. Once you have the command, type it into the
    Terminal, and press **enter**. The program should run as normal, so keep using
    it until it crashes. When it does, look at the Terminal to see whether it left
    any clues as to what's going wrong in there. Error messages in the Terminal can
    be quite cryptic, so you might like to ask someone on the forums or IRC (both
    of which are discussed in [Chapter 20](ch20.html "Chapter 20. A COLONY OF PENGUINS"))
    if they know what it means.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
- en: If the messages in the Terminal are no help, you should report a bug. See [Bugs,
    Bugs, Glorious Bugs](ch20s03.html "Bugs, Bugs, Glorious Bugs") in [Bugs, Bugs,
    Glorious Bugs](ch20s03.html "Bugs, Bugs, Glorious Bugs") for details.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
- en: A Program Won't Start
  id: totrans-275
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If a program doesn't start when you click its shortcut in the Applications menu,
    try running it in the Terminal, as described in the previous section. It could
    be crashing soon after starting and might leave some information about the crash
    in the Terminal.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
- en: My Computer Is Running Slowly
  id: totrans-277
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Certain tasks take up lots of computing power and cause your computer to run
    slowly. Burning a CD, installing software, and converting music files to a different
    format all tend to strain your system, so you shouldn't be surprised if things
    feel a little sluggish when something like that is running. But what if your computer
    is running slowly even if you're not running anything intensive? You can investigate
    the cause of the slowdown by selecting **System** ▸ **Administration** ▸ **System
    Monitor** to open the System Monitor. Select the Resources tab, and check your
    CPU (processor) usage—if it's around 100 percent, then a program running in the
    background is probably responsible for the problem (for example, the one in [Figure 21-14](ch21s09.html#the_system_monitor_comma_showing_the_gwi
    "Figure 21-14. The System Monitor, showing the gwibber-service program using an
    unhealthy 89 percent of the processor")). Choose the Processes tab, and click
    the % CPU column heading a couple of times until it has an "up" arrow next to
    it. This will sort the list of programs in order of how much of the processor
    they are using. The one that's using all of the CPU should appear at the top of
    the list.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
- en: It's normally best to wait a few minutes and see whether the program reduces
    its CPU usage by itself. After all, it could be some system software running a
    scan or some other maintenance operation. If it doesn't go away, the program might
    have gotten stuck, so select it and click **End Process** to force it to close.
    Your system should return to its usual speed within a few seconds.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
- en: If you didn't notice high CPU usage on the Resources tab, then it's possible
    that something is overusing your hard disk instead. Programs that do this almost
    always finish what they're doing within five or ten minutes, so you should probably
    ride it out. If it persists, the easiest way of fixing the problem is by restarting
    the computer.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
- en: '![The System Monitor, showing the gwibber-service program using an unhealthy
    89 percent of the processor](httpatomoreillycomsourcenostarchimages656765.png.jpg)'
  id: totrans-281
  prefs: []
  type: TYPE_IMG
- en: Figure 21-14. The System Monitor, showing the gwibber-service program using
    an unhealthy 89 percent of the processor
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
- en: Lost Files
  id: totrans-283
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Losing an important file is one of those uniquely frustrating experiences in
    life. If you''ve looked in all of the most likely locations (like your home folder),
    try one of the following:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
- en: '**Recent Documents**'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
- en: Select **Places** ▸ **Recent Documents** to see whether the missing file is
    in the list of recently edited files. If it was an office document, try the **File**
    ▸ **Recent Documents** menu in OpenOffice.org too.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
- en: '**Basic search**'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
- en: The basic Search for Files tool is useful only if you can remember part of the
    file's name. Select **Places** ▸ **Search**, type part of the file's name in the
    Name contains box, and click **Search**. It might turn up in the list of search
    results.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
- en: '**Heavy-duty search**'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
- en: The more advanced Tracker search tool can look inside documents, which is handy
    if you don't remember the file's name but you do remember some of its contents.
    Install the Tracker Search Tool from the Ubuntu Software Center, and select **System**
    ▸ **Preferences** ▸ **Search and Indexing**. Check the **Enable indexing** option
    on the General tab, and click **Apply**. Click **Restart** in the warning window
    that appears, and wait for Tracker to build its search index (about 15 to 20 minutes
    should do it). When it has finished, select **Applications** ▸ **Accessories**
    ▸ **Tracker Search Tool**, and search for your lost file there.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
- en: '**Look in the Trash**'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
- en: It's possible that you accidentally deleted the file. Click the **Trash** icon
    on the bottom panel, and look for it in there.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
- en: Another explanation for the lost file might be that it was saved in a temporary
    folder. This happens when you open an email attachment, for example—the file is
    put in the temporary folder by your email client and then opened using the default
    application for that type of file. Unfortunately, some programs don't realize
    that it's a temporary file, and they let you save it in the temporary directory
    . . . which is periodically wiped clean. If you suspect that this may have happened
    and you have restarted your computer since you last saved the file, then it's
    probably gone forever.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
- en: If you haven't restarted, there may still be hope; try opening the (unmodified,
    original) file again to see which folder it gets stored in by selecting **File**
    ▸ **Save As** (or similar) in the program you're using. Then, check which folder
    the Save window opens up to. For example, the Evolution mail client temporarily
    stores attachments that you open in a randomly named folder within the */home/username/.evolution/cache/tmp*
    folder (see [Figure 21-15](ch21s10.html#looking_for_a_file_that_was_saved_in_a_t
    "Figure 21-15. Looking for a file that was saved in a temporary folder by Evolution")
    for an example). Note the name of the folder, and open your home folder. Then,
    select **Go** ▸ **Location**, type the name of the folder in the box that appears,
    and try to find your file in the folder that opens. It's hardly convenient, but
    it might just help you find your file.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您还没有重新启动，可能还有希望；尝试再次打开（未修改的，原始的）文件，通过在您使用的程序中选择**文件** ▸ **另存为**（或类似操作）来查看它被存储在哪个文件夹中。然后，检查保存窗口打开到的文件夹。例如，Evolution邮件客户端会将您打开的附件临时存储在*/home/username/.evolution/cache/tmp*文件夹中的一个随机命名的文件夹中（参见[图21-15](ch21s10.html#looking_for_a_file_that_was_saved_in_a_t
    "图21-15. 在Evolution保存的临时文件夹中寻找文件")中的示例）。注意文件夹的名称，然后打开您的家目录。然后，选择**前往** ▸ **位置**，在出现的框中输入文件夹的名称，然后在打开的文件夹中尝试找到您的文件。这很不方便，但它可能正是您找到文件的方法。
- en: '![Looking for a file that was saved in a temporary folder by Evolution](httpatomoreillycomsourcenostarchimages656768.png.jpg)'
  id: totrans-295
  prefs: []
  type: TYPE_IMG
  zh: '![在Evolution保存的临时文件夹中寻找文件](httpatomoreillycomsourcenostarchimages656768.png.jpg)'
- en: Figure 21-15. Looking for a file that was saved in a temporary folder by Evolution
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 图21-15. 在Evolution保存的临时文件夹中寻找文件
- en: Where Can I Go to Get More Help?
  id: totrans-297
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我可以去哪里获取更多帮助？
- en: 'Many of the instructions in this chapter are quite general, so they might miss
    out on the specifics that you need to get your computer behaving properly. If
    you suspect that this is the case or if nothing in this chapter seemed to help
    with your problem, then it''s a good idea to seek help elsewhere. Ubuntu has a
    large and thriving online support community that prides itself on being friendly
    and helpful. There are quite a few options for you to choose from:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中的许多说明相当通用，因此可能会遗漏您需要让计算机正常运行的具体细节。如果您怀疑这是这种情况，或者本章中没有任何内容似乎能帮助您解决问题，那么寻求其他地方的帮助是个好主意。Ubuntu有一个庞大且充满活力的在线支持社区，它自豪于其友好和乐于助人的态度。您有很多选择：
- en: Visit [https://help.ubuntu.com/](https://help.ubuntu.com/), and use the search
    to find help guides and tutorials.
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问[https://help.ubuntu.com/](https://help.ubuntu.com/)，并使用搜索查找帮助指南和教程。
- en: Ask a question on the *#ubuntu* IRC channel (see [Chatting on IRC](ch20s06.html
    "Chatting on IRC") in [Creating Your Own Thread](ch20s05.html#creating_your_own_thread
    "Creating Your Own Thread")).
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在*#ubuntu* IRC频道提问（参见[在IRC上聊天](ch20s06.html "在IRC上聊天")中的[创建自己的线程](ch20s05.html#creating_your_own_thread
    "创建自己的线程")）。
- en: 'Ask a question on a mailing list (see [An IRC Alternative: Mailing Lists](ch20s06.html#an_irc_alternative_colon_mailing_lists
    "An IRC Alternative: Mailing Lists") in [More Help with IRC](ch20s06.html#more_help_with_irc
    "More Help with IRC")).'
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在邮件列表上提问（参见[IRC的替代方案：邮件列表](ch20s06.html#an_irc_alternative_colon_mailing_lists
    "IRC的替代方案：邮件列表")中的[更多IRC帮助](ch20s06.html#more_help_with_irc "更多IRC帮助")）。
- en: Post a question on the Ubuntu forums (see [The Ubuntu Forums](ch20s05.html "The
    Ubuntu Forums") in [The Ubuntu Forums](ch20s05.html "The Ubuntu Forums")).
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Ubuntu论坛上发帖提问（参见[Ubuntu论坛](ch20s05.html "Ubuntu论坛")中的[Ubuntu论坛](ch20s05.html
    "Ubuntu论坛")）。
- en: From here on out, it's up to you and the Ubuntu community to figure out what's
    going on. Good luck fixing your problem!
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 从现在开始，就由您和Ubuntu社区来找出问题所在了。祝您好运，修复您的问题！
