<html><head></head><body>
<div class="calibre10">
<h1 class="chapter-title" id="calibre_pb_0">
<a name="521" class="calibre15" id="521"/><a name="wbp14Chapter12P1" class="calibre15" id="wbp14Chapter12P1"/><span class="calibre15">Chapter 12: </span> Data on Ice Revisited</h1>
<p class="b24-bookeditorial">
<a name="522" id="522"/><a name="IDX-163" id="IDX-163"/><i class="calibre11">Windows Partitions and USB Storage Devices</i>
</p>
<p class="b24-bookeditorial">You’ve learned to transfer data to your  computer by downloading it from the  Internet (such as when you are installing  applications, fonts, and other files). And you  know how to transfer data to and from your  computer with CDs and floppies. There are also a couple  of other data sources that we have yet to discuss: portable  USB storage devices and, for dual-booters, the Windows  partition.</p>
</div>




<div class="calibre10">
<div class="calibre10">
<h2 class="sect2-title" id="calibre_pb_1">
<a name="523" class="calibre15" id="523"/><a name="wbp14Chapter12P4" class="calibre15" id="wbp14Chapter12P4"/>USB Storage Devices</h2>
<p class="b24-bookeditorial">Nowadays, tiny portable storage devices that go by names such as PenDrive,  JumpDrive, ClipDrive, DiskOnKey, and so on, have become quite popular (see  <a role="targetype:figure" href="#figure.DDU117">Figure 12-1</a> on the next page). Because of their small size, these “flash drives” are  very handy when you have to transfer fairly large, but not gigantic, amounts of data </p>
<div class="calibre10">
<a name="524" id="524"/><a name="figure.DDU117" id="figure.DDU117"/><span><a href="1201_0.jpg" name="IMG_120" target="_parent" id="IMG_120"><img src="1201.jpg" alt="Click To expand" border="0" class="calibre109"/></a></span>
<br class="calibre16"/>
<span><span>Figure 12-1: </span> A USB flash drive and card reader</span>
</div>
<p class="b24-bookeditorial">from computer to computer (from work to home, for example). They come in  a variety of sizes from 16MB to 2GB and are becoming less and less expensive (especially in the 16MB to 256MB bracket).</p>
<p class="b24-bookeditorial">Memory cards are also popular as portable storage devices; however, to read  these cards, you use a card reader (also shown in <a role="targetype:figure" href="#figure.DDU117">Figure 12-1</a>). Memory cards are  most commonly used in digital cameras. As these memory cards come in a variety  of formats, such as CompactFlash, Memory Stick, and SmartMedia, different  types of card readers are available to read the different media formats. </p>
<p class="b24-bookeditorial">As you may already know, USB devices, which are recognizable by their  narrow rectangular connector plugs (see <a role="targetype:figure" href="#figure.DDU118">Figure 12-2</a>), have become increasing  popular, largely because you can plug and unplug them while your computer is  running (called <i class="calibre11">hot plugging</i>). While connecting universal serial bus (USB) storage devices to USB ports (which are also shown in <a role="targetype:figure" href="#figure.DDU118">Figure 12-2</a>) is about as simple  as things can get, accessing those devices so that you can transfer data to and from them is still one of Fedora’s weaker areas, but once you go through the only slightly cumbersome one-time process of setting up your USB storage device,  things will be as easy as can be. A little patience will bring great rewards, as the  pyWings oracle might say.</p>
<div class="calibre10">
<a name="525" id="525"/><a name="figure.DDU118" id="figure.DDU118"/><span><a href="1202_0.jpg" name="IMG_121" target="_parent" id="IMG_121"><img src="1202.jpg" alt="Click To expand" border="0" class="calibre69"/></a></span>
<br class="calibre16"/>
<span><span>Figure 12-2: </span> A USB connector plug and USB ports</span>
</div>
<a name="526" id="526"/><a name="IDX-164" id="IDX-164"/>
<div class="calibre10">
<h3 class="sect3-title">
<a name="527" class="calibre15" id="527"/><a name="wbp14Chapter12P11" class="calibre15" id="wbp14Chapter12P11"/><i class="emphasis">Device Compatibility</i>
</h3>
<p class="b24-bookeditorial">As with all forms of computer hardware, you have to wonder whether or not the  device is compatible with your system. In the case of Windows or Macintosh  compatibility, this is usually quite simply determined by reading the fine print  on the side of the box that the device comes in. As you no doubt know by now,  Linux compatibility is seldom specified. There also seems to be little in the way  of an online guide for Linux compatibility for USB storage devices, probably  because many of these devices are manufactured, or at least distributed, by  rather small (sometimes no-name) companies, of which there are too many to  deal with.</p>
<p class="b24-bookeditorial">It is pretty safe to say that if the device claims to work on both Mac and Windows, or if it works on recent Windows versions without the need for a special  driver, it will probably work on Linux. In the case of card readers, the multi- reader variety, which reads a variety of card types, is more likely to give you headaches. Better, in my opinion, to stick with those specifically designed for one type  of card.</p>
<p class="b24-bookeditorial">If you are the worrying kind, and you are not soothed by my words of  encouragement, you can try one of the online Linux forums and ask for some  recommendations, or if you have a particular model in mind, ask if anyone has  experience with that particular device. And then there is the tried-and-true Google search, as I so often suggest for questions of hardware compatibility. Just type  the make and model of the device in question along with the word “Linux,” and  see what happens. </p>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="528" class="calibre15" id="528"/><a name="wbp14Chapter12P15" class="calibre15" id="wbp14Chapter12P15"/><i class="emphasis">Locating Your Device </i>
</h3>
<p class="b24-bookeditorial">Before you go about setting up your system to deal with your new USB storage  device, it is useful to know how it is actually being handled by Linux. The mass  storage driver in Linux deals with all USB storage devices as if they were SCSI (Small Computer System Interface) drives. SCSI (pronounced <i class="calibre11">scuzzy — </i>Ouch!) devices were once the most popular type of peripherals out there, but they have  largely been supplanted by the cheaper and easier-to-deal-with USB devices. This  means that such devices, whether real SCSI or USB, will be listed in your  Hardware Browser as SCSI drives under the <b class="calibre13">/dev</b> listings: <b class="calibre13">/sda</b>, <b class="calibre13">/sdb</b>, <b class="calibre13">/sdc</b>, and  so on, depending on how many of these devices you have. As you might have  guessed, these listings (sda, sdb, sdc, and so on) stand for SCSI device a, b, c,  and so on.</p>
<p class="b24-bookeditorial">To see what I am talking about, plug your USB storage device into a USB  port on your computer; you don’t need to shut down your machine before doing  this. Once you’ve done that, you need to find out where the device actually is, according to the computer. Now, of course, you know it is stuck into one of your  USB ports, but your system has a reality all its own. <a name="529" id="529"/><a name="IDX-165" id="IDX-165"/>
</p>
<p class="b24-bookeditorial">The easiest graphical way to find the USB device is to use your Hardware  Browser. Just go to the Main menu and select <b class="calibre13">System Tools </b>&gt;<b class="calibre13"> Hardware Browser</b>.  You will be asked for your root password, so type it when prompted and click <b class="calibre13">OK</b>.  A window will then pop up telling you that it might take some time to check your  hardware configuration; but before you finish reading it, the Hardware Browser window will open, and the message window will vanish. On the left side of the  Hardware Browser you will see a number of headings, so click the one that says  <b class="calibre13">Hard Drives</b> (not the one that says USB devices). </p>
<p class="b24-bookeditorial">If your USB storage device is hardware compatible with Linux, it will most  likely appear in the list as <b class="calibre13">/dev/sda1</b>, assuming it is the only device of that type  you are dealing with (see <a role="targetype:figure" href="#figure.DDU119">Figure 12-3</a>). If you are working with a second or third  device, it might appear as <b class="calibre13">sdb1</b>, or <b class="calibre13">sdc1</b>, and so on. </p>
<div class="calibre10">
<a name="530" id="530"/><a name="figure.DDU119" id="figure.DDU119"/><span><a href="1203_0.jpg" name="IMG_122" target="_parent" id="IMG_122"><img src="1203.jpg" alt="Click To expand" border="0" class="calibre110"/></a></span>
<br class="calibre16"/>
<span><span>Figure 12-3: </span> Looking at a USB storage device in the Hardware Browser</span>
</div>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="531" class="calibre15" id="531"/><a name="wbp14Chapter12P21" class="calibre15" id="wbp14Chapter12P21"/><i class="emphasis">Setting Things Up — Editing the fstab File</i>
</h3>
<p class="b24-bookeditorial">As things are right now, your system is recognizing your USB storage device, but  you still really can’t use it, at least not easily. In order to set things up so that you  can use your storage device anytime you want with just a couple of mouse clicks,  you need to create an entry for the device in your <b class="calibre13">fstab</b> file.</p>
<p class="b24-bookeditorial">Now I must admit that the first time I heard about this fstab file, and that I  was going to alter it in some way, I sort of got the willies. Just the name of the file  seemed creepy enough: f+stab. I thought the name was one of those off-the-wall  Linux acronyms for something dark and dreary. Alas, I was relieved (or maybe  even disappointed) to find out that fstab merely stood for <i class="calibre11">File System Table</i>. By  modifying the fstab file, you are simply adding an item to a table. Nothing  terrifying about that.</p>
<p class="b24-bookeditorial">To get at your fstab file, you will use your now-beloved Terminal, so open it  by clicking the Terminal launcher in your GNOME Panel. Once you’ve done  that, become root by using the <b class="calibre13">su </b>command, and then type <span>gedit /etc/fstab</span> and  press ENTER. In case you’re wondering, the first part of that command opens the  text editor program Gedit, while the second half tells Gedit to open the <b class="calibre13">fstab</b> file  located in the <b class="calibre13">etc</b> folder. Once it all opens, your fstab file should look like the  one in <a role="targetype:figure" href="#figure.DDU120">Figure 12-4</a>.<a name="532" id="532"/><a name="IDX-166" id="IDX-166"/>
</p>
<div class="calibre10">
<a name="533" id="533"/><a name="figure.DDU120" id="figure.DDU120"/><span><a href="1204_0.jpg" name="IMG_123" target="_parent" id="IMG_123"><img src="1204.jpg" alt="Click To expand" border="0" class="calibre111"/></a></span>
<br class="calibre16"/>
<span><span>Figure 12-4: </span> Modifying the fstab file </span>
</div>
<p class="b24-bookeditorial">Now that the fstab file is open, you can add an entry for your new USB storage  device by using the device location listed in the Hardware Browser. What you  need to do is go to the bottom of the list and add something like the following: </p>
<pre class="programlisting">/dev/sda1 /mnt/pendrive auto defaults,users,noauto 0 0</pre>
<p class="b24-bookeditorial">Now to explain what this all means, let’s go through it bit by bit. </p>
<ul class="itemizedlist">
<li class="first-listitem">
<p class="b24-bookeditorial">The first element, <b class="calibre13"><span>/dev/sda1</span></b> (or <b class="calibre13"><span>/dev/sdb1</span></b>, and so on), is where the system says  your device is located. This is the bit of information that you got from the  Hardware Browser. The <b class="calibre13">1</b> in <b class="calibre13"><span>sda1</span></b> points to the first (usually only) partition  on that device.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">The second element, <b class="calibre13"><span>/mnt/pendrive</span></b>, is the <i class="calibre11">mountpoint</i> for the drive. This  mountpoint doesn’t exist yet, but you will be creating it in the <a role="targetype:section" href="#wbp14Chapter12P31">next section</a>.  The part of this element that comes after <b class="calibre13">/mnt/</b> can be anything you like. If,  for example, you are setting up a card reader instead of a PenDrive, you  could call it <span>/mnt/cardreader</span>.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">The third element is the file system for the device. To keep things simple,  you will be using <span>auto</span>, which should be self-explanatory in this case.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">The next three elements, which are strung together without spaces (only  separated by commas), are the other settings for the device: <span>defaults</span> tells the  system to handle this device in its usual way, <b class="calibre13"><span>users</span></b> gives all users of the  machine permission to use it, and <b class="calibre13"><span>noauto</span></b> tells your system not to mount the  device automatically on startup, as it is a removable device that might not be  there when you start up. Make sure you don’t type any spaces around the  commas in this part of the entry.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">The last part, the two zeros, is a bit complicated, so just trust me on this one.  Make sure that you have just one space between the two zeros.</p>
</li>
</ul>
<p class="b24-bookeditorial">You don’t need to worry too much about lining up your new entry with the ones  before it. However, if you space things out, be sure to avoid using your TAB key to  make the spaces, as it causes problems in some text editors. Once you done, click  the <b class="calibre13">Save</b> button in Gedit and then quit the program.<a name="534" id="534"/><a name="IDX-167" id="IDX-167"/>
</p>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="535" class="calibre15" id="535"/><a name="wbp14Chapter12P31" class="calibre15" id="wbp14Chapter12P31"/><i class="emphasis">Creating a Mountpoint</i>
</h3>
<p class="b24-bookeditorial">Now that your fstab has been edited, it is time to create the mountpoint that you  listed in your fstab entry. This is quite easy, as you already know the <b class="calibre13">mkdir </b>command. Just go back to your Terminal window, which should still be in root  mode, type in <span>mkdir /mnt/pendrive</span> (or replace <span>pendrive</span> with whatever name you  gave your storage device in the fstab file) and press ENTER. </p>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="536" class="calibre15" id="536"/><a name="wbp14Chapter12P33" class="calibre15" id="wbp14Chapter12P33"/><i class="emphasis">Mounting Your USB Storage Device</i>
</h3>
<p class="b24-bookeditorial">It should now be very easy to use your new USB storage device. Plug in the  device, if it isn’t already plugged in, and right-click your desktop. In the pop-up  menu, select <b class="calibre13">Disks </b>&gt;<b class="calibre13"> pendrive</b>, and an icon for your new drive will appear on the  desktop (in Red Hat Linux 9 you may have to restart your machine before your  new storage device name appears in the pop-up menu). After that, you can use it  like any other storage device by double-clicking it to open a Nautilus window.  You can then drag files to and from the device as if it were a hard disk or floppy. </p>
<a name="537" id="537"/>
<table border="0" cellspacing="0" cellpadding="0" class="calibre2">
<tr class="calibre3">
<td valign="top" class="calibre6"/><td valign="top" class="calibre6">Note </td><td valign="top" class="calibre6">
<p class="b24-bookeditorial">
<i class="calibre11"> Fedora users should note that dragging a file from your USB storage device to your desktop  will move the file, rather than copy it; therefore, once you’ve completed the drag-and-drop  procedure, the file will be located on your hard disk but will erased from your USB device.  On the other hand, dragging a file from your USB device directly to your Home folder or any  other location therein will result in the file being copied rather than moved — it will be  present on both the hard drive and the storage device after the drag and drop is complete.  In the case of Red Hat Linux 9, all drag-and-drop procedures are treated as copies rather  than moves.</i>
</p>
</td>
</tr>
</table>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="538" class="calibre15" id="538"/><a name="wbp14Chapter12P36" class="calibre15" id="wbp14Chapter12P36"/><i class="emphasis">Unmounting Your USB Storage Device </i>
</h3>
<p class="b24-bookeditorial">Once you are done using your USB storage device, you have to unmount it  before you can unplug it from the USB port. If you do not do this, then none of  the files you dragged to the device will be saved there, which could be confusing.  To unmount the USB device, right-click the desktop icon for the device and then  select <b class="calibre13">Unmount Volume </b>in the pop-up menu. The icon will disappear, and then  you can unplug the device if you like, though you do not have to. Make sure to  close any open Nautilus windows for the drive before trying to unmount it, or the  system won’t allow you to do so.</p>
<p class="b24-bookeditorial">Sometimes, as when unmounting floppies, your system will jump the gun a  bit and tell you that it cannot unmount the drive, when in fact it is busy in the  background doing just that. As I mentioned before, if you get such a no-can-do  message, but the drive icon disappears anyway, you can ignore the system warning. Once the icon is gone, the drive is unmounted.</p>
</div>
</div>
</div>


<p class="calibre10" style="margin:0pt; border:0pt; height:1em"> </p><hr size="1" class="calibre1"/>




<hr size="1" class="calibre1"/>

<div class="calibre10">
<div class="calibre10">
<h2 class="sect2-title" id="calibre_pb_0">
<a name="539" class="calibre15" id="539"/><a name="wbp14Chapter12P39" class="calibre15" id="wbp14Chapter12P39"/>Adding Additional USB Storage Devices</h2>
<a name="540" id="540"/><a name="IDX-168" id="IDX-168"/>
<p class="b24-bookeditorial">Adding additional storage devices can be done in the same way that you added  the first one: </p>
<ol class="orderedlist">
<li class="first-listitem">
<p class="b24-bookeditorial">Use the Hardware Browser to check the device location.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">Add a new entry to the fstab file.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">Create a new mountpoint.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">Restart your machine.</p>
</li>
<li class="first-listitem">
<p class="b24-bookeditorial">Mount the drive by right-clicking the desktop, and select<b class="calibre13"> Disks </b>&gt;<b class="calibre13"> </b><b class="calibre13"><i class="calibre11">newdrivename</i></b> from the pop-up menu.</p>
</li>
</ol>
</div>
</div>


<p class="calibre10" style="margin:0pt; border:0pt; height:1em"> </p><hr size="1" class="calibre1"/>




<hr size="1" class="calibre1"/>

<div class="calibre10">
<div class="calibre10">
<h2 class="sect2-title" id="calibre_pb_0">
<a name="541" class="calibre15" id="541"/><a name="wbp14Chapter12P42" class="calibre15" id="wbp14Chapter12P42"/>Dual Booters: Mounting Windows Partitions or Drives</h2>
<p class="b24-bookeditorial">If you are a dual booter, meaning that you have both Windows and Linux  installed on your hard disk, you may well want to be able to transfer files back  and forth between your Windows and Linux partitions or disks. This is useful, for  example, if you want to copy some of your Windows fonts to your Linux system,  as you will learn to do in the following chapter. To do this, you have to mount  your Windows partition or drive.</p>
<p class="b24-bookeditorial">Now don’t start hollering that your Windows partition is not a USB device; I  know that. However, the process of setting up your system so that you can easily  mount your Windows partition or drive is essentially the same as the one you  learned for mounting USB drives. </p>
<div class="calibre10">
<h3 class="sect3-title">
<a name="542" class="calibre15" id="542"/><a name="wbp14Chapter12P45" class="calibre15" id="wbp14Chapter12P45"/><i class="emphasis">Locating Your Windows Partition or Drive </i>
</h3>
<p class="b24-bookeditorial">
<a name="543" id="543"/><a name="IDX-169" id="IDX-169"/>Just as with USB storage devices, the first thing you have to do is locate your  Windows drive or partition with the Hardware Browser. Go to your Main menu  and select <b class="calibre13">System Tools </b>&gt;<b class="calibre13"> Hardware Browser</b>, and then type your root password  when requested to do so. Once the Hardware Browser opens up, click <b class="calibre13">Hard  Drives</b> in the left panel. </p>
<p class="b24-bookeditorial">Next, look for your Windows partition, which will most likely be <b class="calibre13">hda1. </b>Once  you’ve done this, check under the <b class="calibre13">Type</b> column to see what the file system format is for the partition. If it is <b class="calibre13">fat16</b> or <b class="calibre13">fat32</b>, you will have no problem. If, however, it is <b class="calibre13">ntfs</b> (which is the default file system for Windows NT, 2000, and XP)  you are out of luck and will have to forgo this process, as Linux doesn’t let you,  as of yet, mount NTFS partitions, and not without good reason. Linux kernel  support for NTFS is still buggy, thus endangering the integrity of such partitions  or drives.</p>
<p class="b24-bookeditorial">If you have a FAT16 or FAT32 partition, jot down the information for that  partition. In the case of the example shown earlier in <a href="DDU0089_split_001.html#530" target="_parent">Figure 12-3</a> on <a href="DDU0089_split_001.html#532" target="_parent">page 166</a>,  the necessary info would be: <b class="calibre13">/dev/hda1 fat32. </b>Once you’ve done that, you can  go on to edit the fstab file.<a name="544" id="544"/><a name="IDX-170" id="IDX-170"/>
</p>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="545" class="calibre15" id="545"/><a name="wbp14Chapter12P49" class="calibre15" id="wbp14Chapter12P49"/><i class="emphasis">Adding Your Windows Partition or Drive to the fstab File</i>
</h3>
<p class="b24-bookeditorial">Open a Terminal window, become root, and then type <span>gedit /etc/fstab</span> and press ENTER. When the fstab file opens in Gedit, add a new entry to the bottom of the  list by typing the following: </p>
<pre class="programlisting">/dev/hda1  /mnt/windows  vfat  defaults,users,noauto 0 0</pre>
<p class="b24-bookeditorial">Of course, if your device location is different, change the entry accordingly. You  might also want to change <span>noauto</span> to <span>auto</span>. If you do this, a desktop icon for your  Windows partition or drive will appear each time you log in, thus eliminating the  mount step each time you start your machine. When all is as you want it, click the  <b class="calibre13">Save</b> button, and quit Gedit.</p>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="546" class="calibre15" id="546"/><a name="wbp14Chapter12P53" class="calibre15" id="wbp14Chapter12P53"/><i class="emphasis">Creating a Mountpoint</i>
</h3>
<p class="b24-bookeditorial">Now that your fstab has been edited, it is time to create the mountpoint that you  listed in your fstab entry. Go back to your Terminal, which should still be in root  mode, and type <span>mkdir /mnt/windows</span> and press ENTER.</p>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="547" class="calibre15" id="547"/><a name="wbp14Chapter12P55" class="calibre15" id="wbp14Chapter12P55"/><i class="emphasis">Mounting Your Windows Partition or Disk</i>
</h3>
<p class="b24-bookeditorial">You can mount your Windows partition or drive in essentially the same manner  as was described for USB storage devices. Right-click anywhere on your desktop,  and then, in the pop-up menu, select <b class="calibre13">Disks </b>&gt;<b class="calibre13"> windows</b>. A desktop icon for your  Windows partition or drive will then appear. </p>
<p class="b24-bookeditorial">Double-clicking your Windows partition desktop icon will open a Nautilus  window. You can then drag files to and from the Windows partition.</p>
<p class="b24-bookeditorial">If you changed <span>noauto</span> to <span>auto</span> in your Windows partition fstab entry, you  won’t have to do anything the next time you start up your machine, as your  Windows partition will be mounted automatically on startup, and the Windows  partition desktop icon will appear automatically.</p>
</div>
<div class="calibre10">
<h3 class="sect3-title">
<a name="548" class="calibre15" id="548"/><a name="wbp14Chapter12P59" class="calibre15" id="wbp14Chapter12P59"/><i class="emphasis">Unmounting Your Windows Partition or Disk</i>
</h3>
<p class="b24-bookeditorial">Unmounting your Windows partition or disk is done in the same manner as  unmounting USB storage devices. Close any open Nautilus windows for the  partition, and then right-click the desktop icon for the Windows partition or  drive and select <b class="calibre13">Unmount Volume</b> from the pop-up menu.</p>
</div>
</div>
</div>


<p class="calibre10" style="margin:0pt; border:0pt; height:1em"> </p><hr size="1" class="calibre1"/>

</body></html>