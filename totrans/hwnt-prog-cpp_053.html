<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_59">
<a name="ch04" class="calibre6" id="ch04"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="60" class="calibre16" id="60"/><a name="ch04lev1sec25" class="calibre16" id="ch04lev1sec25"/><span class="chapter-titlelabel">Program 51: </span>A Surplus of Pluses</h2><p class="b24-bookeditorial">The programmer tried to do the right thing when defining the <span>++x</span> and <span>x++</span> operators. What does the following program print and why?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * Demonstrate how to define and use increment  *
  3  * operator.                                    *
  4  ************************************************/
  5 #include &lt;iostream&gt;
  6
  7 /************************************************
  8  * num -- Class to hold a single number         *
  9  ************************************************/
 10 class num
 11 {
 12         // Constructor defaults
 13         // Destructor defaults
 14         // Copy Constructor defaults
 15         // Assignment operator defaults
 16     public:
 17         // Value stored in the function
 18         int value;
 19
 20         // Increment operator (i++)
 21         num operator ++(int)
 22         {
 23             num copy(*this);  // Copy for return
 24
 25             value++;
 26             return (copy);
 27         }
 28
 29         // Increment operator (++i)
 30         num &amp;operator ++(void)
 31         {
 32             value++;
 33             return (*this);
 34         }
 35 };
 36
 37 int main()
 38 {
 39     num i;      // A value to play with
 40
 41     i.value = 1;
 42     ++++i;
 43     std::cout &lt;&lt; "i is " &lt;&lt; i.value &lt;&lt; std::endl;
 44
 45     i.value = 1;
 46     i++++;
 47     std::cout &lt;&lt; "i is " &lt;&lt; i.value &lt;&lt; std::endl;
 48     return (0);
 49 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#382" target="_parent" class="calibre2">Hint 246</a>. <a href="LiB0121.html#585" target="_parent" class="calibre2">Answer 87</a>.)</p>
</div>
</div>



</body></html>