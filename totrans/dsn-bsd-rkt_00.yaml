- en: INTRODUCTION
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 引言
- en: Welcome to *Designing BSD Rootkits*! This book will introduce you to the fundamentals
    of programming and developing kernel-mode rootkits under the FreeBSD operating
    system. Through the "learn by example" method, I'll detail the different techniques
    that a rootkit can employ so that you can learn what makes up rootkit code at
    its simplest level. It should be noted that this book does not contain or diagnose
    any "full-fledged" rootkit code. In fact, most of this book concentrates on *how*
    to employ a technique, rather than *what* to do with it.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎阅读《设计BSD Rootkits》！本书将向您介绍在FreeBSD操作系统下编程和开发内核模式rootkit的基础知识。通过“以例学”的方法，我将详细阐述rootkit可以采用的不同技术，以便您能学习rootkit代码在最简单层面的构成。需要注意的是，本书不包含或诊断任何“完整”的rootkit代码。实际上，本书的大部分内容集中在*如何*使用技术，而不是*如何*使用它。
- en: Note that this book has nothing to do with exploit writing or how to gain root
    access to a system; rather, it is about maintaining root access long after a successful
    break-in.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，本书与编写漏洞利用或如何获取系统root访问权限无关；相反，它关于在成功入侵后长时间保持root访问权限。
- en: What Is a Rootkit?
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是rootkit？
- en: While there are a few varied definitions of what constitutes a rootkit, for
    the purpose of this book, a *rootkit* is a set of code that allows someone to
    control certain aspects of the host operating system without revealing his or
    her presence. Fundamentally, that's what makes a rootkit—evasion of end user knowledge.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然关于构成rootkit的定义有很多种，但为了本书的目的，*rootkit*是一组代码，允许某人控制主机操作系统的某些方面，而不暴露其存在。从根本上说，这就是rootkit的特点——逃避最终用户的认知。
- en: Put more simply, a rootkit is a "kit" that allows a user to maintain "root"
    access.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 更简单地说，rootkit是一个允许用户保持“root”访问权限的“套件”。
- en: Why FreeBSD?
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么选择FreeBSD？
- en: FreeBSD is an advanced, open source operating system; with FreeBSD, you have
    full, uninhibited access to the kernel source, making it easier to learn systems
    programming—which is, essentially, what you'll be doing throughout this book.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD是一个高级的开源操作系统；使用FreeBSD，您可以完全无限制地访问内核源代码，这使得学习系统编程变得更容易——这正是您在本书中将要做的。
- en: The Goals of This Book
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书的目标
- en: The primary goal of this book is to expose you to rootkits and rootkit writing.
    By the time you finish this book, you should "theoretically" be able to rewrite
    the entire operating system, on the fly. You should also understand the theory
    and practicality behind rootkit detection and removal.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的主要目标是让您接触rootkit和rootkit编写。完成本书后，您“理论上”应该能够实时重写整个操作系统。您还应该理解rootkit检测和移除的理论和实践。
- en: The secondary goal of this book is to provide you with a practical, hands-on
    look at parts of the FreeBSD kernel, with the extended goal of inspiring you to
    explore and hack the rest of it on your own. After all, getting your hands dirty
    is always the best way to learn.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的次要目标是向您提供一个实际、动手的方式来了解FreeBSD内核的某些部分，最终目标是激发您自己探索和破解其余部分。毕竟，亲自动手总是学习最好的方式。
- en: Who Should Read This Book?
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 适合阅读本书的人群？
- en: This book is aimed at programmers with an interest in introductory kernel hacking.
    As such, experience writing kernel code is not required or expected.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目标读者是对入门级内核黑客感兴趣的程序员。因此，编写内核代码的经验不是必需的，也不期望有。
- en: To get the most out of this book, you should have a good grasp of the C programming
    language (i.e., you understand pointers) as well as *x*86 Assembly (AT&T Syntax).
    You'll also need to have a decent understanding of operating system theory (i.e.,
    you know the difference between a process and a thread).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 为了充分利用本书，您应该对C编程语言有很好的掌握（即您理解指针），以及*x*86汇编（AT&T语法）。您还需要对操作系统理论有相当的了解（即您知道进程和线程的区别）。
- en: Contents Overview
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 内容概述
- en: This book is (unofficially) divided into three sections. The first section ([Chapter 1](ch01.html
    "Chapter 1. LOADABLE KERNEL MODULES")) is essentially a whirlwind tour of kernel
    hacking, designed to bring a novice up to speed. The next section ([Chapter 2](ch02.html
    "Chapter 2. HOOKING") through [Chapter 6](ch06.html "Chapter 6. PUTTING IT ALL
    TOGETHER")) covers the gamut of current, popular rootkit techniques (i.e., what
    you would find in "the wild"); while the last section ([Chapter 7](ch07.html "Chapter 7. DETECTION"))
    focuses on rootkit detection and removal.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本书（非官方地）分为三个部分。第一部分（[第1章](ch01.html "第1章. 可加载内核模块"））基本上是对内核黑客技术的快速浏览，旨在使新手跟上进度。接下来的部分（[第2章](ch02.html
    "第2章. 捕获"）至[第6章](ch06.html "第6章. 整合一切"）涵盖了当前流行的根套技术范围（即你在“野外”会发现的技术）；而最后一部分（[第7章](ch07.html
    "第7章. 检测"））则专注于根套检测和移除。
- en: Conventions Used in This Book
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书使用的约定
- en: Throughout this book, I have used a boldface font in code listings to indicate
    commands or other text that I have typed in, unless otherwise specifically noted.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我使用粗体字在代码列表中指示我输入的命令或其他文本，除非有其他特别说明。
- en: Concluding Remarks
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: Although this book concentrates on the FreeBSD operating system, most (if not
    all) of the concepts can be applied to other OSes, such as Linux or Windows. In
    fact, I learned half of the techniques in this book on those very systems.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然本书专注于 FreeBSD 操作系统，但大多数（如果不是全部）的概念都可以应用于其他操作系统，例如 Linux 或 Windows。实际上，我在那些系统上学到了本书中一半的技术。
- en: Note
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: All of the code examples in this book were tested on an IA-32-based computer
    running FreeBSD 6.0-STABLE.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的所有代码示例均在基于 IA-32 的计算机上运行 FreeBSD 6.0-STABLE 进行过测试。
