- en: Chapter 17. TROUBLESHOOTING
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第17章。故障排除
- en: When your network is working properly, it's all but invisible; you can send
    and receive files through the network between any pair of computers or other connected
    devices. But when a connection fails, or one of your users can't find a network
    node, or any of a truly amazing number of other possible problems occurs, as the
    local network expert, it's your job is to fix it. Network problems always have
    a specific cause (or combination of causes), even if that cause is not obvious.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 当你的网络运行正常时，它几乎是无形的；你可以在任何一对计算机或其他连接设备之间通过网络发送和接收文件。但是，当连接失败，或者你的某个用户找不到网络节点，或者发生真正惊人的其他可能问题时，作为本地网络专家，你的任务是修复它。网络问题总是有特定的原因（或原因的组合），即使这个原因并不明显。
- en: Too often, a network error message will say something like "ask your network
    manager for assistance." But when the network manager is *you*, that message doesn't
    tell you how to solve the problem. This chapter offers some tools and methods
    that will help you identify and solve most network problems.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 太频繁地，网络错误信息会提示“向你的网络管理员寻求帮助”。但是，当网络管理员就是你时，这条信息并没有告诉你如何解决问题。本章提供了一些工具和方法，可以帮助你识别和解决大多数网络问题。
- en: General Troubleshooting Techniques
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一般故障排除技术
- en: The key to successful troubleshooting is to follow a logical problem-solving
    process, rather than simply trying things at random until you stumble upon the
    correct solution to your problem. Most people who spend a lot of their time fixing
    things use a system like this without a formal plan, but if you're new to repairing
    computers and networks, consider using the techniques in this chapter as a guide.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 成功故障排除的关键是遵循逻辑的解决问题的过程，而不是简单地随机尝试，直到你偶然找到解决问题的正确方法。大多数花大量时间修理东西的人都会使用这种系统，而不需要正式的计划，但如果你是修理计算机和网络的新手，请考虑将本章中的技术作为指南。
- en: Many of these suggestions are common-sense answers, rather than complex technical
    procedures. Don't overlook them; otherwise you can spend hours tracing a circuit
    or trying to find a bad connection just because somebody has unplugged a cable.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 许多这些建议都是常识性的答案，而不是复杂的技术程序。不要忽视它们；否则，你可能会花费数小时追踪电路或试图找到坏连接，仅仅因为有人拔掉了电缆。
- en: Remember that a problem that appears in your network might really be located
    on one of the computers or other devices *connected* to the network. In many cases,
    you will want to look for problems in the Windows, Macintosh, or Linux/Unix operating
    system as well as on the network itself.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，出现在你网络中的问题实际上可能位于网络中连接的计算机或其他设备之一。在许多情况下，你将想要在Windows、Macintosh或Linux/Unix操作系统以及网络本身中查找问题。
- en: Define the Problem
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 定义问题
- en: The first step in solving a problem should be to identify the symptoms. Remember
    that computers and networks don't break down completely at random. Every piece
    of information you can find about a problem can help you isolate and solve it.
    Is the problem a failure to connect to a particular computer through the network,
    or an error message, or a file transfer that takes longer than usual? Is it limited
    to a single computer, or does it appear all over the network? Have any of the
    lights on your network router, switch, or modem changed color or gone dark? Does
    the problem occur when you are using a particular program or only when a certain
    desk lamp (or vacuum cleaner or any other electrical device) is turned on? As
    you identify symptoms, make a list—either on paper or in your mind.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 解决问题的第一步应该是识别症状。记住，计算机和网络不会完全随机地崩溃。你可以找到的关于问题的每一份信息都可以帮助你隔离和解决问题。问题是无法通过网络连接到特定的计算机，还是错误信息，或者文件传输比平时花费的时间更长？问题是否仅限于单个计算机，还是出现在整个网络上？你的网络路由器、交换机或调制解调器上的任何灯光是否改变了颜色或变暗？问题是否在你使用特定程序时发生，或者只有在某个台灯（或吸尘器或任何其他电器）打开时才发生？当你识别症状时，制作一个清单——无论是写在纸上还是记在心里。
- en: If you see an error message, copy the exact text onto a piece of paper. You
    might have to restart the computer or go to another computer to search for information,
    and you will need the specific wording of the message. Don't ignore the cryptic
    code numbers or other apparently unintelligible information. Even if the message
    means nothing to you, it could be the key to finding the help you need.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到错误信息，将确切文本复制到一张纸上。你可能需要重新启动计算机或去另一台计算机上查找信息，你需要消息的具体措辞。不要忽视那些神秘的代码数字或其他看似难以理解的信息。即使信息对你来说毫无意义，它也可能是找到你需要帮助的关键。
- en: 'Sometimes you can identify a pattern in the symptoms. When more than one user
    reports the same problem, ask yourself what those users have in common: Are they
    all trying to use the printer or connect to the Internet at the same time? Are
    they connected to the network by Ethernet cables or Wi-Fi? Does the problem happen
    at the same time every day?'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候你可以在症状中识别出一个模式。当多个用户报告相同的问题时，问问自己这些用户有什么共同点：他们是否都在尝试同时使用打印机或连接到互联网？他们是通过以太网电缆还是Wi-Fi连接到网络的？问题是否每天都会在同一时间发生？
- en: If you're lucky, defining the problem can tell you enough to fix it. For example,
    if the Power LED indicator light on your modem is off, that's a good indication
    that the power cable is unplugged, either at the wall outlet or on the modem itself.
    If everybody has trouble connecting to the Internet during a rainstorm, maybe
    water is leaking into the telephone cable that carries your Internet connection
    from the utility pole to your house (that happened to me—the repair guy told me
    that the cable had been there since about 1927).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你很幸运，定义问题可以告诉你足够的信息来修复它。例如，如果你的调制解调器的电源LED指示灯熄灭，这表明电源线可能未插在墙上的插座或调制解调器本身上。如果在大雨期间每个人都遇到连接互联网的问题，可能是因为水渗入从公用事业杆到你的家的互联网连接的电话线（这发生在我身上——维修人员告诉我，那根线大约从1927年以来就在那里）。
- en: 'More often, your list of symptoms will be a starting point that you can use
    to search for more information. As you analyze the problem, ask yourself these
    questions:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 更常见的情况是，你的症状列表将成为你用来搜索更多信息的一个起点。在分析问题时，问问自己这些问题：
- en: '**What caused the problem?**'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**问题是由什么引起的？**'
- en: Did it occur when you or another user ran a specific program or tried to connect?
    Does the problem seem to be related to some other action? If you try the same
    action again, does the same problem occur? Did it first appear when you turned
    on a computer?
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 是在你或另一个用户运行特定程序或尝试连接时发生的吗？问题似乎与某些其他动作有关吗？如果你再次尝试相同的动作，是否会出现相同的问题？它第一次出现是在你打开计算机时吗？
- en: '**What has changed?**'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**发生了什么变化？**'
- en: Have you installed new hardware on the network or loaded new software on the
    server or another computer? Did you recently update the router's firmware? Have
    you made any other change to the network or another connected computer, even if
    the change seems unrelated to the problem?
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你是否在网络上安装了新的硬件，或在服务器或另一台计算机上加载了新的软件？你是否最近更新了路由器的固件？你是否对网络或另一台连接的计算机进行了任何其他更改，即使这个更改似乎与问题无关？
- en: '**What else happened?**'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**还发生了什么？**'
- en: Have you noticed any other problems or unexpected events? Has another network
    user experienced a similar problem at about the same time?
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你是否注意到其他问题或意外事件？是否有其他网络用户在大约同一时间遇到类似的问题？
- en: '**Is this a new problem?**'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '**这是新问题吗？**'
- en: Have you ever experienced this problem or something similar before?
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你以前是否遇到过这个问题或类似的问题？
- en: Look for Simple Solutions First
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 首先寻找简单解决方案
- en: Look for easy solutions before you start to tear apart hardware or run complex
    software diagnostic routines. Nothing is more aggravating than spending several
    hours running detailed troubleshooting procedures, only to discover that restarting
    a computer or flipping a switch is all that was needed to fix the problem.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始拆卸硬件或运行复杂的软件诊断程序之前，先寻找简单的解决方案。没有什么比花费几个小时运行详细的故障排除程序，最后发现只需重新启动计算机或翻转开关就能解决问题更令人沮丧的了。
- en: Restart Everything
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重新启动一切
- en: The first thing to try when an otherwise unexplainable problem occurs is to
    turn off each network component—one at a time—wait a few seconds, and then turn
    it back on again. Sometimes that's all you need to do to clear a program or a
    chunk of memory that is stuck on the wrong setting and return it to the correct
    value. If possible, use the operating system's shut-down process to turn off the
    computer in an orderly manner; don't use the power switch or reset button unless
    the computer won't respond to a mouse or keyboard command.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 当出现无法解释的问题时，首先要尝试的是逐一关闭每个网络组件——一次一个——等待几秒钟，然后再重新打开。有时这可能是清除卡在错误设置上的程序或内存块并使其回到正确值所需的所有操作。如果可能的话，使用操作系统的关机过程以有序的方式关闭计算机；除非计算机对鼠标或键盘命令无响应，否则不要使用电源开关或复位按钮。
- en: Note
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 备注
- en: Don't turn off your computer until you have copied the text of any error messages
    on the screen. Sometimes the same problem will produce a different message after
    you restart (or none at all), and the text of the original message might be a
    useful troubleshooting tool.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在您复制屏幕上任何错误信息的文本之前，不要关闭您的电脑。有时在重启（或根本没有任何信息）之后，相同的问题可能会产生不同的信息，而原始信息的文本可能是一个有用的故障排除工具。
- en: When you restart a computer, don't use the Restart option; that can leave some
    settings at the same values rather than resetting them to the default startup
    configuration. You should turn off the computer completely, count to ten, and
    then turn it back on.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 当您重启电脑时，不要使用重启选项；这可能会使一些设置保持相同的值，而不是将它们重置为默认启动配置。您应该完全关闭电脑，数到十，然后重新打开。
- en: If the problem continues after you restart the computer, try restarting the
    modem, Wi-Fi access point, or network router. If a device doesn't have an on/off
    switch, disconnect the power cable, wait a few seconds, and plug it back in. After
    you restart each device, check to find out if the problem still exists. If the
    problem still occurs, move on to the next device.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您重启电脑后问题仍然存在，尝试重启调制解调器、Wi-Fi接入点或网络路由器。如果一个设备没有开关，断开电源线，等待几秒钟，然后重新连接。在重启每个设备后，检查问题是否仍然存在。如果问题仍然发生，继续到下一个设备。
- en: Check the Plugs and Cables
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 检查插头和电缆
- en: If a single computer can't connect to the network, confirm that the physical
    cables providing those connections are not unplugged. Be sure to check both ends
    of each cable. If the whole network can't find the Internet, check the cables
    connected to the modem. If possible, examine the cable itself to make sure it
    hasn't been cut someplace in the middle.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一台电脑无法连接到网络，请确认提供这些连接的物理电缆没有拔出。务必检查每根电缆的两端。如果整个网络无法连接到互联网，请检查连接到调制解调器的电缆。如果可能，检查电缆本身，以确保它没有被中间切断。
- en: Almost all routers, switches, modems, and network adapters have LED indicators
    that light when they detect a live connection. If one or more of these LEDs has
    gone dark, check the connection.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 几乎所有的路由器、交换机、调制解调器和网络适配器都有LED指示灯，当它们检测到活动连接时，指示灯会亮起。如果一个或多个这些LED灯熄灭了，请检查连接。
- en: Most data plugs and sockets maintain solid connections, but it's possible that
    a plug might have come loose without separating itself from the socket, or a wire
    inside the plug might have a bad contact. If you suspect a loose connection, try
    wiggling the cable while you watch the LED indicator that corresponds to that
    socket. If the LED lights and goes dark as you shake the cable, try a different
    cable.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数数据插头和插座都保持稳固的连接，但有可能插头可能已经松动，但没有从插座中分离出来，或者插头内部的电线可能存在不良接触。如果您怀疑有松动的连接，尝试在观察与该插座对应的LED指示灯的同时晃动电缆。如果LED灯在晃动电缆时亮起然后熄灭，请尝试使用另一根电缆。
- en: If you can't connect through a newly installed wall outlet, make sure the wires
    inside the outlet are connected to the correct terminals at both ends of the cable
    inside the wall (at the outlet and at the data center).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您无法通过新安装的墙壁插座连接，请确保插座内部的电线在墙壁内部电缆的两端（插座和数据中心）正确连接到正确的端子上。
- en: To quickly confirm that data is passing through the network to and from each
    computer, use the tools supplied with the computer's operating system to display
    network activity. In Windows, use the Networking tab in the Task Manager; in Linux,
    use the `ethtool` command (`ethtool` *`interfacename`* `| grep Link`). If the
    computer reports that no link is available, a cable is disconnected or the network
    adapter or hub has a problem.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 为了快速确认数据正在通过网络在每台电脑之间传输，请使用计算机操作系统中提供的工具来显示网络活动。在Windows中，使用任务管理器中的网络选项卡；在Linux中，使用`ethtool`命令（`ethtool`
    *`interfacename`* `| grep Link`）。如果电脑报告没有可用的链接，可能是电缆未连接，或者网络适配器或集线器有问题。
- en: Check the AC Power
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 检查交流电源
- en: Every device connected to the network probably has an LED indicator that lights
    when the device is connected to AC power. When a connection fails, look at the
    front of each device to confirm the power light is on. If it's not, check the
    device's power switch (if it has one) and both the plug at the back of the device
    and the plug or power supply that plugs into the AC outlet.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 连接到网络的每个设备可能都有一个LED指示灯，当设备连接到交流电源时，指示灯会亮起。当连接失败时，查看每个设备的正面，以确认电源指示灯是亮的。如果它没有亮，检查设备的电源开关（如果有的话）以及设备后面的插头和插入交流电源插座的插头或电源供应。
- en: If you use a power strip or an uninterruptible power supply, make sure that
    the master power switch is turned on and the power unit is plugged into an AC
    outlet.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用电源插座或不间断电源，请确保主电源开关已打开，电源单元已插入交流电源插座。
- en: If the network fails but your computer still works, a fuse or circuit breaker
    might have blown in the room containing the network switch, router, or other control
    device.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 如果网络失败但你的计算机仍然工作，那么房间内包含网络交换机、路由器或其他控制设备的保险丝或断路器可能已经烧毁。
- en: Check the Settings and Options
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 检查设置和选项
- en: Look for other switches and settings that might interfere with a device's operation.
    For example, make sure that the network printer is online and that no Error LED
    indicators or messages are visible in the control panel. Or if you're having trouble
    with a Wi-Fi connection, make sure your computer hasn't associated itself with
    the "wrong" base station and connected to one of your neighbors' networks instead
    of your own.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 寻找可能干扰设备操作的其它开关和设置。例如，确保网络打印机处于在线状态，并且控制面板上没有可见的错误LED指示灯或消息。或者如果你在Wi-Fi连接上遇到麻烦，确保你的计算机没有与“错误的”基站关联并连接到邻居的网络而不是你自己的。
- en: Isolate the Problem
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 隔离问题
- en: If your search for simple solutions to a network problem or failure doesn't
    produce an answer, the next step is to identify the physical location where the
    problem is occurring. Although it's easy (and often appropriate) to think about
    a network as an amorphous cloud that exists everywhere at the same time, when
    you're looking for a specific point of failure, you must replace that cloud with
    a detailed map that shows every component and connection. If you don't already
    have a network diagram in your files, consider drawing one now.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你寻找简单解决方案以解决网络问题或故障但没有得到答案，下一步就是确定问题发生的物理位置。虽然将网络视为一个无处不在的、无形的云可能既简单（且通常合适），但在寻找特定的故障点时，你必须用一张详细的地图来代替那个云，该地图显示了每个组件和连接。如果你文件中没有网络图，现在考虑绘制一张。
- en: 'Most problems offer some kind of hint about their location: If just one computer''s
    connection to the network has failed, but all the others work properly, the problem
    is probably in that computer or its network link. But if nobody on the network
    can connect to any other computer or to the Internet, the problem is probably
    in a server, router, or other central device. Start searching for the source of
    a problem in the most logical device.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数问题都会提供一些关于其位置的线索：如果只是有一台计算机的网络连接失败了，但其他所有计算机都工作正常，那么问题可能就在那台计算机或其网络链路上。但如果网络上没有人能够连接到任何其他计算机或互联网，那么问题可能就在服务器、路由器或其他中央设备上。从最合理的设备开始搜索问题的源头。
- en: If you have a hardware problem, it's often effective to isolate the problem
    by replacing individual components and cables one at a time until the problem
    goes away. If the problem disappears when you install a replacement, that's a
    good indication that the original part was the source of the problem. If the replacement
    is a relatively expensive item like a router or a printer, you might want to send
    it back to the manufacturer for replacement or repair, especially if it's under
    warranty. But if you replace a cheap part like a cable or a network interface
    card, it's often easier to just throw it away and buy a new one.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有硬件问题，通过逐个替换组件和电缆来隔离问题通常很有效。如果在安装替换件时问题消失了，那么这是一个很好的迹象，表明原始部件是问题的源头。如果替换件是一个相对昂贵的物品，如路由器或打印机，你可能希望将其退回制造商进行更换或维修，尤其是如果它在保修期内。但如果替换的是一个便宜的部件，如电缆或网络接口卡，通常更容易直接扔掉并购买一个新的。
- en: Similar techniques can work with software. If a computer connection fails, try
    shutting down each program running on that computer, one at a time, and then try
    to reestablish the connection. If you recently installed a new program, driver,
    or update, try uninstalling the new software and test the connection again. If
    the connection works, the conflict is between the new software and your network
    connection or device driver. In Windows, try restarting the computer in Safe Mode
    and re-establishing the connection; if it works in Safe Mode, you know that the
    Windows operating system is not the source of the problem.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 类似的技巧也可以用于软件。如果计算机连接失败，尝试逐个关闭该计算机上运行的每个程序，然后尝试重新建立连接。如果你最近安装了新的程序、驱动程序或更新，尝试卸载新软件并再次测试连接。如果连接成功，则冲突是新软件与你的网络连接或设备驱动程序之间的冲突。在Windows中，尝试以安全模式重新启动计算机并重新建立连接；如果它在安全模式下工作，则你知道Windows操作系统不是问题的根源。
- en: Retrace Your Steps
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 追溯你的步骤
- en: Even if a network problem appears without warning, the problem was probably
    caused by something that has changed within the hardware or software. Therefore
    repeating your steps can often help identify and solve it.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 即使网络问题没有预警出现，问题可能也是由硬件或软件中的某些变化引起的。因此，重复你的步骤通常可以帮助识别和解决问题。
- en: Keep Notes
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 记录笔记
- en: As you try to identify and solve a problem, keep a record of what you have done.
    Describe each problem you encounter and what you did to fix it in a simple log
    or notebook. Note configuration settings, websites that provide useful information,
    and the exact location of any options or control programs that caused the problem
    or helped solve it. Keep this on paper, rather than in a text file stored on the
    computer, so you will be able to access it if the computer breaks down again.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 当你试图识别和解决问题时，记录你所做的一切。在简单的日志或笔记本中描述你遇到的每个问题以及你为修复它所做的事情。注意配置设置、提供有用信息的网站，以及任何导致问题或帮助解决问题的选项或控制程序的精确位置。将此记录在纸上，而不是存储在计算机上的文本文件中，这样你就可以在计算机再次出现问题时访问它。
- en: If the same problem appears again, your log will tell you exactly what you did
    to fix it the first time; rather than stepping through all the same unproductive
    troubleshooting techniques again, you can go directly to the correct solution.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如果相同的问题再次出现，你的日志将告诉你第一次修复它时做了什么；而不是再次通过所有无效的故障排除技术，你可以直接转到正确的解决方案。
- en: 'One excellent approach is to keep a network notebook in a loose-leaf binder.
    Among other things, your notebook should include the following:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 一个很好的方法是将网络笔记本放在活页夹中。除了其他事项外，你的笔记本应包括以下内容：
- en: The configuration settings and passwords for each modem, router, Wi-Fi access
    point, and other device connected to the network
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个调制解调器、路由器、Wi-Fi接入点和其他连接到网络的设备的配置设置和密码
- en: The numeric IP addresses for your Internet connection, DNS servers, default
    gateway, and subnet mask
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你互联网连接的数值IP地址、DNS服务器、默认网关和子网掩码
- en: The numeric addresses used by your LAN
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你局域网使用的数字地址
- en: The make, model, serial number, and MAC address (if you can find them) of each
    hub, switch, router, modem, Wi-Fi access point, network adapter, and other network
    device
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个集线器、交换机、路由器、调制解调器、Wi-Fi接入点、网络适配器和其他网络设备的制造商、型号、序列号和MAC地址（如果你能找到的话）
- en: A list of channel numbers, SSIDs, and passwords for your Wi-Fi network
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你Wi-Fi网络的频道号码、SSID和密码列表
- en: The telephone numbers and other contact information for your ISP and the telephone
    company or cable service that supplies your physical Internet connection
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你ISP的联系电话号码以及其他联系信息，以及提供你物理互联网连接的电话公司或电缆服务
- en: Instruction manuals for each modem, router, access point, or other network device
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个调制解调器、路由器、接入点或其他网络设备的说明书
- en: A list of your network's users, including names, telephone numbers, and logins
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你网络用户的列表，包括姓名、电话号码和登录名
- en: A diagram that shows how each computer and other device connects to the network
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一张显示每台计算机和其他设备如何连接到网络的图
- en: Passwords for each network server
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个网络服务器的密码
- en: Account names and passwords for your email service
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你电子邮件服务的用户名和密码
- en: A list of rooms that have wall-mounted network outlets and the label on the
    other end of each cable
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有网络插座的房间列表以及每根电缆另一端的标签
- en: A log of adds, moves, changes, and deletions to your network
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你网络中添加、移动、更改和删除的日志
- en: 'A log of repairs, including:'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包括以下内容的维修日志：
- en: The date and time each problem appeared
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个问题出现的时间和日期
- en: A description of each problem
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个问题的描述
- en: What you did to fix the problem
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您为解决问题所采取的措施
- en: The time and date of each call to a technical support center
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每次联系技术支持中心的通话时间和日期
- en: The name and telephone number of each technical support person you talk to
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您联系到的每个技术支持人员的姓名和电话号码
- en: The *trouble ticket* number or case number assigned to the problem by each support
    center
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个支持中心分配给问题的“故障单”编号或案例编号
- en: Warning
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 警告
- en: Your network notebook might contain confidential information such as passwords
    and information about user accounts. Therefore, you should to keep it in a secure
    location such as a locked cabinet or drawer.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 您的网络笔记本可能包含诸如密码和用户账户信息之类的机密信息。因此，您应该将其保存在安全的地方，如上锁的柜子或抽屉中。
- en: Viruses and Other Nasties
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 病毒和其他恶意软件
- en: If you can't find an obvious solution to a network problem, it never hurts to
    run a complete scan for viruses, worms, Trojan horses, and spyware on each computer
    connected to your LAN. Even if you have firewalls, up-to-date antivirus programs,
    and other network security software running on all your computers, it's possible
    that something might have slipped through your defenses.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您找不到明显的网络问题解决方案，对连接到您局域网的每台计算机进行病毒、蠕虫、特洛伊木马和间谍软件的完整扫描并不会造成伤害。即使您在所有计算机上运行了防火墙、最新的防病毒程序和其他网络安全软件，仍然有可能有东西绕过了您的防御。
- en: 'Several antivirus program vendors offer free online scans that might identify
    a virus that your resident program might not catch. As part of your troubleshooting
    routine, run a full scan with your usual network security programs and also use
    one or more of these online scans:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 几个防病毒程序供应商提供免费在线扫描，可能会识别出您本地程序可能无法检测到的病毒。作为您的故障排除常规的一部分，使用您通常的网络安全程序进行全面扫描，并使用一个或多个这些在线扫描：
- en: '| **Trend Micro HouseCall** [http://housecall.trendmicro.com](http://housecall.trendmicro.com)
    |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| **趋势科技 HouseCall** [http://housecall.trendmicro.com](http://housecall.trendmicro.com)
    |'
- en: '| **Symantec Security Check** [http://security.symantec.com/sscv6/default.asp](http://security.symantec.com/sscv6/default.asp)
    |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| **Symantec 安全检查** [http://security.symantec.com/sscv6/default.asp](http://security.symantec.com/sscv6/default.asp)
    |'
- en: '| **BitDefender Online Scanner** [http://www.bitdefender.com/scan8/ie.html](http://www.bitdefender.com/scan8/ie.html)
    |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| **BitDefender 在线扫描器** [http://www.bitdefender.com/scan8/ie.html](http://www.bitdefender.com/scan8/ie.html)
    |'
- en: '| **Kaspersky Online Scanner** [http://www.kaspersky.com/virusscanner](http://www.kaspersky.com/virusscanner)
    |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| **卡巴斯基在线扫描器** [http://www.kaspersky.com/virusscanner](http://www.kaspersky.com/virusscanner)
    |'
- en: '| **ESET Online Scanner** [http://www.eset.com/onlinescan/](http://www.eset.com/onlinescan/)
    |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| **ESET 在线扫描器** [http://www.eset.com/onlinescan/](http://www.eset.com/onlinescan/)
    |'
- en: '| **Panda ActiveScan** [http://www.pandasecurity.com/homeusers/solutions/activescan/](http://www.pandasecurity.com/homeusers/solutions/activescan/)
    |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| **熊猫 ActiveScan** [http://www.pandasecurity.com/homeusers/solutions/activescan/](http://www.pandasecurity.com/homeusers/solutions/activescan/)
    |'
- en: Use an online scanner made by a different supplier from the one that came with
    the antivirus program resident in your computers. Each company employs a slightly
    different set of rules for finding and isolating viruses, so you will want to
    take advantage of more than one approach.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 使用由不同供应商提供的在线扫描器，而不是您计算机中防病毒程序自带的扫描器。每个公司都采用略微不同的规则来查找和隔离病毒，因此您可能希望利用多种方法。
- en: Other Common Problems
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 其他常见问题
- en: It's not practical to describe every possible network problem, but there are
    a few that occur more frequently than others. If the problem in your network is
    not described in this chapter, try the Windows Network Problem Solver described
    in "The Collective Wisdom of the Internet" in [The Collective Wisdom of the Internet](ch17s05.html
    "The Collective Wisdom of the Internet") (for computers using Windows), or search
    for information about the problem in the web pages devoted to your own operating
    system.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 描述所有可能出现的网络问题并不实际，但有一些问题比其他问题更频繁地发生。如果您的网络问题在本章中没有描述，请尝试在[《互联网集体智慧》](ch17s05.html
    "《互联网集体智慧》")中描述的“Windows 网络问题解决器”（适用于使用 Windows 的计算机），或者搜索有关您自己的操作系统的网页上的相关信息。
- en: Configuration Settings
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置设置
- en: When you can't connect your computer to the Internet, but other computers on
    the same network can connect, check the computer's network configuration settings
    to confirm that the default gateway and the DNS server are present and correct.
    If none of the network's computers can find the Internet, check the settings on
    the network's router or modem.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 当您无法将计算机连接到互联网，但同一网络上的其他计算机可以连接时，检查计算机的网络配置设置以确认默认网关和DNS服务器存在且正确。如果网络中的所有计算机都无法找到互联网，请检查网络路由器或调制解调器的设置。
- en: To confirm that the gateway and the DNS server are alive and operating properly,
    try sending ping requests to their numeric addresses. If you don't receive a reply,
    look for a problem in the gateway or the server, or in the equipment and cables
    between your computer and the target.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 要确认网关和DNS服务器处于活动状态且正常运行，请尝试向它们的数字地址发送ping请求。如果您没有收到回复，请查找网关或服务器的问题，或者查找您计算机和目标之间的设备和电缆中的问题。
- en: 'DHCP Settings: DNS and Default Gateway'
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: DHCP设置：DNS和默认网关
- en: When a DHCP server is active on your network, and your own computer (or the
    one you're troubleshooting) is set to accept DHCP settings, the computer should
    automatically connect itself to the network. But if there's no DHCP server, or
    if the computer is not configured to accept DHCP data from a server and the settings
    on the computer itself are missing or incorrect, the computer won't connect.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 当您的网络上激活了DHCP服务器，并且您的计算机（或您正在排除故障的计算机）设置为接受DHCP设置时，计算机应自动连接到网络。但如果没有DHCP服务器，或者计算机未配置为从服务器接受DHCP数据，并且计算机本身的设置缺失或不正确，则计算机无法连接。
- en: 'To confirm that the DHCP settings are correct, follow these steps:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 要确认DHCP设置是否正确，请按照以下步骤操作：
- en: Check the modem, router, Wi-Fi access point, or other device that normally acts
    as DHCP server for your network. If the server is active (and other computers
    on the network are connecting normally), the problem is in your computer; if it's
    not active, either turn it on or confirm that this network doesn't use DHCP.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查作为您的网络DHCP服务器的调制解调器、路由器、Wi-Fi接入点或其他设备。如果服务器处于激活状态（并且网络上的其他计算机可以正常连接），则问题出在您的计算机上；如果服务器未激活，请打开它或确认该网络不使用DHCP。
- en: Open the network configuration settings utility in your computer. If the DHCP
    server is active, confirm that the computer is set to accept data from the server;
    if the network does not use DHCP, make sure the addresses for the DNS server and
    the default gateway (or gateway router) are correct.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的计算机中打开网络配置设置实用程序。如果DHCP服务器处于激活状态，请确认计算机设置为接受来自服务器的数据；如果网络不使用DHCP，请确保DNS服务器和默认网关（或网关路由器）的地址正确。
- en: If the DNS server settings in your computer or DHCP server appear to be correct,
    it's possible (but unlikely) that the DNS server itself is not working. Try adding
    the address of one of the OpenDNS servers (208.67.222.222 or 208.67.220.220) as
    an alternative to your usual DNS server's address.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您计算机或DHCP服务器中的DNS服务器设置看起来是正确的，那么DNS服务器本身可能不工作（但这种情况不太可能）。尝试将OpenDNS服务器（208.67.222.222或208.67.220.220）的地址添加为您的常用DNS服务器地址的备用选项。
- en: Failed Connection to a Specific Site
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 无法连接到特定网站
- en: When you try to connect to a specific website or other Internet service, you
    will sometimes see an *Unable to connect* message instead of the web page or other
    screen you were expecting. When this happens, immediately try some other address
    that takes you to a site in a different geographical location; for example, if
    you can't connect to *The New York Times* website, try a site based in Germany
    or Australia. If you can connect to the second address, you can safely assume
    that the problem is at the first address, and not in your own computer or network.
    If you can't connect to any site, look for a local problem such as your computer,
    the LAN, or your Internet service provider.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 当您尝试连接到特定网站或其他互联网服务时，您有时会看到“无法连接”的消息，而不是您预期的网页或其他屏幕。当这种情况发生时，立即尝试其他地址，该地址将带您到不同地理位置的网站；例如，如果您无法连接到“The
    New York Times”网站，请尝试位于德国或澳大利亚的网站。如果您可以连接到第二个地址，您可以安全地假设问题出在第一个地址，而不是您的计算机或网络上。如果您无法连接到任何网站，请寻找本地问题，例如您的计算机、局域网或您的互联网服务提供商。
- en: An Alternate Connection to the Internet
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 互联网的备用连接
- en: When your Internet connection breaks down, it's not possible to use that connection
    to consult technical support websites or send email to your network provider.
    Therefore, it's often helpful to have a backup method for connecting at least
    one of your computers to the Internet. It might be a neighbor's Wi-Fi network
    (with their permission, of course), a nearby library or coffee shop that offers
    Internet access, or a link through a dial-up telephone line and modem.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 当你的互联网连接中断时，无法使用该连接来咨询技术支持网站或向网络提供商发送电子邮件。因此，通常有一个备份方法来连接至少一台计算机到互联网是很有帮助的。这可能是一个邻居的Wi-Fi网络（当然，需要他们的许可），一个提供互联网接入的附近图书馆或咖啡馆，或者通过拨号电话线和调制解调器建立的联系。
- en: Before you have a problem, ask your Internet service provider if they offer
    dial-up access along with their high-speed services. If they do, ask them for
    a dial-up account as an emergency backup, and make a note of the access telephone
    numbers, login name, and password in your network notebook.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在遇到问题之前，向你的互联网服务提供商询问他们是否提供高速服务的同时也提供拨号接入。如果他们提供，请他们为你提供一个拨号账户作为紧急备份，并在你的网络笔记本上记下接入电话号码、登录名和密码。
- en: The Collective Wisdom of the Internet
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 互联网的集体智慧
- en: Any problem that occurs on your network has happened before to somebody else.
    You have an excellent chance of finding a description of the problem and instructions
    for fixing it someplace on the Internet.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的网络上发生的任何问题，之前都曾有人遇到过。你很可能在互联网的某个地方找到该问题的描述以及修复它的说明。
- en: This is where defining the problem carefully becomes important. If you're working
    with a Windows-based network, the Microsoft Knowledge Base at [http://support.microsoft.com/](http://support.microsoft.com/)
    can be particularly useful; if Microsoft's technical support people have ever
    had to deal with a particular problem, they have probably included instructions
    for fixing it in the Knowledge Base. Similar resources exist for Macintosh networks
    and servers at [http://www.apple.com/support](http://www.apple.com/support), and
    for Unix and Linux systems in the Support sections of each distribution's website.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是仔细定义问题变得重要的地方。如果你正在使用基于Windows的网络，微软知识库在[http://support.microsoft.com/](http://support.microsoft.com/)可能特别有用；如果微软的技术支持人员曾经处理过某个特定问题，他们可能已经在知识库中包含了修复它的说明。类似资源在[http://www.apple.com/support](http://www.apple.com/support)的Macintosh网络和服务器上，以及在各个发行版网站的支持部分为Unix和Linux系统提供。
- en: Other online sources for useful troubleshooting information include manufacturers'
    technical support centers, independent newsgroups and web forums, and sites such
    as Wikipedia and [HowStuffWorks.com](http://howstuffworks.com) that offer descriptions
    and explanations of various types of technology. If those sites don't answer your
    question, try a more general web search. Type a few keywords that describe the
    problem (such as "XP can't find network printer") or the exact text of an error
    message into a web search tool and follow each of the links to read about other
    people's experiences under similar circumstances. Remember that quotation marks
    around phrases instruct the search sites to search for the entire phrase rather
    than individual words.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 其他有用的故障排除信息在线来源包括制造商的技术支持中心、独立的新闻组和网络论坛，以及提供各种类型技术描述和解释的网站，如维基百科和[HowStuffWorks.com](http://howstuffworks.com)。如果这些网站不能回答你的问题，尝试进行更广泛的网络搜索。在搜索引擎中输入几个描述问题的关键词（例如“XP找不到网络打印机”）或错误信息的确切文本，并跟随每个链接阅读在类似情况下其他人的经历。记住，短语周围的引号指示搜索网站搜索整个短语，而不是单个单词。
- en: One particularly helpful tool for troubleshooting networks is the Windows Network
    Problem Solver at [http://winhlp.com/wxnet.htm](http://winhlp.com/wxnet.htm),
    shown in [Figure 17-1](ch17s05.html#the_windows_network_problem_solver_is_a "Figure 17-1. The
    Windows Network Problem Solver is an excellent interactive troubleshooting tool.
    This screen image shows only a small portion of the page; scroll down for additional
    information and instructions."). The Problem Solver is an interactive list of
    symptoms that links to instructions for solving the most likely cause of the problem.
    If you take the time to carefully answer each of the questions in the problem
    definition form, the Problem Solver can be a remarkably effective tool.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络故障排除中，一个特别有用的工具是位于[http://winhlp.com/wxnet.htm](http://winhlp.com/wxnet.htm)的Windows网络问题解决器，如图[图17-1](ch17s05.html#the_windows_network_problem_solver_is_a
    "图17-1. Windows网络问题解决器是一个出色的交互式故障排除工具。此屏幕截图仅显示页面的一小部分；向下滚动以获取更多信息和建议。")所示。问题解决器是一个交互式症状列表，链接到解决问题的指导说明。如果你花时间仔细回答问题定义表中的每个问题，问题解决器可以成为一个非常有效的工具。
- en: '![The Windows Network Problem Solver is an excellent interactive troubleshooting
    tool. This screen image shows only a small portion of the page; scroll down for
    additional information and instructions.](tagoreillycom20090324nostarchimages266482.png.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![Windows网络问题解决器是一个出色的交互式故障排除工具。此屏幕截图仅显示页面的一小部分；向下滚动以获取更多信息和建议。](tagoreillycom20090324nostarchimages266482.png.jpg)'
- en: '**Figure 17-1. The Windows Network Problem Solver is an excellent interactive
    troubleshooting tool. This screen image shows only a small portion of the page;
    scroll down for additional information and instructions.**'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**图17-1. Windows网络问题解决器是一个出色的交互式故障排除工具。此屏幕截图仅显示页面的一小部分；向下滚动以获取更多信息和建议。**'
- en: Software for Troubleshooting
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 故障排除软件
- en: Several software programs can gather and display useful information when you're
    trying to understand what's happening inside your network. These programs are
    available as free or trial downloads, so you don't incur a cost when testing them.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 几个软件程序可以在你试图了解网络内部发生的事情时收集和显示有用的信息。这些程序可以作为免费或试用下载获得，因此你在测试它们时无需承担费用。
- en: Network Magic
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Network Magic
- en: Network Magic ([http://www.networkmagic.com/](http://www.networkmagic.com/))
    provides a graphic display of the devices connected to a LAN, as shown in [Figure 17-2](ch17s06.html#network_magic_scans_your_lan_and_displa
    "Figure 17-2. Network Magic scans your LAN and displays all the devices connected
    to it."), and a central control point for adding new network devices or changing
    the existing network configuration. It can also perform some basic troubleshooting
    tests and automatic repairs.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: Network Magic ([http://www.networkmagic.com/](http://www.networkmagic.com/))
    提供了连接到局域网的设备的图形显示，如图[图17-2](ch17s06.html#network_magic_scans_your_lan_and_displa
    "图17-2. Network Magic扫描你的局域网并显示所有连接到它的设备。")所示，以及添加新网络设备或更改现有网络配置的中心控制点。它还可以执行一些基本的故障排除测试和自动修复。
- en: Protocol Analyzers
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 协议分析仪
- en: Microsoft Network Monitor (go to [http://www.microsoft.com/downloads/](http://www.microsoft.com/downloads/)
    and search for *Network Monitor*) and Wireshark ([http://www.wireshark.org/](http://www.wireshark.org/))
    are free protocol analyzers that capture and display data as it moves through
    your network. In other words, they grab each block of data (a *frame*) as it passes
    in or out of your computer, and they display the contents of the frame along with
    detailed information about the form and structure of each frame. [Figure 17-3](ch17s06.html#microsoft_network_monitor_displays_deta
    "Figure 17-3. Microsoft Network Monitor displays detailed information about network
    data.") shows a data capture in Network Monitor, and [Figure 17-4](ch17s06.html#wireshark_uses_contrasting_colors_to_sh
    "Figure 17-4. Wireshark uses contrasting colors to show different kinds of data
    frames.") shows a Wireshark screen. The two programs capture the same data stream,
    but they handle and display it differently. The programs are available at no cost,
    so you might want to install both of them. Protocol analyzers are also known as
    *network sniffers*.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 微软网络监视器（访问[http://www.microsoft.com/downloads/](http://www.microsoft.com/downloads/)并搜索*网络监视器*）和Wireshark（[http://www.wireshark.org/](http://www.wireshark.org/)）是免费的协议分析器，它们可以捕获并显示数据在网络中的移动情况。换句话说，它们会捕获每个数据块（一个*帧*）在进入或离开您的计算机时的内容，并显示每个帧的内容以及每个帧的形式和结构的详细信息。[图17-3](ch17s06.html#microsoft_network_monitor_displays_deta
    "图17-3. 微软网络监视器显示网络数据的详细信息。")显示了网络监视器中的数据捕获，[图17-4](ch17s06.html#wireshark_uses_contrasting_colors_to_sh
    "图17-4. Wireshark使用对比颜色来显示不同类型的数据帧。")显示了Wireshark的屏幕。这两个程序捕获相同的数据流，但它们处理和显示的方式不同。这些程序免费提供，因此您可能想要安装这两个程序。协议分析器也被称为*网络嗅探器*。
- en: '![Network Magic scans your LAN and displays all the devices connected to it.](tagoreillycom20090324nostarchimages266484.png.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![网络魔法扫描您的局域网并显示所有连接到它的设备。](tagoreillycom20090324nostarchimages266484.png.jpg)'
- en: '**Figure 17-2. Network Magic scans your LAN and displays all the devices connected
    to it.**'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**图17-2. 网络魔法扫描您的局域网并显示所有连接到它的设备。**'
- en: Most of this data display looks like hexadecimal gibberish, but it contains
    the actual text of messages, conversations, and other transactions, along with
    all the commands and status messages that move through the network. Most of the
    time, you can allow your computer and the network plumbing to handle the data
    in background. But when something goes wrong, the data captured by a protocol
    analyzer can help you identify what's causing the problem.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数这种数据显示看起来像十六进制乱码，但它包含了消息、对话和其他交易的实际文本，以及通过网络传输的所有命令和状态信息。大多数时候，您可以允许您的计算机和网络管道在后台处理数据。但当出现问题的时候，协议分析器捕获的数据可以帮助您确定问题的原因。
- en: For example, if the amount of incoming or outgoing traffic moving through your
    network increases, the network may be sending or receiving many requests every
    second. This could be a hacker's denial of service attack, or a computer that
    has innocently latched itself into an endless program loop. Either way, you will
    want to identify the source and take action to make it stop. When this happened
    to me, I used Wireshark to find the numeric IP address of the computer that was
    originating the bogus messages and a whois program to identify that computer's
    owner; then I sent an email explaining the problem and asking them to fix it.
    The data stream stopped within an hour.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果通过网络传输的进出流量增加，网络可能每秒发送或接收许多请求。这可能是一个黑客的拒绝服务攻击，或者是一台无意中陷入无限程序循环的计算机。无论如何，您都希望确定源头并采取措施使其停止。当这种情况发生在我身上时，我使用了Wireshark来找到发送虚假消息的计算机的数字IP地址，并使用whois程序来识别该计算机的所有者；然后我发送了一封电子邮件解释问题并要求他们修复它。数据流在一小时内停止。
- en: A network sniffer can also identify a device within your own network that becomes
    infected or has some other problem that interferes with proper operation. By running
    the sniffer program on more than one computer, or even inserting a sniffer at
    a router, a modem connection, or other interface point, you can often isolate
    the source of a problem.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 网络嗅探器还可以识别您自己的网络中感染或出现其他问题、干扰正常操作的设备。通过在多台计算机上运行嗅探程序，或者在路由器、调制解调器连接或其他接口点插入嗅探器，您通常可以隔离问题的源头。
- en: You won't use a protocol analyzer very often, which is probably okay, because
    it's a complex and tedious process. But when you need to know what's moving through
    your network, an analyzer can give you information that you won't find anywhere
    else.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 你不会经常使用协议分析器，这可能是好事，因为它是一个复杂且繁琐的过程。但当你需要知道通过网络传输的内容时，分析器可以提供你在其他地方找不到的信息。
- en: '![Microsoft Network Monitor displays detailed information about network data.](tagoreillycom20090324nostarchimages266486.png.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![Microsoft Network Monitor显示有关网络数据的详细信息。](tagoreillycom20090324nostarchimages266486.png.jpg)'
- en: '**Figure 17-3. Microsoft Network Monitor displays detailed information about
    network data.**'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**图17-3. Microsoft Network Monitor显示有关网络数据的详细信息。**'
- en: '![Wireshark uses contrasting colors to show different kinds of data frames.](tagoreillycom20090324nostarchimages266488.png.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![Wireshark使用对比颜色来显示不同类型的数据帧。](tagoreillycom20090324nostarchimages266488.png.jpg)'
- en: '**Figure 17-4. Wireshark uses contrasting colors to show different kinds of
    data frames.**'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '**图17-4. Wireshark使用对比颜色来显示不同类型的数据帧。**'
- en: ISP Problems
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ISP问题
- en: As a formal or informal network manager, you're often on your own when you're
    trying to find and fix a problem on your LAN, but if you or one of your users
    discovers a problem using the Internet, you might need help from your Internet
    service provider's (ISP's) support center and the people who run the computer
    or network at the other end of your connection.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一名正式或非正式的网络管理员，当你试图在局域网中查找和修复问题时，你通常独自一人，但如果你或你的用户在使用互联网时发现了一个问题，你可能需要从你的互联网服务提供商（ISP）的支持中心以及运行你连接另一端计算机或网络的人那里获得帮助。
- en: Therefore, you should find and keep the telephone numbers and email addresses
    of the ISP's help desk and the network tech center at the telephone company, cable
    TV service, or other company that provides the physical connection between your
    own LAN and your ISP. The people who answer calls in those support centers are
    there to help you, and they will often have tools that can test and monitor your
    network connection. When you talk to a support representative, ask for the case
    number or trouble ticket number that they have assigned to your problem; if you
    have to call back later, the case number will lead the person who takes your call
    to the notes about earlier calls.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你应该找到并保留ISP客服台和网络技术中心的电话号码和电子邮件地址，这些中心位于电话公司、有线电视服务或其他提供你自己的局域网和ISP之间物理连接的公司。那些支持中心接电话的人在那里是为了帮助你，他们通常会拥有可以测试和监控你的网络连接的工具。当你与支持代表交谈时，请要求他们为你分配的案件编号或故障报告编号；如果你稍后需要回电，案件编号将引导接听你电话的人找到之前通话的记录。
- en: Don't Panic
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不要慌张
- en: Finally, keep calm. Your network does not have a mind of its own. If you take
    a logical and organized approach to finding the cause of a network problem, you
    will probably solve the problem without developing (or enlarging) an ulcer. Over
    time, you will recognize particular symptoms and know how to home in on the most
    effective diagnostic tools and techniques.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，保持冷静。你的网络没有自己的思想。如果你采取逻辑和有条理的方法来寻找网络问题的原因，你可能会在没有发展（或扩大）溃疡的情况下解决问题。随着时间的推移，你会识别出特定的症状，并知道如何集中精力使用最有效的诊断工具和技术。
- en: If you can't find the problem after searching for an hour, walk away for a few
    minutes. Make yourself a sandwich, have a cup of coffee or a glass of lemonade,
    or go for a short walk. The network will still be there when you get back, and
    you'll feel better about it. Approaching the problem with a fresh mind can often
    be the most effective possible way to solve it.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在一小时内找不到问题，就离开几分钟。为自己做三明治，喝一杯咖啡或一杯柠檬水，或者去短途散步。当你回来时，网络还在那里，你会对它感觉更好。用清醒的头脑来处理问题通常可能是解决它的最有效方法。
