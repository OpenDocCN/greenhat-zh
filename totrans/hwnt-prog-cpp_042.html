<html><head></head><body>

<div class="calibre21" id="calibre_pb_0"/><div class="calibre1" id="calibre_toc_48">
<a name="ch04" class="calibre6" id="ch04"/>
<div class="calibre1">
<h2 class="lot-title" id="calibre_pb_1"><a name="49" class="calibre16" id="49"/><a name="ch04lev1sec14" class="calibre16" id="ch04lev1sec14"/><span class="chapter-titlelabel">Program 40: </span>Unbelievable Accuracy</h2><p class="b24-bookeditorial">This program is designed to figure the accuracy of the floating-point numbers. The idea is simple. Compute the following until the numbers are equal:</p>
<div class="calibre1">
<pre class="literallayout-normal">
        1.0 == 1.5      (1 + 1/2   or 1 + 1/21)    (1.1     binary)
        1.0 == 1.25     (1 + 1/4   or 1 + 1/22)    (l.oi    binary)
        1.0 == 1.125    (1 + 1/8   or 1 + 1/23)    (1.001   binary)
        1.0 == 1.0625   (1 + 1/16  or 1 + 1/24)    (1.0001  binary)
        1.0 == 1.03125  (1 + 1/32  or 1 + 1/25)    (1.00001 binary)
</pre>
</div>
<p class="b24-bookeditorial">That will give us the number of digits of accuracy.</p>
<p class="b24-bookeditorial">This program was run on a PC-class machine with 32-bit floating-point. So how many binary digits would you expect in a 32-bit float format?</p>
<p class="b24-bookeditorial">This program does not give the right answer. Why?</p>
<div class="calibre1">
<pre class="literallayout-normal">
  1 /************************************************
  2  * accuracy test.                               *
  3  *                                              *
  4  * This program figures out how many bits       *
  5  * accuracy you have on your system.  It does   *
  6  * this by adding up checking the series:       *
  7  *                                              *
  8  *              1.0 == 1.1 (binary)             *
  9  *              1.0 == 1.01 (binary)            *
 10  *              1.0 == 1.001 (binary)           *
 11  *              ....                            *
 12  *                                              *
 13  * Until the numbers are equal.   The result is *
 14  * the number of bits that are stored in the    *
 15  * fraction part of the floating point number.   *
 16  ************************************************/
 17 #include &lt;iostream&gt;
 18
 19 int main()
 20 {
 21     /* two numbers to work with */
 22     float number1, number2;
 23
 24     /* loop counter and accuracy check */
 25     int counter;
 26
 27     number1 = 1.0;
 28     number2 = 1.0;
 29     counter = 0;
 30
 31     while (number1 + number2 != number1) {
 32         ++counter;      // One more bit accurate
 33
 34         // Turn numbers like 0.1 binary
 35         // into 0.01 binary.
 36         number2 = number2 / 2.0;
 37     }
 38     std::cout &lt;&lt; counter &lt;&lt; " bits accuracy.\n";
 39     return (0);
 40 }
</pre>
</div>
<p class="b24-bookeditorial">(Next <a href="LiB0120.html#488" target="_parent" class="calibre2">Hint 352</a>. <a href="LiB0121.html#571" target="_parent" class="calibre2">Answer 73</a>.)</p>
<div class="calibre1">
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="Start Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
<p class="b24-bookeditorial">Modern typewriters use what is called a QWERTY keyboard (named for the top row of letters on the keyboard). This is the standard design. You might wonder why this particular layout was chosen. The answer is simple: It was to make typing difficult.</p>
<p class="b24-bookeditorial">Back in the days of the manual typewriter, the machine makers had a problem. People would type too fast and jam the keys. The solution was to arrange the keys to slow the people down and thus prevent jamming.</p>
<p class="b24-bookeditorial">A newer standard keyboard layout called the Dvorak keyboard has been created that greatly improves typing speed, but its acceptance has been limited by the fact that so many people already know QWERTY.</p>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td class="bluecell"><span class="calibre22"><b class="calibre13"><img src="_1.gif" alt="End Sidebar" border="0" class="calibre23"/></b></span></td>
</tr>
</table>
</div>
<table class="calibre3" border="0" cellspacing="0" cellpadding="0" width="100%">
<tr class="calibre4">
<td height="16" class="calibre8"/>
</tr>
</table>
</div>
</div>



</body></html>