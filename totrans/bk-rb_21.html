<html><head></head><body><div class="appendix" title="Appendix&#xA0;A.&#xA0;Documenting Ruby with RDoc"><div class="titlepage"><div><div><h1 class="title"><a id="documenting_ruby_with_rdoc"/>Appendix A. Documenting Ruby with RDoc</h1></div></div></div><div class="informalfigure"><a id="image_no_caption-id29"/><div class="mediaobject"><a id="I_mediaobject_d1e25142"/><img src="httpatomoreillycomsourcenostarchimages860138.png.jpg" alt="image with no caption"/></div></div><p>RDoc is the name given to a Ruby source code documentation format and tool. The RDoc tool, which comes standard with Ruby, can process Ruby code files and Ruby’s C-code class library in order to extract documentation and format it so that it can be displayed in, for example, a web browser. You can explicitly add RDoc documentation to your own code in the form of source code comments. The RDoc tool can also extract elements of the source code to provide the names of classes, modules, and methods, along with the names of any arguments required by methods.<a id="IDX-APP-A-0052" class="indexterm"/><a id="IDX-APP-A-0053" class="indexterm"/><a id="IDX-APP-A-0054" class="indexterm"/><a id="IDX-APP-A-0055" class="indexterm"/><a id="IDX-APP-A-0056" class="indexterm"/></p><p>It is easy to document your own code in a way that is accessible to the RDoc processor. Either you write a block of ordinary single-line comments before the code being documented (such as a class or method) or you write an embedded multiline comment delimited by <code class="literal">=begin rdoc</code> and <code class="literal">=end</code>. Note that <code class="literal">rdoc</code> must follow <code class="literal">=begin</code>; otherwise, the RDoc processor will ignore the comment block:</p><a id="I_programlisting_d1e25178"/><pre class="programlisting">=begin rdoc
This is an RDoc comment
=end</pre><p>This example, using single-line comments, is taken from the RDoc documentation:</p><a id="I_programlisting_d1e25182"/><pre class="programlisting"># Determine the letters in a word or phrase
#
# * all letters are converted to lowercase
# * anything not a letter is stripped out
# * the letters are converted into an array
# * the array is sorted
# * the letters are joined back into a string
def letters_of(text)
    text.downcase.delete('^a-z').split('').sort.join
end</pre><p>Here the <code class="literal">*</code> characters instruct RDoc to format items as a bulleted list, producing output similar to the following:</p><a id="I_programlisting_d1e25189"/><pre class="programlisting">letters_of(text)
Determine the letters in a word or phrase
    • all letters are converted to lowercase
    • anything not a letter is stripped out
    • the letters are converted into an array
    • the array is sorted
    • the letters are joined back into a string</pre><p>When you are ready to generate the documentation, you just need to run the RDoc processor from the command prompt. To generate documentation for a single file, enter <strong class="userinput"><code>rdoc</code></strong> followed by the name of the file:</p><a id="I_programlisting_d1e25196"/><pre class="programlisting">rdoc rdoc1.rb</pre><p>To generate documentation for multiple files, enter the filenames separated by spaces after the <code class="literal">rdoc</code> command:</p><a id="I_programlisting_d1e25204"/><pre class="programlisting">rdoc rdoc1.rb rdoc2.rb rdoc3.rb</pre><p>The RDoc tool will create a nicely formatted HTML file (<span class="emphasis"><em>index.html</em></span>) with three panes at the top and a fourth, larger pane at the bottom. The three top panes display the names of the files, classes, and methods, while the bottom pane displays the documentation.</p><p>The HTML contains hyperlinks so that you can click class and method names to navigate to the associated documentation. The documentation is placed into its own subdirectory, <span class="emphasis"><em>\doc</em></span>, along with a number of required HTML files and a style sheet to apply formatting.<a id="IDX-APP-A-0057" class="indexterm"/><a id="IDX-APP-A-0058" class="indexterm"/><a id="IDX-APP-A-0059" class="indexterm"/></p><p>You can add extra formatting to your RDoc comments by placing formatting characters around single words or by placing tags around multiple words. Use <code class="literal">*</code> and <code class="literal">*</code> for bold, <code class="literal">_</code> and <code class="literal">_</code> for italic, and <code class="literal">+</code> and <code class="literal">+</code> for a monospaced, “typewriter” font. The equivalent tags for longer pieces of text are <code class="literal">&lt;b&gt;</code> and <code class="literal">&lt;/b&gt;</code> for bold, <code class="literal">&lt;em&gt;</code> and <code class="literal">&lt;/em&gt;</code> for italic, and <code class="literal">&lt;tt&gt;</code> and <code class="literal">&lt;/tt&gt;</code> for typewriter.</p><p>If you want to exclude comments, or parts of a comment, from the RDoc documentation, you can place it between <code class="literal">#—</code> and <code class="literal">#++</code> comment markers, like this:</p><a id="I_programlisting_d1e25279"/><pre class="programlisting">#--
# This comment won't appear
# in the documentation
#++
# But this one will</pre><p>Special instructions are also available, enclosed between pairs of colons. For instance, if you want to add a title to be displayed in the browser bar, use <code class="literal">:title:</code> like this:</p><a id="I_programlisting_d1e25286"/><pre class="programlisting">#:title: My Fabulous RDoc Document</pre><p>Many more options are available with RDoc to enable you to format documentation in a variety of ways and output in alternative formats to HTML. If you really want to master RDoc, be sure to read the complete documentation, available online at <a class="ulink" href="http://rdoc.sourceforge.net/doc/index.html">http://rdoc.sourceforge.net/doc/index.html</a>.</p></div></body></html>