<html><head></head><body>

<div class="calibre1"><div class="calibre1"><a name="mysql_server_5.0.51" class="calibre8" id="mysql_server_5.0.51"/>
<div class="calibre24" id="calibre_pb_0"/><h2 id="title-ID0EEIPM" class="docPrefaceTitle">Chapter 14. MYSQL SERVER 5.0.51</h2>
<h4 class="calibre32"><a class="calibre2" target="_blank" href="HTTP://WWW.MYSQL.COM">HTTP://WWW.MYSQL.COM</a></h4>
<a name="summary-id13" class="calibre8" id="summary-id13"/>
<h3 class="docSection1Title" id="-100000">14.1. SUMMARY</h3>
<p class="docText1"><a name="MySQL is" class="calibre8" id="MySQL is"/>MySQL is an open source SQL (Structured Query Language) database management system. SQL is the most popular computer language used to interface with relational database management systems. A <span class="docEmphasis1"><a name="management system" class="calibre8" id="management system"/>relational database management system (RDBMS)</span><a name="relationships in" class="calibre8" id="relationships in"/> generally stores data and their relationships in a table using rows and columns. To be considered an RDBMS, the data must also be editable in this format.<a name="IDX-CHP-14-0215" class="calibre8" id="IDX-CHP-14-0215"/><a name="IDX-CHP-14-0216" class="calibre8" id="IDX-CHP-14-0216"/><a name="IDX-CHP-14-0217" class="calibre8" id="IDX-CHP-14-0217"/><a name="IDX-CHP-14-0218" class="calibre8" id="IDX-CHP-14-0218"/><a name="IDX-CHP-14-0219" class="calibre8" id="IDX-CHP-14-0219"/></p>
<p class="docText1"><a name="commonly paired" class="calibre8" id="commonly paired"/>MySQL is commonly paired with PHP to create dynamic websites. Some examples include WordPress (personal weblog software), MediaWiki (the foundation of Wikipedia), and phpBB (a web-based bulletin board system).</p>
<p class="docText1"><a name="most widely" class="calibre8" id="most widely"/>MySQL is the most widely deployed open source database in the world, with an estimated 11 million installations. According to a July 2004 report in the <span class="docEmphasis1">SD Times</span><a name="Oracle and" class="calibre8" id="Oracle and"/>, MySQL ranked third (with 33 percent market share) behind commercial giants Oracle and Microsoft's SQL Server.<sup class="docFootnote"><a class="calibre2" href="#CHP-14-1">[]</a></sup></p><blockquote class="calibre31"><p class="docFootnote1"><sup class="calibre37"><a name="CHP-14-1" class="calibre8" id="CHP-14-1">[]</a></sup> "Relational Databases Rule the Roost," <span class="docEmphasis1">SD Times</span> (2004), <a class="calibre2" target="_blank" href="http://www.sdtimes.com/content/article.aspx?ArticleID=27991">http://www.sdtimes.com/content/article.aspx?ArticleID=27991</a>.<a name="IDX-CHP-14-0220" class="calibre8" id="IDX-CHP-14-0220"/><a name="IDX-CHP-14-0221" class="calibre8" id="IDX-CHP-14-0221"/><a name="IDX-CHP-14-0222" class="calibre8" id="IDX-CHP-14-0222"/></p></blockquote>
<p class="docText1"><a name="in " class="calibre8" id="in "/>Michael Widenius and David Axmark wrote MySQL in 1995. Along with Allan Larsson, they are the co-founders of MySQL AB. The company sells support contracts and services for MySQL. Commercial licenses for MySQL are sold for applications that don't fall under the GNU GPL.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="resources-id13" class="calibre8" id="resources-id13"/>
<h3 class="docSection1Title" id="-100000">14.2. RESOURCES</h3>
<p class="docText1"><span class="b"><a name="MySQL Reference" class="calibre8" id="MySQL Reference"/>MySQL Reference Manual</span></p>
<p class="docText1"><a class="calibre2" target="_blank" href="http://dev.mysql.com/doc/refman/5.0/en">http://dev.mysql.com/doc/refman/5.0/en</a></p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="required-id13" class="calibre8" id="required-id13"/>
<h3 class="docSection1Title" id="-100000">14.3. REQUIRED</h3>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="FreeBSD " class="calibre8" id="FreeBSD "/> FreeBSD 7.0-RELEASE (see "<a class="calibre2" href="freebsd_7.0_split_000.html#freebsd_7.0">FreeBSD 7.0</a>")</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/><a name="collection " class="calibre8" id="collection "/> Updated ports collection (see "<a class="calibre2" href="freebsd_ports_collection.html#freebsd_ports_collection">FreeBSD Ports Collection</a>")</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/> Internet connection</p>
<p class="docText1"><img border="0" id="" src="OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg" alt="" class="calibre33"/> Registered domain name</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="preparation-id13" class="calibre8" id="preparation-id13"/>
<h3 class="docSection1Title" id="-100000">14.4. PREPARATION</h3>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="Become the" class="calibre8" id="Become the"/>Become the superuser.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="your server" class="calibre8" id="your server"/>Make sure your server's hostname is locally resolvable. This should already be the case if you are running your own DNS server and have it configured properly. If you aren't running your own DNS server, then make sure you have an entry in your <span class="docEmphasis1">/etc/hosts</span><a name="IP address" class="calibre8" id="IP address"/> file that points to your server's IP address. Open the <span class="docEmphasis1">hosts</span><a name="a text" class="calibre8" id="a text"/> file in a text editor:</p><pre class="calibre30"># <b class="calibre28">ee /etc/hosts</b></pre>
<p class="docText1">Your <span class="docEmphasis1">hosts</span><a name="like this" class="calibre8" id="like this"/> file (~14) should look like this (replace <a class="calibre2" target="_blank" href="http://example.com">example.com</a> with your domain name, <a class="calibre2" target="_blank" href="http://host.example.com">host.example.com</a> with your hostname, and <tt class="calibre20"><i class="docEmphasis1">192.168.1.11</i></tt> with your IP address):</p><pre class="calibre30">::1             localhost localhost.<tt class="calibre20"><i class="docEmphasis1">example.com</i></tt>
127.0.0.1       localhost localhost.<tt class="calibre20"><i class="docEmphasis1">example.com</i></tt>
<tt class="calibre20"><i class="docEmphasis1">192.168.1.11</i></tt> <tt class="calibre20"><i class="docEmphasis1">host.example.com</i></tt></pre><br class="calibre1"/>
</div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="install-id13" class="calibre8" id="install-id13"/>
<h3 class="docSection1Title" id="-100000">14.5. INSTALL</h3>
<p class="docText1"><a name="Enter the" class="calibre8" id="Enter the"/>Enter the following commands to begin installing MySQL Server:<a name="IDX-CHP-14-0223" class="calibre8" id="IDX-CHP-14-0223"/></p>
<pre class="calibre30"># <b class="calibre28">cd /usr/ports/databases/mysql50-server</b>
# <b class="calibre28">make -D BUILD_OPTIMIZED install clean</b>
# <b class="calibre28">rehash</b></pre>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="configure-id13" class="calibre8" id="configure-id13"/>
<h3 class="docSection1Title" id="-100000">14.6. CONFIGURE</h3>
<p class="docText1"><a name="Once the" class="calibre8" id="Once the"/>Once the installation process is complete, it's time to configure MySQL for use on your system.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="script" class="calibre8" id="script"/>Run the script <span class="docEmphasis1">mysql_install_db</span><a name="tables needed" class="calibre8" id="tables needed"/> to set up the grant tables needed by MySQL. <span class="docEmphasis1">Grant tables</span><a name="about MySQL" class="calibre8" id="about MySQL"/> store information about MySQL user permissions and other security settings. Use this command to run the script:</p><pre class="calibre30"># <b class="calibre28">mysql_install_db --user=mysql</b></pre>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="will start" class="calibre8" id="will start"/>The following commands will start the MySQL daemon and set up the MySQL root password (replace <tt class="calibre20"><i class="docEmphasis1">localpassword</i></tt> and <tt class="calibre20"><i class="docEmphasis1">remotepassword</i></tt> with your own passwords and <a class="calibre2" target="_blank" href="http://host.example.com">host.example.com</a> with your hostname):</p><pre class="calibre30"># <b class="calibre28">mysqld_safe &amp;</b>
# <b class="calibre28">mysqladmin -u root password '</b><span class="docEmphBoldItalic">localpassword</span><b class="calibre28">'</b>
# <b class="calibre28">mysqladmin -u root -h</b> <span class="docEmphBoldItalic">host.example.com</span> <b class="calibre28">password '</b><span class="docEmphBoldItalic">remotepassword</span><b class="calibre28">'</b></pre><br class="calibre1"/>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> The single quotes around <tt class="calibre20">localpassword</tt> and <tt class="calibre20">remotepassword</tt> are required. The remote password is used to log in to the MySQL server from a different computer. By default, MySQL encrypts the login information sent over TCP connections. Queries to and from the database after authentication are transmitted "in the clear."</span><hr size="1" noshade="noshade" class="calibre27"/></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="files located" class="calibre8" id="files located"/>MySQL includes a set of four sample configuration files located in the <span class="docEmphasis1">/usr/local/share/mysql</span> directory. Each of these <span class="docEmphasis1">option files</span><a name="as follows" class="calibre8" id="as follows"/> is tailored to a specific system configuration as follows:</p><dl class="docList2"><dd class="calibre36"><pre class="calibre30"><tt class="calibre20"><i class="docEmphasis1">my-small.cnf</i></tt></pre> For systems with up to 64MB of RAM</dd><dd class="calibre36"><pre class="calibre30"><tt class="calibre20"><i class="docEmphasis1">my-medium.cnf</i></tt></pre> For systems with up to 128MB of RAM (ideal for web servers)</dd><dd class="calibre36"><pre class="calibre30"><tt class="calibre20"><i class="docEmphasis1">my-large.cnf</i></tt></pre> For systems with 512MB of RAM (dedicated MySQL servers)</dd><dd class="calibre36"><pre class="calibre30"><tt class="calibre20"><i class="docEmphasis1">my-huge.cnf</i></tt></pre> For systems with 1 to 2GB of RAM (datacenters, etc.)</dd></dl><p class="docText1"><a name="to the" class="calibre8" id="to the"/>Decide which option file suits your system's needs, and then copy it to the <span class="docEmphasis1">/var/db/mysql</span> directory as <span class="docEmphasis1">my.cnf</span>. For example, if you decided to use <span class="docEmphasis1">my-medium.cnf</span> as your configuration file, you would enter:</p><pre class="calibre30"># <b class="calibre28">cp /usr/local/share/mysql/my-medium.cnf /var/db/mysql/my.cnf</b></pre><br class="calibre1"/>
</div></li></ol></div>
<a name="disabling_mysql_tcp_networking" class="calibre8" id="disabling_mysql_tcp_networking"/>
<h4 id="title-ID0E1NPM" class="docSection1Title">14.6.1. Disabling MySQL TCP Networking</h4>
<p class="docText1"><a name="for web" class="calibre8" id="for web"/>If you intend to use MySQL solely for web-based PHP applications, disabling TCP networking can make your MySQL installation a bit more secure.</p>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> This only applies if your web server and MySQL database are operating on the same computer.</span><hr size="1" noshade="noshade" class="calibre27"/>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="MySQL TCP" class="calibre8" id="MySQL TCP"/>To disable MySQL TCP networking, modify the <span class="docEmphasis1">my.cnf</span><a name="configuration file" class="calibre8" id="configuration file"/> configuration file in the <span class="docEmphasis1">/var/db/mysql</span> directory:</p><pre class="calibre30"># <b class="calibre28">ee /var/db/mysql/my.cnf</b></pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="and uncomment" class="calibre8" id="and uncomment"/>Scroll down and uncomment (remove the preceding hash mark) line 45 (approximately) to appear as follows:</p><pre class="calibre30">skip-networking</pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1">Save and exit.</p><p class="docText1">More information on the <span class="docEmphasis1">my.cnf</span><a name="at" class="calibre8" id="at"/> option file can be found at <a class="calibre2" target="_blank" href="http://dev.mysql.com/doc/refman/5.0/en/option-files.html">http://dev.mysql.com/doc/refman/5.0/en/option-files.html</a>.</p></div></li></ol></div>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="testing-id8" class="calibre8" id="testing-id8"/>
<h3 class="docSection1Title" id="-100000">14.7. TESTING</h3>
<p class="docText1"><a name="In this" class="calibre8" id="In this"/>In this section, we'll perform a basic test to confirm that MySQL functions properly.</p>
<div class="calibre34"><ol class="docList" type="1"><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="to start" class="calibre8" id="to start"/>Configure MySQL to start automatically at system startup. Open the <span class="docEmphasis1">etc/rc.conf</span> file:</p><pre class="calibre30"># <b class="calibre28">ee /etc/rc.conf</b></pre>
<p class="docText1">and add the following line:</p><pre class="calibre30">mysql_enable="YES"</pre><br class="calibre1"/>
<p class="docText1">Save and exit.</p></div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="made in" class="calibre8" id="made in"/>To commit changes that were made in the configuration section above, restart MySQL:</p><pre class="calibre30"># <b class="calibre28">/usr/local/etc/rc.d/mysql-server restart</b></pre><br class="calibre1"/>
</div></li><li class="calibre16"><div class="calibre35"><p class="docText1"><a name="following query" class="calibre8" id="following query"/>Issue the following query to display the existing databases on the server:</p><pre class="calibre30"># <b class="calibre28">mysqlshow -p</b></pre><br class="calibre1"/>
</div></li></ol></div>
<p class="docText1"><a name="server is" class="calibre8" id="server is"/>If the MySQL server is working properly, you should see the following output:</p>
<pre class="calibre30">+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+</pre><br class="calibre1"/>
<p class="docText1"><a name="to connect" class="calibre8" id="to connect"/>If you get an error about the inability to connect, check the error log in <span class="docEmphasis1">/var/db/mysql</span><a name="named" class="calibre8" id="named"/> for error messages. The error log will be named <a class="calibre2" target="_blank" href="http://host.example.com.err">host.example.com.err</a> (with your hostname).</p>
<p class="docText1">Also, check that the permissions of your <span class="docEmphasis1">/tmp</span> directory are correct. The permissions can be displayed by typing:</p>
<pre class="calibre30"># <b class="calibre28">ls -ld /tmp </b>
<i class="docEmphasis1">drwxrwxrwt </i>   7 root  wheel      512 Feb 17 12:00 /tmp</pre><br class="calibre1"/>
<p class="docText1">Permissions for the <span class="docEmphasis1">/tmp</span><a name="sample output" class="calibre8" id="sample output"/> directory should be set as shown in italics in the sample output line. If your permissions or ownership are different, the superuser can correct them with the following commands:</p>
<pre class="calibre30"># <b class="calibre28">chown root:wheel /tmp</b>
# <b class="calibre28">chmod 777 /tmp</b>
# <b class="calibre28">chmod =t /tmp</b></pre><br class="calibre1"/>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="basics" class="calibre8" id="basics"/>
<h3 class="docSection1Title" id="-100000">14.8. BASICS</h3>
<p class="docText1"><a name="This section" class="calibre8" id="This section"/>This section covers some basic commands for creating, deleting, and adding users to databases with MySQL. To access these commands, log in to the MySQL monitor as root. <span class="docEmphasis1">MySQL monitor</span><a name="shell used" class="calibre8" id="shell used"/> is a command-line shell used to administer MySQL. You will be prompted to enter the localhost MySQL root password you created in step 2 of "<a class="calibre2" href="configure-id13.html#configure-id13">Configure</a>".<a name="IDX-CHP-14-0224" class="calibre8" id="IDX-CHP-14-0224"/></p>
<pre class="calibre30"># <b class="calibre28">mysql -u root -p</b></pre>
<p class="docText1">To exit MySQL monitor, enter:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">exit;</b></pre><br class="calibre1"/>
<a name="show_databases" class="calibre8" id="show_databases"/>
<h4 id="title-ID0E2LPM" class="docSection1Title">14.8.1. Show Databases</h4>
<p class="docText1"><a name="databases in" class="calibre8" id="databases in"/>To show a list of databases in MySQL, use the following command at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">show databases;</b></pre><br class="calibre1"/>
<hr size="1" noshade="noshade" class="calibre27"/><span><i class="docEmphasis1"><b class="calibre28">Note:</b></i> The semicolon is an important part of MySQL's command line syntax; it signifies the end of a statement.</span><hr size="1" noshade="noshade" class="calibre27"/>
<a name="create_a_database" class="calibre8" id="create_a_database"/>
<h4 id="title-ID0ERMPM" class="docSection1Title">14.8.2. Create a Database</h4>
<p class="docText1"><a name="following command" class="calibre8" id="following command"/>Use the following command to create a new database named <span class="docEmphasis1">testing</span><a name="your choice" class="calibre8" id="your choice"/> (substitute a name of your choice):</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">create database</b> <span class="docEmphBoldItalic">testing</span>;</pre><br class="calibre1"/>
<a name="add_a_user_to_a_database" class="calibre8" id="add_a_user_to_a_database"/>
<h4 id="title-ID0EINPM" class="docSection1Title">14.8.3. Add a User to a Database</h4>
<p class="docText1"><a name="can give" class="calibre8" id="can give"/>When you add a user to a database, you can give him full rights, read-only rights, or custom rights.</p>
<p class="docText1"><span class="b">Full Rights</span></p>
<p class="docText1"><a name="rights to" class="calibre8" id="rights to"/>To add a user and allow full rights to a specific database, use the following command at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">grant all on</b> <span class="docEmphBoldItalic">database</span><b class="calibre28">.* to</b> <span class="docEmphBoldItalic">user</span><b class="calibre28">@</b><span class="docEmphBoldItalic">localhost</span> <span class="b">identified by</span>
    -&gt; <b class="calibre28">'</b><span class="docEmphBoldItalic">password</span><b class="calibre28">';</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">database</i></tt> with the database name, <tt class="calibre20"><i class="docEmphasis1">user</i></tt> with the username, and <tt class="calibre20"><i class="docEmphasis1">password</i></tt><a name="to be" class="calibre8" id="to be"/> with the password for this user. If you need this database to be accessible externally (using TCP), replace <tt class="calibre20"><i class="docEmphasis1">localhost</i></tt> with your server's hostname (for locally hosted web-based PHP applications, use <tt class="calibre20">localhost</tt>).</p>
<p class="docText1"><span class="b">Read-Only Rights</span></p>
<p class="docText1"><a name="the following" class="calibre8" id="the following"/>To add a user with read-only access rights, use the following command at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">grant select on</b> <span class="docEmphBoldItalic">database</span><b class="calibre28">.* to</b> <span class="docEmphBoldItalic">user</span><b class="calibre28">@</b><span class="docEmphBoldItalic">localhost</span> <span class="b">identified</span>
    -&gt; <b class="calibre28">by '</b><span class="docEmphBoldItalic">password</span><b class="calibre28">';</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">database</i></tt><a name="database name" class="calibre8" id="database name"/> with the database name, <tt class="calibre20"><i class="docEmphasis1">user</i></tt><a name="with the" class="calibre8" id="with the"/> with the username, and <tt class="calibre20"><i class="docEmphasis1">password</i></tt><a name="password for" class="calibre8" id="password for"/> with the password for this user. If you need this database to be accessible externally (using TCP), replace <tt class="calibre20"><i class="docEmphasis1">localhost</i></tt><a name="PHP applications" class="calibre8" id="PHP applications"/> with your server's hostname (for locally hosted web-based PHP applications, use <tt class="calibre20">localhost</tt>).</p>
<p class="docText1"><span class="b">Custom Rights</span></p>
<p class="docText1"><a name="a user" class="calibre8" id="a user"/>To add a user with custom access rights, use the following command at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">grant</b> <span class="docEmphBoldItalic">options</span> <b class="calibre28">on</b> <span class="docEmphBoldItalic">database</span><b class="calibre28">.* to</b> <span class="docEmphBoldItalic">user</span><b class="calibre28">@</b><span class="docEmphBoldItalic">localhost</span> <span class="b">identified</span>
    -&gt; <b class="calibre28">by '</b><span class="docEmphBoldItalic">password</span><b class="calibre28">';</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">options</i></tt><a name="all of" class="calibre8" id="all of"/> with any or all of the following: <tt class="calibre20">select</tt>, <tt class="calibre20">insert</tt>, <tt class="calibre20">update</tt>, <tt class="calibre20">delete</tt>, <tt class="calibre20">create</tt>, or <tt class="calibre20">drop</tt> (separate multiple items with commas). Replace <tt class="calibre20"><i class="docEmphasis1">database</i></tt> with the database name, <tt class="calibre20"><i class="docEmphasis1">user</i></tt> with the username, and <tt class="calibre20"><i class="docEmphasis1">password</i></tt><a name="this database" class="calibre8" id="this database"/> with the password for this user. If you need this database to be accessible externally (using TCP), replace <tt class="calibre20"><i class="docEmphasis1">localhost</i></tt> with your server's hostname (for locally hosted web-based PHP applications, use <tt class="calibre20">localhost</tt>).</p>
<a name="remove_a_user_from_a_database" class="calibre8" id="remove_a_user_from_a_database"/>
<h4 id="title-ID0EDSPM" class="docSection1Title">14.8.4. Remove a User from a Database</h4>
<p class="docText1"><a name="for a" class="calibre8" id="for a"/>To remove all privileges to a database for a particular user, use the following command at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">revoke all privileges on</b> <span class="docEmphBoldItalic">database</span><b class="calibre28">.* from</b> <span class="docEmphBoldItalic">user</span><b class="calibre28">@localhost;</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">database</i></tt> with the database name and <tt class="calibre20"><i class="docEmphasis1">user</i></tt> with the username whose privileges you wish to revoke.</p>
<a name="remove_a_user_from_mysql" class="calibre8" id="remove_a_user_from_mysql"/>
<h4 id="title-ID0ECTPM" class="docSection1Title">14.8.5. Remove a User from MySQL</h4>
<p class="docText1"><a name="at the" class="calibre8" id="at the"/>To remove a user from MySQL completely, use the following commands at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">revoke all privileges, grant option from</b> <span class="docEmphBoldItalic">user</span><b class="calibre28">@localhost;</b>
mysql&gt; <b class="calibre28">drop user</b> <span class="docEmphBoldItalic">user</span><b class="calibre28">@localhost;</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">user</i></tt><a name="wish to" class="calibre8" id="wish to"/> with the username of the user you wish to remove from MySQL.</p>
<a name="delete_a_database" class="calibre8" id="delete_a_database"/>
<h4 id="title-ID0EBUPM" class="docSection1Title">14.8.6. Delete a Database</h4>
<p class="docText1"><a name="a database" class="calibre8" id="a database"/>To delete a database named <span class="docEmphasis1">testing</span><a name="from MySQL" class="calibre8" id="from MySQL"/> from MySQL, use the following command at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">drop database</b> <span class="docEmphBoldItalic">testing</span><b class="calibre28">;</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">testing</i></tt><a name="name of" class="calibre8" id="name of"/> with the name of the database you wish to delete.</p>
<a name="show_user_privileges" class="calibre8" id="show_user_privileges"/>
<h4 id="title-ID0E4UPM" class="docSection1Title">14.8.7. Show User Privileges</h4>
<p class="docText1"><a name="privileges for" class="calibre8" id="privileges for"/>To show all of the privileges for a particular user, use the following command at the MySQL prompt:</p>
<pre class="calibre30">mysql&gt; <b class="calibre28">show grants for</b> <span class="docEmphBoldItalic">user</span><b class="calibre28">@localhost;</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">user</i></tt><a name="username you" class="calibre8" id="username you"/> with the username you wish to view the privileges for.</p>
<a name="back_up_all_databases" class="calibre8" id="back_up_all_databases"/>
<h4 id="title-ID0EWVPM" class="docSection1Title">14.8.8. Back Up All Databases</h4>
<p class="docText1"><a name="all MySQL" class="calibre8" id="all MySQL"/>To back up all MySQL databases, use the following command (you will be prompted for your localhost root password):</p>
<pre class="calibre30"># <b class="calibre28">mysqldump -u root -p --all-databases &gt; /</b><span class="docEmphBoldItalic">path</span><b class="calibre28">/</b><span class="docEmphBoldItalic">filename</span><b class="calibre28">.sql</b></pre><br class="calibre1"/>
<p class="docText1">Substitute the path and filename of the backup file.</p>
<a name="back_up_a_single_database" class="calibre8" id="back_up_a_single_database"/>
<h4 id="title-ID0EOWPM" class="docSection1Title">14.8.9. Back Up a Single Database</h4>
<p class="docText1"><a name="following command" class="calibre8" id="following command"/>To back up a particular MySQL database, use the following command (you will be prompted for your localhost root password):</p>
<pre class="calibre30"># <b class="calibre28">mysqldump -u root -p --databases</b> <span class="docEmphBoldItalic">dbname</span> <b class="calibre28">&gt; /</b><span class="docEmphBoldItalic">path</span><b class="calibre28">/</b><span class="docEmphBoldItalic">filename</span><b class="calibre28">.sql</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">dbname</i></tt><a name="path and" class="calibre8" id="path and"/> with the database name and substitute the path and filename of the backup file.</p>
<a name="restore_a_database" class="calibre8" id="restore_a_database"/>
<h4 id="title-ID0EOXPM" class="docSection1Title">14.8.10. Restore a Database</h4>
<p class="docText1"><a name="prompted for" class="calibre8" id="prompted for"/>To restore a MySQL database, use the following command (you will be prompted for your localhost root password):</p>
<pre class="calibre30"># <b class="calibre28">mysql -u root -p</b> <span class="docEmphBoldItalic">dbname</span> <b class="calibre28">&lt; /</b><span class="docEmphBoldItalic">path</span><b class="calibre28">/</b><span class="docEmphBoldItalic">filename</span><b class="calibre28">.sql</b></pre><br class="calibre1"/>
<p class="docText1">Replace <tt class="calibre20"><i class="docEmphasis1">dbname</i></tt><a name="wish to" class="calibre8" id="wish to"/> with the name of the database you wish to restore and substitute the path and filename of the backup file to import.</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="config_files-id13" class="calibre8" id="config_files-id13"/>
<h3 class="docSection1Title" id="-100000">14.9. CONFIG FILES</h3>
<p class="docText1"><span class="b">/var/db/mysql/my.cnf</span></p>
<p class="docText1"><a name="The MySQL" class="calibre8" id="The MySQL"/>The MySQL configuration file used to specify MySQL options</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="log_files-id7" class="calibre8" id="log_files-id7"/>
<h3 class="docSection1Title" id="-100000">14.10. LOG FILES</h3>
<p class="docText1"><a class="calibre2" target="_blank" href="http:///var/db/mysql/host.example.com.err">/var/db/mysql/host.example.com.err</a><a name="IDX-CHP-14-0225" class="calibre8" id="IDX-CHP-14-0225"/></p>
<p class="docText1"><a name="Contains MySQL" class="calibre8" id="Contains MySQL"/>Contains MySQL server status messages, errors, and so on</p>
</div></div>




<div class="calibre1"><div class="calibre1"><a name="notes-id9" class="calibre8" id="notes-id9"/>
<h3 class="docSection1Title" id="-100000">14.11. NOTES</h3>
<p class="docText1"><a name="A popular" class="calibre8" id="A popular"/>A popular administration tool called phpMyAdmin utilizes PHP to create a web interface to handle administration of MySQL. See "<a class="calibre2" href="phpmyadmin_2.11.5.html#phpmyadmin_2.11.5">phpMyAdmin 2.11.5</a>" for more details.</p>
</div></div>

</body></html>