- en: Chapter 2\. FREEBSD PORTS COLLECTION
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第2章. FREEBSD端口集合
- en: '[HTTP://WWW.FREEBSD.ORG/PORTS](HTTP://WWW.FREEBSD.ORG/PORTS)'
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[HTTP://WWW.FREEBSD.ORG/PORTS](HTTP://WWW.FREEBSD.ORG/PORTS)'
- en: 2.1\. SUMMARY
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1. 摘要
- en: As you learned in "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)" the
    ports collection provides a simple and centralized way of installing software
    on FreeBSD. It consists of categorized directories containing makefiles that are
    used by the `make` command to compile source code into executable programs or
    libraries. The ports collection is designed to be automated and relatively easy
    to use.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你在"[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)"中学到的，端口集合为在FreeBSD上安装软件提供了一种简单且集中的方式。它由分类的目录组成，包含由make命令使用的makefile，用于将源代码编译成可执行程序或库。端口集合旨在自动化且相对易于使用。
- en: Ports are maintained by designated port administrators who are responsible for
    ensuring that each port stays current with the latest version available from the
    original software author.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 端口由指定的端口管理员维护，他们负责确保每个端口与原始软件作者的最新版本保持一致。
- en: 'Installing software from a port builds the program from its source code; if
    the source code isn''t already on the system, it is downloaded from a site designated
    in the makefile. The system verifies the contents of the downloaded source code,
    typically using an MD5 (Message-Digest algorithm 5) hash to ensure its authenticity.
    An MD5 hash is a 32-character alphanumeric string that is like a fingerprint for
    the file. A typical MD5 hash might look like this: e6c75c12f663a484ee3157ab058cfc9e.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 从端口安装软件是从源代码构建程序；如果系统上还没有源代码，它将从makefile中指定的站点下载。系统会验证下载的源代码内容，通常使用MD5（消息摘要算法5）哈希来确保其真实性。MD5哈希是一个32字符的字母数字字符串，类似于文件的指纹。一个典型的MD5哈希可能看起来像这样：e6c75c12f663a484ee3157ab058cfc9e。
- en: Once the authenticity of the source code has been assured, the make program
    checks the makefile to see if the port requires any other software. If it does,
    FreeBSD installs those dependencies as well. Next, patches are applied to the
    source code, as necessary, before it is compiled and installed.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦确保了源代码的真实性，make程序会检查makefile以查看端口是否需要其他软件。如果需要，FreeBSD也会安装这些依赖项。接下来，在编译和安装之前，根据需要应用补丁到源代码中。
- en: Once all processes are complete, the port is treated as a FreeBSD package and
    recorded in the installed packages database, pkgdb.db, which is stored in the
    /var/db/pkg directory. Information on the FreeBSD package system can be found
    at [http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/ports-overview.html](http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/ports-overview.html).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦所有进程都完成，该端口就被视为一个FreeBSD软件包，并记录在安装的软件包数据库pkgdb.db中，该数据库存储在/var/db/pkg目录下。有关FreeBSD软件包系统的信息可以在[http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/ports-overview.html](http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/ports-overview.html)找到。
- en: 2.2\. RESOURCES
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2. 资源
- en: Using the Ports Collection (FreeBSD Handbook)
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 使用端口集合（FreeBSD手册）
- en: '[http://www.freebsd.org/doc/en/books/handbook/ports-using.html](http://www.freebsd.org/doc/en/books/handbook/ports-using.html)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.freebsd.org/doc/en/books/handbook/ports-using.html](http://www.freebsd.org/doc/en/books/handbook/ports-using.html)'
- en: Search FreeBSD Ports Collection
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 搜索FreeBSD端口集合
- en: '[http://www.freebsd.org/ports](http://www.freebsd.org/ports)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.freebsd.org/ports](http://www.freebsd.org/ports)'
- en: portmaster
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: portmaster
- en: '[http://dougbarton.us/portmaster.html](http://dougbarton.us/portmaster.html)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://dougbarton.us/portmaster.html](http://dougbarton.us/portmaster.html)'
- en: 2.3\. REQUIRED
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3. 需要的
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD 7.0-RELEASE
    (see "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)")'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![FreeBSD 7.0-RELEASE](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg)
    FreeBSD 7.0-RELEASE (参见 "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)")'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD 7.0-RELEASE
    install CD1'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '![FreeBSD 7.0-RELEASE install CD1](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg)
    FreeBSD 7.0-RELEASE安装CD1'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Internet
    connection (you will need to be online if you want to use the ports collection
    to install applications)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![Internet connection](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg)
    互联网连接（如果你想使用端口集合安装应用程序，则需要在线）'
- en: 2.4\. PREPARATION
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.4. 准备
- en: Become the superuser.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 成为超级用户。
- en: 2.5\. INSTALL
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.5. 安装
- en: If you installed the ports collection when you installed FreeBSD (as discussed
    in the previous chapter), skip to the "[Configure](configure.html#configure)"
    section below. Otherwise, insert the FreeBSD CD into the CD drive, then enter
    the following commands to mount the FreeBSD CD, change to the correct working
    directory, and install the ports collection to the /usr/ports directory.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在安装FreeBSD时安装了ports集合（如前一章所述），请跳转到下面的“[配置](configure.html#configure)”部分。否则，将FreeBSD
    CD放入CD驱动器，然后输入以下命令来挂载FreeBSD CD，切换到正确的当前工作目录，并将ports集合安装到/usr/ports目录。
- en: '[PRE0]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 2.6\. CONFIGURE
  id: totrans-24
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.6\. 配置
- en: 'Keeping the ports collection up to date ensures that applications you install
    via the ports system are the latest versions available. To update the ports collection:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 保持ports集合更新，确保通过ports系统安装的应用程序是最新版本。要更新ports集合：
- en: 'Modify the file ports-supfile. Specify the server to contact when downloading
    updates via `csup`, then copy this configuration file into the /root directory
    so that you can find it easily later. To copy the example ports-supfile to the
    /root directory, enter:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改ports-supfile文件。指定通过`csup`下载更新时需要联系的服务器，然后将此配置文件复制到/root目录，以便以后容易找到。要将示例ports-supfile复制到/root目录，请输入：
- en: '[PRE1]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Before editing ports-supfile, choose a suitable update server. FreeBSD maintains
    cvsup servers with names like [cvsup2.freebsd.org](http://cvsup2.freebsd.org),
    [cvsup3.freebsd.org](http://cvsup3.freebsd.org), and so on. For a complete list
    of worldwide CVSup servers, visit [http://www.freebsd.org/doc/en/books/handbook/cvsup.html](http://www.freebsd.org/doc/en/books/handbook/cvsup.html).
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在编辑ports-supfile之前，选择一个合适的更新服务器。FreeBSD维护着名为[cvsup2.freebsd.org](http://cvsup2.freebsd.org)、[cvsup3.freebsd.org](http://cvsup3.freebsd.org)等的服务器。要获取全球CVSup服务器的完整列表，请访问[http://www.freebsd.org/doc/en/books/handbook/cvsup.html](http://www.freebsd.org/doc/en/books/handbook/cvsup.html)。
- en: Using the following command, ping a few servers to find one that is relatively
    fast.
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用以下命令ping几个服务器，以找到相对较快的那个。
- en: '[PRE2]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The rightmost column in the last line above (`time=85.607 ms`) displays the
    time it takes each packet to reach the server and return. The lower the number,
    the better. Repeat this for a few servers and pick the one with the shortest time.
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 上一个命令最后一行最右侧的列（`time=85.607 ms`）显示每个数据包到达服务器并返回所需的时间。数字越低越好。对几个服务器重复此操作，并选择时间最短的那个。
- en: 'Open the ports-supfile and add the name of the server you have chosen. Scroll
    down to and replace `CHANGE_THIS` in the `*default host` declaration with the
    name of your chosen server. The command below opens ports-supfile in Easy Editor:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开ports-supfile文件，并添加您已选择的服务器名称。向下滚动到`*default host`声明中的`CHANGE_THIS`，并将其替换为您选择的服务器名称。以下命令在Easy
    Editor中打开ports-supfile：
- en: '[PRE3]'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The `*default host` declaration should appear as follows around line 49 of
    /root/ports-supfile:'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`*default host`声明应出现在/root/ports-supfile的第49行附近：'
- en: '[PRE4]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Replace `*cvsup4*` with the server you chose earlier, then save and exit.
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`*cvsup4*`替换为您之前选择的服务器，然后保存并退出。
- en: 'To update the ports collection, use this command:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要更新ports集合，请使用此命令：
- en: '[PRE5]'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Before continuing, we will install the Perl programming language from the ports
    collection so that we can create the ports index file. To begin the installation,
    enter the following commands:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在继续之前，我们将从ports集合中安装Perl编程语言，以便我们可以创建ports索引文件。要开始安装，请输入以下命令：
- en: '[PRE6]'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'After installing Perl, update the ports index and README files with the following
    commands:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装Perl后，使用以下命令更新ports索引和README文件：
- en: '[PRE7]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This may take more than half an hour to complete, depending on the speed of
    your system.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能需要超过半小时才能完成，具体取决于您系统的速度。
- en: 'You can search the ports collection with the following commands:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用以下命令搜索ports集合：
- en: '[PRE8]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Replace `*portname*` with the name of an application you would like to find.
    The output of this command will provide the port name, path, description, and
    dependencies, among other information. You can also search for ports on the Internet
    by visiting [http://www.freebsd.org/ports/](http://www.freebsd.org/ports/) or
    [http://www.freshports.org](http://www.freshports.org).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 将`*portname*`替换为您想要查找的应用程序名称。此命令的输出将提供端口号、路径、描述和依赖关系等信息。您还可以通过访问[http://www.freebsd.org/ports/](http://www.freebsd.org/ports/)或[http://www.freshports.org](http://www.freshports.org)在互联网上搜索端口。
- en: If you have a web browser like Lynx (see "[Lynx 2.8.6](lynx_2.8.6.html#lynx_2.8.6)")
    installed, you may browse the ports collection via an HTML interface. The following
    command will use Lynx to open this file.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已安装了像 Lynx 这样的网页浏览器（参见 "[Lynx 2.8.6](lynx_2.8.6.html#lynx_2.8.6)"），您可以通过
    HTML 界面浏览端口集合。以下命令将使用 Lynx 打开此文件。
- en: '[PRE9]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 2.6.1\. portmaster
  id: totrans-49
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.6.1\. portmaster
- en: The portmaster utility allows you to upgrade most installed ports to the current
    version available in the ports collection without breaking dependencies or links
    to other programs. For example, the Apache HTTP Server relies on the port eXpat
    for XML (Extensible Markup Language) support. Upgrading to the latest version
    of eXpat manually involves removing the previous installation and reinstalling.
    Doing this will break the Apache HTTP Server install, because its link with eXpat
    is lost. portmaster will allow you to remove and reinstall eXpat without changing
    this dependency or the link with the Apache HTTP Server.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '`portmaster` 工具允许您在不破坏依赖关系或与其他程序的链接的情况下，将大多数已安装的端口升级到端口集合中当前可用的版本。例如，Apache
    HTTP 服务器依赖于端口 eXpat 以支持 XML（可扩展标记语言）。手动升级到 eXpat 的最新版本涉及移除之前的安装并重新安装。这样做将会破坏 Apache
    HTTP 服务器的安装，因为其与 eXpat 的链接已丢失。`portmaster` 将允许您在不更改此依赖关系或与 Apache HTTP 服务器的链接的情况下移除并重新安装
    eXpat。'
- en: 'To install portmaster from the ports collection, enter the following commands:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 要从端口集合中安装 `portmaster`，请输入以下命令：
- en: '[PRE10]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '* * *'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** Back up your system before performing any software installation
    or upgrade. Upgrading installed ports can break things, and having a fresh backup
    will allow you to revert relatively painlessly. (See [Appendix B](backup_and_restore.html#backup_and_restore)
    for information on backup and restore.)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '***注意：*** 在执行任何软件安装或升级之前，请备份您的系统。升级已安装的端口可能会破坏某些内容，而拥有一个全新的备份将允许您相对轻松地回滚。（有关备份和恢复的信息，请参阅
    [附录 B](backup_and_restore.html#backup_and_restore)）'
- en: '* * *'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'A list of installed ports that have new versions available in the ports tree
    can be shown with this command:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此命令可以显示具有在端口树中可用的新版本的已安装端口的列表：
- en: '[PRE11]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: It is a good idea to read /usr/ports/UPDATING prior to upgrading a port. This
    text file contains known issues when upgrading certain ports.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在升级端口之前阅读 /usr/ports/UPDATING 是一个好主意。此文本文件包含在升级某些端口时已知的问题。
- en: 'To upgrade a specific port (eXpat for example), run the `portmaster` command
    as shown below:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 要升级特定的端口（例如 eXpat），请运行以下所示的 `portmaster` 命令：
- en: '[PRE12]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '* * *'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** You must specify the old port name as shown in italics above.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '***注意：*** 您必须指定如上斜体所示的老端口名称。'
- en: '* * *'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: By default, portmaster will prompt you prior to upgrading the specified port.
    Type Y and press [enter] to commence the upgrade. Once portmaster completes, you
    should have a current version of eXpat installed without affecting the Apache
    HTTP installation.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，`portmaster` 在升级指定端口之前会提示您。输入 Y 并按 [enter] 键开始升级。一旦 `portmaster` 完成操作，您应该安装了
    eXpat 的当前版本，而不会影响 Apache HTTP 安装。
- en: 'The `-b` switch above tells portmaster to keep a backup of the old port in
    the /root directory. This can prove useful if you need to revert to the old version
    of the port. For example, if the new version of eXpat that was installed was 2.0.0
    we could use the following commands to revert to the old version:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 上面的 `-b` 开关告诉 `portmaster` 在 /root 目录中保留旧端口的备份。如果需要回滚到旧版本的端口，这可能很有用。例如，如果安装的新版本的
    eXpat 是 2.0.0，我们可以使用以下命令回滚到旧版本：
- en: '[PRE13]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '* * *'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** The ports collection is constantly updated and changes frequently.
    Trying to keep your installed ports up to date can be challenging. You should
    use portmaster only when necessary (e.g., for security updates; see the "[portaudit](#portaudit)"
    section below), because incompatibilities may appear when running the latest version
    of a program in conjunction with software that expects an older version for functionality.
    To minimize this effect, the `portmaster` command can be run with the `-r` switch,
    which will upgrade the specified port and any port that depends on it. This switch
    should be used with caution as it can affect more than the port being upgraded.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '***注意：*** 端口集合不断更新并频繁变化。尝试保持已安装端口的更新可能具有挑战性。您应在必要时（例如，进行安全更新；参见下文的 "[端口审计](#portaudit)"
    部分）使用 `portmaster`，因为当运行程序的最新版本与期望旧版本以实现功能相关的软件一起使用时，可能会出现不兼容性。为了最小化这种影响，可以使用带有
    `-r` 开关的 `portmaster` 命令，该开关将升级指定的端口及其依赖的任何端口。应谨慎使用此开关，因为它可能会影响除升级端口之外的更多内容。'
- en: '* * *'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 2.6.2\. portaudit
  id: totrans-70
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.6.2\. 端口审计
- en: The portaudit utility allows you to check your installed ports against a database
    of published security vulnerabilities. This database is maintained by the FreeBSD
    port administrators and the FreeBSD Security Team. If a security advisory exists
    for an installed port, a web link to the security advisory is provided for more
    information.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: portaudit 工具允许您将已安装的端口与已发布的漏洞数据库进行比对。此数据库由 FreeBSD 端口管理员和 FreeBSD 安全团队维护。如果已安装的端口存在安全公告，将提供指向安全公告的网页链接以获取更多信息。
- en: 'To install portaudit, enter:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装 portaudit，请输入：
- en: '[PRE14]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'To check installed ports against the current portaudit database, enter:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查已安装端口与当前 portaudit 数据库的匹配情况，请输入：
- en: '[PRE15]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '* * *'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** When building ports, `make` will check the vulnerability database
    to ensure that the port you are installing does not have any known security vulnerabilities.
    If it does, the port will not install and references to the vulnerability (or
    vulnerabilities) will be provided. If you determine that the installation of the
    port does not pose a security risk to your system, you may allow installation
    of the affected port by disabling the vulnerability check temporarily. To disable
    vulnerability checking when running `make`:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '***注意：*** 在构建端口时，`make` 将检查漏洞数据库以确保您正在安装的端口没有已知的安全漏洞。如果有，端口将不会安装，并提供对漏洞（或漏洞）的引用。如果您确定端口安装不会对您的系统造成安全风险，您可以通过暂时禁用漏洞检查来允许受影响的端口安装。要在运行
    `make` 时禁用漏洞检查：'
- en: '* * *'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '[PRE16]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 2.7\. UTILITIES
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.7. 工具
- en: Once a port is successfully installed, it is registered in the package database
    located in /var/db/pkg. A package is a group of files that are installed by a
    software application. Installed ports are treated as packages after being installed
    and should be managed as such. The utilities below are used to manage installed
    packages.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦端口成功安装，它将被注册在位于 /var/db/pkg 的软件包数据库中。软件包是由软件应用程序安装的一组文件。安装后的端口被视为软件包，应按此类进行管理。以下实用程序用于管理已安装的软件包。
- en: 2.7.1\. pkg_info
  id: totrans-82
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.7.1. pkg_info
- en: This utility is used to display information about packages installed on the
    system.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 此实用程序用于显示系统上安装的软件包信息。
- en: Command
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 命令
- en: '`pkg_info`'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '`pkg_info`'
- en: Syntax
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 语法
- en: '`pkg_info` `*-option pkgname*`'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '`pkg_info` `*-option pkgname*`'
- en: Options
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 选项
- en: '[PRE17]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Shows all installed packages
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 显示所有已安装软件包
- en: '[PRE18]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Shows a list of dependent packages
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 显示依赖软件包的列表
- en: Examples
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: 'To show a list of all installed packages in two-column format, issue the following
    command:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 要以两列格式显示所有已安装软件包的列表，请执行以下命令：
- en: '[PRE19]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'To show the dependencies of a package named perl-5.8.8, issue the following
    command:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 要显示名为 perl-5.8.8 的软件包的依赖项，请执行以下命令：
- en: '[PRE20]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'To list dependencies of all installed packages, enter:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 要列出所有已安装软件包的依赖项，请输入：
- en: '[PRE21]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '* * *'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** Output from `*pkg_info*` may span several pages. As such, it may
    be wise to use a text display utility like `*less*` when dealing with long file
    listings. The `*less*` command would allow you to view a long document page by
    page. See "[less](general.html#less)" for details.'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '***注意：*** `*pkg_info*` 的输出可能跨越多页。因此，在处理长文件列表时，使用文本显示实用程序如 `*less*` 可能是明智的。`*less*`
    命令允许您逐页查看长文档。有关详细信息，请参阅 "[less](general.html#less)"。'
- en: '* * *'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 2.7.2\. pkg_delete
  id: totrans-103
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.7.2. pkg_delete
- en: This utility is used to remove installed packages or ports.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 此实用程序用于删除已安装的软件包或端口。
- en: Command
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 命令
- en: '`pkg_delete`'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '`pkg_delete`'
- en: Syntax
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 语法
- en: '`pkg_delete` `*-option pkgname*`'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '`pkg_delete` `*-option pkgname*`'
- en: Options
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 选项
- en: '[PRE22]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Forces removal of the installed package, even if it contains dependencies
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 强制删除已安装的软件包，即使它包含依赖项
- en: '[PRE23]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Recursive removal; deletes specified package and dependent packages
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 递归删除；删除指定的软件包及其依赖项
- en: Examples
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: 'To remove a package named perl-5.8.8, enter:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 要删除名为 perl-5.8.8 的软件包，请输入：
- en: '[PRE24]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'To force the removal of a package named perl-5.8.8 that contains dependencies,
    enter:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 要强制删除包含依赖项的名为 perl-5.8.8 的软件包，请输入：
- en: '[PRE25]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'To remove a package named perl-5.8.8 along with its dependencies, enter:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 要删除名为 perl-5.8.8 的软件包及其依赖项，请输入：
- en: '[PRE26]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 2.8\. CONFIG FILES
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.8. CONFIG 文件
- en: 2.8.1\. ports-supfile
  id: totrans-122
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 2.8.1. ports-supfile
- en: The configuration file for the optional CVSup system. You'll find an example
    at /usr/share/examples/cvsup.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 可选 CVSup 系统的配置文件。您可以在 /usr/share/examples/cvsup 中找到示例。
- en: 2.9\. NOTES
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.9. 备注
- en: Before you install applications via the ports system, make a full backup of
    the system. This is a good habit, in case the installation doesn't perform the
    way you expected. (See [Appendix B](backup_and_restore.html#backup_and_restore)
    for details on backup procedure.)
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在您通过ports系统安装应用程序之前，请对系统进行完整备份。这是一个好习惯，以防安装没有按照您预期的进行。（有关备份程序的详细信息，请参阅[附录B](backup_and_restore.html#backup_and_restore)。）
