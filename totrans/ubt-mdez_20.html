<html><head></head><body><div class="chapter" title="Chapter&#xA0;20.&#xA0;Defending the Nest"><div class="titlepage"><div><div><h1 class="title"><a id="defending_the_nest"/>Chapter 20. Defending the Nest</h1></div><div><h3 class="subtitle">Security</h3></div></div></div><div class="informalfigure"><a id="image_no_caption-id20"/><div class="mediaobject"><a id="I_mediaobject20_d1e20299"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages1263416.png.jpg"/></div></div><p>Many a Windows user has entered the Linux fold after a host of bad experiences with <span class="emphasis"><em>malware</em></span> in the Windows world—viruses, spyware, and all sorts of other malicious bits of software too numerous to imagine. Windows is also plagued by a seemingly endless array of security vulnerabilities, leaving the system easy prey to invaders with less than noble intentions. Every trip into cyberspace thus becomes something like a run through the infectious diseases ward of a hospital. For a Windows user, it can sometimes seem that more time is spent ridding the system of viral pests and defending it from invaders than actually getting things done.<a class="indexterm" id="IDX-CHP-20-0001"/><a class="indexterm" id="IDX-CHP-20-0002"/><a class="indexterm" id="IDX-CHP-20-0003"/></p><p>Fortunately, Linux does not suffer greatly from such problems, leading to the much-touted claim that Linux is practically virus free and quite secure. Numerous lines of reasoning have been proffered to explain Linux’s malware- and exploit-resistant nature. One reason is simply popularity—or lack thereof. Because Linux is not as widespread a system as Windows is, it is also a much less attractive target for digital evildoers, who very often seem to be motivated by the challenge and headline-catching glory that comes with creating a truly global virus or finding a theretofore unknown backdoor.</p><p>Another reason is that Linux users, as a general rule, work on their computers in a nonprivileged mode, one in which the user does not have the right to install software without a password. This is not the case in some older versions of Windows. A virus or other form of malware attached to an email or piggybacked upon another file or application cannot, therefore, install itself in your Linux system without that password . . . well, theoretically, at least. Of course, now that more recent versions of Windows use a privilege structure similar to this by default, this point is a bit less of an issue.<a class="indexterm" id="IDX-CHP-20-0004"/><a class="indexterm" id="IDX-CHP-20-0005"/><a class="indexterm" id="IDX-CHP-20-0006"/><a class="indexterm" id="IDX-CHP-20-0007"/><a class="indexterm" id="IDX-CHP-20-0008"/></p><p>There is also the matter of structural design. Every system has security holes that can be exploited by digital and human foe alike. Windows might well be called the Swiss cheese of operating systems in this regard. Of course, Linux has its holes too, though apparently far fewer of them than Windows does, and Linux generally plugs them through downloadable updates faster once they are found.</p><p>Finally, Ubuntu’s preconfigured security policy brings a defensive edge—a firewall is turned on by default. This means your Ubuntu Linux system is even less susceptible to unwanted intrusions.</p><div class="sect1" title="Does My System Need Protection?"><div class="titlepage"><div><div><h1 class="title"><a id="does_my_system_need_protection_question"/>Does My System Need Protection?</h1></div></div></div><p>So, with all this talk about Linux’s great security, you may wonder whether you need to bother worrying about vulnerabilities at all. Well, if you take a look at the Ubuntu forums, you might find yourself a bit confused. When asked whether Linux users need to install antivirus software or firewalls, most users answer with an emphatic <span class="emphasis"><em>no</em></span>. On the other hand, you’ll find that an awful lot of people have installed or are trying to install that software. Hmm.<a class="indexterm" id="IDX-CHP-20-0009"/></p><p>So, what’s a Linux user to do?</p><p>If you are on a network where you transfer a lot of files among a lot of Windows machines, you might want to think about installing some antivirus soft-ware, if to achieve nothing more than the good of the Windows systems involved and the users of those systems—your unenlightened (that is, Windows-using) email pals, for example. You might also want to give it a go if you are, by nature, on the cautious side of the spectrum. Basically, if it makes you feel safer to install some protection, go ahead. If it makes you feel safer to go whole-hog and install the full line of defense mechanisms I cover in this chapter, go ahead. After all, either way, it isn’t going to cost you anything, and it certainly isn’t going to hurt you. On the other hand, you’ll prob-ably be fine without installing any of the software described here too.</p></div><div class="sect1" title="The First Line of Defense"><div class="titlepage"><div><div><h1 class="title"><a id="the_first_line_of_defense"/>The First Line of Defense</h1></div></div></div><p>Regardless of the system you happen to be using (though I am assuming that you have become a Linux devotee by now), the first line of defense for any computer permanently hooked up to the Internet is a <span class="emphasis"><em>router</em></span>—an electronic device that allows a number of computers on a local network (such as in your home or at your office) to connect to and share a single connection from your Internet service provider (ISP). The router is connected to your Internet connection via cable, but the connection from the router to the computers on your local network can be wired, wireless, or both.<a class="indexterm" id="IDX-CHP-20-0010"/><a class="indexterm" id="IDX-CHP-20-0011"/></p><p>What does a router have to do with the defense of your computer? Well, most routers include a <span class="emphasis"><em>firewall</em></span>, which essentially functions to keep all of the bad stuff on the Web away from your computer, much in the way that the firewall in your car keeps the heat, fumes, and noise from your engine out of the passenger compartment. This built-in firewall is one reason that even people with only one computer, who could just as easily connect directly to a cable or DSL modem, use a router. Of course, just how much security the firewall in your router provides depends on which filters you select in the firewall setup software. For example, a very common and useful filter (particularly for those with a wireless network) limits Internet access to those computers specified on the firewall’s access list. This prevents your next-door neighbors from hitching a wireless ride via your ISP connection. They aren’t paying the bill, after all.<a class="indexterm" id="IDX-CHP-20-0012"/></p><p>The setup software for a router is built into the router, so you don’t have to worry about software installation and system compatibility. Using your router with Linux is no different from using it with Windows. You can access the software and modify your settings via a simple web browser, as you can see in <a class="xref" href="ch20.html#setting_up_a_router" title="Figure 20-1. Setting up a router">Figure 20-1</a>. Just type the IP address of the router (usually provided in the owner’s manual) in the browser’s location bar, press <span class="keycap">enter</span>, and you’ll be ready to go.</p><div class="figure"><a id="setting_up_a_router"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20404"/><img alt="Setting up a router" src="httpatomoreillycomsourcenostarchimages1264020.png.jpg"/></div></div><p class="title">Figure 20-1. Setting up a router</p></div></div><div class="sect1" title="Software Firewalls"><div class="titlepage"><div><div><h1 class="title"><a id="software_firewalls"/>Software Firewalls</h1></div></div></div><p>If you don’t have a router and don’t plan on getting one, or if you have one but are bordering on paranoia, you might want to consider using a software firewall, in particular one of the most popular software firewalls available for Linux, Firestarter.<a class="indexterm" id="IDX-CHP-20-0013"/></p><p>You can get Firestarter via the Ubuntu Software Center by searching for <span class="emphasis"><em>firestarter</em></span> and installing it. Once it is installed, open Firestarter from the Dash (you might be asked for your password). Firestarter will open with a self-explanatory setup wizard the first time. Just read each screen carefully; make whatever selections are suggested, if any (the defaults should be fine), and click the <span class="strong"><strong>Forward</strong></span> button in each of the wizard screens until you get to the last one (shown in <a class="xref" href="ch20.html#the_last_screen_of_the_firestarter_setup" title="Figure 20-2. The last screen of the Firestarter setup wizard">Figure 20-2</a>). On that screen, make sure that the box next to <span class="emphasis"><em>Start firewall now</em></span> is checked and then click the <span class="strong"><strong>Save</strong></span> button. The wizard window will close, and the main Firestarter window will appear. Assuming the correct network device was detected and selected and the correct wizard choice made, the firewall will be up and running.</p><div class="figure"><a id="the_last_screen_of_the_firestarter_setup"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20436"/><img alt="The last screen of the Firestarter setup wizard" src="httpatomoreillycomsourcenostarchimages1264022.png.jpg"/></div></div><p class="title">Figure 20-2. The last screen of the Firestarter setup wizard</p></div><p>If the wrong network device was selected, a warning window will appear telling you so. In that case, you can do a bit of trial-and-error manipulation by selecting <span class="strong"><strong>Edit</strong></span> ▸ <span class="strong"><strong>Preferences</strong></span> in the main Firestarter window and then clicking <span class="strong"><strong>Network Settings</strong></span> in the Preferences window that appears (<a class="xref" href="ch20.html#selecting_network_devices_in_firestarter" title="Figure 20-3. Selecting network devices in Firestarter">Figure 20-3</a>). In that window, select one of the other devices listed in the Detected device(s) drop-down menu and then click the <span class="strong"><strong>Accept</strong></span> button. Once back at the main Firestarter window, click the <span class="strong"><strong>Start Firewall</strong></span> button (which looks like a blue Play button) and see what happens. If you still can’t start the firewall, repeat the process I’ve just described, this time selecting a different network device.</p><p>Once your firewall is up and running, you really don’t need to do anything else. You can simply look at the Firestarter window (<a class="xref" href="ch20.html#firestarter_in_action" title="Figure 20-4. Firestarter in action">Figure 20-4</a>) to see what is going on network-wise on your computer—which active connections you have; how much information has been coming and going; and whether there have been any events in which, for example, the firewall has blocked an intruder. If you click the <span class="strong"><strong>Events</strong></span> tab, you can then see the details of those events, such as what connection attempts were blocked, where they came from, and when they happened.</p><div class="figure"><a id="selecting_network_devices_in_firestarter"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20471"/><img alt="Selecting network devices in Firestarter" src="httpatomoreillycomsourcenostarchimages1264024.png.jpg"/></div></div><p class="title">Figure 20-3. Selecting network devices in Firestarter</p></div><div class="figure"><a id="firestarter_in_action"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20479"/><img alt="Firestarter in action" src="httpatomoreillycomsourcenostarchimages1264026.png.jpg"/></div></div><p class="title">Figure 20-4. Firestarter in action</p></div><div class="sect2" title="Taking Control of Firestarter"><div class="titlepage"><div><div><h2 class="title"><a id="taking_control_of_firestarter"/>Taking Control of Firestarter</h2></div></div></div><p>You can control how Firestarter deals with various network events by creating your own <span class="emphasis"><em>policies</em></span>. The default policy set in Firestarter allows you to do whatever you normally do via the Internet, while it blocks new connections to your computer from the Internet or any other computer on your network.</p><p>To make things a bit more draconian, you can click the <span class="strong"><strong>Policy</strong></span> tab, choose <span class="strong"><strong>Outbound traffic policy</strong></span> from the Editing drop-down menu, and then select <span class="strong"><strong>Restrictive by default, whitelist traffic</strong></span>. You then have to specifically allow access to any given website by adding it to the list of hosts. This sounds like a lot of hassle to me. If you just want to deny anyone working on your computer access to a specific website, for instance, simply select <span class="strong"><strong>Permissive by default, blacklist traffic</strong></span>; right-click the <span class="strong"><strong>Deny connections to host</strong></span> field; and select <span class="strong"><strong>Add Rule</strong></span> in the pop-up menu. In the Add new outbound rule window, enter the domain name for the targeted site (as in <span class="emphasis"><em>example.com</em></span>), click <span class="strong"><strong>Add</strong></span>, and then click the <span class="strong"><strong>Apply Policy</strong></span> button in the main Firestarter window (it’s the one that looks like a green check mark).<a class="indexterm" id="IDX-CHP-20-0014"/><a class="indexterm" id="IDX-CHP-20-0015"/><a class="indexterm" id="IDX-CHP-20-0016"/></p></div><div class="sect2" title="Confirming That Firestarter Runs Automatically"><div class="titlepage"><div><div><h2 class="title"><a id="confirming_that_firestarter_runs_automat"/>Confirming That Firestarter Runs Automatically</h2></div></div></div><p>After you run Firestarter the first time, it will set itself to automatically start up whenever you start your system. Don’t be concerned when you don’t see the graphical interface you saw when you first started it; Firestarter will be running in the background, silently protecting your computer.</p><p>If you are the doubting type, you can check to see whether Firestarter actually is running in the background by opening a Terminal window, typing <strong class="userinput"><code>sudo /etc/init.d/firestarter status</code></strong>, and then pressing <span class="keycap">enter</span> (then entering your password, if prompted). If Firestarter is running, you will see the message <code class="literal">* Firestarter is running...</code> in the Terminal window. Worries over. If Firestarter isn’t running, the response will read <code class="literal">* Firestarter is stopped</code>.</p></div><div class="sect2" title="Finding Out More"><div class="titlepage"><div><div><h2 class="title"><a id="finding_out_more"/>Finding Out More</h2></div></div></div><p>If the world of firewalls is new to you, you can check out the Firestarter home page to learn a bit more. To check out the online manual, just to go to the Firestarter <span class="strong"><strong>Help</strong></span> menu and select <span class="strong"><strong>Online Users’ Manual</strong></span>, which will open the page in your web browser. If you prefer to check out the manual before installing Firestarter, point your browser to <a class="ulink" href="http://www.fs-security.com/docs.php">http://www.fs-security.com/docs.php</a>. You will also find a pretty good quick tutorial there.</p></div></div><div class="sect1" title="ClamAV: Antivirus Software, Linux Style"><div class="titlepage"><div><div><h1 class="title"><a id="clamav_colon_antivirus_software_comma_li"/>ClamAV: Antivirus Software, Linux Style</h1></div></div></div><p>Despite a relative dearth of viruses that can wreak havoc upon your Linux system, your computer could still act as a transmitter of Windows viruses. As a result, a number of free antivirus scanners are available for Linux users interested in helping protect Windows users from viruses. These include Panda Desktop Secure (<a class="ulink" href="http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/">http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/</a>), F-PROT (<a class="ulink" href="http://www.f-prot.com/">http://www.f-prot.com/</a>), avast! (<a class="ulink" href="http://www.avast.com/linux-home-edition/">http://www.avast.com/linux-home-edition/</a>), and numerous others. For most Linux users, however, the virus scanner of choice is the open source contender: <span class="emphasis"><em>ClamAV</em></span>.<a class="indexterm" id="IDX-CHP-20-0017"/><a class="indexterm" id="IDX-CHP-20-0018"/></p><p>Although it can be used on a number of operating systems, ClamAV is considered to be <span class="emphasis"><em>the</em></span> Linux antivirus software package. It is open source and totally free, and you don’t have to worry about licenses or suffer the bother of renewing them. Unfortunately, on its own, ClamAV is a command-driven application, which makes it a bit less user-friendly. Fortunately for all involved, a graphical interface, albeit a simple one, is available; it goes by the name of ClamTk. Both ClamAV and ClamTk are available via the Ubuntu Software Center—just search for and install <span class="emphasis"><em>ClamTK</em></span>. The Ubuntu Software Center will then automatically install ClamAV and all other packages it needs in order to run.<a class="indexterm" id="IDX-CHP-20-0019"/><a class="indexterm" id="IDX-CHP-20-0020"/></p><p>Once ClamAV is installed, you can perform a virus scan by opening ClamTk from the Dash. This will open the ClamTk Virus Scanner window (<a class="xref" href="ch20.html#clamtk_comma_the_graphical_interface_for" title="Figure 20-5. ClamTk, the graphical interface for ClamAV">Figure 20-5</a>).<a class="indexterm" id="IDX-CHP-20-0021"/></p><div class="figure"><a id="clamtk_comma_the_graphical_interface_for"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20614"/><img alt="ClamTk, the graphical interface for ClamAV" src="httpatomoreillycomsourcenostarchimages1264028.png.jpg"/></div></div><p class="title">Figure 20-5. ClamTk, the graphical interface for ClamAV</p></div><p>Now that ClamAV is up and running, you can scan your system on demand from the Scan menu. To scan a single folder, select <span class="strong"><strong>A Directory</strong></span>. To scan a directory and everything within it, choose <span class="strong"><strong>Recursive Scan</strong></span>. In either case, the Select a Directory window will appear. Select the folder or disc you want to scan and click <span class="strong"><strong>OK</strong></span>. ClamAV will start scanning your system. ClamTk will let you know what it is scanning at any given moment in the empty space just below the button bar. If it finds anything suspicious, it will list that item in the main pane of the window.</p><p>ClamAV is set up by default to check for <span class="emphasis"><em>signature updates</em></span> when it starts. These signature updates tell ClamAV what new viruses to be on the lookout for. If you leave your machine on for days and days at a time, it is probably also a good idea to set things up so that ClamAV will automatically check for signature updates daily rather than just on startup. To do this, go to the <span class="strong"><strong>Advanced</strong></span> menu and select <span class="strong"><strong>Scheduler</strong></span>. In the Schedule window, select a time for ClamAV to do its update check in the bottom half of the window. Click the Add button when done (it looks like a plus sign). You can also use this window to set up a time to regularly scan the system—just select the time you’d like the scan to occur and click <span class="strong"><strong>Add</strong></span>. When you’re finished, click <span class="strong"><strong>Close</strong></span>.</p><p>As I mentioned, the only viruses you are likely to encounter during a virus scan are those designed for Windows systems, which cannot affect your Linux system. Although scanning your entire system for viruses won’t hurt anything, it’s probably better to focus your virus-scanning activities on your Windows partition, if you have one, and on any files that you will be sending as email attachments, particularly to Windows users.</p></div><div class="sect1" title="Project 20A: Encrypting Your Files"><div class="titlepage"><div><div><h1 class="title"><a id="project_20a_colon_encrypting_your_files"/>Project 20A: Encrypting Your Files</h1></div></div></div><p>Protecting yourself against Internet nasties is all well and good, but what if someone gains physical access to your computer? Data theft is a serious business, so if you have any sensitive files, you should think about protecting them. A good way of doing this is to <span class="emphasis"><em>encrypt</em></span> your sensitive files. Encryption is a way of taking a file and scrambling it in such a way that only a person with the right <span class="emphasis"><em>decryption key</em></span> will be able to recover the original information. If someone tries to look at the file while it’s still encrypted, all he will be able to see is a bunch of nonsense characters.</p><div class="sect2" title="20A-1: Creating an Encrypted File Folder"><div class="titlepage"><div><div><h2 class="title"><a id="a-1_colon_creating_an_encrypted_file_fol"/>20A-1: Creating an Encrypted File Folder</h2></div></div></div><p>Ubuntu has a nice way of encrypting files, but you should take care when using it! The whole point of encrypting your files is that no one but you will be able to access them, so there’s little chance of recovering them if you forget your password. Here are the steps you need to follow to get encrypted:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open the Ubuntu Software Center and search for and install <span class="emphasis"><em>ecryptfs-utils</em></span>.<a class="indexterm" id="IDX-CHP-20-0022"/></p></li><li class="listitem"><p>Once installation has completed, open the Dash and search for Terminal. When the Terminal window appears, type <strong class="userinput"><code>ecryptfs-setup-private</code></strong> and press <span class="keycap">enter</span>.</p></li><li class="listitem"><p>You’ll be prompted for the password that you use to log in to Ubuntu. Type it and press <span class="keycap">enter</span>. (The letters won’t show up on the screen, but that’s normal.)</p></li><li class="listitem"><p>You’ll be asked to enter a mount passphrase (password). Pick something <span class="emphasis"><em>very</em></span> memorable—there’s no recovering this password if you forget it! Press <span class="keycap">enter</span>, retype the password (to make sure there were no typos), and press <span class="keycap">enter</span> again.</p></li><li class="listitem"><p>Close the Terminal window, log out of your user account, and log back in again.</p></li><li class="listitem"><p>When you log in, an Update information window will appear (<a class="xref" href="ch20.html#checking_your_encryption_passphrase" title="Figure 20-6. Checking your encryption passphrase">Figure 20-6</a>). Click <span class="strong"><strong>Run this action now</strong></span>, type your login password into the window that appears (it will look as if nothing is being typed again), and press <span class="keycap">enter</span>.</p><div class="note" title="Note"><h3 class="title">Note</h3><p>The Update information window may not appear when you log in again. If this happens, restart your computer and then log in—it should pop up this time.</p></div></li><li class="listitem"><p>Your mount password (also referred to as <span class="emphasis"><em>encryption passphrase</em></span>) will be displayed on the screen. Make a careful note of it, press <span class="keycap">enter</span>, and then click <span class="strong"><strong>Close</strong></span> in the Update information window to continue.</p></li></ol></div><p>If you open your Home folder, you’ll now see a folder called <span class="emphasis"><em>Private</em></span>. Anything you put in this folder will be encrypted and will be safe from prying eyes. This is especially useful if your computer gets stolen—only someone with your mount password will be able to look at the files, and ideally the only person who knows it is you!</p><div class="figure"><a id="checking_your_encryption_passphrase"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20739"/><img alt="Checking your encryption passphrase" src="httpatomoreillycomsourcenostarchimages1264030.png.jpg"/></div></div><p class="title">Figure 20-6. Checking your encryption passphrase</p></div></div><div class="sect2" title="20A-2: Recovering Encrypted Files If Something Goes Wrong"><div class="titlepage"><div><div><h2 class="title"><a id="a-2_colon_recovering_encrypted_files_if"/>20A-2: Recovering Encrypted Files If Something Goes Wrong</h2></div></div></div><p>If you have problems with your computer and need to recover the files in the encrypted <span class="emphasis"><em>Private</em></span> directory, use the following steps after you get Ubuntu up and running again. If you don’t feel confident following these instructions, you should definitely ask for advice on the Ubuntu forums first.<a class="indexterm" id="IDX-CHP-20-0023"/></p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open a Terminal, type <strong class="userinput"><code>sudo mount -t ecryptfs /home/username/.Private /home/</code></strong><strong class="userinput"><code><em class="replaceable"><code>username</code></em></code></strong><strong class="userinput"><code>/Private</code></strong> (note the period in the first path) and press <span class="keycap">enter</span>. You should, of course, replace <strong class="userinput"><code><em class="replaceable"><code>username</code></em></code></strong> with your own username.</p></li><li class="listitem"><p>You’ll be asked for your passphrase. Type your mount passphrase (password) and press <span class="keycap">enter</span>.</p></li><li class="listitem"><p>Now you’ll be prompted a few times to make a selection. Hit <span class="keycap">enter</span> a few times until you’re given a <code class="literal">WARNING</code> message.</p></li><li class="listitem"><p>Type <strong class="userinput"><code>yes</code></strong> and press <span class="keycap">enter</span>; then type <strong class="userinput"><code>no</code></strong> and press <span class="keycap">enter</span>.</p></li><li class="listitem"><p>If you entered the right mount password, the <span class="emphasis"><em>Private</em></span> folder will be decrypted, and you’ll be able to access your files. Copy them from that folder to somewhere safe!</p></li></ol></div><p>If you have no luck recovering your files, take a look at <a class="ulink" href="https://help.ubuntu.com/community/EncryptedPrivateDirectory/">https://help.ubuntu.com/community/EncryptedPrivateDirectory/</a> to see whether there’s anything further you can try.</p></div></div><div class="sect1" title="Project 20B: Shredding Documents Digitally"><div class="titlepage"><div><div><h1 class="title"><a id="project_20b_colon_shredding_documents_di"/>Project 20B: Shredding Documents Digitally</h1></div></div></div><p>Although most people are satisfied with deleting their files when they no longer need them, they may not realize that the deleted file data is still retrievable. This may pose little concern when it comes to photos of your summer trip to Maryland or reports you may have written for a class on Thai cooking, but it is a completely different situation if you’ve been storing bank account details or other confidential information on your hard disk. Even if you reformat that disk, the data stays. That is great news if you want to retrieve any files you may have accidentally deleted (or formatted away), but it isn’t such good news if your computer gets lost or stolen or if you just decide to give it away. In preparation for such cases, it might not be a bad idea to do some digital shredding.<a class="indexterm" id="IDX-CHP-20-0024"/><a class="indexterm" id="IDX-CHP-20-0025"/><a class="indexterm" id="IDX-CHP-20-0026"/></p><div class="sect2" title="20B-1: Trying the shred Command"><div class="titlepage"><div><div><h2 class="title"><a id="b-1_colon_trying_the_shred_command"/>20B-1: Trying the shred Command</h2></div></div></div><p>Digital shredding in Linux is done with the <code class="literal">shred</code> command. Its usage is very similar to the <code class="literal">rm</code> command you learned to use in <a class="xref" href="ch08.html" title="Chapter 8. Simple Kitten Ways">Chapter 8</a>, though in terms of removal, <code class="literal">shred</code> is much more thorough. To give it a try, create a dummy file by going to the File menu of a Nautilus window and selecting <span class="strong"><strong>Create New Document</strong></span> ▸ <span class="strong"><strong>Empty Document</strong></span>. Name the new document <span class="emphasis"><em>myShredExp.txt</em></span> and then double-click the file. This will open gedit. Type a couple of sentences in the document—anything will do—and save it. Close gedit. The first couple of words you typed should now appear on the icon of the new dummy file you created (as shown in the example on the left side of <a class="xref" href="ch20.html#files_change_their_appearance_after_bein" title="Figure 20-7. Files change their appearance after being shredded.">Figure 20-7</a>).</p><div class="figure"><a id="files_change_their_appearance_after_bein"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20865"/><img alt="Files change their appearance after being shredded." src="httpatomoreillycomsourcenostarchimages1264032.png.jpg"/></div></div><p class="title">Figure 20-7. Files change their appearance after being shredded.</p></div><p>With your new file in hand and placed in your Home folder to make it easier to follow along, you are ready to try <code class="literal">shred</code>. Open a Terminal window, type <strong class="userinput"><code>shred myShredExp.txt</code></strong>, and press <span class="keycap">enter</span>. If you look in your Home folder, you will notice the difference right away: Your original file is still there, but the text on the icon now looks like gibberish (as you can see in the example on the right side of <a class="xref" href="ch20.html#files_change_their_appearance_after_bein" title="Figure 20-7. Files change their appearance after being shredded.">Figure 20-7</a>), which is what your file has become. If you double-click the file, gedit will open as it did before, but this time around, it won’t be able to read your file and will tell you so (<a class="xref" href="ch20.html#gedit_canat_open_your_shredded_files" title="Figure 20-8. gedit can’t open your shredded files.">Figure 20-8</a>).</p><p>So, now you’ve got yourself a shredded file sitting in your folder, but it sure would be handy to get rid of the file rather than just have it sit there littering things up, wouldn’t it? Of course, you can remove the file via the Terminal by using the <code class="literal">rm</code> command, but it would be easier if future shredded files were deleted immediately after being shredded. Fortunately, this is easy enough to do by using the <code class="literal">shred</code> command with the <code class="literal">-u</code> flag. You can try it on the file you’ve already shredded by opening a Terminal window, typing shred -u <strong class="userinput"><code>myShredExp.txt</code></strong>, and pressing <span class="keycap">enter</span>. Your file will then be further shredded and deleted.</p><div class="figure"><a id="gedit_canat_open_your_shredded_files"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20905"/><img alt="gedit can’t open your shredded files." src="httpatomoreillycomsourcenostarchimages1264034.png.jpg"/></div></div><p class="title">Figure 20-8. gedit can’t open your shredded files.</p></div></div><div class="sect2" title="20B-2: A Graphical Equivalent to the shred Command"><div class="titlepage"><div><div><h2 class="title"><a id="b-2_colon_a_graphical_equivalent_to_the"/>20B-2: A Graphical Equivalent to the shred Command</h2></div></div></div><p>Although using the <code class="literal">shred</code> command isn’t all that difficult, most average users would prefer to do things graphically. After all, you don’t <span class="emphasis"><em>have</em></span> to type commands to delete or move a file, right? That’s where BleachBit comes in. BleachBit (<a class="xref" href="ch20.html#using_bleachbit_to_guard_your_privacy" title="Figure 20-9. Using BleachBit to guard your privacy">Figure 20-9</a>) is an application that helps guard your privacy in a number of ways—not least by shredding all manner of things for you. Here are the steps you need to follow to shred a file:<a class="indexterm" id="IDX-CHP-20-0027"/><a class="indexterm" id="IDX-CHP-20-0028"/><a class="indexterm" id="IDX-CHP-20-0029"/><a class="indexterm" id="IDX-CHP-20-0030"/><a class="indexterm" id="IDX-CHP-20-0031"/></p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Install BleachBit from the Ubuntu Software Center. When installation has finished, open it up via the Dash.</p></li><li class="listitem"><p>When the BleachBit window opens, you’ll be greeted by a preferences window. The defaults are good enough for our purposes, so just click <span class="strong"><strong>Close</strong></span>.</p></li><li class="listitem"><p>Assuming you don’t want to do anything fancier, let’s shred a single file. Click <span class="strong"><strong>File</strong></span> ▸ <span class="strong"><strong>Shred Files</strong></span> and choose the file you want to shred (hold down <span class="keycap">ctrl</span> to select multiple files). Take care not to select the wrong file, since you won’t be able to recover it post-shredding! Click <span class="strong"><strong>Delete</strong></span>. You’ll be asked to confirm the deletion. This is the point of no return so, if you’re happy to proceed, click <span class="strong"><strong>Delete</strong></span> to finish the job.</p></li><li class="listitem"><p>The file will vanish, shredded into oblivion and safe from recovery.</p></li></ol></div><p>As I mentioned, there’s a lot more that you can do to guard your privacy with BleachBit, aside from shredding the odd file. The list on the left of the main BleachBit window contains all sorts of weird and wonderful ways of securely deleting some of the personal information that’s probably lurking on your computer. Take Firefox, for example: Click the Firefox list item in the BleachBit list, and an information page will appear in the main pane, telling you how BleachBit can securely remove various information kept by Firefox.</p><div class="figure"><a id="using_bleachbit_to_guard_your_privacy"/><div class="figure-contents"><div class="mediaobject"><a id="I_mediaobject20_d1e20981"/><img alt="Using BleachBit to guard your privacy" src="httpatomoreillycomsourcenostarchimages1264036.png.jpg"/></div></div><p class="title">Figure 20-9. Using BleachBit to guard your privacy</p></div><p>For example, you could check the Cookies list item. With that selected, all you’d have to do is press the Clean button at the top of the window to delete all of the web cookies that Firefox has accumulated. Easy, huh?<a class="indexterm" id="IDX-CHP-20-0032"/></p><div class="note" title="Note"><h3 class="title">Note</h3><p>Cookies are fragments of text that your web browser uses to store information about websites. Websites use cookies as a way of recording that you have visited them. For example, if you log in to a website, it will store a cookie with your username in it so that it will remember who you are next time you visit.</p></div></div></div></div></body></html>