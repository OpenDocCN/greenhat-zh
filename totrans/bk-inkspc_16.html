<html><head></head><body><div class="chapter" title="Chapter&#xA0;16.&#xA0;Clones"><div class="titlepage"><div><div><h1 class="title"><a id="clones"/>Chapter 16. Clones</h1></div></div></div><p><a id="iddle1377" class="indexterm"/><a id="iddle1517" class="indexterm"/><a id="iddle1843" class="indexterm"/><a id="iddle2518" class="indexterm"/><a id="iddle2601" class="indexterm"/><a id="iddle3418" class="indexterm"/>The idea of a <span class="emphasis"><em>clone</em></span>—a linked copy of an object that updates itself when the original changes—comes naturally from the vector way of thinking about graphics. You might say that a clone is not a real object—rather, it is just a command: “Display a copy of the object here.” The document stores that command, not an actual copy of the object. An actual cloned object exists only in the memory of an SVG application such as Inkscape when it loads the document.</p><p>There are both artistic and technical reasons to use clones. Watching several objects change live when you edit only one is in itself an exciting experience, opening many creative possibilities. On the other hand, using clones instead of duplicates makes the SVG document smaller and faster to display. Map symbols, repeated design elements such as bullets or icons, various symmetric designs or patterns—all these are easy to do with clones. Few other vector editors allow you to create live linked copies of objects with such directness and ease as Inkscape.</p></div>
<div class="sect1" title="16.1 Creating a Clone"><div class="titlepage"><div><div><h1 class="title"><a id="one6dot1_creating_a_clone"/>16.1 Creating a Clone</h1></div></div></div><p><a id="iddle1033" class="indexterm"/><a id="iddle1525" class="indexterm"/><a id="iddle1528" class="indexterm"/><a id="iddle1532" class="indexterm"/><a id="iddle1539" class="indexterm"/><a id="iddle1552" class="indexterm"/><a id="iddle1556" class="indexterm"/><a id="iddle1711" class="indexterm"/><a id="iddle1980" class="indexterm"/><a id="iddle2435" class="indexterm"/><a id="iddle2442" class="indexterm"/><a id="iddle2945" class="indexterm"/><a id="iddle3650" class="indexterm"/><a id="iddle4222" class="indexterm"/><a id="iddle4279" class="indexterm"/>To clone one or several objects, just select them and press <span class="inlinemediaobject"><a id="inline_id00768"/><img src="httpatomoreillycomsourcenostarchimages1735630.png.jpg" alt=""/></span> (or use <span class="strong"><strong>Edit</strong></span> ▸ <span class="strong"><strong>Clone</strong></span> ▸ <span class="strong"><strong>Create Clone</strong></span>). The visible result of this is exactly the same as that of duplicating (<span class="inlinemediaobject"><a id="inline_id00769"/><img src="httpatomoreillycomsourcenostarchimages1735374.png.jpg" alt=""/></span>): A copy of each selected object is created and placed on top of the original. If you need to get a clone of several objects as a whole, just group them together and clone the group.</p><p>A clone is a <span class="emphasis"><em>linked</em></span> copy of an object. What constitutes this link?</p><p>Most importantly, a clone copies the original’s <span class="emphasis"><em>content</em></span>. If it is a clone of a path (<a class="xref" href="ch12.html" title="Chapter 12. Editing Paths">Chapter 12</a>) or a shape (<a class="xref" href="ch11.html" title="Chapter 11. Shapes">Chapter 11</a>), then it exactly reproduces the form of the original, and it updates automatically when you edit the original in the Node tool or in a shape tool. If it is a clone of the text, it has the same textual content and is also updated live when you edit the original with the Text tool. Finally, if you clone a group, you can then enter that group (<span class="strong"><strong><a class="xref" href="ch05s10.html" title="5.10 Selecting in Groups">5.10 Selecting in Groups</a></strong></span>) to add, delete, or edit objects within the group—and the group’s clone will update immediately. On the other hand, since a clone has no content of its own, you cannot edit its content—no node editing, text editing, or ungrouping is possible on a clone so long as it remains a clone.</p><div class="figure"><a id="clone_is_a_linked_copy_of_an_object"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00290"/><img src="httpatomoreillycomsourcenostarchimages1736234.png.jpg" alt="A clone is a linked copy of an object."/></div></div><p class="title">Figure 16-1. A clone is a linked copy of an object.</p></div><p>What about <span class="emphasis"><em>transforms</em></span>? If you scale, rotate, or skew the original, all its clones will do the same. However, if you just move the original object, by default the clone will <span class="emphasis"><em>not</em></span> be affected (although that can be changed, see below). Of course if you select <span class="emphasis"><em>both</em></span> the original and its clone, you can transform them together in any way, by moving or otherwise.</p><div class="figure"><a id="clones_respond_to_the_originalapostrophe"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00291"/><img src="httpatomoreillycomsourcenostarchimages1736236.png.jpg" alt="Clones respond to the original’s transforms, except for moving."/></div></div><p class="title">Figure 16-2. Clones respond to the original’s transforms, except for moving.</p></div><p>You can also move, scale, rotate, or skew the clone completely independently of its original. The clone’s own transform is applied <span class="emphasis"><em>on top</em></span> of the transform inherited from the original. For example, if you squeeze a clone vertically and then rotate its original, the clone will be both rotated and squeezed—but the vertical squeeze will be applied to the shape <span class="emphasis"><em>after</em></span> it is rotated, resulting in a skew, as shown in <a class="xref" href="ch16s01.html#cloneapostrophes_own_transform_is_applie" title="Figure 16-3. A clone’s own transform is applied on top of the transform inherited from the original.">Figure 16-3</a>.</p><p>The <span class="emphasis"><em>style</em></span> of the original is also passed on to its clones. If you paint the original a different fill or stroke color, all its clones will take the same color at once.</p><div class="figure"><a id="cloneapostrophes_own_transform_is_applie"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00292"/><img src="httpatomoreillycomsourcenostarchimages1736238.png.jpg" alt="A clone’s own transform is applied on top of the transform inherited from the original."/></div></div><p class="title">Figure 16-3. A clone’s own transform is applied on top of the transform inherited from the original.</p></div><p><a id="iddle1153" class="indexterm"/><a id="iddle1518" class="indexterm"/><a id="iddle1530" class="indexterm"/><a id="iddle1547" class="indexterm"/><a id="iddle1810" class="indexterm"/><a id="iddle2497" class="indexterm"/><a id="iddle2583" class="indexterm"/><a id="iddle2631" class="indexterm"/><a id="iddle4158" class="indexterm"/><a id="iddle4760" class="indexterm"/><a id="iddle4895" class="indexterm"/>Conversely, if you try to paint a clone, it will simply refuse to change its color, remaining true to its original. (Again, this rule has exceptions, as we will see below.)</p><p>To summarize, here’s a table that lists various things you can and cannot do on a clone and its original and how those changes affect one another:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col/><col/><col/><col/><col/></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Move</p></th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Scale, rotate, skew</p></th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Node or shape edit</p></th><th style="border-bottom: 0.5pt solid ; " valign="top"><p>Style</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>applied to <span class="strong"><strong>original</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>does <span class="emphasis"><em>not</em></span> affect clones (by default)</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>does affect clones</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>does affect clones</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>does affect clones</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p>applied to <span class="strong"><strong>clone</strong></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p>is possible</p></td><td style="border-right: 0.5pt solid ; " valign="top"><p>is possible (on top of original’s transformation)</p></td><td style="border-right: 0.5pt solid ; " valign="top"><p>is impossible</p></td><td style="" valign="top"><p>is impossible (unless unset in the original)</p></td></tr></tbody></table></div><div class="note" title="SVG"><h3 class="title"><a id="ch16note01"/>SVG</h3><p><span class="emphasis"><em>In SVG source, a clone is represented by an</em></span> <code class="literal">svg:use</code> <span class="emphasis"><em>element. Its</em></span> <code class="literal">xlink:href</code> <span class="emphasis"><em>attribute contains a URL pointing to the original of this clone. Per the SVG standard, this URL can point to any element, be it within the same document or in a different document anywhere on the Internet. However, Inkscape does not yet support cross-document references, so any clone created in Inkscape must have its original in the same document.</em></span></p></div></div>
<div class="sect1" title="16.2 Transforming Clones"><div class="titlepage"><div><div><h1 class="title"><a id="one6dot2_transforming_clones"/>16.2 Transforming Clones</h1></div></div></div><p>In general, as we have seen, a clone can be transformed in any way you want; this transform is applied on top of the transform it inherits from its original. You can use any transformation method: Dragging by mouse, transforming by keys (<span class="strong"><strong><a class="xref" href="ch06s05.html" title="6.5 Transforming with Keyboard Shortcuts">6.5 Transforming with Keyboard Shortcuts</a></strong></span>), aligning, distributing, and snapping all work on clones exactly as they do on regular objects.</p><p>On the other hand, transforms of the original are classified—by how they affect the clones of that original—into two groups: simple moves and everything else. For “everything else” (scales, rotates, and skews) the transform is passed directly on to all clones. Simple moves, however, are treated differently.</p><p>By default, Inkscape tries to isolate clones from the moves of the original, so that they remain in place when the original is moved. Under the hood, this is done by moving the clone in the opposite direction, cancelling out the move. This works pretty intuitively and is generally convenient; this way, for example, you can take the original of a large pattern of clones and move it away without disturbing the pattern. You can also grab both the original and its clones and move them anywhere; they would behave as expected, that is, move in parallel, even if the clone has a transform of its own.</p><p>This compensating behavior can be adjusted by the user. The <span class="strong"><strong>Clones</strong></span> tab of the <span class="strong"><strong>Inkscape Preferences</strong></span> dialog (<a class="xref" href="ch16s02.html#setting_up_movement_compensation_of_clon" title="Figure 16-4. Setting up movement compensation of clones">Figure 16-4</a>) contains the following options:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a id="iddle1144" class="indexterm"/><a id="iddle1331" class="indexterm"/><a id="iddle1519" class="indexterm"/><a id="iddle1537" class="indexterm"/><a id="iddle1584" class="indexterm"/><a id="iddle2158" class="indexterm"/><a id="iddle3170" class="indexterm"/><a id="iddle3823" class="indexterm"/><a id="iddle4062" class="indexterm"/><a id="iddle4403" class="indexterm"/>The first option, <span class="strong"><strong>Move in parallel</strong></span>, forces all clones, including those rotated or scaled, to always move in parallel with the original, as if they were always selected together with it (even if in fact they are not).</p></li><li class="listitem"><p>The second option, <span class="strong"><strong>Stay unmoved</strong></span> (this is the default), forces those clones that were not selected to stay unmoved (but those that <span class="emphasis"><em>are</em></span> selected are moved as usual).</p></li><li class="listitem"><p>The final option, <span class="strong"><strong>Move according to transform</strong></span>, turns off any clone movement compensation; now each clone, selected or not, moves according to the transform inherited from its original, without any compensation. When there are complex transformations in effect, the resulting behavior may seem surprising and unpredictable, but from SVG’s viewpoint, it is the least intrusive, since the inherited clone transformations are not tampered with in any way.</p></li></ul></div><div class="figure"><a id="setting_up_movement_compensation_of_clon"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00293"/><img src="httpatomoreillycomsourcenostarchimages1736240.png.jpg" alt="Setting up movement compensation of clones"/></div></div><p class="title">Figure 16-4. Setting up movement compensation of clones</p></div><p>It is also important to remember that transforming clones does not honor the <span class="strong"><strong>Affect</strong></span> buttons on the Selector controls bar (<span class="strong"><strong><a class="xref" href="ch06s10.html" title="6.10 What Transformations Affect">6.10 What Transformations Affect</a></strong></span>); it always behaves as if all these buttons were pressed. You cannot scale a clone in such a way as to leave its stroke width unchanged or its gradient unaffected—because what you’re transforming is, in effect, an image of the original, and that image cannot have a different stroke width or gradient position compared to the original.</p></div>
<div class="sect1" title="16.3 Styling Clones"><div class="titlepage"><div><div><h1 class="title"><a id="one6dot3_styling_clones"/>16.3 Styling Clones</h1></div></div></div><p>In the beginning of this chapter, I mentioned that clones inherit their style from their originals. That is true: A clone of a red rectangle will be red. There are, however, several important exceptions and workarounds for this limitation.</p><p>First of all, opacity (<span class="strong"><strong><a class="xref" href="ch08s01.html#eightdot1dot2_opacity" title="8.1.2 Opacity">8.1.2 Opacity</a></strong></span>) and blur (<span class="strong"><strong><a class="xref" href="ch17s01.html" title="17.1 Blur">17.1 Blur</a></strong></span>) are not subject to this limitation at all: You can easily blur a clone or make it semitransparent. This is because these properties <span class="emphasis"><em>accumulate</em></span>—that is, if you blur something and then blur its parent, these blurs add up, and the result will be more fuzzy than from either of these blurs taken alone. This also means that if your original is <span class="emphasis"><em>already</em></span> blurred or has less than 100% opacity, you can make its clone <span class="emphasis"><em>more</em></span> blurred or <span class="emphasis"><em>more</em></span> transparent, but not less.</p><p>The same applies to filter effects (<a class="xref" href="ch17.html" title="Chapter 17. Filters">Chapter 17</a>; actually, blur is just one of the filters). You can apply any filter to a clone, and it will work on top of any filters that the original of this clone has. For example, you can make the clone of a red rectangle green or gray by applying the <span class="strong"><strong>Color Matrix</strong></span> filter primitive (<span class="strong"><strong><a class="xref" href="ch08s08.html" title="8.8 Color Extensions and Filters">8.8 Color Extensions and Filters</a></strong></span>).</p><p>But what about plain fill or stroke colors? Even they can be changed in a clone, but only if the original cooperates. Namely, any style property that you <a id="iddle1491" class="indexterm"/><a id="iddle1522" class="indexterm"/><a id="iddle1524" class="indexterm"/><a id="iddle1527" class="indexterm"/><a id="iddle1533" class="indexterm"/><a id="iddle1542" class="indexterm"/><a id="iddle1689" class="indexterm"/><a id="iddle1934" class="indexterm"/><a id="iddle1945" class="indexterm"/><a id="iddle2170" class="indexterm"/><a id="iddle2182" class="indexterm"/><a id="iddle2436" class="indexterm"/><a id="iddle3253" class="indexterm"/><a id="iddle3920" class="indexterm"/><a id="iddle4322" class="indexterm"/><a id="iddle4433" class="indexterm"/>want to change in a clone must be <span class="emphasis"><em>unset</em></span> in the original. Unsetting (<span class="strong"><strong><a class="xref" href="ch08s01.html#eightdot1dot1_paint" title="8.1.1 Paint">8.1.1 Paint</a></strong></span>) is not the same as setting to <code class="literal">none</code>; a property is unset when it is simply <span class="emphasis"><em>not specified</em></span> for an object, which allows its clone’s property to take effect instead.</p><div class="figure"><a id="clone_can_be_painted_if_its_original_has"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00294"/><img src="httpatomoreillycomsourcenostarchimages1736242.png.jpg" alt="A clone can be painted if its original has the paint unset."/></div></div><p class="title">Figure 16-5. A clone can be painted if its original has the paint unset.</p></div><p>Inkscape has a special button in the <span class="strong"><strong>Fill and Stroke</strong></span> dialog, as well as a command in the selected style indicator (<span class="strong"><strong><a class="xref" href="ch08s04.html" title="8.4 The Selected Style Indicator: Paint Commands">8.4 The Selected Style Indicator: Paint Commands</a></strong></span>), for unsetting the fill or stroke properties of an object. An object with an unset stroke simply has no visible stroke, but if you unset its fill, the object is shown as black. If you want to unset some other style property, you will need to use the XML Editor (<span class="strong"><strong><a class="xref" href="ch04s07.html" title="4.7 The XML Editor">4.7 The XML Editor</a></strong></span>) and manually edit the <code class="literal">style</code> attribute of the object, removing the property you want to override in the clones.</p><p>If you have a group as the original object, then you can unset fill or stroke in only some of the members of that group, leaving others colored. Then, if you clone that group and paint the clone, only the objects with unset properties will take on that color, whereas everything else will remain true to the original.</p></div>
<div class="sect1" title="16.4 Chaining Clones"><div class="titlepage"><div><div><h1 class="title"><a id="one6dot4_chaining_clones"/>16.4 Chaining Clones</h1></div></div></div><p>Duplicating (<span class="strong"><strong><a class="xref" href="ch04s04.html" title="4.4 Copying, Cutting, Pasting, and Duplicating">4.4 Copying, Cutting, Pasting, and Duplicating</a></strong></span>) or copying and pasting a clone gives you another clone <span class="emphasis"><em>of the same original</em></span>. (You can copy and then paste a clone into a different document but only together with its original; if you try to paste a clone alone, it will end up being <span class="emphasis"><em>orphaned</em></span> and invisible.) Duplicating an existing clone is often convenient, as this duplicate will also get the first clone’s own transform and style, if it had any. Of course, you can also get another clone simply by cloning the original again.</p><p>Moreover, nothing prevents you from cloning a clone object itself. The resulting object—a <span class="emphasis"><em>clone of a clone</em></span>—will still display the content of its ultimate original, but its link to it is no longer direct; it is now a grandchild of the original, while the child (the first-order clone) stands between them. This means that the grandchild clone inherits transforms and style first from the original, then from its parent clone, and finally, it has its own transform and style on top of all that. Such clone-of-clone chains (they can be of any length) are rarely useful and not recommended, if only because long chains of clones can be bad for rendering performance; in almost all cases, multiple clones of the same original can be used instead, as shown in <a class="xref" href="ch16s04.html#instead_of_clones_of_clonescomma_use_mul" title="Figure 16-6. Instead of clones of clones, use multiple clones of the same object.">Figure 16-6</a>.</p><p>To figure out if the object you selected is a clone—and if so, what it is a clone of—look at the status bar. It will describe your selected object as, for example, <span class="emphasis"><em>Clone of: Group</em></span> or <span class="emphasis"><em>Clone of: Clone of: Path</em></span>. If you want to know exactly which object is the parent of the selected clone, press <span class="inlinemediaobject"><a id="inline_id00770"/><img src="httpatomoreillycomsourcenostarchimages1735568.png.jpg" alt=""/></span>: Inkscape will draw a dashed line from the clone to its original (that line will disappear after one second) and select the original object (<a class="xref" href="ch16s04.html#find_the_original_of_a_clone_by_pressing" title="Figure 16-7. Find the original of a clone by pressing .">Figure 16-7</a>).</p><div class="figure"><a id="instead_of_clones_of_clonescomma_use_mul"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00295"/><img src="httpatomoreillycomsourcenostarchimages1736244.png.jpg" alt="Instead of clones of clones, use multiple clones of the same object."/></div></div><p class="title">Figure 16-6. Instead of clones of clones, use multiple clones of the same object.</p></div><div class="figure"><a id="find_the_original_of_a_clone_by_pressing"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00296"/><img src="httpatomoreillycomsourcenostarchimages1736246.png.jpg" alt="Find the original of a clone by pressing ."/></div></div><p class="title">Figure 16-7. Find the original of a clone by pressing <span class="inlinemediaobject"><a id="inline_id00771"/><img src="httpatomoreillycomsourcenostarchimages1735568.png.jpg" alt=""/></span>.</p></div></div>
<div class="sect1" title="16.5 Unlinking and Relinking Clones"><div class="titlepage"><div><div><h1 class="title"><a id="one6dot5_unlinking_and_relinking_clones"/>16.5 Unlinking and Relinking Clones</h1></div></div></div><p><a id="iddle1540" class="indexterm"/><a id="iddle1557" class="indexterm"/><a id="iddle2632" class="indexterm"/><a id="iddle3706" class="indexterm"/><a id="iddle4889" class="indexterm"/>A clone’s link to its original is its main characteristic feature; that is, after all, why we use clones. This link facilitates a lot of tasks in complex designs—for example, you can use clones for identical buttons or bullets on a website mockup, with the ability to change all such elements at once by changing their common original. However, sometimes this link becomes an obstacle, and you want to edit your object independently of its former original. For this, you need to <span class="emphasis"><em>unlink</em></span> the clone.</p><p>Select a clone and press <span class="inlinemediaobject"><a id="inline_id00772"/><img src="httpatomoreillycomsourcenostarchimages1736248.png.jpg" alt=""/></span> (or select <span class="strong"><strong>Edit</strong></span> ▸ <span class="strong"><strong>Clone</strong></span> ▸ <span class="strong"><strong>Unlink Clone</strong></span>). Visibly, nothing changes; but the clone ceases to be clone and becomes a regular object—a full copy of the original, with all its additional transforms and style preserved, now totally independent and independently editable. You can unlink many clones at once.</p><p>What happens if you delete the original of a clone? By default, its clones are automatically unlinked—that is, they are turned into full copies of the object being killed. On the same <span class="strong"><strong>Clones</strong></span> tab of the <span class="strong"><strong>Inkscape Preferences</strong></span> dialog you can, however, choose a different behavior and force all clones to commit mass suicide when their original goes under:</p><div class="figure"><a id="setting_up_the_behavior_of_clones_being"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00297"/><img src="httpatomoreillycomsourcenostarchimages1736250.png.jpg" alt="Setting up the behavior of clones being orphaned"/></div></div><p class="title">Figure 16-8. Setting up the behavior of clones being orphaned</p></div><p>When you <span class="emphasis"><em>relink</em></span> a clone, it remains a clone, but its original changes. Manual relinking is done as follows: Suppose you have a clone C of an object A, but want it to be a clone of B instead. Select B and copy it to the clipboard (<span class="inlinemediaobject"><a id="inline_id00773"/><img src="httpatomoreillycomsourcenostarchimages1735376.png.jpg" alt=""/></span>), then select the clone C and do <span class="strong"><strong>Edit</strong></span> ▸ <span class="strong"><strong>Clone</strong></span> ▸ <span class="strong"><strong>Relink to Copied</strong></span>. After that, C becomes a clone of B—which, depending on what is B, may result in C changing shape, style, position, transform, or any combination of these (<a class="xref" href="ch16s05.html#relinking_a_clone_to_a_different_origina" title="Figure 16-9. Relinking a clone to a different original">Figure 16-9</a>).</p><div class="figure"><a id="relinking_a_clone_to_a_different_origina"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00298"/><img src="httpatomoreillycomsourcenostarchimages1736252.png.jpg" alt="Relinking a clone to a different original"/></div></div><p class="title">Figure 16-9. Relinking a clone to a different original</p></div><p><a id="iddle1534" class="indexterm"/><a id="iddle1715" class="indexterm"/><a id="iddle1724" class="indexterm"/><a id="iddle1946" class="indexterm"/><a id="iddle2453" class="indexterm"/>Manual relinking is a rarely needed operation. More useful is <span class="emphasis"><em>automatic relinking on duplication</em></span>. Imagine that you have a complex group of objects, some of which are clones of others—for example, a 3D-like graphic button where the shadow is a blurred clone of the main shape. Now, you select this entire group and duplicate it. What happens?</p><p>Within the group, each regular object will duplicate to a regular object, and each clone will duplicate to a clone. However, the clones will still be linked to the originals in the source group—which is most likely not what you wanted! It would be more natural for the shadow in the duplicated group to be a clone of the shape <span class="emphasis"><em>in the same group</em></span>, instead of some other group far away. To ensure this, go to the same <span class="strong"><strong>Clones</strong></span> tab and check <span class="strong"><strong>When duplicating original+clones: Relink duplicated clones</strong></span>. Now, after duplication you will have two independent buttons, each with an independently editable shape and a shadow linked to its own shape:</p><div class="figure"><a id="automatically_relinking_clones_on_duplic"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00299"/><img src="httpatomoreillycomsourcenostarchimages1736254.png.jpg" alt="Automatically relinking clones on duplication"/></div></div><p class="title">Figure 16-10. Automatically relinking clones on duplication</p></div></div>
<div class="sect1" title="16.6 Tiling Clones"><div class="titlepage"><div><div><h1 class="title"><a id="one6dot6_tiling_clones"/>16.6 Tiling Clones</h1></div></div></div><p>The huge and powerful <span class="strong"><strong>Create Tiled Clones</strong></span> dialog (<span class="strong"><strong>Edit</strong></span> ▸ <span class="strong"><strong>Clone</strong></span> ▸ <span class="strong"><strong>Create Tiled Clones</strong></span>) is basically a tool for creating many clones at once. These created clones can be placed into many kinds of spatial and color patterns, ranging from absolutely regular to totally randomized. Moreover, you can also make these clones trace the image underneath them.</p><div class="sect2" title="16.6.1 Size and Bounding Box"><div class="titlepage"><div><div><h2 class="title"><a id="one6dot6dot1_size_and_bounding_box"/>16.6.1 Size and Bounding Box</h2></div></div></div><p>The first thing to do, before you can create a tiled clone pattern, is to select the object you will be cloning. I recommend using a group for that; even if you have a single object, group it (<span class="inlinemediaobject"><a id="inline_id00774"/><img src="httpatomoreillycomsourcenostarchimages1735504.png.jpg" alt=""/></span>). This way, you will later be able to add more objects to the original group and the clones will reflect that. Place the original into the top-left corner of the area you want to fill with the pattern.</p><p>In the <span class="strong"><strong>Create Tiled Clones</strong></span> dialog, start by specifying the size of the tiling (<a class="xref" href="ch16s06.html#setting_the_size_of_a_pattern" title="Figure 16-11. Setting the size of a pattern">Figure 16-11</a>). You can either give the number of rows and columns in the pattern, or if you have some specific area to fill, you can type or paste its width and height. Note that too-large patterns—with more than a few thousands of clones—can slow Inkscape down considerably.</p><div class="figure"><a id="setting_the_size_of_a_pattern"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00300"/><img src="httpatomoreillycomsourcenostarchimages1736256.png.jpg" alt="Setting the size of a pattern"/></div></div><p class="title">Figure 16-11. Setting the size of a pattern</p></div><p><a id="iddle1543" class="indexterm"/><a id="iddle1722" class="indexterm"/><a id="iddle1725" class="indexterm"/><a id="iddle1739" class="indexterm"/><a id="iddle3630" class="indexterm"/><a id="iddle4848" class="indexterm"/>To create a tile (after you set all other parameters as described below, or if you just trusted the defaults), click the <span class="strong"><strong>Create</strong></span> button. The pattern appears on the canvas, but you still have the original object selected. The <span class="strong"><strong>Remove</strong></span> button deletes any previously tiled clones of the selected object. Note that <span class="strong"><strong>Create</strong></span> implies <span class="strong"><strong>Remove</strong></span>—that is, once you click <span class="strong"><strong>Create</strong></span>, any existing tiled clones (but not regular clones created by <span class="inlinemediaobject"><a id="inline_id00775"/><img src="httpatomoreillycomsourcenostarchimages1735630.png.jpg" alt=""/></span>) are removed and replaced by a new pattern.</p><p>The <span class="strong"><strong>Unclump</strong></span> button works exactly as the same-name button in the <span class="strong"><strong>Align and Distribute</strong></span> dialog (<span class="strong"><strong><a class="xref" href="ch07s05.html#sevendot5dot1_randomizingcomma_unclumpin" title="7.5.1 Randomizing, Unclumping, and Removing Overlaps">7.5.1 Randomizing, Unclumping, and Removing Overlaps</a></strong></span>), except that it moves all the tiled clones of the selected object rather than all selected objects. Unclumping is especially useful for making randomized patterns more uniform without regularizing them. The <span class="strong"><strong>Reset</strong></span> button changes all parameters of the dialog back to the defaults.</p><div class="figure"><a id="unclumping_a_randomized_pattern"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00301"/><img src="httpatomoreillycomsourcenostarchimages1736258.png.jpg" alt="Unclumping a randomized pattern"/></div></div><p class="title">Figure 16-12. Unclumping a randomized pattern</p></div><p>The <span class="strong"><strong>Use saved size and position of the tile</strong></span> checkbox has no effect when you create a pattern for the first time. However, if you modify the object you’re tiling and create the pattern again, normally Inkscape will use the altered size of the object, which may result in the pattern changing its overall size and the alignment of the tiles. To make Inkscape use the same tile size as the last time you created a pattern from that object, even if the object’s size has changed, check this checkbox. For example, you can create a pattern from a rectangle, fine-tune all the parameters, then remove the pattern, scale up the original rectangle, and recreate the pattern with this checkbox checked. You will now have the exact same pattern as last time, but with its tiles larger and overlapping each other. (Of course, you can also simply edit the original without removing and regenerating the pattern.) Every object may thus remember its last “tiled size.”</p><div class="note" title="Note"><h3 class="title"><a id="ch16note02"/>Note</h3><p><span class="emphasis"><em>Note that all patterns include a clone that exactly (except when randomized) overlays the original object. This means that if you lose the selection of the original, simply clicking the original’s location will select the overlying clone and not the original. Use</em></span> <span class="inlinemediaobject"><a id="inline_id00776"/><img src="httpatomoreillycomsourcenostarchimages1735550.png.jpg" alt=""/></span> <span class="emphasis"><em>-click (<span class="strong"><strong><a class="xref" href="ch05s09.html" title="5.9 Selecting Objects from Underneath">5.9 Selecting Objects from Underneath</a></strong></span>) or select any of the clones and press</em></span> <span class="inlinemediaobject"><a id="inline_id00777"/><img src="httpatomoreillycomsourcenostarchimages1735568.png.jpg" alt=""/></span> <span class="emphasis"><em>to jump to the original.</em></span></p></div></div><div class="sect2" title="16.6.2 Symmetry"><div class="titlepage"><div><div><h2 class="title"><a id="one6dot6dot2_symmetry"/>16.6.2 Symmetry</h2></div></div></div><p><a id="iddle1735" class="indexterm"/><a id="iddle4932" class="indexterm"/>The first tab in the dialog is titled <span class="strong"><strong>Symmetry</strong></span>. All it has is a list of <span class="emphasis"><em>symmetry groups</em></span> from which you select one to use for your pattern. Each symmetry group is a specific way to transform the clones to form the pattern. It is not by a whim of Inkscape’s programmers that the number of these groups is exactly 17; mathematicians have proved that any possible regular pattern on a plane can be classified into one of these 17 types. For a complete description of each symmetry, see the Wikipedia article on “wallpaper group.” Here is an overview of the types:</p><p><span class="strong"><strong>P1</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>This is the simplest possible symmetry: The pattern tile is simply repeated in a rectangular grid without any rotations or flips.</p><div class="figure"><a id="basic_symmetry_p1"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00302"/><img src="httpatomoreillycomsourcenostarchimages1736260.png.jpg" alt="The basic symmetry: P1"/></div></div><p class="title">Figure 16-13. The basic symmetry: P1</p></div></li></ul></div><p><span class="strong"><strong>P2, PM, PG, CM, PMM, PMG, PGG, and CMM</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>These symmetries use rotations by 180 degrees as well as vertical and horizontal flips in various combinations. However, all of these symmetries use the same rectangular grid placement as P1, with the width and height of the unit of grid being the same as width and height of the original object.</p><div class="figure"><a id="symmetries_with_flips_and_180-degree_rot"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00303"/><img src="httpatomoreillycomsourcenostarchimages1736262.png.jpg" alt="Symmetries with flips and 180-degree rotations"/></div></div><p class="title">Figure 16-14. Symmetries with flips and 180-degree rotations</p></div></li></ul></div><p><span class="strong"><strong>P4, P4M, and P4G</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>These symmetries involve rotations by 90 degrees, so they produce square-based patterns. The P4M symmetry results in partial overlapping of rectangular tiles; with it, use triangular tiles to avoid overlapping and fill the plane (<a class="xref" href="ch16s06.html#symmetries_with_90-degree_rotations" title="Figure 16-15. Symmetries with 90-degree rotations">Figure 16-15</a>).</p><div class="figure"><a id="symmetries_with_90-degree_rotations"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00304"/><img src="httpatomoreillycomsourcenostarchimages1736264.png.jpg" alt="Symmetries with 90-degree rotations"/></div></div><p class="title">Figure 16-15. Symmetries with 90-degree rotations</p></div></li></ul></div><p><a id="iddle4581" class="indexterm"/><span class="strong"><strong>P3, P31M, and P3M1</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>These symmetries involve rotations by 120 degrees and are thus roughly triangular in appearance. Again, P31M creates a more dense pattern with partially overlapping tiles, so you can use a “pie slice” shape to fill the plane with this symmetry without overlapping.</p><div class="figure"><a id="symmetries_with_120-degree_rotations"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00305"/><img src="httpatomoreillycomsourcenostarchimages1736266.png.jpg" alt="Symmetries with 120-degree rotations"/></div></div><p class="title">Figure 16-16. Symmetries with 120-degree rotations</p></div></li></ul></div><p><span class="strong"><strong>P6 and P6M</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>These symmetries rotate the tiles by 60 degrees, forming snowflake-like hexagonal patterns. Of them, P6M again overlaps the tiles and requires a “pie slice” shape to fill the plane without overlapping.</p><div class="figure"><a id="symmetries_with_60-degree_rotations"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00306"/><img src="httpatomoreillycomsourcenostarchimages1736268.png.jpg" alt="Symmetries with 60-degree rotations"/></div></div><p class="title">Figure 16-17. Symmetries with 60-degree rotations</p></div></li></ul></div><p>For “dense” patterns (P4M, P31M, P6M) that overlap the tiles, the following trick may be useful: Create the pattern and then scale the original down. This will make the pattern more sparse, and its characterisic logic will be easier to understand.</p><p>When working on a tessellation (a pattern that completely fills the plane without gaps or overlapping), it would be very difficult to create a tile of the proper shape in isolation, even if you understand well how your chosen symmetry works. Instead, just start with any random shape, create the pattern from it using the desired symmetry, and then node-edit the original path watching how the pattern’s clones repeat its changes. In this way, a surprisingly sophisticated tessellation can be produced very quickly (see <span class="strong"><strong><a class="xref" href="ch24s02.html" title="24.2 Treatment 2: Tessellation">24.2 Treatment 2: Tessellation</a></strong></span>).</p></div><div class="sect2" title="16.6.3 Shift, Scale, and Rotation"><div class="titlepage"><div><div><h2 class="title"><a id="one6dot6dot3_shiftcomma_scalecomma_and_r"/>16.6.3 Shift, Scale, and Rotation</h2></div></div></div><p><a id="iddle1726" class="indexterm"/><a id="iddle1728" class="indexterm"/><a id="iddle1730" class="indexterm"/><a id="iddle1732" class="indexterm"/><a id="iddle3631" class="indexterm"/>The next three tabs in the dialog allow you to specify the <span class="emphasis"><em>additional</em></span> transforms to be applied to the pattern’s tiles—that is, transforms on top of those shifts, rotations, and flips implied by the chosen symmetry group.</p><p>All of these additional transform components can be specified separately per row and per column, and each value can include a degree of randomness. You can specify, for example, an equivalent of “Make tiles in each next row 20 percent taller, rotate tiles in each next column by 5 degrees, and make the rotation angle vary randomly by 50 percent.” All shifts, scales, and randomization values are measured as percentages of the original object’s dimensions.</p><div class="figure"><a id="shiftcomma_scalecomma_and_rotation_tabs"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00307"/><img src="httpatomoreillycomsourcenostarchimages1736270.png.jpg" alt="The Shift, Scale, and Rotation tabs"/></div></div><p class="title">Figure 16-18. The Shift, Scale, and Rotation tabs</p></div><p>Here’s how it works for shifts:</p><div class="figure"><a id="specifying_shifts_per_row_and_per_column"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00308"/><img src="httpatomoreillycomsourcenostarchimages1736272.png.jpg" alt="Specifying shifts per row and per column (PG symmetry)"/></div></div><p class="title">Figure 16-19. Specifying shifts per row and per column (PG symmetry)</p></div><p>Negative shifts are possible, too. Naturally, to get all the clones to overlay the original, you need to specify <span class="strong"><strong>Shift X:</strong></span> –100% per column and <span class="strong"><strong>Shift Y:</strong></span> –100% per row. In combination with rotation per row, this makes it possible to easily create a flower or a clock face:</p><div class="figure"><a id="specifying_scale_and_rotation_per_row_an"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00309"/><img src="httpatomoreillycomsourcenostarchimages1736274.png.jpg" alt="Specifying scale and rotation per row and per column"/></div></div><p class="title">Figure 16-20. Specifying scale and rotation per row and per column</p></div><p>You can make the values <span class="strong"><strong>Alternate</strong></span> (for example, scale clones in every second row). The <span class="strong"><strong>Cumulate</strong></span> checkbox forces the values of shift or scale to accumulate; <a id="iddle1332" class="indexterm"/><a id="iddle1520" class="indexterm"/><a id="iddle1538" class="indexterm"/><a id="iddle1718" class="indexterm"/><a id="iddle3171" class="indexterm"/>for example, normally a shift of 10 px per column means that each column is shifted by 10 px relative to the previous column. If you check <span class="strong"><strong>Cumulate</strong></span>, the same value would mean every column being shifted 10 px further than was its predecessor—that is, the second column is 10 px from the first, the third is 20 px from the second, and so on.</p><div class="figure"><a id="alternating_transforms"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00310"/><img src="httpatomoreillycomsourcenostarchimages1736276.png.jpg" alt="Alternating transforms"/></div></div><p class="title">Figure 16-21. Alternating transforms</p></div><p>For complex symmetries, a natural question is: What should be considered a “row” and a “column” when calculating transform values? Inkscape draws complex patterns by symmetric clusters (of 3, 4, 6, or 12 clones, depending on the symmetry), going from one cluster to the next horizontally within a row. In other words, clones that belong to one cluster are considered to be in the same row but in different columns. This means that the <span class="strong"><strong>Per row</strong></span> shift values work by shifting rows of clusters or scaling clones in each cluster uniformly, whereas <span class="strong"><strong>Per column</strong></span> values affect each clone independently, and as a result clusters lose their symmetry. If you want to space out symmetric clusters in both dimensions, just create a single cluster with your chosen symmetry, then group it, and tile the group with a simple P1 symmetry, possibly with alternating shifts.</p><div class="figure"><a id="transforming_complex_symmetries"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00311"/><img src="httpatomoreillycomsourcenostarchimages1736278.png.jpg" alt="Transforming complex symmetries"/></div></div><p class="title">Figure 16-22. Transforming complex symmetries</p></div></div><div class="sect2" title="16.6.4 Blur and Opacity"><div class="titlepage"><div><div><h2 class="title"><a id="one6dot6dot4_blur_and_opacity"/>16.6.4 Blur and Opacity</h2></div></div></div><p>This tab of the dialog looks and acts very similar to the transform tabs; here, you can adjust the blur and the opacity (the <span class="strong"><strong>Fade out</strong></span> value) of the clones in the pattern, per row or per column, with optional alternating or randomization. Remember that you can only make a clone more blurred or more transparent than its original, but not less.</p><div class="figure"><a id="varying_blur_and_opacity_in_a_pattern"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00312"/><img src="httpatomoreillycomsourcenostarchimages1736280.png.jpg" alt="Varying blur and opacity in a pattern"/></div></div><p class="title">Figure 16-23. Varying blur and opacity in a pattern</p></div></div><div class="sect2" title="16.6.5 Color"><div class="titlepage"><div><div><h2 class="title"><a id="one6dot6dot5_color"/>16.6.5 Color</h2></div></div></div><p><a id="iddle1553" class="indexterm"/><a id="iddle1720" class="indexterm"/><a id="iddle1737" class="indexterm"/><a id="iddle2159" class="indexterm"/><a id="iddle4404" class="indexterm"/><a id="iddle4721" class="indexterm"/>As we’ve seen in <span class="strong"><strong><a class="xref" href="ch16s03.html" title="16.3 Styling Clones">16.3 Styling Clones</a></strong></span>, if you want to paint a clone with its own color, you need to unset the corresponding property in the original. Once you’ve done that for the paint you’re going to change (fill, stroke, or both), the <span class="strong"><strong>Create Tiled Clones</strong></span> dialog allows you to create a wide variety of color patterns.</p><p>The <span class="strong"><strong>Color</strong></span> tab of the dialog looks very similar to all the tabs we already know. Here, you can vary any of the three components of the clone color in the HSL model—hue, saturation, and lightness (<span class="strong"><strong><a class="xref" href="ch08s02.html#eightdot2dot3_hsl" title="8.2.3 HSL">8.2.3 HSL</a></strong></span>)—per row or per column, as well as alternate or randomize the changes. You also need to specify the <span class="strong"><strong>Initial color</strong></span> from which all these variations will start; just click the color swatch and use the color selector dialog. Remember that the original must have unset fill or stroke, otherwise this tab will have no effect!</p><div class="figure"><a id="setting_an_initial_color_for_the_color_t"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00313"/><img src="httpatomoreillycomsourcenostarchimages1736282.png.jpg" alt="Setting an initial color for the Color tab"/></div></div><p class="title">Figure 16-24. Setting an initial color for the Color tab</p></div><p>For example, by starting with red and varying the hue by 5 percent per row and per column, you get a slanted rainbow, as shown in Figure 10 on the color insert.</p></div><div class="sect2" title="16.6.6 Tracing"><div class="titlepage"><div><div><h2 class="title"><a id="one6dot6dot6_tracing"/>16.6.6 Tracing</h2></div></div></div><p>The last tab of the <span class="strong"><strong>Create Tiled Clones</strong></span> dialog (<a class="xref" href="ch16s06.html#trace_tab" title="Figure 16-25. The Trace tab">Figure 16-25</a>) is quite different from the rest. Here, you can make the pattern <span class="emphasis"><em>trace</em></span> any kind of image on top of which it is built—that is, make it so that some of the aspects of each clone will depend on what is below it. The background image you’re tracing can be anything—for example, you can cover with the pattern an imported bitmap such as a photo, or you can draw anything with vector objects; it makes no difference to the tracer what it picks its values from.</p><p>The tab contains three main areas that correspond to the three main steps of the tracing algorithm. First, you pick some value at the location of each clone; second, you do some optional processing with that value; and third, you apply the result to some aspect of the clone. Enable the controls of the tab by checking the <span class="strong"><strong>Trace the drawing under the tiles</strong></span> checkbox.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>For the input value, you have the option of picking the <span class="strong"><strong>Color</strong></span>, <span class="strong"><strong>Opacity</strong></span>, or any single component of the color in RGB or HSL models. The value you pick for each clone is averaged over the entire rectangular area that will be covered by that clone’s bounding box. Of these options, all produce a single numeric value in the range from 0 to 1, except <span class="strong"><strong>Color</strong></span>, which picks all three components of the color as a composite value.</p><div class="figure"><a id="trace_tab"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00314"/><img src="httpatomoreillycomsourcenostarchimages1736284.png.jpg" alt="The Trace tab"/></div></div><p class="title">Figure 16-25. The Trace tab</p></div></li><li class="listitem"><p>The possible ways to process the value include:</p><p><span class="strong"><strong>gamma correction</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Positive gamma shifts the picked value up, negative shifts it down.</p></li></ul></div><p><span class="strong"><strong>randomization by a given percentage</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The value will have a random component of the given size; 0% randomization means the value is exactly as picked, 100% randomization means it is totally random and does not depend on the picked value at all.</p></li></ul></div><p><span class="strong"><strong>inversion</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Turns high values into low and vice versa.</p></li></ul></div><p>If a color is picked, this processing is applied to each of its components independently, as shown in Figure 11 on the color insert.</p></li><li class="listitem"><p>Finally, the resulting value can be applied to the clone’s probability of presence (0 translates into absence of the clone at this location, 1 into presence, and intermediate values make it appear with this given probability); color (this can directly reuse the background color if it was picked; otherwise, it translates single values to shades of gray), size (from disappearance at 0 to its full size at 1), and opacity (smaller values make the clone more transparent). Any number of these options can be enabled at the same time; for example, you can pick lightness, invert it, and apply it to both the opacity and size of the clones (see Figure 12 on the color insert).</p></li></ul></div></div></div></body></html>