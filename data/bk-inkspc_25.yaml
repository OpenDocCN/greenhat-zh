- en: Appendix A. An SVG Primer
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录A. SVG入门
- en: This appendix is a very high-level glance at the general principles of SVG and
    its implementation in Inkscape. Some of this material has already been referred
    to in other chapters. However, this book does not intend to replace the official
    SVG specification. If you want an absolutely final, complete, and authoritative
    reference on SVG, you need the SVG specification produced by the W3C. Available
    versions of this specification can be found at *[http://w3.org/Graphics/SVG](http://w3.org/Graphics/SVG)*;
    the version that Inkscape currently supports, 1.1, is at *[http://w3.org/TR/SVG11](http://w3.org/TR/SVG11)*.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录对SVG及其在Inkscape中的实现提供了一个非常高级的概述。其中一些内容已在其他章节中提及。然而，本书并不打算取代官方的SVG规范。如果您需要一个关于SVG的绝对最终、完整和权威的参考，您需要W3C生产的SVG规范。该规范的可用版本可以在*[http://w3.org/Graphics/SVG](http://w3.org/Graphics/SVG)*找到；Inkscape目前支持的版本1.1可以在*[http://w3.org/TR/SVG11](http://w3.org/TR/SVG11)*找到。
- en: Knowledge of SVG and, more generally, XML (SVG is just a specialized variety
    of XML) is not *strictly* necessary for mastering Inkscape—but it really helps.
    It will allow you to peek under the hood of Inkscape drawings, and it will often
    reveal the true reasons behind some of Inkscape’s features (or lack thereof).
    As XML is so widely used these days, this appendix’s material may also be useful
    to you in a lot of other situations not involving Inkscape and SVG at all.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 对SVG的了解，以及更广泛的XML（SVG只是XML的一个特殊种类）的知识，对于掌握Inkscape并不是*严格必要*的——但它确实很有帮助。它将允许你窥视Inkscape绘图的内部，并且它通常会揭示Inkscape的一些功能（或缺乏功能）背后的真正原因。由于XML现在被广泛使用，本附录的材料也可能在许多不涉及Inkscape和SVG的其他情况下对你有用。
- en: A.1 A Quick Introduction to XML
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.1 XML快速入门
- en: These days, almost everyone has at least heard of XML, and certainly everyone
    has used it, though often unknowingly. If you’ve seen the source code of a web
    page, you already know what XML looks like, because XHTML, the markup language
    used on the Web today, is one of the subspecies of XML (more precisely, an *XML
    vocabulary*). SVG is another such vocabulary.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，几乎每个人都至少听说过XML，当然每个人都使用过它，尽管通常是无意中。如果你看过网页的源代码，你已经知道XML的样子，因为今天在网络上使用的标记语言XHTML是XML的一个亚种（更准确地说，是一个*XML词汇*）。SVG是另一个这样的词汇。
- en: XML is a standardized way to record structured information in plain text. Its
    biggest advantage is that it is easy to parse for computers and yet quite understandable
    for humans. Unlike most other computer-related concepts that are, usually, as
    complex as you think they are (or more), XML is an unbelievably simple thing.
    So simple, in fact, that I will now explain it in a few short paragraphs.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: XML是一种在纯文本中记录结构化信息的标准方式。它的最大优点是它对计算机来说易于解析，同时对人来说又相当容易理解。与大多数其他通常像你想的那么复杂（或者更复杂）的计算机相关概念不同，XML是一个不可思议的简单事物。事实上，简单到我现在可以用几个简短的段落来解释它。
- en: 'The basic building block of an XML document is called an *element*. Here is
    an example of an element containing some text:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: XML文档的基本构建块被称为*元素*。以下是一个包含一些文本的元素的示例：
- en: '[PRE0]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The text inside the element is called its *content*, and that content is delimited
    by *tags*. Everything between the less-than sign (`<`) and the greater-than sign
    (`>`) is a tag. Here, the opening tag and the closing tag are almost identical,
    except that the closing one has a forward slash (`/`) before the element name,
    which in this case is `example`.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 元素内的文本称为其*内容*，该内容由*标签*界定。在小于号（`<`）和大于号（`>`）之间的所有内容都是一个标签。在这里，开始标签和结束标签几乎完全相同，除了结束标签在元素名称之前有一个正斜杠（`/`），在这个例子中是`example`。
- en: 'An element may have no content at all:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 一个元素可能完全没有内容：
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: or
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 或者
- en: '[PRE2]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: These two *empty elements* are absolutely equivalent; the second one, consisting
    of a single tag, is just a spelling variant of the first. Note the different position
    of the forward slash (`/`) in the single-tag empty element.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个*空元素*完全等价；第二个，由一个标签组成，只是第一个的拼写变体。注意单标签空元素中正斜杠（`/`）的不同位置。
- en: 'In addition to text, elements can also contain other elements, but those elements
    must lie *entirely* within the containing element. For example, this is wrong:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 除了文本之外，元素还可以包含其他元素，但这些元素必须完全位于包含元素内。例如，这是错误的：
- en: '[PRE3]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'because the element `b` starts inside `a` but ends outside it. If an element
    started inside some other element, it must also end within that element. Here
    is an example of correct XML:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 因为元素`b`在`a`内部开始，但在外部结束。如果一个元素在某个其他元素内部开始，它也必须在那个元素内部结束。以下是一个正确的XML示例：
- en: '[PRE4]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: One can say that `a` is the *parent element* of `b`, `c`, and `d`, while `d`
    is the parent of `e`. An element may have many children, but it has only one parent
    (except for the root element of the document, which has no parent at all). [Figure A-1](apas01.html#tree_representing_the_xml_code
    "Figure A-1. A tree representing the XML code") is a graphic representation of
    this XML fragment.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 可以说，`a` 是 `b`、`c` 和 `d` 的父元素，而 `d` 是 `e` 的父元素。一个元素可以有多个子元素，但它只有一个父元素（除了文档的根元素，它根本没有任何父元素）。[图
    A-1](apas01.html#tree_representing_the_xml_code "图 A-1. 表示 XML 代码的树") 是这个 XML
    片段的图形表示。
- en: '![A tree representing the XML code](httpatomoreillycomsourcenostarchimages1736528.png.jpg)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![表示 XML 代码的树](httpatomoreillycomsourcenostarchimages1736528.png.jpg)'
- en: Figure A-1. A tree representing the XML code
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A-1. 表示 XML 代码的树
- en: Note
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*This explains why groups of objects in Inkscape cannot contain objects from
    different layers (**[4.5 Groups](ch04s05.html "4.5 Groups")**). A group is a parent
    element for its children, but so is a layer. A group may be contained inside a
    single layer, but you can’t have it scattered across several layers, because that
    would result in that group having several parents.*'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '*这解释了为什么 Inkscape 中的对象组不能包含来自不同层的对象（**[4.5 组](ch04s05.html "4.5 组")**）。组是其子元素的父元素，但层也是。组可以包含在单个层中，但你不能将其分散在几个层中，因为这会导致该组有多个父元素。*'
- en: 'Apart from children elements, XML elements may have some attributes. Each *attribute*
    is a name with some associated value. Attributes are specified in the opening
    tag of an element, for example:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 除了子元素之外，XML 元素还可以有一些属性。每个 *属性* 都是一个带有一些相关值的名称。属性在元素的打开标签中指定，例如：
- en: '[PRE5]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Note the use of the equal sign (`=`) and the double quote marks around attribute
    values. Both are mandatory.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 注意等号 (`=`) 和属性值周围的引号的使用。两者都是强制性的。
- en: Note
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*An element cannot have two attributes with the same name. Note that the order
    of the attributes in the opening tag never affects anything; attributes in XML
    are* unordered*.*'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '*一个元素不能有两个同名属性。请注意，在开标签中属性的顺序永远不会影响任何事情；XML 中的属性是无序的*。'
- en: 'Finally, the entire XML document is simply a single element (called *root*)
    with some text content and children elements, which in turn can have more content
    and more children, and so on. An XML document can thus be thought of as a tree
    growing from a single root. For example, here is a complete SVG document whose
    root element, `svg`, contains two elements representing a rectangle and a text
    string:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，整个 XML 文档只是一个包含一些文本内容和子元素的单一元素（称为 *根*），这些子元素又可以有更多内容和更多子元素，依此类推。因此，可以将 XML
    文档视为从单一根生长的树。例如，这里是一个完整的 SVG 文档，其根元素 `svg` 包含两个元素，分别代表一个矩形和一段文本字符串：
- en: '[PRE6]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: A.2 Vocabularies and Namespaces
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.2 词汇表和命名空间
- en: If this is all there is to XML, what makes it so powerful and so widely used?
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这就是 XML 的全部，是什么让它如此强大并且如此广泛使用？
- en: XML itself is just a foundation, and on that foundation a lot of buildings have
    been, are being, and undoubtedly will be erected. You won’t believe how many valuable
    programmer resources were wasted before the advent of XML on inventing new data
    formats for each application, formulating their rules, writing and testing software
    to support them, and working around the inevitable bugs, exceptions, and version
    incompatibilities.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: XML 本身只是一个基础，在这个基础上已经、正在以及无疑将会建造起许多建筑。你不会相信在 XML 出现之前，为了每个应用程序发明新的数据格式、制定规则、编写和测试支持这些格式的软件、以及处理不可避免的错误、异常和版本不兼容性，浪费了多少宝贵的程序员资源。
- en: 'All this misery is now a thing of the past. Now, if you need to record some
    data, you don’t need to go into the low-level details of which characters have
    special meanings and what are the sizes of various fields. By choosing XML (and
    you would need serious reasons *not* to choose it) you can concentrate on things
    that really matter: the structure of your data and how to name elements and attributes
    that would best express that structure.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些痛苦现在都已过去。现在，如果你需要记录一些数据，你不需要深入了解哪些字符有特殊含义以及各种字段的尺寸。通过选择 XML（你会有充分的理由不选择它），你可以专注于真正重要的事情：你数据的结构以及如何命名元素和属性，以便最好地表达这种结构。
- en: Moreover, these days it is quite likely that you won’t even need that, because
    a well-known standardized XML *vocabulary* for your data probably already exists,
    and you can just make use of it. Each vocabulary defines a set of elements and
    attributes, detailing what they are supposed to mean, in what contexts they may
    or may not be used, what is obligatory and what is optional, and so on. SVG is
    one such vocabulary; XHTML is another. There exist standardized XML vocabularies
    for a lot of exotic things, from dog genealogies to star catalogs. Many of them
    reuse parts of other vocabularies.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，如今你甚至可能根本不需要这样做，因为你的数据可能已经存在一个众所周知的标准化XML *词汇表*，你可以直接使用它。每个词汇表定义了一组元素和属性，详细说明了它们的含义，它们可能或可能不在什么上下文中使用，哪些是必需的，哪些是可选的，等等。SVG就是这样一种词汇表；XHTML是另一种。存在许多标准化的XML词汇表，用于各种奇特的事物，从狗的系谱到星历表。其中许多词汇表都重复使用了其他词汇表的部分。
- en: 'To be able to mix parts of different vocabularies without confusion, XML uses
    *namespaces*. A namespace is just a way to indicate where a specific element or
    attribute comes from. For example, here’s an `image` element from SVG vocabulary,
    representing a linked bitmap image inside an SVG document:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 为了能够不混淆地混合不同词汇表的部分，XML使用 *命名空间*。命名空间只是用来指示特定元素或属性来源的一种方式。例如，这里有一个来自SVG词汇表的 `image`
    元素，表示SVG文档内部的链接位图图像：
- en: '[PRE7]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'You can see that the element name and one of the attributes use a colon (`:`).
    The part of the name before the colon is called the *namespace prefix*. To find
    out which namespace corresponds with which prefix, we must look for a namespace
    declaration in the form of a special `xmlns` prefixed attribute (short for *XML
    NameSpace*), either on the same element or on any of its ancestor elements up
    the tree. It is customary to place all namespace declaration attributes on the
    root element. In this case, you will likely find the declarations for `svg` and
    `xlink` prefixes in the root `svg` element:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到元素名称和一个属性使用了冒号（`:`）。冒号之前的名字部分被称为 *命名空间前缀*。为了找出哪个命名空间对应哪个前缀，我们必须查找特殊 `xmlns`
    前缀属性（简称 *XML NameSpace*）的命名空间声明，它可能位于同一元素上，或者在其树状结构中的任何祖先元素上。通常，所有命名空间声明属性都会放在根元素上。在这种情况下，你可能会在根
    `svg` 元素中找到 `svg` 和 `xlink` 前缀的声明：
- en: '[PRE8]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This means that the `svg` prefix is bound to the namespace of `http://www.w3.org/2000/svg`
    and the `xlink` prefix corresponds to `http://www.w3.org/1999/xlink`. Here, the
    namespaces are URLs, but they need not be; the only requirement is that they must
    be globally unique (and URLs are just the easiest way to ensure this uniqueness).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着 `svg` 前缀绑定到 `http://www.w3.org/2000/svg` 的命名空间，而 `xlink` 前缀对应于 `http://www.w3.org/1999/xlink`。在这里，命名空间是URL，但它们不必是；唯一的要求是它们必须是全局唯一的（而URL只是确保这种唯一性的最简单方式）。
- en: 'The namespace URL for SVG, `http://www.w3.org/2000/svg`, must look exactly
    as shown. If the namespace prefix of the elements in your SVG document does not
    resolve to `http://www.w3.org/2000/svg`, neither Inkscape nor any other software
    will recognize the document as SVG. The namespace *prefix*, however, may be arbitrary,
    so long as it’s bound to the correct namespace. The prefix may even be empty if
    you declare it thus:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: SVG的命名空间URL `http://www.w3.org/2000/svg` 必须与显示的完全一致。如果你的SVG文档中元素的命名空间前缀没有解析到
    `http://www.w3.org/2000/svg`，那么Inkscape或其他任何软件都不会将文档识别为SVG。然而，命名空间前缀可以是任意的，只要它与正确的命名空间绑定。如果这样声明，前缀甚至可以是空的：
- en: '[PRE9]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Inside the element with that declaration, any element name *without* a prefix
    will be assumed to be in the SVG namespace. For example, the following will be
    recognized as a valid `image` element from SVG, which links an external image
    file in PNG format:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在具有该声明的元素内部，任何没有前缀的元素名称将被假定为SVG命名空间中的元素。例如，以下内容将被识别为有效的SVG `image` 元素，它链接了一个PNG格式的外部图像文件：
- en: '[PRE10]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Namespace errors, such as no namespace declared for a prefix or a wrong namespace
    URL, are most common when you edit your SVG by hand and then try to load it into
    Inkscape. Watch out for them!
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 命名空间错误，例如未为前缀声明命名空间或命名空间URL错误，当你手动编辑SVG文件然后尝试将其加载到Inkscape中时最为常见。请注意这些错误！
- en: A.3 Root
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.3 根
- en: 'Here’s a typical root `svg` element of an Inkscape SVG document with a number
    of namespace declarations and other attributes:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一个典型的Inkscape SVG文档的根 `svg` 元素示例，其中包含多个命名空间声明和其他属性：
- en: '[PRE11]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: SVG uses the SVG namespace (`http://www.w3.org/2000/svg`) for its own elements
    and the XLink namespace (`http://www.w3.org/1999/xlink`) for the linking attributes
    (**[A.9 Linking](apas09.html "A.9 Linking")**). On top of that, Inkscape adds
    elements and attributes in the namespaces belonging to Inkscape (`http://www.inkscape.org/namespaces/inkscape`)
    and its predecessor Sodipodi (`http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd`;
    see **[1.6 The Life of an Open Source Application](ch01s06.html "1.6 The Life
    of an Open Source Application")** for a brief history of Inkscape). Other namespaces
    declared here are used for metadata elements (general information about the document)
    and license identifiers (**[A.4 Defs, View, and Metadata](apas04.html "A.4 Defs,
    View, and Metadata")**).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: SVG 使用 SVG 命名空间（`http://www.w3.org/2000/svg`）来定义其自身元素，以及 XLink 命名空间（`http://www.w3.org/1999/xlink`）来定义链接属性（**[A.9
    Linking](apas09.html "A.9 Linking")**）。在此基础上，Inkscape 还在其所属的 Inkscape 命名空间（`http://www.inkscape.org/namespaces/inkscape`）和其前身
    Sodipodi 的命名空间（`http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd`）中添加了元素和属性；参见
    **[1.6 The Life of an Open Source Application](ch01s06.html "1.6 The Life of an
    Open Source Application")** 了解 Inkscape 的简要历史。此处声明的其他命名空间用于元数据元素（关于文档的一般信息）和许可标识符（**[A.4
    Defs, View, and Metadata](apas04.html "A.4 Defs, View, and Metadata")**）。
- en: The only attributes on the root element that are defined in the SVG standard
    are `width` and `height` (defining the size of the canvas), `id`, and `version`.
    The rest are either namespace declarations or attributes in the custom Inkscape/Sodipodi
    namespaces.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: SVG 标准中定义在根元素上的属性只有 `width` 和 `height`（定义画布的大小），`id` 和 `version`。其余的都是命名空间声明或在自定义的
    Inkscape/Sodipodi 命名空间中的属性。
- en: 'This root tag specifies the version of Inkscape in which this document was
    created: `inkscape:version="0.46"`. It also claims that the version of Sodipodi
    that this document will work with is 0.32 (`sodipodi:version="0.32"`), because
    after that version Inkscape forked off Sodipodi. The non-namespaced `version`
    attribute refers to the version of the SVG specification this document implements,
    1.0.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 此根标签指定了创建此文档的 Inkscape 版本：`inkscape:version="0.46"`。它还声称此文档将与之兼容的 Sodipodi 版本是
    0.32（`sodipodi:version="0.32"`），因为在此版本之后 Inkscape 分叉了 Sodipodi。未命名空间的 `version`
    属性指的是此文档实现的 SVG 规范版本，1.0。
- en: 'The only difference between the Inkscape SVG and the Plain SVG formats that
    Inkscape offers when saving is that Plain SVG strips away all the elements and
    attributes in Inkscape and Sodipodi namespaces, leaving only the “industry standard”
    namespaces. Note that no Inkscape-specific elements or attributes are ever allowed
    to alter how the document *looks*; they can only affect the way it *behaves* when
    edited in Inkscape (for example, an attribute on a `g` element may tell Inkscape
    to edit that element as a 3D box instead of a simple group, see **[11.3 3D Boxes](ch11s03.html
    "11.3 3D Boxes")**). Therefore, saving as a Plain SVG is just a way to make a
    file a little smaller at the cost of losing some of its Inkscape editability.
    If you find a file that renders differently after being saved as Plain SVG, you’ve
    found a bug: Please report it to the developers!'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: Inkscape SVG 格式与 Inkscape 提供的普通 SVG 格式之间的唯一区别在于，普通 SVG 会移除 Inkscape 和 Sodipodi
    命名空间中的所有元素和属性，仅保留“行业标准”的命名空间。请注意，不允许任何 Inkscape 特定的元素或属性改变文档的 *外观*；它们只能影响在 Inkscape
    中编辑时的 *行为*（例如，`g` 元素上的属性可能告诉 Inkscape 将该元素作为一个 3D 箱子而不是一个简单的组来编辑，参见 **[11.3 3D
    Boxes](ch11s03.html "11.3 3D Boxes")**）。因此，以普通 SVG 格式保存只是以牺牲一些 Inkscape 可编辑性为代价来使文件稍微小一点。如果你发现保存为普通
    SVG 格式后渲染不同的文件，那么你发现了一个错误：请向开发者报告！
- en: A.4 Defs, View, and Metadata
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.4 Defs, View, and Metadata
- en: Now let’s descend from the root element of a typical Inkscape SVG document to
    see what else is in there.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们从典型的 Inkscape SVG 文档的根元素开始向下查看其中还包含什么。
- en: 'First comes the `defs` element. As part of the SVG standard, it is a storage
    bin for things that, by themselves, are not displayed on the canvas, but may be
    used by other elements that are. This includes gradients, patterns, markers (arrowheads,
    **[9.5 Markers](ch09s05.html "9.5 Markers")**), clipping paths, masks, filters,
    and so on. They are all stored as child elements of the `defs` element. The SVG
    specification allows arbitrarily many `defs` elements placed almost anywhere in
    the document, but Inkscape always uses a single `defs` under the root `svg`. Here’s
    an example `defs` element containing a gradient:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 首先是 `defs` 元素。作为 SVG 标准的一部分，它是一个存储库，用于存放那些本身不显示在画布上，但可能被其他显示元素使用的项目。这包括渐变、图案、标记（箭头，**[9.5
    标记](ch09s05.html "9.5 标记")**）、裁剪路径、蒙版、滤镜等等。它们都存储为 `defs` 元素的子元素。SVG 规范允许在文档的几乎任何位置放置任意数量的
    `defs` 元素，但 Inkscape 总是在根 `svg` 下使用一个 `defs`。以下是一个包含渐变的 `defs` 元素示例：
- en: '[PRE12]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Adding the `linearGradient` element to `defs`, by itself, does not change anything
    on the canvas. Now, however, any object can reference (**[10.2.1 Sharing Gradient
    Definitions](ch10s02.html#one0dot2dot1_sharing_gradient_definition "10.2.1 Sharing
    Gradient Definitions")**) this gradient for painting its fill or stroke.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 将 `linearGradient` 元素添加到 `defs` 中，本身并不会在画布上产生任何变化。现在，然而，任何对象都可以引用（**[10.2.1
    分享渐变定义](ch10s02.html#one0dot2dot1_sharing_gradient_definition "10.2.1 分享渐变定义")**）这个渐变来绘制其填充或描边。
- en: Most of the stuff in `defs` is kept even if no visible element uses it. (The
    only exceptions are the elements with the `inkscape:collect` attribute with the
    value of `always`; such elements are automatically deleted when no longer used.
    Inkscape often uses this flag to mark various supplemental elements it creates
    on its own and can safely dispose of; it will never delete anything that you created
    without your permission.)
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '`defs` 中的大多数内容即使没有可见元素使用也会保留。（唯一的例外是具有 `inkscape:collect` 属性且值为 `always` 的元素；这些元素在不再使用时将自动删除。Inkscape
    经常使用此标志来标记它自己创建的各种辅助元素，并且可以安全地丢弃；它永远不会删除您未授权创建的任何内容。）'
- en: This allows you to reuse things you once defined but then abandoned, but it
    also may lead to `defs` growing larger and larger as you work on your document
    and try out various techniques. To remove the unused definitions from `defs`,
    use the **File** ▸ **Vacuum Defs** command. Unfortunately, even this command may
    fail to completely delete *all* unused stuff in `defs` on the first try; you may
    need to quit, reload the document, and vacuum `defs` again for it to fully work.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 这允许您重用之前定义但后来放弃的项目，但也可能导致 `defs` 随着您在文档上工作并尝试各种技术而越来越大。要从 `defs` 中删除未使用的定义，请使用
    **文件** ▸ **清除 Defs** 命令。不幸的是，即使这个命令也可能无法在第一次尝试中完全删除 `defs` 中的所有未使用内容；您可能需要退出、重新加载文档，并再次清除
    `defs` 才能完全生效。
- en: 'The next element you will see inside an Inkscape SVG document is `sodipodi:namedview`.
    This Inkscape-specific element holds, in its attributes, all kinds of options
    that are specific to this document: the zoom level and scroll position that Inkscape
    will use upon loading the document, the colors and spacing of the grids, various
    snapping modes, the current layer, document units, and so on. From within Inkscape,
    most of these options are settable via the **File** ▸ **Document Properties**
    command (**[3.1.2 Document Properties](ch03s01.html#threedot1dot2_document_properties
    "3.1.2 Document Properties")**).'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Inkscape SVG 文档内部，您将看到的下一个元素是 `sodipodi:namedview`。这个 Inkscape 特定的元素在其属性中包含了所有特定于该文档的选项：Inkscape
    加载文档时将使用的缩放级别和滚动位置，网格的颜色和间距，各种吸附模式，当前图层，文档单位等等。在 Inkscape 中，大多数这些选项都可以通过 **文件**
    ▸ **文档属性** 命令（**[3.1.2 文档属性](ch03s01.html#threedot1dot2_document_properties "3.1.2
    文档属性")**）进行设置。
- en: '[PRE13]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Finally, just before the actual content of the document starts, there is the
    `metadata` element. It stores information about the author of the document, its
    purpose, date, license, and so on. It corresponds to the **File** ▸ **Document
    Metadata** dialog in Inkscape. The elements inside `metadata` typically represent
    the information as RDF (see *[http://w3.org/RDF](http://w3.org/RDF)*). RDF may
    employ many additional XML namespaces to describe different sorts of information.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，在文档的实际内容开始之前，是 `metadata` 元素。它存储有关文档作者、目的、日期、许可等信息。它对应于 Inkscape 中的 **文件**
    ▸ **文档元数据** 对话框。`metadata` 内部的元素通常将信息表示为 RDF（见 *[http://w3.org/RDF](http://w3.org/RDF)*）。RDF
    可能会使用许多额外的 XML 命名空间来描述不同类型的信息。
- en: A.5 Layers and Groups
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.5 图层和组
- en: 'After the `metadata` element, the actual visible content of the SVG document
    starts. As you may have guessed, each document object corresponds to an SVG element.
    Moreover, the order of the elements in the file corresponds to the order in which
    objects are visually stacked on the canvas (**[4.3 Z-Order](ch04s03.html "4.3
    Z-Order")**): Elements closer to the end of the file appear atop those nearer
    the beginning.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在`metadata`元素之后，SVG文档的实际可见内容开始。正如你可能猜到的，每个文档对象对应一个SVG元素。此外，文件中元素的顺序对应于对象在画布上视觉堆叠的顺序（**[4.3
    Z-Order](ch04s03.html "4.3 Z-Order")**）：文件末尾靠近的元素位于靠近开头的元素之上。
- en: 'When you group several elements together (**[4.5 Groups](ch04s05.html "4.5
    Groups")**), they are placed inside a `g` element. For example, here’s a group
    that contains a rectangle and a text object:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将几个元素组合在一起（**[4.5 组](ch04s05.html "4.5 Groups")**）时，它们被放置在一个`g`元素内部。例如，这里有一个包含矩形和文本对象的组：
- en: '[PRE14]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Besides groups, another way to organize your objects is by using layers (**[4.6
    Layers](ch04s06.html "4.6 Layers")**). SVG does not have a special element type
    for layers; instead, Inkscape just uses an SVG `g` element, adding a special attribute
    so it knows to treat the group as a layer when the file is edited.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 除了组之外，另一种组织你的对象的方法是使用图层（**[4.6 图层](ch04s06.html "4.6 Layers")**）。SVG没有专门用于图层的元素类型；相反，Inkscape只是使用一个SVG
    `g`元素，并添加一个特殊属性，以便在编辑文件时将其作为图层处理。
- en: '[PRE15]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Since layers are thus a special case of groups, it is easy to understand how
    Inkscape can “enter a group,” treating it temporarily as a layer (**[4.6.1 Layer
    Hierarchy](ch04s06.html#fourdot6dot1_layer_hierarchy "4.6.1 Layer Hierarchy")**).
    It also becomes clear why, upon importing Inkscape’s SVG file into another vector
    editor (such as Adobe Illustrator), you usually lose layers but your objects get
    additional layers of grouping: The other editor simply does not know about Inkscape’s
    convention of using some `g` elements as layers and treats all the layers as regular
    groups.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 由于图层是组的特殊情况，因此很容易理解Inkscape如何“进入一个组”，将其临时作为图层处理（**[4.6.1 图层层次](ch04s06.html#fourdot6dot1_layer_hierarchy
    "4.6.1 Layer Hierarchy")**）。这也解释了为什么在将Inkscape的SVG文件导入到另一个矢量编辑器（如Adobe Illustrator）时，你通常会丢失图层，但对象会得到额外的分组图层：其他编辑器根本不知道Inkscape使用某些`g`元素作为图层的约定，并将所有图层视为常规组。
- en: Inside layers and groups, other SVG elements represent the actual objects of
    your drawing. See *[http://w3.org/TR/SVG11/eltindex.html](http://w3.org/TR/SVG11/eltindex.html)*
    for a complete list of elements in SVG 1.1, but note that not all of them are
    supported by Inkscape yet.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在图层和组内部，其他SVG元素代表你的绘图中的实际对象。参见*[http://w3.org/TR/SVG11/eltindex.html](http://w3.org/TR/SVG11/eltindex.html)*获取SVG
    1.1中元素的完整列表，但请注意，Inkscape尚未支持它们中的所有元素。
- en: A.6 Coordinates and Units
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.6 坐标和单位
- en: 'Distances and coordinates in SVG drawings can be expressed in a number of units:
    centimeters (cm), millimeters (mm), inches (in), points (pt), and a few others.
    One unit, however, is special: It is the *SVG pixel* (abbreviated `px`), sometimes
    called the *anonymous unit*, because it can be written without any unit designation
    at all. For example, in this `rect` element, `x`, `y`, `width`, and `height` are
    expressed in SVG pixels:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: SVG绘图中的距离和坐标可以用多种单位表示：厘米（cm）、毫米（mm）、英寸（in）、点（pt）以及少数其他单位。然而，有一个单位是特殊的：它是*SVG像素*（缩写为`px`），有时称为*匿名单位*，因为它可以完全不写任何单位标识。例如，在这个`rect`元素中，`x`、`y`、`width`和`height`都是以SVG像素表示的：
- en: '[PRE16]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'They might just as well be specified in millimeters:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 它们也可以用毫米来指定：
- en: '[PRE17]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: and Inkscape would understand this correctly. However, if you change and resave
    this SVG file, Inkscape will convert all sizes back to SVG pixels.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: Inkscape会正确理解这一点。然而，如果你更改并重新保存此SVG文件，Inkscape会将所有大小转换回SVG像素。
- en: Despite its name, an SVG pixel is not the same as a *screen pixel*. When you
    zoom in, a distance of one SVG pixel becomes larger than one pixel on your screen;
    when you zoom out, it becomes smaller than one screen pixel. However, when your
    zoom level (displayed at the right end of the status bar of your Inkscape window,
    see [Figure 2-1](ch02s02.html#first_look_at_inkscape "Figure 2-1. The first look
    at Inkscape")) is 100 percent, one SVG pixel exactly corresponds to one screen
    pixel. This makes this unit especially convenient for creating graphics for screen
    viewing.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管名为SVG像素，但它与*屏幕像素*并不相同。当你放大时，一个SVG像素的距离大于你屏幕上的一个像素；当你缩小时，它小于一个屏幕像素。然而，当你的缩放级别（显示在Inkscape窗口状态栏的右端，见[图2-1](ch02s02.html#first_look_at_inkscape
    "图2-1. 首次查看Inkscape"))为100%时，一个SVG像素正好对应一个屏幕像素。这使得这个单位特别方便用于创建屏幕查看的图形。
- en: In Inkscape, 90 SVG pixels are equal to one inch, so when you export your graphics
    at the resolution of 90 dpi (pixels per inch), it will show up exactly as displayed
    in Inkscape at 100 percent zoom. In most places where you can specify sizes or
    distances in Inkscape UI, there’s a way to specify the units, and the `px` unit
    (SVG pixel) is the default (although you can choose a different default unit in
    **Document Properties**).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在Inkscape中，90 SVG像素等于一英寸，因此当你以90 dpi（每英寸像素）的分辨率导出你的图形时，它将正好以Inkscape 100%缩放时显示的样子出现。在Inkscape
    UI中，你可以指定大小或距离的大多数地方，都有一个指定单位的方法，而`px`单位（SVG像素）是默认的（尽管你可以在**文档属性**中选择不同的默认单位）。
- en: SVG uses rectangular Cartesian coordinates for specifying objects’ positions
    on canvas. The coordinate origin in SVG is in the top-left corner of the page,
    and the Y coordinate grows downward. However, in the Inkscape UI the origin is
    in the bottom-left corner and Y grows upward. Future versions may change this,
    most likely by making this “coordinate flip” optional to make life easier for
    those who edit SVG manually as well as in Inkscape.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 'SVG使用矩形笛卡尔坐标系来指定对象在画布上的位置。SVG中的坐标原点在页面的右上角，Y坐标向下增长。然而，在Inkscape UI中，原点在左下角，Y坐标向上增长。未来的版本可能会改变这一点，最有可能的是通过使这种“坐标翻转”可选，以便于那些手动以及在Inkscape中编辑SVG的人。 '
- en: A.7 Transformations
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.7 变换
- en: 'Every object in SVG has its own natural place on the canvas. For example, for
    a rectangle, this place is defined by the `x` and `y` attributes on the `rect`
    element:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: SVG中的每个对象在画布上都有自己的自然位置。例如，对于一个矩形，这个位置由`rect`元素上的`x`和`y`属性定义：
- en: '[PRE18]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'However, one of the most interesting features of SVG is that this position
    can be affected by the `transform` attribute. Most often, this attribute contains
    a sequence of six numbers inside a `matrix(...)`:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，SVG最有趣的特点之一是，这个位置可以受到`transform`属性的影响。通常，这个属性包含一个`matrix(...)`内的六个数字序列：
- en: '[PRE19]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'In this form, the attribute represents an *affine transform matrix*. A complete
    treatment of matrix algebra is way outside the scope of this book, but you should
    have an idea of what transformations are called affine:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种形式下，该属性代表一个*仿射变换矩阵*。矩阵代数的完整处理超出了本书的范围，但你应该对变换被称为仿射的概念有所了解：
- en: Any *moves*, also called *translations* ([Figure 6-1](ch06s01.html#constrained_dragging_with
    "Figure 6-1. Constrained dragging with"))
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何*移动*，也称为*平移*([图6-1](ch06s01.html#constrained_dragging_with "图6-1. 受限拖动"))
- en: Any *scalings*, including both uniform and nonuniform; for example, scaling
    only width or only height ([Figure 6-2](ch06s02.html#scaling_with_the_selector_tool
    "Figure 6-2. Scaling with the Selector tool"))
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何*缩放*，包括均匀和非均匀缩放；例如，只缩放宽度或只缩放高度([图6-2](ch06s02.html#scaling_with_the_selector_tool
    "图6-2. 使用选择工具缩放"))
- en: Any *rotations* around any center ([Figure 6-6](ch06s03.html#rotation_constrained_by
    "Figure 6-6. Rotation constrained by"))
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何围绕任何中心的*旋转*([图6-6](ch06s03.html#rotation_constrained_by "图6-6. 旋转受限制"))
- en: Any *skews*, sometimes called *shears* ([Figure 6-7](ch06s03.html#skewing_constrained_by
    "Figure 6-7. Skewing constrained by"))
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何*倾斜*，有时也称为*剪切*([图6-7](ch06s03.html#skewing_constrained_by "图6-7. 倾斜受限制"))
- en: 'Not coincidentally, these transformations are exactly those that the Selector
    tool can perform ([Chapter 6](ch06.html "Chapter 6. Transforming")). Note that,
    for example, perspective transformations are not affine: They cannot be expressed
    by a `transform` attribute and cannot be performed by the Selector tool.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 顺便提一下，这些变换正是选择工具可以执行的那些变换([第6章](ch06.html "第6章. 变换")). 注意，例如，透视变换不是仿射的：它们不能通过`transform`属性表达，也不能由选择工具执行。
- en: 'So, an element with a `transform` attribute means: “Draw this element at its
    natural position and size, then move, scale, rotate, or skew it as specified in
    the transform.”'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，具有`transform`属性的元素意味着：“在自然位置和大小处绘制此元素，然后根据变换指定移动、缩放、旋转或倾斜它。”
- en: Moreover, the `transform` value on the element’s parent (for example, on a `g`
    element that contains this object) affects the object, too. All the transforms
    on the object and all its ancestors are combined. This is why, for example, when
    you move or scale a group, all objects belonging to the group are moved and scaled
    by the same amount, although it is only the parent `g` element whose `transform`
    attribute is modified.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，元素父级（例如，包含此对象的`g`元素）上的`transform`值也会影响对象。对象及其所有祖先上的所有变换都会合并。这就是为什么，例如，当你移动或缩放一个组时，组中所有对象都会以相同的量移动和缩放，尽管只有父级`g`元素的`transform`属性被修改。
- en: On the **Transforms** tab of the **Inkscape Preferences** dialog (**[3.1 Preferences](ch03s01.html
    "3.1 Preferences")**), there’s a **Store transformation** option with the values
    of **Optimized** and **Preserved**. This determines the strategy of Inkscape when
    transforming objects. If set to **Preserved**, it will always record all transformations
    of all objects as `transform` attributes, leaving all other attributes intact.
    If set to **Optimized** (default), it will try, whenever possible, to record the
    transformation into the object’s other attributes and not `transform`. For example,
    when you move a rectangle, in the optimized mode it will change the rectangle’s
    `x` and `y` attributes instead of adding or changing its `transform`. Not all
    kinds of transformations and not all types of objects allow such optimization,
    however, so even in the optimized mode `transform` attributes will still be created.
    The only object type that can optimize any kinds of transformations and make do
    without the `transform` at all times is `path`.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在**Inkscape首选项**对话框的**变换**选项卡（**[3.1 首选项](ch03s01.html "3.1 首选项")**）中，有一个**存储变换**选项，其值为**优化**和**保留**。这决定了Inkscape在变换对象时的策略。如果设置为**保留**，它将始终记录所有对象的全部变换为`transform`属性，同时保留所有其他属性不变。如果设置为**优化**（默认），它将尽可能地将变换记录到对象的其它属性中，而不是`transform`。例如，当你移动一个矩形时，在优化模式下，它将改变矩形的`x`和`y`属性，而不是添加或更改其`transform`。然而，并非所有类型的变换和所有类型的对象都允许这种优化，因此即使在优化模式下，`transform`属性仍然会被创建。唯一可以优化任何类型变换且始终无需`transform`属性的对象类型是`path`。
- en: A.8 Style
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.8 样式
- en: 'Quite naturally, the style properties of an object can be represented as attributes
    of the corresponding element. Such attributes are called *presentation attributes*.
    For example, this rectangle has blue fill and black stroke 1 px wide:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 很自然地，对象的样式属性可以表示为相应元素的属性。这些属性被称为**呈现属性**。例如，这个矩形有蓝色填充和黑色1像素宽的描边：
- en: '[PRE20]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'This, however, is only one possible way to record style properties in XML.
    Another way is to pack all the properties into a single attribute, called `style`,
    using colons (`:`) to separate the name from the value in each property and semicolons
    (`;`) to separate properties:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这仅仅是记录XML中样式属性的一种可能方式。另一种方式是将所有属性打包到一个名为`style`的单个属性中，使用冒号（`:`）分隔每个属性中的名称和值，使用分号（`;`）分隔属性：
- en: '[PRE21]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Inkscape understands both methods but when writing properties to SVG, for historical
    reasons, only uses the second one, with a single `style` attribute. When both
    are present, the properties in the `style` attribute take precedence over the
    same properties in presentation attributes.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: Inkscape理解这两种方法，但出于历史原因，在写入SVG时，仅使用第二种方法，即使用单个`style`属性。当两者都存在时，`style`属性中的属性优先于呈现属性中的相同属性。
- en: Once again, this appendix will not list all the style properties used by SVG
    (see *[http://w3.org/TR/SVG11/propidx.html](http://w3.org/TR/SVG11/propidx.html)*
    for a complete list), but you should at least recognize them when you see them.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 再次强调，这个附录不会列出SVG使用的所有样式属性（参见*[http://w3.org/TR/SVG11/propidx.html](http://w3.org/TR/SVG11/propidx.html)*以获取完整列表），但你至少应该在看到它们时能够识别它们。
- en: SVG prescribes that most (but not all) style properties should be inherited
    by children from their parents, provided a child does not specify its own value
    for that property. For example, if a rectangle has no `fill` property specified
    but its parent `g` has `fill="blue"`, the rectangle will be painted blue. In Inkscape,
    such inheritance rarely plays a role, simply because normally, objects have most
    of their properties set whether you changed them or not. However, for `fill` and
    `stroke` properties, there’s a way to remove, or *unset*, these properties using
    the UI, making it possible to inherit these properties from the parent element
    (**[8.1.1 Paint](ch08s01.html#eightdot1dot1_paint "8.1.1 Paint")**).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: SVG 规定，大多数（但不是全部）样式属性应该由子元素从其父元素继承，前提是子元素没有为该属性指定自己的值。例如，如果一个矩形没有指定 `fill` 属性，但其父元素
    `g` 有 `fill="blue"`，则矩形将被涂成蓝色。在 Inkscape 中，这种继承很少发挥作用，因为通常情况下，对象的大部分属性是否更改都设置了。然而，对于
    `fill` 和 `stroke` 属性，有一种方法可以通过 UI 移除或*取消设置*这些属性，从而使得可以从父元素继承这些属性（**[8.1.1 绘画](ch08s01.html#eightdot1dot1_paint
    "8.1.1 绘画")**）。
- en: A.9 Linking
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.9 链接
- en: Often, elements in SVG need to refer, or *link*, to one another. This is most
    common when visible elements on canvas use some of the definitions in `defs`.
    For example, if you have a rectangle filled with linear gradient, the `rect` element
    describes only the rectangle itself. Its gradient is described by a different
    element, called `linearGradient`, in the document’s `defs`, and the rectangle
    links to that gradient definition.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，SVG 中的元素需要相互引用或*链接*。这在画布上的可见元素使用 `defs` 中的某些定义时最为常见。例如，如果你有一个填充线性渐变的矩形，`rect`
    元素仅描述矩形本身。其渐变由文档中的另一个元素描述，称为 `linearGradient`，位于 `defs` 中，并且矩形链接到该渐变定义。
- en: 'In order to be linkable, an element must have an `id` attribute whose value
    is unique inside this document. Inkscape provides unique `id`s for all elements
    automatically. The URL for linking to an element is simply its `id` preceded by
    a hash mark (`#`)—for example, `#linearGradient2128`. In order to use this URL
    from a `style` property, you need to enclose it in parentheses and prefix it with
    the string `url`. For example, here’s a `linearGradient` element and a rectangle
    linking to it from its `fill` property:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 为了能够链接，一个元素必须有一个 `id` 属性，其值在此文档中是唯一的。Inkscape 自动为所有元素提供唯一的 `id`。链接到元素的 URL 简单地是其
    `id` 前面加上一个井号（`#`）——例如，`#linearGradient2128`。为了从 `style` 属性中使用此 URL，你需要将其括在括号中，并以前缀字符串
    `url` 开头。例如，这里有一个 `linearGradient` 元素和一个矩形，它通过其 `fill` 属性链接到它：
- en: '[PRE22]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Linking is not always done by style properties; for example, the SVG standard
    says that gradients can link to one another in order to share color stops and
    other attributes. In such cases, the `xlink:href` attribute is used (in other
    words, the `href` attribute in the XLink namespace). (XLink is another W3C standard,
    separate from SVG and used in many XML vocabularies for linking; see *[http://w3.org/TR/xlink](http://w3.org/TR/xlink)*
    for the specification.) The `xlink:href` attribute uses the plain URL without
    the `url()` wrapper; for example, `xlink:href="#linearGradient2128"`.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 链接并不总是通过样式属性来完成的；例如，SVG 标准规定渐变可以相互链接以共享颜色停止和其他属性。在这种情况下，使用 `xlink:href` 属性（换句话说，XLink
    命名空间中的 `href` 属性）。(XLink 是另一个 W3C 标准，与 SVG 分开，并在许多 XML 词汇表中用于链接；有关规范，请参阅*[http://w3.org/TR/xlink](http://w3.org/TR/xlink)*。)
    `xlink:href` 属性使用不带 `url()` 包装器的纯 URL；例如，`xlink:href="#linearGradient2128"`。
- en: SVG allows you to link not only to other elements in the same document but also
    to other documents, accessible locally or on the Internet, as well as to elements
    inside them. As of version 0.47, Inkscape does not yet support such cross-document
    linking to SVG documents, although it can link to external bitmap files that are
    used as bitmap objects in a document.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: SVG 允许你链接到同一文档中的其他元素，也可以链接到其他文档，无论是本地还是互联网上的，以及它们内部的元素。截至版本 0.47，Inkscape 还不支持此类跨文档链接到
    SVG 文档，尽管它可以链接到用作文档中位图对象的外部位图文件。
- en: A.10 Object Types
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.10 对象类型
- en: One of the most important features of Inkscape is its ability to create various
    object types, with each object remembering its type and providing various controls
    and behaviors specific to that type ([Chapter 11](ch11.html "Chapter 11. Shapes")).
    Some of these object types are directly supported by SVG; for example, Inkscape’s
    rectangles are represented by `rect` elements from SVG. But others are unique
    to Inkscape; for example, SVG has no special elements for spirals, stars, or 3D
    boxes. How can Inkscape use these object types while staying compatible with standard
    SVG?
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: Inkscape 最重要的一项功能是它能够创建各种对象类型，每个对象都记住其类型并提供针对该类型的各种控制和行为（[第 11 章](ch11.html
    "第 11 章. 形状")）。其中一些对象类型直接由 SVG 支持；例如，Inkscape 的矩形由 SVG 的 `rect` 元素表示。但其他类型是 Inkscape
    独有的；例如，SVG 没有专门用于螺旋线、星形或 3D 箱子的元素。Inkscape 如何使用这些对象类型同时保持与标准 SVG 的兼容性？
- en: 'The solution is the `sodipodi:type` attribute. Inkscape saves a star as an
    universal `path` element that can represent any shape, but adds to it the `sodipodi:type`
    indicating it’s actually a star, as well as some other extension attributes storing
    various star-specific parameters. The `path`’s standard `d` attribute, meanwhile,
    provides an exact representation of the star’s shape:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案是 `sodipodi:type` 属性。Inkscape 将星形保存为一个通用的 `path` 元素，它可以表示任何形状，但通过添加 `sodipodi:type`
    来表明它实际上是一个星形，以及一些其他存储各种星形特定参数的扩展属性。同时，`path` 的标准 `d` 属性提供了星形形状的精确表示：
- en: '[PRE23]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: When loading a document with such an element, Inkscape recognizes the `sodipodi:type`
    and, for editing, treats the object as a star rather than a path. However, when
    any other SVG software loads the same file, it ignores any Inkscape-specific attributes
    and interprets this element as a simple path which, however, *looks* exactly the
    same as the star created in Inkscape. In other words, while only Inkscape can
    *edit* the star as a star, using the standard `path` as the base for this object
    type ensures that it remains compatible with any SVG software.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 当加载包含此类元素的文档时，Inkscape 识别 `sodipodi:type`，并在编辑时将对象视为星形而不是路径。然而，当任何其他 SVG 软件加载相同的文件时，它将忽略任何
    Inkscape 特定的属性，并将此元素解释为一个简单的路径，尽管它*看起来*与 Inkscape 中创建的星形完全相同。换句话说，虽然只有 Inkscape
    能够*编辑*星形作为星形，但使用标准 `path` 作为此对象类型的基础确保它与任何 SVG 软件保持兼容。
- en: A.11 Inkscape SVG Extensions
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: A.11 Inkscape SVG 扩展
- en: To conclude this necessary but very superficial appendix, let’s compile a list
    of the most important extension elements and attributes that you will see in Inkscape
    SVG files. Some of them were already discussed in previous sections; others deserve
    a brief treatment here.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 为了总结这个必要但非常肤浅的附录，让我们列出在 Inkscape SVG 文件中看到的最重要扩展元素和属性列表。其中一些已在前面的章节中讨论过；其他一些在这里需要简要说明。
- en: 'One point bears repeating: None of these additional elements and attributes
    make Inkscape documents invalid SVG. The X in [XML](ch04s05.html#ch04note07 "XML")
    stands for “eXtensible” for a reason: The ability to freely mix different vocabularies
    was one of the goals of XML from the very beginning. In our case, this means that
    any Inkscape SVG file must—and does—render absolutely the same in all compliant
    SVG renderers. (There’s a single unfortunate exception from this rule, which we
    discuss in **[15.2.2.3 SVG Compatibility](ch15s02.html#one5dot2dot2dot3_svg_compatibility
    "15.2.2.3 SVG Compatibility")**.)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 有一点需要重复强调：这些额外的元素和属性并不会使 Inkscape 文档无效的 SVG。XML 中的 X 代表“可扩展”是有原因的：从 XML 一开始，自由混合不同词汇的能力就是其目标之一。在我们的例子中，这意味着任何
    Inkscape SVG 文件都必须——并且确实——在所有符合 SVG 渲染器的软件中完全相同地渲染。（这里有一个不幸的例外，我们将在**[15.2.2.3
    SVG 兼容性](ch15s02.html#one5dot2dot2dot3_svg_compatibility "15.2.2.3 SVG 兼容性")**中讨论。）
- en: The `inkscape:collect` attribute is added to those elements in `defs` which
    can be deleted automatically when no longer used (**[A.4 Defs, View, and Metadata](apas04.html
    "A.4 Defs, View, and Metadata")**).
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`inkscape:collect` 属性被添加到 `defs` 中那些可以自动删除的元素中（**[A.4 Defs, View, and Metadata](apas04.html
    "A.4 Defs, View, and Metadata")**）。'
- en: The `sodipodi:namedview` element is the place where Inkscape stores per-document
    preferences, as described in **[A.4 Defs, View, and Metadata](apas04.html "A.4
    Defs, View, and Metadata")**.
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sodipodi:namedview` 元素是 Inkscape 存储每个文档首选项的地方，如**[A.4 Defs, View, and Metadata](apas04.html
    "A.4 Defs, View, and Metadata")**中所述。'
- en: The `sodipodi:type` attribute is what Inkscape uses to mark objects of non-SVG
    types (**[A.10 Object Types](apas10.html "A.10 Object Types")**). An element with
    this attribute usually has a whole bunch of other Inkscape-specific attributes
    that store various parameters unique to this object type.
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sodipodi:type` 属性是 Inkscape 使用来标记非 SVG 类型对象的（**[A.10 对象类型](apas10.html "A.10
    对象类型")**）。具有此属性的元素通常有一系列其他 Inkscape 特定的属性，用于存储特定于该对象类型的各种参数。'
- en: The `inkscape:transform-center-x` and `inkscape:transform-center-y` attributes
    are set on an object if you dragged its rotation center (**[6.4 Center of Rotation](ch06s04.html
    "6.4 Center of Rotation")**). Inkscape remembers the position of this center for
    each object for which it was changed.
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当你拖动一个对象的旋转中心时，`inkscape:transform-center-x` 和 `inkscape:transform-center-y`
    属性会被设置在对象上（**[6.4 旋转中心](ch06s04.html "6.4 旋转中心")**）。Inkscape 会记住每个对象旋转中心改变后的位置。
- en: The `sodipodi:nodetypes` attribute is where Inkscape stores the types of all
    nodes of a path that you edited with the Node tool. Classifying nodes as smooth,
    symmetric, and cusp (**[12.5.5 Node Types](ch12s05.html#one2dot5dot5_node_types
    "12.5.5 Node Types")**) is something Inkscape allows you to do, but SVG has no
    provisions for; hence the need for an extension attribute.
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sodipodi:nodetypes` 属性是 Inkscape 存储你使用节点工具编辑的路径上所有节点类型的地点。将节点分类为平滑、对称和尖点（**[12.5.5
    节点类型](ch12s05.html#one2dot5dot5_node_types "12.5.5 节点类型")**）是 Inkscape 允许你做的，但
    SVG 没有提供这样的规定；因此需要扩展属性。'
- en: The `inkscape:groupmode` attribute on a `g` is what differentiates a group from
    a layer in Inkscape (**[A.5 Layers and Groups](apas05.html "A.5 Layers and Groups")**).
    For a layer, this attribute stores the value `layer`.
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 `g` 上的 `inkscape:groupmode` 属性是区分 Inkscape 中的组和层的关键（**[A.5 层和组](apas05.html
    "A.5 层和组")**）。对于层，此属性存储的值是 `layer`。
- en: The `inkscape:label` attribute can be set on any element to provide a human-readable
    label for the corresponding object (the problem with using the `id` attribute
    for that purpose is that it cannot contain spaces and punctuation; `inkscape:label`
    is free from these limitations, **[4.1 Object Properties](ch04s01.html "4.1 Object
    Properties")**). In this attribute, Inkscape stores the human-readable name of
    a layer.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以在任何元素上设置 `inkscape:label` 属性，为相应的对象提供可读性标签（使用 `id` 属性作为该目的的问题是它不能包含空格和标点符号；`inkscape:label`
    没有这些限制，**[4.1 对象属性](ch04s01.html "4.1 对象属性")**）。在此属性中，Inkscape 存储层的可读性名称。
- en: The `inkscape:export-filename` attribute, which can be set on any element, stores
    the filename (including path) into which this object was last exported as bitmap.
    This value is automatically placed into the **Filename** field of the **Export
    Bitmap** dialog (**[18.9.1 The Export Bitmap Dialog](ch18s09.html#one8dot9dot1_the_export_bitmap_dialog
    "18.9.1 The Export Bitmap Dialog")**), so you can quickly repeat exporting to
    the same file even after you closed and reopened the file. (This also explains
    why Inkscape claims that the file has changed and needs resaving after you did
    a bitmap export from it.)
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`inkscape:export-filename` 属性可以设置在任何元素上，它存储了将此对象最后导出为位图的文件名（包括路径）。此值会自动放置在
    **导出位图** 对话框的 **文件名** 字段中（**[18.9.1 导出位图对话框](ch18s09.html#one8dot9dot1_the_export_bitmap_dialog
    "18.9.1 导出位图对话框")**），因此即使你关闭并重新打开文件，也可以快速重复导出到相同的文件。 (这也解释了为什么 Inkscape 声称文件已更改并需要重新保存，在你从该文件导出位图之后。)'
