- en: '[**INTRODUCTION**](toc.html#intro)'
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: '[**引言**](toc.html#intro)'
- en: '![](../images/as.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/as.jpg)'
- en: Toasters, ovens, and dishwashers are a few of the appliances found in our everyday
    lives. Though we are quite familiar with their use, few of us stop to think about
    how an appliance works under the hood, or even what makes an appliance, well,
    an appliance. This book defines an *appliance* as a device designed to primarily
    perform a single function. If you think about the appliances just mentioned, you’ll
    see that this definition holds true—toasters toast, ovens bake, and dishwashers
    wash dishes. Compared to a PC, which is capable of performing thousands of diverse
    functions depending on the hardware and software installed, traditional appliances
    are boring and simple.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 烤面包机、烤箱和洗碗机是我们日常生活中常见的设备。尽管我们对它们的使用非常熟悉，但很少有人停下来思考这些设备内部是如何工作的，甚至是什么让设备成为设备。这本书将*设备*定义为主要执行单一功能的设备。如果你考虑一下刚才提到的设备，你会发现这个定义是正确的——烤面包机烤面包，烤箱烘焙，洗碗机洗碗。与能够根据安装的硬件和软件执行数千种不同功能的PC相比，传统设备显得无聊且简单。
- en: What does this have to do with Linux? For starters, traditional appliances are
    no longer so simple. What used to be electrified but still mechanical devices,
    such as a vacuum cleaners, are now not only electronic, but include processors,
    circuit boards, and sophisticated user interfaces. With these changes comes the
    need to run an operating system on the appliance to manage the new features. Linux
    is a natural fit for this because it is low cost (in most cases, it is free to
    use) and open source (which means you can modify it to better suit your needs).
    However, the real place where Linux fits in is with the new types of appliances
    that are being designed. Digital video recorders (DVRs) were unheard of just a
    few years ago, but the first and most popular DVR appliance, the TiVo, runs on
    Linux, as do many other home networking and entertainment appliances.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 这与Linux有什么关系？首先，传统的设备不再那么简单。曾经只是电动但仍然机械的设备，如吸尘器，现在不仅电子化，还包括处理器、电路板和复杂的用户界面。随着这些变化，需要在设备上运行操作系统来管理新特性。Linux是这一领域的自然选择，因为它成本低（在大多数情况下，它是免费的）且开源（这意味着你可以修改它以更好地满足你的需求）。然而，Linux真正适合的地方是随着新类型设备的出现。数字视频录像机（DVR）几年前还闻所未闻，但第一个也是最流行的DVR设备，TiVo，运行在Linux上，许多其他家庭网络和娱乐设备也是如此。
- en: If you were to build the next great robotic house-cleaning system, you’d want
    to avoid designing it completely from scratch. You’d reuse as many parts as possible
    from your earlier robots, and you’d use off-the-shelf components wherever possible.
    The same *reuse* mentality applies to Linux appliances, and that’s where this
    book can help.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你要构建下一个伟大的家用清洁机器人系统，你将希望避免从头开始设计它。你会尽可能多地重用你早期机器人中的部件，并在可能的情况下使用现成的组件。同样的*重用*理念也适用于Linux设备，这正是这本书能帮到你的地方。
- en: '[**What This Book Is About**](toc.html#intro.1)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[**本书涉及的内容**](toc.html#intro.1)'
- en: This book shows you how to build a Linux appliance, and it includes a prototype
    appliance that you can use as the basis for your appliance, if you wish. We divide
    an appliance into daemons and user interfaces and show how to create and manage
    daemons, as well as how to build five different types of user interfaces.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书展示了如何构建一个Linux设备，并包括一个原型设备，你可以将其作为你设备的起点，如果你愿意的话。我们将设备分为守护进程和用户界面，并展示了如何创建和管理守护进程，以及如何构建五种不同类型的用户界面。
- en: 'We cover the following topics:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 我们涵盖了以下主题：
- en: • Appliance architectures
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: • 设备架构
- en: • How to talk to running daemons
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: • 如何与运行中的守护进程通信
- en: • How to build and secure a daemon
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: • 如何构建和保障守护进程
- en: • Laddie, our sample appliance
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: • Laddie，我们的示例设备
- en: • Logging and event handling
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: • 记录和事件处理
- en: • Web-based user interfaces
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: • 基于Web的用户界面
- en: • Command line interfaces (CLIs)
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: • 命令行界面（CLIs）
- en: • Front panel interfaces
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: • 前面板接口
- en: • Framebuffer interfaces, including infrared remote control
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: • 帧缓冲接口，包括红外遥控
- en: • SNMP interfaces including tools, MIBs, and agents
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: • SNMP接口，包括工具、MIBs和代理
- en: Most of the chapters have the same basic layout. We define and explain why the
    feature is necessary, we describe the feature’s challenges and common approaches,
    and we describe how we implemented the feature in our sample appliance.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数章节都有相同的基本布局。我们定义并解释为什么这个特性是必要的，我们描述了特性的挑战和常见方法，以及我们如何在我们的示例设备中实现这个特性。
- en: '[**What This Book Is Not About**](toc.html#intro.2)'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[**本书不涉及的内容**](toc.html#intro.2)'
- en: 'This book does not cover C programming, the Linux operating system, or the
    main application that defines a particular Linux appliance. Furthermore, this
    book is not about embedded Linux. We believe you will find the following books
    on embedded Linux useful:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 本书不涵盖C编程、Linux操作系统或定义特定Linux设备的主要应用程序。此外，本书也不是关于嵌入式Linux的。我们相信您会发现以下关于嵌入式Linux的书籍很有用：
- en: • *Embedded Linux*, by John Lombardo (SAMS/New Riders, 2001)
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: • 《嵌入式Linux》，作者John Lombardo（SAMS/New Riders，2001年）
- en: '• *Embedded Linux: Hardware, Software, and Interfacing*, by Craig Hollabaugh
    (Addison-Wesley, 2002)'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: • 《嵌入式Linux：硬件、软件和接口》，作者Craig Hollabaugh（Addison-Wesley，2002年）
- en: • *Linux for Embedded and Real-Time Applications, Second Edition*, by Doug Abbott
    (Newnes, 2006)
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: • 《嵌入式和实时应用的Linux，第二版》，作者Doug Abbott（Newnes，2006年）
- en: • *Embedded Linux System Design and Development*, by P. Raghavan, Amol Lad,
    and Sriram Neelakandan (Auerbach Publications, 2005)
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: • 《嵌入式Linux系统设计与开发》，作者P. Raghavan、Amol Lad和Sriram Neelakandan（Auerbach Publications，2005年）
- en: '[**Who Should Read This Book**](toc.html#intro.3)'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '[**谁应该阅读这本书**](toc.html#intro.3)'
- en: This book is for Linux programmers who want to build a custom Linux appliance
    and support multiple user interfaces, build secure daemons, or provide logging
    and event management. The book may also be of value to any developer who wants
    to minimize the effort needed to port a daemon’s user interface to different operating
    systems or a different programming language. Our only major assumption is that
    the reader is comfortable programming in C on the Linux platform.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为想要构建定制Linux设备并支持多个用户界面、构建安全的守护进程、提供日志和事件管理的Linux程序员而写的。这本书也可能对任何希望将守护进程的用户界面移植到不同的操作系统或不同的编程语言的开发者有所帮助。我们唯一的重大假设是，读者在Linux平台上对C语言编程感到舒适。
- en: '[**Why Use Linux?**](toc.html#intro.4)'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[**为什么使用Linux？**](toc.html#intro.4)'
- en: Before diving into the common architecture found on most Linux appliances, we
    should answer the question, “Why use Linux on an appliance?” While the specific
    arguments vary, we’ve found the following to be true for appliances that we’ve
    built.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入探讨大多数Linux设备上常见的架构之前，我们应该回答一个问题，“为什么要在设备上使用Linux？”虽然具体的论点各不相同，但我们发现以下观点适用于我们构建的设备。
- en: '[***Availability of Source Code***](toc.html#intro.5)'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[**源代码的可用性**](toc.html#intro.5)'
- en: The availability of source code makes it possible to customize the operating
    system for a particular appliance’s needs. Such customization is not possible
    when using a proprietary, closed source operating system.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 源代码的可用性使得根据特定设备的需要定制操作系统成为可能。当使用专有、封闭源代码的操作系统时，这种定制是不可能的。
- en: '[***Range of Hardware Supported***](toc.html#intro.6)'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[**支持的硬件范围**](toc.html#intro.6)'
- en: The Linux kernel supports a wide range of processors, from low-end embedded
    processors used in consumer electronics to high-end 64-bit processors used in
    super-computers. For example, Linux runs on Marvell’s ARM-based XScale processors
    (used in Palm handheld computers), Texas Instruments’ ARM-based OMAP processors
    (used in E28 smart phones), IBM’s PowerPC (used in the TiVo and the PlayStation
    3), Hitachi’s H8/300 processors, as well Compaq Alpha AXP, Sun SPARC, IBM S/390,
    MIPS, HP PA-RISC, Intel IA-64, and AMD *x*86-64 processors.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Linux内核支持广泛的处理器，从用于消费电子的低端嵌入式处理器到用于超级计算机的高端64位处理器。例如，Linux运行在Marvell的基于ARM的XScale处理器（用于Palm手持电脑）、德州仪器的基于ARM的OMAP处理器（用于E28智能手机）、IBM的PowerPC（用于TiVo和PlayStation
    3）、日立的H8/300处理器，以及Compaq Alpha AXP、Sun SPARC、IBM S/390、MIPS、HP PA-RISC、Intel IA-64和AMD
    *x*86-64处理器。
- en: '[***Availability of Linux Developers***](toc.html#intro.7)'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '[**Linux开发者的可用性**](toc.html#intro.7)'
- en: Linux, C, and C++ form the core competence of many computer science graduates
    in the United States, and indeed, worldwide. Exact estimates vary, but the consensus
    is that that there are several million Linux-capable developers worldwide.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: Linux、C和C++是美国许多计算机科学毕业生的核心能力，实际上，在全球范围内也是如此。确切的估计各不相同，但共识是，全球有数百万名具备Linux能力的开发者。
- en: '[***Reliability***](toc.html#intro.8)'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '[**可靠性**](toc.html#intro.8)'
- en: Linux is sufficiently reliable to be widely used in data centers. Uptimes measured
    in years are not uncommon for Linux, and the Blue Screen of Death has never been
    a problem.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Linux的可靠性足够高，以至于在数据中心得到广泛应用。Linux的运行时间以年为单位，并不罕见，而且蓝屏死机从未成为问题。
- en: '[***Quality Compilers***](toc.html#intro.9)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '[**高质量的编译器**](toc.html#intro.9)'
- en: The GNU Compiler Collection is a comprehensive set of compilers, assemblers,
    linkers, and debuggers that support multiple languages on multiple platforms.
    It is the compiler of choice for C and C++ development on Linux. Furthermore,
    it is free. See http://gcc.gnu.org for more information.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: GNU 编译器集合是一套综合的编译器、汇编器、链接器和调试器，支持在多个平台上使用多种语言。它是 Linux 上 C 和 C++ 开发的首选编译器。此外，它是免费的。更多信息请访问
    http://gcc.gnu.org。
- en: '[***Good Documentation***](toc.html#intro.10)'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '[***良好的文档***](toc.html#intro.10)'
- en: A great deal of documentation about Linux is available on the Internet. One
    site that serves as a good starting point for documentation is the Linux Documentation
    Project (see http://en.tldp.org). This site includes subject-specific HOWTOs,
    FAQs, and in-depth guides.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在互联网上可以找到大量关于 Linux 的文档。Linux 文档项目（见 http://en.tldp.org）是一个很好的文档起点。该网站包括特定主题的
    HOWTO、FAQ 和深入指南。
- en: '[***Existing Software Packages***](toc.html#intro.11)'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '[***现有的软件包***](toc.html#intro.11)'
- en: There are thousands of software packages available to help you develop an appliance
    on Linux. For example, there is Net-SNMP for Simple Network Management Protocol
    (SNMP) support, lm_sensors for monitoring the appliance’s hardware environment,
    and lighttpd for web support.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 有数千个软件包可供帮助您在 Linux 上开发设备。例如，有 Net-SNMP 用于简单网络管理协议（SNMP）支持，lm_sensors 用于监控设备硬件环境，以及
    lighttpd 用于 Web 支持。
- en: '[***Low Development Cost***](toc.html#intro.12)'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '[***低开发成本***](toc.html#intro.12)'
- en: Linux appliance programmers can typically use their desktop machines for most
    software development because appliance user interfaces and services seldom need
    to be developed on the target hardware. Therefore, software development can proceed
    in parallel, with one team developing embedded Linux for the appliance and another
    team developing the main application and user interfaces.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 设备程序员通常可以使用他们的桌面机器进行大部分软件开发，因为设备用户界面和服务很少需要在目标硬件上开发。因此，软件开发可以并行进行，一个团队为设备开发嵌入式
    Linux，另一个团队开发主要应用程序和用户界面。
- en: '[***No Licensing Fees for Deployment***](toc.html#intro.13)'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '[***部署无需许可费用***](toc.html#intro.13)'
- en: Appliance manufacturers can generally build Linux-based appliances without incurring
    costs for licensing fees to distribute the appliance’s software, although there
    are some exceptions. For example, the Qt library from Trolltech and the MySQL
    database have licenses that may require payment for commercial use.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 设备制造商通常可以构建基于 Linux 的设备，而无需支付分发设备软件的许可费用，尽管有一些例外。例如，Trolltech 的 Qt 库和 MySQL
    数据库的许可证可能需要支付商业使用费。
- en: '[***Security***](toc.html#intro.14)'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '[***安全***](toc.html#intro.14)'
- en: Linux appliance developers use packages such as grsecurity and systrace to tighten
    security to levels undreamed of by Windows developers. Appliances have the additional
    advantage that a multi-purpose desktop or server can never be as secure as a well-hardened,
    single-purpose device.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 设备开发者使用如 grsecurity 和 systrace 等软件包来加强安全性，达到 Windows 开发者难以想象的水平。设备还有额外的优势，即多用途的桌面或服务器永远无法像经过良好加固的单用途设备那样安全。
- en: '[**Linux Appliance Design**](toc.html#intro.15)'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '[**Linux 设备设计**](toc.html#intro.15)'
- en: We’ve tried to write this book and the accompanying CD to be used as a type
    of “parts box” that you can pull from as you assemble your appliance. A nice overview
    of the components in our parts box is given in the first chapter, which presents
    a high-level view of the architecture common to most Linux appliances.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 我们试图编写这本书和配套的光盘，以便用作一种“零件箱”，您可以在组装设备时从中取用。第一章提供了我们零件箱中组件的精彩概述，它展示了大多数 Linux
    设备共有的架构的高级视图。
