- en: Chapter 10\. ISC BIND DNS SERVER 9.4.2
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第10章. ISC BIND DNS服务器9.4.2
- en: '[HTTP://WWW.ISC.ORG/SW/BIND](HTTP://WWW.ISC.ORG/SW/BIND)'
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[HTTP://WWW.ISC.ORG/SW/BIND](HTTP://WWW.ISC.ORG/SW/BIND)'
- en: 10.1\. SUMMARY
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.1. 概述
- en: BIND (Berkeley Internet Name Domain) is the most widely used DNS server application
    on the Internet. Slightly over 79 percent of DNS servers use BIND DNS, according
    to a survey conducted by the Internet Systems Consortium (ISC) in July 2007\.
    Microsoft came in second at 16 percent.^([[]](#CHP-10-1)) The domain name system
    is responsible for the conversion of domain names, such as [http://unorthodocs.net](http://unorthodocs.net),
    into routable IP addresses like 69.226.238.99\. It is considered one of the most
    critical components of the Internet.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: BIND（伯克利互联网名称域）是互联网上最广泛使用的DNS服务器应用程序。根据互联网系统协会（ISC）在2007年7月进行的一项调查，略超过79%的DNS服务器使用BIND
    DNS，微软以16%的份额位居第二。[^([[]](#CHP-10-1))] 域名系统负责将域名，如[http://unorthodocs.net](http://unorthodocs.net)，转换为可路由的IP地址，如69.226.238.99。它被认为是互联网最关键组件之一。
- en: ^([]) See the results of the Internet Systems Consortium's ongoing survey at
    [http://www.isc.org/ds](http://www.isc.org/ds).
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ^([]) 请参阅互联网系统协会持续调查的结果[http://www.isc.org/ds](http://www.isc.org/ds)。
- en: BIND version 9 was a total rewrite of the BIND package that addressed architectural
    issues and known security problems in previous versions. New features in BIND
    9 include DNS Security (DNSSEC), multiprocessor support, support for IPv6, protocol
    enhancements, and better portability.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: BIND版本9是对BIND软件包的全面重写，解决了先前版本中的架构问题和已知的安全问题。BIND 9的新特性包括DNS安全（DNSSEC）、多处理器支持、对IPv6的支持、协议增强和更好的可移植性。
- en: BIND also supports dynamic DNS updates (as per RFC 2136). When coupled with
    the Internet Systems Consortium's DHCP server, dynamic DNS allows real-time updates
    to the DNS server's zone files as DHCP clients join the network. This gives DHCP
    clients the luxury of having a locally or publicly resolvable hostname.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: BIND还支持动态DNS更新（根据RFC 2136）。当与互联网系统协会的DHCP服务器结合使用时，动态DNS允许在DHCP客户端加入网络时实时更新DNS服务器的区域文件。这为DHCP客户端提供了拥有本地或公开可解析的主机名的便利。
- en: BIND was originally conceived as a graduate student project at the University
    of California, Berkeley in the early '80s. UC Berkeley worked on BIND in cooperation
    with Digital Equipment Corporation for a few years. Paul Vixie, of Digital Equipment
    Corporation, later became principal programmer of the BIND project. BIND was passed
    on to the Internet Systems Consortium (ISC), a nonprofit corporation led by Vixie,
    who now continues to develop the BIND system independently.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: BIND最初是在20世纪80年代初加州大学伯克利分校的一个研究生项目中被构思的。加州大学伯克利分校与数字设备公司合作开发BIND几年。数字设备公司的保罗·维克斯后来成为BIND项目的首席程序员。BIND被转交给互联网系统协会（ISC），这是一个由维克斯领导的非营利性组织，他现在继续独立开发BIND系统。
- en: 'We''ll be building a local master authoritative name server for your domain
    name. This will also provide the benefits of a caching name server. A caching
    name server is basically a DNS relay: It has no zone files of its own and must
    get DNS information from other DNS servers (also called forwarders). Both authoritative
    and caching name servers store DNS queries in a cache to make subsequent requests
    faster.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将为您的域名构建一个本地主授权域名服务器。这还将提供缓存域名服务器的优势。缓存域名服务器基本上是一个DNS中继：它没有自己的区域文件，必须从其他DNS服务器（也称为转发器）获取DNS信息。授权和缓存域名服务器都将DNS查询存储在缓存中，以使后续请求更快。
- en: A master authoritative name server also has a zone file (a list of known IP
    addresses) for your domain. When a DNS query is received for your domain, BIND
    looks at your zone file and returns the requested information. If the query is
    for a domain other than yours, the query is forwarded to other DNS servers specified
    in your forwarder's configuration.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 主授权域名服务器也有一个区域文件（已知IP地址列表）用于您的域名。当接收到对您域名的DNS查询时，BIND会查看您的区域文件并返回所需信息。如果查询的是除您域名外的域名，则查询会被转发到您转发器配置中指定的其他DNS服务器。
- en: 10.2\. RESOURCES
  id: totrans-10
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.2. 资源
- en: BIND 9 Administrator Reference Manual
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: BIND 9管理员参考手册
- en: '[http://www.isc.org/sw/bind/arm94](http://www.isc.org/sw/bind/arm94)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.isc.org/sw/bind/arm94](http://www.isc.org/sw/bind/arm94)'
- en: 'RFC 1034 - Domain Names: Concepts and Facilities'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: RFC 1034 - 域名：概念和功能
- en: '[http://tools.ietf.org/html/rfc1034](http://tools.ietf.org/html/rfc1034)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://tools.ietf.org/html/rfc1034](http://tools.ietf.org/html/rfc1034)'
- en: 'RFC 1035 - Domain Names: Implementation and Specification'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: RFC 1035 - 域名：实现和规范
- en: '[http://tools.ietf.org/html/rfc1035](http://tools.ietf.org/html/rfc1035)'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://tools.ietf.org/html/rfc1035](http://tools.ietf.org/html/rfc1035)'
- en: The FreeBSD Handbook
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD手册
- en: '[http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/network-dns.html](http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/network-dns.html)'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/network-dns.html](http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/network-dns.html)'
- en: 10.3\. REQUIRED
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.3\. 必需
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD 7.0-RELEASE
    (see "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)")'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD 7.0-RELEASE（见“[FreeBSD
    7.0](freebsd_7.0_split_000.html#freebsd_7.0)”）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Updated ports
    collection (see "[FreeBSD Ports Collection](freebsd_ports_collection.html#freebsd_ports_collection)")'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 更新的ports集合（见“[FreeBSD
    Ports Collection](freebsd_ports_collection.html#freebsd_ports_collection)”）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Internet
    connection'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 互联网连接'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Registered
    domain name'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 注册域名'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Public or
    private static IP address'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 公共或私有静态IP地址'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Your ISP''s
    DNS server addresses'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 您的ISP的DNS服务器地址'
- en: 10.4\. OPTIONAL
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.4\. 可选
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) DHCP server
    (see "[ISC DHCP Server 3.0.5](isc_dhcp_server_3.0.5.html#isc_dhcp_server_3.0.5)")'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) DHCP服务器（见“[ISC
    DHCP Server 3.0.5](isc_dhcp_server_3.0.5.html#isc_dhcp_server_3.0.5)”）'
- en: 10.5\. PREPARATION
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.5\. 准备
- en: Become the superuser.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 成为超级用户。
- en: 'BIND 9.4.2 is part of the standard FreeBSD 7.0 distribution. Check the current
    version of BIND available in the ports collection with the command:'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: BIND 9.4.2是FreeBSD 7.0标准发行版的一部分。使用以下命令检查ports集合中可用的BIND当前版本：
- en: '[PRE0]'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If this version supersedes 9.4.2, proceed to the "[Install](install.html#install)"
    section below. If it is equal to 9.4.2, skip to "Configure."
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这个版本取代了9.4.2，请继续下面的“[安装](install.html#install)”部分。如果它与9.4.2相同，请跳转到“配置”。
- en: 10.6\. INSTALL
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.6\. 安装
- en: 'To overwrite the base installation of BIND with the version available in the
    ports collection, use the following commands:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用ports集合中可用的版本覆盖BIND的基础安装，请使用以下命令：
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: A menu should appear displaying options for bind94\. Press [spacebar] to select
    the REPLACE_BASE option; leave other options at their default. Press [tab] to
    select OK and then press [enter] to continue the installation process.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 应该会出现一个菜单，显示bind94的选项。按[空格键]选择REPLACE_BASE选项；保留其他选项的默认值。按[tab键]选择OK，然后按[回车键]继续安装过程。
- en: 10.7\. CONFIGURE
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.7\. 配置
- en: Once the installation process is complete, it's time to configure BIND for use
    on your system.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 安装过程完成后，是时候为您的系统配置BIND了。
- en: 'Add the statement `"NO_BIND = YES"` to the make.conf file located in /etc.
    The following commands will append this statement to make.conf or create the file
    if it does not exist:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`"NO_BIND = YES"`语句添加到位于/etc的make.conf文件中。以下命令将此语句追加到make.conf或创建文件（如果不存在）：
- en: '[PRE2]'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This tells the `make` command not to build the base version of BIND if you rebuild
    FreeBSD from source, preventing the system from downgrading BIND to that older
    version.
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这告诉`make`命令在从源代码重新构建FreeBSD时不要构建基础版本的BIND，防止系统将BIND降级到那个较旧版本。
- en: 'We need to edit the named.conf file in /var/named/etc/namedb. Open the file:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要编辑位于/var/named/etc/namedb的named.conf文件。打开文件：
- en: '[PRE3]'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Scroll down and comment the `listen-on` declaration with two forward slashes
    (`//`). This allows BIND''s named daemon to answer both external and local DNS
    queries; the default behavior is to answer only local queries. This line (~21)
    should appear as follows:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并使用两个前置斜杠（`//`）注释掉`listen-on`声明。这允许BIND的named守护进程回答外部和本地DNS查询；默认行为是只回答本地查询。这一行（约21行）应如下所示：
- en: '[PRE4]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Scroll down and remove the forward slash and asterisk (`/*`) on the line above
    the `forwarders` declaration. Replace `*127.0.0.1*` with your ISP''s nameservers.
    Separate nameserver entries with a semicolon (`;`). Also remove the asterisk and
    forward slash (`*/`) following the `forwarders` declaration. The `forwarders`
    declaration (~43-47) should look like this (of course, your IP addresses will
    be different):'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动并移除`forwarders`声明上方的斜杠和星号（`/*`）。将`*127.0.0.1*`替换为您的ISP的名称服务器。使用分号（`;`）分隔名称服务器条目。同时移除`forwarders`声明后面的星号和斜杠（`*/`）。`forwarders`声明（约43-47行）应如下所示（当然，您的IP地址将不同）：
- en: '[PRE5]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Scroll down to the bottom of named.conf and add the following lines to add
    your forward lookup zone (substitute your domain name for [example.com](http://example.com)):'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到 named.conf 的底部，并添加以下行以添加您的正向查找区域（用您的域名替换 [example.com](http://example.com)）：
- en: '[PRE6]'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '* * *'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** A feature of BIND called dynamic DNS updates allows BIND and the
    ISC DHCP server to work together and add/remove entries to your zone files automatically
    as clients join and leave your local network. If you want to enable dynamic DNS
    updates with ISC DHCP, then change the italicized `master` (in the `*file*` line
    of the preceding code) to `dynamic`. Refer to "[ISC DHCP Server 3.0.5](isc_dhcp_server_3.0.5.html#isc_dhcp_server_3.0.5)"
    for details on the ISC DHCP server.'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** BIND 的一个功能称为动态 DNS 更新，允许 BIND 和 ISC DHCP 服务器协同工作，并在客户端加入和离开您的本地网络时自动添加/删除区域文件中的条目。如果您想启用
    ISC DHCP 的动态 DNS 更新，则将上述代码中的斜体 `master`（在 `*file*` 行中）更改为 `dynamic`。有关 ISC DHCP
    服务器的详细信息，请参阅 "[ISC DHCP Server 3.0.5](isc_dhcp_server_3.0.5.html#isc_dhcp_server_3.0.5)"。'
- en: '* * *'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: If you are connected directly to the Internet (no NAT router) and have a dynamic
    public IP address, then skip to step 8\. If you are connected directly to the
    Internet with a static IP address or have a static local IP address behind a NAT
    router, add the following lines below the forward lookup zone you specified in
    step 5\. This will define your reverse lookup zone.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您直接连接到互联网（没有 NAT 路由器）并且有一个动态的公共 IP 地址，则跳到步骤 8。如果您直接连接到互联网并具有静态 IP 地址或位于 NAT
    路由器后面的静态本地 IP 地址，请在步骤 5 中指定的正向查找区域下方添加以下行。这将定义您的反向查找区域。
- en: '[PRE7]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Substitute the first three octets of your server's static IP address in reverse
    order for `*1.168.192*`. The above example is correct if your local network uses
    the IP subnet 192.168.1.XXX. Substitute your domain name for [example.com](http://example.com).
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将您的服务器静态 IP 地址的前三个八位字节以反序替换为 `*1.168.192*`。如果您的本地网络使用 IP 子网 192.168.1.XXX，则上述示例是正确的。用您的域名替换
    [example.com](http://example.com)。
- en: '* * *'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** If you plan to enable dynamic DNS updates (ISC DHCP required),
    change the italicized `master` (in the `*file*` line of the above code) to `dynamic`.'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** 如果您计划启用动态 DNS 更新（需要 ISC DHCP），则将上述代码中的斜体 `master`（在 `*file*` 行中）更改为
    `dynamic`。'
- en: '* * *'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: Write down the reverse zone's name (`1.168.192.in-addr.arpa`, in this example).
    You will need it later when you create the reverse zone file. Save and exit.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 记录反向区域名称（在本例中为 `1.168.192.in-addr.arpa`）。你稍后创建反向区域文件时会需要它。保存并退出。
- en: 'Create the rndc.key file and append its contents to the bottom of the named.conf
    file. The rndc.key file is an encryption key that the rndc utility needs in order
    to function; it is also used to authenticate the DHCP server to BIND when communicating
    dynamic DNS updates. The following commands will create the key and append it
    to named.conf:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建 rndc.key 文件，并将其内容追加到 named.conf 文件的底部。rndc.key 文件是 rndc 实用程序需要的功能密钥；它还用于在通信动态
    DNS 更新时对 DHCP 服务器进行身份验证。以下命令将创建密钥并将其追加到 named.conf：
- en: '[PRE8]'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Create the master forward lookup zone file. Replace [example.com](http://example.com)
    with your domain name; it must match the domain name you specified in step 5.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建主正向查找区域文件。将 [example.com](http://example.com) 替换为您的域名；它必须与步骤 5 中指定的域名匹配。
- en: '[PRE9]'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This is the [example.com](http://example.com) forward lookup zone file, followed
    by explanations of each line:'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是 [example.com](http://example.com) 的正向查找区域文件，以下是每行的解释：
- en: '[PRE10]'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '* * *'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** Any line preceded by a semicolon ( `*;*`) is ignored by BIND.'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** BIND 忽略以分号（`;`）开头的任何行。'
- en: '* * *'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '[PRE11]'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: TTL (or Time To Live) is 3,600 seconds. This is the amount of time for which
    other DNS servers should cache information from this zone.
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: TTL（或生存时间）为 3,600 秒。这是其他 DNS 服务器应从该区域缓存信息的时间长度。
- en: '[PRE12]'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[example.com](http://example.com). is the forward zone name.'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[example.com](http://example.com). 是正向区域名称。'
- en: '`IN` is a data type that means Internet data.'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`IN` 是一个表示互联网数据的 数据类型。'
- en: '`SOA` stands for start of authority.'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`SOA` 代表授权开始。'
- en: '[host.example.com](http://host.example.com). is the hostname of computer that
    holds this zone file.'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[host.example.com](http://host.example.com). 是持有此区域文件的计算机的计算机名。'
- en: '[root.example.com](http://root.example.com). is the email address of the person
    responsible for the zone (in zone files, the `@` symbol is used to represent the
    zone name, so the period is used to separate the username from the domain name
    in the email address).'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[root.example.com](http://root.example.com). 是负责该区域的人员的电子邮件地址（在区域文件中，`@` 符号用于表示区域名称，因此在电子邮件地址中使用点来分隔用户名和域名）。'
- en: '`(` The left parenthesis indicates the start of the SOA record.'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`(` 左括号表示SOA记录的开始。'
- en: '[PRE13]'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: The serial number is a number you can choose; it is usually increased by one
    every time you make a change to the zone file. You may use a date (in the format
    `YYYYMMDD`) instead.
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 序列号是一个你可以选择的数字；通常每次你更改区域文件时都会增加一。你也可以使用日期（格式为`YYYYMMDD`）。
- en: '[PRE14]'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: If there is a slave server configured, this is the number of seconds it waits
    before contacting this master server for an update.
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果配置了从服务器，这是它等待多长时间后联系主服务器进行更新的秒数。
- en: '[PRE15]'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: This is the number of seconds a slave server would wait before retrying a connection
    to the master server if it ever loses contact.
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果从服务器失去联系，它会等待多长时间后重试连接到主服务器。
- en: '[PRE16]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: If the slave server cannot contact the master server within this time, in seconds,
    it will stop answering DNS queries.
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果从服务器在此时间内无法联系到主服务器，它将停止回答DNS查询。
- en: '[PRE17]'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: This is the amount of time in seconds that a negative answer is cached. If a
    client tries to resolve a host that does not exist, the server will answer negatively
    until this time runs out before actually trying to resolve the address again.
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是负回答缓存的秒数。如果客户端尝试解析一个不存在的域名，服务器将在此时间耗尽之前一直给出负回答，然后才尝试再次解析地址。
- en: '[PRE18]'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '[example.com](http://example.com). is the forward zone''s name or domain name.'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[example.com](http://example.com) 是正向区域的名称或域名。'
- en: '`NS` is a record type meaning nameserver.'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`NS` 是一个记录类型，表示域名服务器。'
- en: '[host.example.com](http://host.example.com). is the fully qualified domain
    name of the nameserver. (The period at the end means the FQDN is absolute; without
    it, named would automatically append [example.com](http://example.com) to it—so
    don''t forget the period.)'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[host.example.com](http://host.example.com) 是域名服务器的全限定域名。（结尾的点号表示FQDN是绝对的；如果没有它，named会自动将其添加为[example.com](http://example.com)——所以不要忘记点号。）'
- en: '[PRE19]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '[host.example.com](http://host.example.com). is the FQDN of a host on the domain.'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[host.example.com](http://host.example.com) 是域名上主机的全限定域名。'
- en: '`A` is a record type meaning a host address.'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`A` 是一个记录类型，表示主机地址。'
- en: '`*192.168.1.11*` is the IP address of the host (IP addresses don''t need terminating
    periods; they are considered absolute).'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`*192.168.1.11*` 是主机的IP地址（IP地址不需要终止点号；它们被认为是绝对的）。'
- en: '[PRE20]'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '`www` is the FQDN of the aliased host on the domain. (Notice that there is
    no period after `www`; named will automatically append the domain [example.com](http://example.com).
    If this is confusing, you may simply type [www.example.com](http://www.example.com)`.`
    here instead.)'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`www` 是域名上别名主机的全限定域名。（注意`www`后面没有点号；named会自动添加域名[example.com](http://example.com)。如果你觉得这很困惑，你可以在这里简单地输入[www.example.com](http://www.example.com)`.`。）'
- en: '`CNAME` is a record type meaning canonical name for an alias.'
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`CNAME` 是一个记录类型，表示别名的规范名称。'
- en: '[host.example.com](http://host.example.com). is the actual hostname of the
    alias.'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[host.example.com](http://host.example.com) 是别名的主机实际主机名。'
- en: '[PRE21]'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '[example.com](http://example.com). is the MX''s domain name.'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[example.com](http://example.com) 是MX的域名。'
- en: '`MX` is a record type meaning mail exchanger.'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`MX` 是一个记录类型，表示邮件交换。'
- en: '`*10*` is the priority of the specified mail server. (Email destined for your
    domain will be directed to the highest priority mail server, then lower priority
    mail servers; the lower number is the higher priority.)'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`*10*` 是指定邮件服务器的优先级。（发往你域的电子邮件将首先被导向优先级最高的邮件服务器，然后是优先级较低的邮件服务器；数字越小优先级越高。）'
- en: '[host.example.com](http://host.example.com). is the FQDN of mail server (no
    IP addresses).'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[host.example.com](http://host.example.com) 是邮件服务器的全限定域名（没有IP地址）。'
- en: '* * *'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** Be sure to double-check the spelling, punctuation marks, and syntax
    of your forward lookup zone file. BIND will not function correctly if the zone
    file contains errors.'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** 请务必仔细检查正向查找区域文件的拼写、标点符号和语法。如果区域文件包含错误，BIND将无法正确运行。'
- en: '* * *'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: When you finish creating your forward lookup zone file, save and exit.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你完成创建正向查找区域文件后，保存并退出。
- en: We will construct the reverse lookup zone file called [example.com.rev](http://example.com.rev).
    If you did not specify one in named.conf (step 6), skip to "[Testing](testing.html#testing)".
    This file contains the same basic information as the forward lookup zone file.
    All `A` and `CNAME` record types now become `PTR` records. Replace [example.com](http://example.com)
    with your domain name; it must match the domain name you specified in step 5.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将构建名为 [example.com.rev](http://example.com.rev) 的反向查找区域文件。如果你在 named.conf
    中没有指定（步骤 6），请跳转到 "[测试](testing.html#testing)"。此文件包含与正向查找区域文件相同的基本信息。所有 `A` 和 `CNAME`
    记录类型现在变为 `PTR` 记录。将 [example.com](http://example.com) 替换为你的域名；它必须与步骤 5 中指定的域名匹配。
- en: '[PRE22]'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'This is the [example.com.rev](http://example.com.rev) reverse lookup zone file
    in the /var/named/etc/namedb/master directory, followed by explanations of items
    not previously covered:'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是在 `/var/named/etc/namedb/master` 目录下的 [example.com.rev](http://example.com.rev)
    反向查找区域文件，随后是对之前未涵盖的项目进行解释：
- en: '[PRE23]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: The elements in this file are explained in detail below.
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此文件中的元素将在下面详细解释。
- en: '[PRE24]'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '`*1.168.192.in-addr.arpa*``.` is the reverse zone''s name. It should match
    what you entered in the named.conf file (refer to step 7 on page 76).'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`*1.168.192.in-addr.arpa*``.` 是反向区域的名称。它应该与你在 named.conf 文件中输入的内容匹配（参考第 76
    页的步骤 7）。'
- en: '[PRE25]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: The DNS server NS record should point to the reverse zone's name. An `@` symbol
    here would work too. In the context of DNS zone files, the `@` symbol represents
    the zone's name.
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: DNS 服务器的 NS 记录应指向反向区域的名称。这里的 `@` 符号也可以。在 DNS 区域文件的上下文中，`@` 符号代表区域的名称。
- en: '[PRE26]'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '`11` is the last octet of [host.example.com''s](http://host.example.com''s)
    IP address.'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`11` 是 [host.example.com](http://host.example.com''s) IP 地址的最后一个八位字节。'
- en: '`PTR` is a record type meaning pointer.'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`PTR` 是一个表示指针的记录类型。'
- en: Notice the `*11*` above does not end with a period. It will be automatically
    prefixed to this file's zone name (`1.168.192.in-addr.arpa.`). The result will
    point [host.example.com](http://host.example.com) to a reverse IP of `*11*``.1.168.192.in-addr.arpa.`.
    When your reverse zone file is complete, save and exit.
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意上面的 `*11*` 并不以句号结尾。它将被自动添加到该文件的区域名称前（`1.168.192.in-addr.arpa.`）。结果将使 [host.example.com](http://host.example.com)
    指向反向 IP `*11*``.1.168.192.in-addr.arpa.`。当你的反向区域文件完成时，保存并退出。
- en: 'If you will not be enabling dynamic DNS updates, skip to "Testing." BIND will
    expect the forward and reverse zone files to be stored in the /var/named/etc/namedb/dynamic
    directory. Copy these two zone files to the /var/named/etc/namedb/dynamic directory
    like this:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你将不会启用动态 DNS 更新，请跳转到 "测试"。BIND 预期正向和反向区域文件存储在 `/var/named/etc/namedb/dynamic`
    目录中。像这样将这些两个区域文件复制到 `/var/named/etc/namedb/dynamic` 目录：
- en: '[PRE27]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Be sure to substitute your domain name for [example.com](http://example.com).
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一定要用你的域名替换 [example.com](http://example.com)。
- en: 10.8\. TESTING
  id: totrans-125
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.8\. 测试
- en: In this section, we'll perform some basic tests to confirm that BIND answers
    DNS requests properly.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将执行一些基本测试以确认 BIND 正确回答 DNS 请求。
- en: Modify the first nameserver entry in the resolv.conf file to point to the loopback
    or localhost address (127.0.0.1). This will force the system to query the local
    DNS server before attempting to query other DNS servers.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 resolv.conf 文件中的第一个名称服务器条目修改为指向回环或 localhost 地址（127.0.0.1）。这将强制系统在尝试查询其他 DNS
    服务器之前先查询本地 DNS 服务器。
- en: '[PRE28]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '* * *'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** You may specify a maximum of three nameservers.'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** 你可以指定最多三个名称服务器。'
- en: '* * *'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: Save and exit.
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 保存并退出。
- en: 'Configure named to start automatically at boot time. To start named automatically
    at boot time, open the rc.conf file in /etc:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置 named 在启动时自动启动。要使 named 在启动时自动启动，打开 `/etc` 中的 rc.conf 文件：
- en: '[PRE29]'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'and add the following line:'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 并添加以下行：
- en: '[PRE30]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Save and exit.
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 保存并退出。
- en: Start the named daemon and conduct DNS query tests.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 named 守护进程并执行 DNS 查询测试。
- en: '[PRE31]'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Perform a basic DNS query for [google.com](http://google.com):'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 [google.com](http://google.com) 执行基本 DNS 查询：
- en: 'Code View:'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 代码视图：
- en: '[PRE32]'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: The line in bold toward the end of the output confirms that this DNS query was
    answered by the local DNS server.
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出末尾的粗体行确认了此 DNS 查询是由本地 DNS 服务器回答的。
- en: 'The next command initiates a DNS query known as a zone transfer; this will
    test the forward lookup zone file (substitute your domain name):'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一个命令启动了一个名为区域传输的 DNS 查询；这将测试正向查找区域文件（替换你的域名）：
- en: '[PRE33]'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Although your results will be different, examine this output to verify whether
    your DNS server returns the correct information. If you run into trouble, check
    /var/log/messages with a text editor for named-related messages and/or errors.
    Most problems are zone file syntax errors.
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 虽然你的结果可能会有所不同，但请检查此输出以验证你的 DNS 服务器是否返回了正确的信息。如果你遇到问题，请使用文本编辑器检查 /var/log/messages
    中的 named 相关消息和/或错误。大多数问题都是区域文件语法错误。
- en: 10.9\. UTILITIES
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.9\. 实用程序
- en: Following is brief information on the rndc program, which is used to control
    the named daemon.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是关于 rndc 程序的简要信息，该程序用于控制 named 守护进程。
- en: 10.9.1\. rndc
  id: totrans-149
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 10.9.1\. rndc
- en: This utility controls the operation of the nameserver (named).
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 此实用程序控制名称服务器（named）的操作。
- en: Command
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 命令
- en: '`rndc`'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '`rndc`'
- en: Syntax
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 语法
- en: '`rndc` `*option*`'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '`rndc` `*选项*`'
- en: Options
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 选项
- en: '[PRE34]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Flushes the DNS server's cache
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 清除 DNS 服务器的缓存
- en: '[PRE35]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Reloads the configuration file and zones
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载配置文件和区域
- en: '[PRE36]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Saves updates to zone files and stops the server
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 将更新保存到区域文件并停止服务器
- en: '[PRE37]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Displays the status of the server
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 显示服务器的状态
- en: Example
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: 'To flush the DNS server''s cache:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 要刷新 DNS 服务器的缓存：
- en: '[PRE38]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 10.10\. CONFIG FILES
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.10\. 配置文件
- en: /var/named/etc/namedb/named.conf
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: /var/named/etc/namedb/named.conf
- en: The main configuration file for named
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: named 的主要配置文件
- en: /var/named/etc/namedb/rndc.key
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: /var/named/etc/namedb/rndc.key
- en: Contains the encryption key used by the rndc utility to issue commands to named;
    also used for authenticating ISC's DHCP server when applying dynamic DNS updates
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 包含 rndc 实用程序用于向 named 发出命令时使用的加密密钥；也用于在应用动态 DNS 更新时验证 ISC 的 DHCP 服务器
- en: 10.11\. LOG FILES
  id: totrans-172
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.11\. 日志文件
- en: /var/log/messages
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: /var/log/messages
- en: Contains error and status messages produced by the named daemon
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 包含由 named 守护进程产生的错误和状态消息
- en: 10.12\. NOTES
  id: totrans-175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 10.12\. 注意事项
- en: If you intend to run your own public authoritative Internet DNS server, you
    will need a public static IP address from your Internet provider (which costs
    more). Your domain registrar will need this static IP address to forward your
    zone's DNS queries to your DNS server. If you can't or choose not to get a public
    static IP address, you will need to use the services of your domain name registrar
    or a third party to host a zone file for your domain name. You may still run your
    DNS server to be authoritative locally (within your private network) without a
    public static IP address.
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你打算运行自己的公共权威性互联网 DNS 服务器，你需要从你的互联网服务提供商那里获得一个公共静态 IP 地址（这会花费更多）。你的域名注册商需要这个静态
    IP 地址来将你的区域的 DNS 查询转发到你的 DNS 服务器。如果你无法获得或选择不获取公共静态 IP 地址，你需要使用你的域名注册商或第三方的服务来托管你的域名区域的文件。即使没有公共静态
    IP 地址，你也可以运行你的 DNS 服务器以在本地（在你的私有网络内）作为权威性服务器。
- en: If you are going to be running a locally authoritative DNS server and you utilize
    DHCP to configure your network clients, be sure to modify your DHCP server's configuration
    to point clients to your server's IP for DNS resolution. This will ensure that
    clients on your local domain benefit from your DNS server's cache and zone information.
    If you are behind a NAT router and don't intend to use your DNS server authoritatively
    on the Internet, keep port 53 closed in your router's configuration (this should
    already be the default).
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你打算运行一个本地权威性 DNS 服务器并且你使用 DHCP 来配置你的网络客户端，请确保修改你的 DHCP 服务器的配置，以便将客户端指向你的服务器的
    IP 地址进行 DNS 解析。这将确保你的本地域的客户从你的 DNS 服务器的缓存和区域信息中受益。如果你在 NAT 路由器后面，并且不打算在互联网上以权威性方式使用你的
    DNS 服务器，请确保在你的路由器配置中关闭端口 53（这应该是默认设置）。
