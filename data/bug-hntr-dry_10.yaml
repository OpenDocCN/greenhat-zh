- en: Appendix B. Debugging
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录B. 调试
- en: This appendix contains information about debuggers and the debugging process.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录包含有关调试器和调试过程的信息。
- en: B.1 The Solaris Modular Debugger (mdb)
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: B.1 Solaris模块化调试器（mdb）
- en: The following tables list some useful commands of the Solaris Modular Debugger
    (mdb). For a complete list of available commands, see the *Solaris Modular Debugger
    Guide*.^([[91](apbs05.html#ftn.APP-B-FN-1)])
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格列出了Solaris模块化调试器（mdb）的一些有用命令。有关可用命令的完整列表，请参阅*Solaris模块化调试器指南*。^([[91](apbs05.html#ftn.APP-B-FN-1)])
- en: Starting and Stopping mdb
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 开始和停止mdb
- en: '| Command | Description |'
  id: totrans-5
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-6
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `mdb` *`program`* | Starts mdb with *`program`* to debug. |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
  zh: '| `mdb` *`程序`* | 使用 *`程序`* 启动mdb进行调试。 |'
- en: '| `mdb` *`unix.<n> vmcore.<n>`* | Runs mdb on a kernel crash dump (*`unix.<n>`*
    and *`vmcore.<n>`* can typically be found in the directory *`/var/crash/<hostname>`*).
    |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: '| `mdb` *`unix.<n> vmcore.<n>`* | 在内核崩溃转储上运行mdb（*`unix.<n>`* 和 *`vmcore.<n>`*
    通常可以在目录 *`/var/crash/<hostname>`* 中找到）。 |'
- en: '| `$q` | Exits the debugger. |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: '| `$q` | 退出调试器。 |'
- en: General Commands
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通用命令
- en: '| Command | Description |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `::run` *`arguments`* | Runs the program with the given *`arguments`*. If
    the target is currently running or it is a corefile, mdb will restart the program
    if possible. |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '| `::run` *`参数`* | 使用给定的 *`参数`* 运行程序。如果目标是当前正在运行的程序或是一个核心文件，mdb如果可能将重新启动程序。
    |'
- en: Breakpoints
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 断点
- en: '| Command | Description |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| *`address`*`::bp` | Sets a new breakpoint at the *`address`* of the breakpoint
    location that is specified in the command. |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| *`地址`*`::bp` | 在命令中指定的断点位置的 *`地址`* 处设置新的断点。 |'
- en: '| `$b` | Lists information about existing breakpoints. |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '| `$b` | 列出现有断点的信息。 |'
- en: '| `::delete` *`number`* | Removes previously set breakpoints specified by their
    *`number`*. |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| `::delete` *`编号`* | 删除之前设置的由其 *`编号`* 指定的断点。 |'
- en: Running the Debuggee
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行调试程序
- en: '| Command | Description |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `:s` | Executes a single instruction. Will step into subfunctions. |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| `:s` | 执行一条单条指令。将进入子函数。 |'
- en: '| `:e` | Executes a single instruction. Will not enter subfunctions. |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| `:e` | 执行一条单条指令。不会进入子函数。 |'
- en: '| `:c` | Resumes execution. |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| `:c` | 恢复执行。 |'
- en: Examining Data
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查数据
- en: '| Command | Description |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| *`address`*,*`count format`* | Prints the specified number of objects (*`count`*)
    found at *`address`* in the specified *`format`*; example formats include B (hexadecimal,
    1-byte), X (hexadecimal, 4-byte), S (string). |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| *`地址`*,*`计数格式`* | 在指定的 *`格式`* 中打印在 *`地址`* 处找到的指定数量的对象 (*`计数`*)；示例格式包括B（十六进制，1字节），X（十六进制，4字节），S（字符串）。
    |'
- en: Information Commands
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 信息命令
- en: '| Command | Description |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `$r` | Lists registers and their contents. |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| `$r` | 列出寄存器和它们的值。 |'
- en: '| `$c` | Prints a backtrace of all stack frames. |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| `$c` | 打印所有堆栈帧的回溯。 |'
- en: '| *`address`*`::dis` | Dumps a range of memory around *`address`* as machine
    instructions. |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| *`地址`*`::dis` | 将 *`地址`* 附近的内存范围作为机器指令转储。 |'
- en: Other Commands
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他命令
- en: '| Command | Description |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `::status` | Prints a summary of information related to the current target.
    |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| `::status` | 打印与当前目标相关的信息摘要。 |'
- en: '| `::msgbuf` | Displays the message buffer, including all console messages
    up to a kernel panic. |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| `::msgbuf` | 显示消息缓冲区，包括所有直到内核恐慌的控制台消息。 |'
- en: B.2 The Windows Debugger (WinDbg)
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: B.2 Windows调试器（WinDbg）
- en: The following tables list some useful debugger commands of WinDbg. For a complete
    list of available commands, see Mario Hewardt and Daniel Pravat’s *Advanced Windows
    Debugging* (Addison-Wesley Professional, 2007) or the documentation that comes
    with WinDbg.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格列出了WinDbg的一些有用的调试器命令。有关可用命令的完整列表，请参阅Mario Hewardt和Daniel Pravat的*高级Windows调试*（Addison-Wesley
    Professional，2007）或WinDbg的文档。
- en: Starting and Stopping a Debugging Session
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 开始和停止调试会话
- en: '| Command | Description |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `File` ▸ `Open Executable...` | Click **Open Executable** on the File menu
    to start a new user-mode process and debug it. |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| `文件` ▸ `打开可执行文件...` | 在文件菜单上点击**打开可执行文件**以启动新的用户模式进程并对其进行调试。 |'
- en: '| `File` ▸ `Attach to a Process...` | Click **Attach to a Process** on the
    File menu to debug a user-mode application that is currently running. |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| `文件` ▸ `附加到进程...` | 在文件菜单上点击**附加到进程**以调试当前正在运行的用户模式应用程序。 |'
- en: '| `q` | Ends the debugging session. |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| `q` | 结束调试会话。 |'
- en: General Commands
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通用命令
- en: '| Command | Description |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `g` | Begins or resumes execution on the target. |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| `g` | 在目标上开始或继续执行。|'
- en: Breakpoints
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 断点
- en: '| Command | Description |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `bp` *`address`* | Sets a new breakpoint at the *`address`* of the breakpoint
    location that is specified in the command. |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| `bp` *`地址`* | 在指定的 *`地址`* 处设置新的断点。|'
- en: '| `bl` | Lists information about existing breakpoints. |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| `bl` | 列出现有断点的信息。|'
- en: '| `bc` *`breakpoint ID`* | Removes previously set breakpoints specified by
    their *`breakpoint ID`*. |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| `bc` *`断点ID`* | 删除之前设置的指定 *`断点ID`* 的断点。|'
- en: Running the Debuggee
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行调试程序
- en: '| Command | Description |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `t` | Executes a single instruction or source line and, optionally, displays
    the resulting values of all registers and flags. Will step into subfunctions.
    |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| `t` | 执行单条指令或源代码行，并可选地显示所有寄存器和标志的结果值。可以进入子函数。|'
- en: '| `p` | Executes a single instruction or source line and, optionally, displays
    the resulting values of all registers and flags. Will not enter subfunctions.
    |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| `p` | 执行单条指令或源代码行，并可选地显示所有寄存器和标志的结果值。不会进入子函数。|'
- en: Examining Data
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查数据
- en: '| Command | Description |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `dd` *`address`* | Displays the contents of *`address`* as double-word values
    (4 bytes). |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| `dd` *`地址`* | 将 *`地址`* 的内容以双字值（4字节）显示。|'
- en: '| `du` *`address`* | Displays the contents of *`address`* as unicode characters.
    |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| `du` *`地址`* | 将 *`地址`* 的内容以Unicode字符显示。|'
- en: '| `dt` | Displays information about a local variable, global variable, or data
    type, including structures and unions. |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| `dt` | 显示有关局部变量、全局变量或数据类型的信息，包括结构和联合。|'
- en: '| `poi(`*`address`*`)` | Returns pointer-sized data from the specified *`address`*.
    Depending on the architecture the pointer size is 32 bits or 64 bits. |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| `poi(`*`地址`*`)` | 从指定的 *`地址`* 返回指针大小的数据。根据架构，指针大小为32位或64位。|'
- en: Information Commands
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 信息命令
- en: '| Command | Description |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `r` | Lists registers and their contents. |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| `r` | 列出寄存器和它们的值。|'
- en: '| `kb` | Prints a backtrace of all stack frames. |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| `kb` | 打印所有堆栈帧的回溯。|'
- en: '| `u` *`address`* | Dumps a range of memory around *`address`* as machine instructions.
    |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| `u` *`地址`* | 将 *`地址`* 附近的内存范围作为机器指令输出。|'
- en: Other Commands
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他命令
- en: '| Command | Description |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `!analyze -v` | This debugger extension displays a lot of useful information
    about an exception or bug check. |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| `!analyze -v` | 此调试器扩展显示有关异常或错误检查的大量有用信息。|'
- en: '| `!drvobj` *`DRIVER_OBJECT`* | This debugger extension displays detailed information
    about a *`DRIVER_OBJECT`*. |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| `!drvobj` *`DRIVER_OBJECT`* | 此调试器扩展显示有关 *`DRIVER_OBJECT`* 的详细信息。|'
- en: '| `.sympath` | This command changes the default path of the debugger for symbol
    search. |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| `.sympath` | 此命令更改调试器的默认符号搜索路径。|'
- en: '| `.reload` | This command deletes all symbol information and reloads these
    symbols as needed. |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| `.reload` | 此命令删除所有符号信息，并在需要时重新加载这些符号。|'
- en: B.3 Windows Kernel Debugging
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: B.3 Windows内核调试
- en: 'In order to analyze the vulnerability described in [Chapter 6](ch06.html "Chapter 6. One
    Kernel to Rule Them All"), I needed a way to debug the Windows kernel. I set up
    a debugging environment with VMware^([[92](apbs05.html#ftn.APP-B-FN-2)]) and WinDbg^([[93](apbs05.html#ftn.APP-B-FN-3)])
    by following these steps:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 为了分析第6章（[第6章](ch06.html "第6章。一个内核统治一切"））中描述的漏洞，我需要一种调试Windows内核的方法。我通过以下步骤设置了调试环境：使用VMware^([[92](apbs05.html#ftn.APP-B-FN-2)])
    和 WinDbg^([[93](apbs05.html#ftn.APP-B-FN-3)])：
- en: Note
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Throughout this section, I used the following software versions: VMware Workstation
    6.5.2 and WinDbg 6.10.3.233*.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '*在本节中，我使用了以下软件版本：VMware Workstation 6.5.2 和 WinDbg 6.10.3.233*。'
- en: 'Step 1: Configure the VMware guest system for remote kernel debugging.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第1步：配置VMware虚拟系统以进行远程内核调试。
- en: 'Step 2: Adjust the *boot.ini* of the guest system.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第2步：调整虚拟系统的 *boot.ini*。
- en: 'Step 3: Configure WinDbg on the VMware host for Windows kernel debugging.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第3步：在VMware主机上配置WinDbg以进行Windows内核调试。
- en: 'Step 1: Configure the VMware Guest System for Remote Kernel Debugging'
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第1步：配置VMware虚拟系统以进行远程内核调试
- en: After I installed a Windows XP SP3 VMware guest system, I powered it off and
    chose **Edit Virtual Machine Settings** from the Commands section of VMware. I
    then clicked the **Add** button to add a new serial port and chose the configuration
    settings shown in [Figure B-1](apbs03.html#output_to_named_pipe "Figure B-1. Output
    to named pipe") and [Figure B-2](apbs03.html#named_pipe_configuration "Figure B-2. Named
    pipe configuration").
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在我安装了 Windows XP SP3 VMware 虚拟系统后，我关闭了电源，并在 VMware 的命令部分选择了 **编辑虚拟机设置**。然后我点击了
    **添加** 按钮以添加一个新的串行端口，并选择了如图 [图 B-1](apbs03.html#output_to_named_pipe "图 B-1. 输出到命名管道")
    和 [图 B-2](apbs03.html#named_pipe_configuration "图 B-2. 命名管道配置") 所示的配置设置。
- en: '![Output to named pipe](httpatomoreillycomsourcenostarchimages939345.png.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![输出到命名管道](httpatomoreillycomsourcenostarchimages939345.png.jpg)'
- en: Figure B-1. Output to named pipe
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图 B-1. 输出到命名管道
- en: '![Named pipe configuration](httpatomoreillycomsourcenostarchimages939347.png.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![命名管道配置](httpatomoreillycomsourcenostarchimages939347.png.jpg)'
- en: Figure B-2. Named pipe configuration
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 B-2. 命名管道配置
- en: After the new serial port was successfully added, I selected the Yield CPU on
    poll checkbox of the “I/O mode” section, as shown in [Figure B-3](apbs03.html#configuration_settings_for_the_new_seria
    "Figure B-3. Configuration settings for the new serial port").
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在成功添加新的串行端口后，我在“输入/输出模式”部分选择了“Yield CPU on poll”复选框，如图 [图 B-3](apbs03.html#configuration_settings_for_the_new_seria
    "图 B-3. 新串行端口的配置设置") 所示。
- en: '![Configuration settings for the new serial port](httpatomoreillycomsourcenostarchimages939349.png.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![新串行端口的配置设置](httpatomoreillycomsourcenostarchimages939349.png.jpg)'
- en: Figure B-3. Configuration settings for the new serial port
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 B-3. 新串行端口的配置设置
- en: 'Step 2: Adjust the boot.ini of the Guest System'
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 2 步：调整虚拟机的 boot.ini 文件
- en: 'I then powered up the VMware guest system and edited the *boot.ini* file of
    Windows XP to contain the following entries (the bold one enabled kernel debugging):'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 我随后开启了 VMware 虚拟系统，并编辑了 Windows XP 的 *boot.ini* 文件，以包含以下条目（粗体项启用了内核调试）：
- en: '[PRE0]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: I then rebooted the guest system and chose the new entry **Microsoft Windows
    XP Professional – Debug [debugger enabled]** from the boot menu to start the system,
    as shown in [Figure B-4](apbs03.html#new_boot_menu_option "Figure B-4. New boot
    menu option").
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 我随后重新启动了虚拟系统，并在引导菜单中选择了新的条目 **Microsoft Windows XP Professional – Debug [调试器已启用]**
    以启动系统，如图 [图 B-4](apbs03.html#new_boot_menu_option "图 B-4. 新的引导菜单选项") 所示。
- en: '![New boot menu option](httpatomoreillycomsourcenostarchimages939351.png.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![新的引导菜单选项](httpatomoreillycomsourcenostarchimages939351.png.jpg)'
- en: Figure B-4. New boot menu option
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 图 B-4. 新的引导菜单选项
- en: 'Step 3: Configure WinDbg on the VMware Host for Windows Kernel Debugging'
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 3 步：在 VMware 主机上配置 WinDbg 以进行 Windows 内核调试
- en: The only thing left was to configure WinDbg on the VMware host so that it attached
    to the kernel of the VMware guest system using a pipe. To do this, I created a
    batch file with the content shown in [Figure B-5](apbs03.html#windbg_batch_file_for_kernel_debugging
    "Figure B-5. WinDbg batch file for kernel debugging").
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 剩下的只是配置 VMware 主机上的 WinDbg，使其通过管道连接到 VMware 虚拟系统的内核。为此，我创建了一个包含如图 [图 B-5](apbs03.html#windbg_batch_file_for_kernel_debugging
    "图 B-5. 内核调试的 WinDbg 批处理文件") 所示内容的批处理文件。
- en: '![WinDbg batch file for kernel debugging](httpatomoreillycomsourcenostarchimages939353.png.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![内核调试的 WinDbg 批处理文件](httpatomoreillycomsourcenostarchimages939353.png.jpg)'
- en: Figure B-5. WinDbg batch file for kernel debugging
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 B-5. 内核调试的 WinDbg 批处理文件
- en: I then double-clicked the batch file to attach WinDbg on the VMware host to
    the kernel of the VMware Windows XP guest system, as shown in [Figure B-6](apbs03.html#attaching_the_kernel_debugger_open_paren
    "Figure B-6. Attaching the kernel debugger (WinDbg)").
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 我随后双击批处理文件，将 VMware 主机上的 WinDbg 连接到 VMware Windows XP 虚拟系统的内核，如图 [图 B-6](apbs03.html#attaching_the_kernel_debugger_open_paren
    "图 B-6. 连接内核调试器 (WinDbg)") 所示。
- en: '![Attaching the kernel debugger (WinDbg)](httpatomoreillycomsourcenostarchimages939355.png.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![连接内核调试器 (WinDbg)](httpatomoreillycomsourcenostarchimages939355.png.jpg)'
- en: Figure B-6. Attaching the kernel debugger (WinDbg)
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 图 B-6. 连接内核调试器 (WinDbg)
- en: B.4 The GNU Debugger (gdb)
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: B.4 GNU 调试器 (gdb)
- en: The following tables list some useful commands of the GNU Debugger (gdb). For
    a complete list of available commands, see the gdb online documentation.^([[94](apbs05.html#ftn.APP-B-FN-4)])
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格列出了 GNU 调试器 (gdb) 的一些有用命令。有关可用命令的完整列表，请参阅 gdb 在线文档。[94](apbs05.html#ftn.APP-B-FN-4)]
- en: Starting and Stopping gdb
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启动和停止 gdb
- en: '| Command | Description |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `gdb` *`program`* | Starts gdb with *`program`* to debug. |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| `gdb` *`程序`* | 使用 *`程序`* 启动 gdb 以进行调试。 |'
- en: '| `quit` | Exits the debugger. |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '| `quit` | 退出调试器。 |'
- en: General Commands
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通用命令
- en: '| Command | Description |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `run` *`arguments`* | Starts debugged program (with *`arguments`*). |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| `run` *`arguments`* | 启动调试程序（带有 *`arguments`*）。|'
- en: '| `attach` *`processID`* | Attaches the debugger to the running process with
    *`processID`*. |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| `attach` *`processID`* | 将调试器附加到具有 *`processID`* 的运行进程。|'
- en: Breakpoints
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 断点
- en: '| Command | Description |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `break <`*`file`*`:> function` | Sets a breakpoint at the beginning of the
    specified *`function`* (in *`file`*). |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| `break <`*`file`*`:> function` | 在 *`file`* 中指定 *`function`* 的开始处设置断点。|'
- en: '| `break <`*`file`*`:> line number` | Sets a breakpoint at the start of the
    code for that *`line number`* (in *`file`*). |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| `break <`*`file`*`:> line number` | 在 *`file`* 中该 *`line number`* 的代码开始处设置断点。|'
- en: '| `break *`*`address`* | Sets a breakpoint at the specified *`address`*. |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| `break *`*`address`* | 在指定的 *`address`* 处设置断点。|'
- en: '| `info breakpoints` | Lists information about existing breakpoints. |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| `info breakpoints` | 列出现有断点的信息。|'
- en: '| `delete` *`number`* | Removes previously set breakpoints specified by their
    *`number`*. |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| `delete` *`number`* | 删除之前设置的由其 *`number`* 指定的断点。|'
- en: Running the Debuggee
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行调试程序
- en: '| Command | Description |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `stepi` | Executes one machine instruction. Will step into subfunctions.
    |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| `stepi` | 执行一条机器指令。将进入子函数。|'
- en: '| `nexti` | Executes one machine instruction. Will not enter subfunctions.
    |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| `nexti` | 执行一条机器指令。不会进入子函数。|'
- en: '| `continue` | Resumes execution. |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| `continue` | 继续执行。|'
- en: Examining Data
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查数据
- en: '| Command | Description |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `x/`*`CountFormatSize address`* | Prints the specified number of objects
    (*`Count`*) of the specified *`Size`* according to the *`Format`* at *`address`*.Size:
    `b` (byte), `h` (halfword), `w` (word), `g` (giant, 8 bytes).Format: `o` (octal),
    `x` (hexadecimal), `d` (decimal), `u` (unsigned decimal), `t` (binary), `f` (float),
    `a` (address), `i` (instruction), `c` (char), `s` (string). |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| `x/`*`CountFormatSize address`* | 根据指定的 *`Format`* 在 *`address`* 处打印指定数量的对象
    (*`Count`*) 的 *`Size`*。Size: `b` (字节), `h` (半字), `w` (字), `g` (巨量, 8字节)。Format:
    `o` (八进制), `x` (十六进制), `d` (十进制), `u` (无符号十进制), `t` (二进制), `f` (浮点), `a` (地址),
    `i` (指令), `c` (字符), `s` (字符串)。|'
- en: Information Commands
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 信息命令
- en: '| Command | Description |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `info registers` | Lists registers and their contents. |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| `info registers` | 列出寄存器和它们的值。|'
- en: '| `backtrace` | Prints a backtrace of all stack frames. |'
  id: totrans-147
  prefs: []
  type: TYPE_TB
  zh: '| `backtrace` | 打印所有栈帧的回溯。|'
- en: '| `disassemble` *`address`* | Dumps a range of memory around *`address`* as
    machine instructions. |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| `disassemble` *`address`* | 将 *`address`* 附近的内存范围作为机器指令输出。|'
- en: Other Commands
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他命令
- en: '| Command | Description |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 命令 | 描述 |'
- en: '| --- | --- |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `set disassembly-flavor` *`intel`*`&#124;`*`att`* | Sets the disassembly
    flavor to Intel or AT&T assembly syntax. Default is AT&T syntax. |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| `set disassembly-flavor` *`intel`*`&#124;`*`att`* | 将反汇编风格设置为Intel或AT&T汇编语法。默认为AT&T语法。|'
- en: '| `shell` *`command`* | Executes a shell *`command`*. |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| `shell` *`command`* | 执行一个shell *`command`*。|'
- en: '| `set variable *(`*`address`*`)=`*`value`* | Stores *`value`* at the memory
    location specified by *`address`*. |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| `set variable *(`*`address`*`)=`*`value`* | 将 *`value`* 存储在由 *`address`*
    指定的内存位置。|'
- en: '| `source` *`file`* | Reads debugger commands from a *`file`*. |'
  id: totrans-155
  prefs: []
  type: TYPE_TB
  zh: '| `source` *`file`* | 从 *`file`* 读取调试器命令。|'
- en: '| `set follow-fork-mode` *`parent`*`&#124;`*`child`* | Tells the debugger to
    follow the *`child`* or *`parent`* process. |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| `set follow-fork-mode` *`parent`*`&#124;`*`child`* | 告诉调试器跟随 *`child`* 或
    *`parent`* 进程。|'
- en: B.5 Using Linux as a Mac OS X Kernel-Debugging Host
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: B.5 使用Linux作为Mac OS X内核调试主机
- en: 'In this section, I will detail the steps I performed to prepare a Linux system
    as a debugging host for the Mac OS X kernel:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我将详细说明我执行的准备Linux系统作为Mac OS X内核调试主机的步骤：
- en: 'Step 1: Install an ancient Red Hat 7.3 Linux operating system.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第1步：安装古老的Red Hat 7.3 Linux操作系统。
- en: 'Step 2: Get the necessary software packages.'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第2步：获取必要的软件包。
- en: 'Step 3: Build Apple’s debugger on the Linux host.'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第3步：在Linux主机上构建Apple的调试器。
- en: 'Step 4: Prepare the debugging environment.'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第4步：准备调试环境。
- en: 'Step 1: Install an Ancient Red Hat 7.3 Linux Operating System'
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第1步：安装古老的Red Hat 7.3 Linux操作系统
- en: Because Apple’s GNU Debugger (gdb) version that I used needs a GNU C Compiler
    (gcc) less than version 3 to build correctly, I downloaded and installed an ancient
    Red Hat 7.3 Linux system.^([[95](apbs05.html#ftn.APP-B-FN-5)]) To install the
    Red Hat system, I chose the installation type Custom. When I was asked to select
    the packages to install (Package Group Selection), I chose only the packages Network
    Support and Software Development, as well as OpenSSH server from the individual
    package selection. These packages include all the necessary development tools
    and libraries to build Apple’s gdb under Linux. During the installation, I added
    an unprivileged user called `tk` with a home directory under */home/tk*.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 因为我所使用的苹果 GNU 调试器 (gdb) 版本需要低于 3 版本的 GNU C 编译器 (gcc) 才能正确构建，所以我下载并安装了一个古老的 Red
    Hat 7.3 Linux 系统.^([[95](apbs05.html#ftn.APP-B-FN-5)]) 安装 Red Hat 系统，我选择了自定义安装类型。当被要求选择要安装的软件包（软件包组选择）时，我只选择了网络支持、软件开发以及
    OpenSSH 服务器。这些软件包包括构建苹果 gdb 在 Linux 下的所有必要开发工具和库。在安装过程中，我添加了一个名为 `tk` 的无权限用户，其家目录位于
    */home/tk* 下。
- en: 'Step 2: Get the Necessary Software Packages'
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 2 步：获取必要的软件包
- en: 'After I had successfully installed the Linux host, I downloaded the following
    software packages:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在成功安装 Linux 主机后，我下载了以下软件包：
- en: Source code of Apple’s custom gdb version.^([[96](apbs05.html#ftn.APP-B-FN-6)])
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 苹果公司自定义 gdb 版本的源代码.^([[96](apbs05.html#ftn.APP-B-FN-6)])
- en: Standard gdb source code from GNU.^([[97](apbs05.html#ftn.APP-B-FN-7)])
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自 GNU 的标准 gdb 源代码.^([[97](apbs05.html#ftn.APP-B-FN-7)])
- en: A patch for Apple’s gdb to compile under Linux.^([[98](apbs05.html#ftn.APP-B-FN-8)])
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个适用于在 Linux 下编译的苹果 gdb 补丁.^([[98](apbs05.html#ftn.APP-B-FN-8)])
- en: The appropriate source code version of the XNU kernel. I prepared the Linux
    debugging host to research the kernel bug described in [Chapter 7](ch07.html "Chapter 7. A
    Bug Older Than 4.4BSD"), so I downloaded the XNU version 792.13.8.^([[99](apbs05.html#ftn.APP-B-FN-9)])
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: XNU 内核的适当源代码版本。我准备了 Linux 调试主机来研究第 7 章（[第 7 章。比 4.4BSD 更古老的错误](ch07.html "第
    7 章。比 4.4BSD 更古老的错误"））中描述的内核错误，因此我下载了 XNU 版本 792.13.8.^([[99](apbs05.html#ftn.APP-B-FN-9)])
- en: The appropriate version of Apple’s Kernel Debug Kit. I found the bug explored
    in [Chapter 7](ch07.html "Chapter 7. A Bug Older Than 4.4BSD") on Mac OS X 10.4.8,
    so I downloaded the corresponding Kernel Debug Kit version 10.4.8 (*Kernel_Debug_Kit_10.4.8_8L2127.dmg*).
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 苹果内核调试工具包的适当版本。我在 Mac OS X 10.4.8 上找到了第 7 章（[第 7 章。比 4.4BSD 更古老的错误](ch07.html
    "第 7 章。比 4.4BSD 更古老的错误"））中探索的错误，因此我下载了相应的内核调试工具包版本 10.4.8 (*Kernel_Debug_Kit_10.4.8_8L2127.dmg*)。
- en: 'Step 3: Build Apple’s Debugger on the Linux Host'
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 3 步：在 Linux 主机上构建苹果调试器
- en: 'After I downloaded the necessary software packages onto the Linux host, I unpacked
    the two versions of gdb:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在我将必要的软件包下载到 Linux 主机后，我解压了两个版本的 gdb：
- en: '[PRE1]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Then I replaced the *mmalloc* directory of Apple’s source tree with the one
    from GNU gdb:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我将苹果源树中的 *mmalloc* 目录替换为 GNU gdb 的目录：
- en: '[PRE2]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'I applied the patch to Apple’s gdb version:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 我将补丁应用到苹果的 gdb 版本：
- en: '[PRE3]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'I used the following commands to build the necessary libraries:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用以下命令构建必要的库：
- en: '[PRE4]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'To build the debugger itself, I needed to copy some header files from the XNU
    kernel source code to the *include* directory of the Linux host:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 要构建调试器本身，我需要将一些头文件从 XNU 内核源代码复制到 Linux 主机的 *include* 目录：
- en: '[PRE5]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'I then commented some typedefs in the new *_types.h* file to avoid compile-time
    conflicts (see line 39, lines 43 to 49, and lines 78 to 81):'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我在新的 *_types.h* 文件中注释了一些 typedef 以避免编译时冲突（见第 39 行，第 43 至 49 行，以及第 78 至 81
    行）：
- en: '[PRE6]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'I added a new `include` to the file */home/tk/gdb-292/src/gdb/macosx/i386-macosx-tdep.c*
    (see line 24):'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 我在文件 */home/tk/gdb-292/src/gdb/macosx/i386-macosx-tdep.c* 中添加了一个新的 `include`（见第
    24 行）：
- en: '[PRE7]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Finally, I compiled the debugger with the following commands:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我使用以下命令编译了调试器：
- en: '[PRE8]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'After the compilation completed, I ran the new debugger as root so that the
    necessary directories could be created under */usr/local/bin/*:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 编译完成后，我以 root 身份运行了新的调试器，以便在 */usr/local/bin/* 下创建必要的目录：
- en: '[PRE9]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: After that, the debugger was ready.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，调试器就准备好了。
- en: 'Step 4: Prepare the Debugging Environment'
  id: totrans-192
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 4 步：准备调试环境
- en: 'I unpacked the downloaded Kernel Debug Kit disk image file (dmg) under Mac
    OS X, transferred the files per `scp` to the Linux host, and named the directory
    *KernelDebugKit_10.4.8*. I also copied the XNU source code into the search path
    of the debugger:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 我在 Mac OS X 下解压了下载的内核调试工具包磁盘映像文件（dmg），使用 `scp` 将文件传输到 Linux 主机，并将目录命名为 *KernelDebugKit_10.4.8*。我还将
    XNU 源代码复制到调试器的搜索路径中：
- en: '[PRE10]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: In [Chapter 7](ch07.html "Chapter 7. A Bug Older Than 4.4BSD"), I described
    how the newly built kernel debugger can be used to connect to a Mac OS X machine.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [第 7 章](ch07.html "第 7 章。比 4.4BSD 更古老的错误") 中，我描述了如何使用新构建的内核调试器连接到 Mac OS X
    机器。
- en: Notes
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 备注
- en: ^([[91](#ftn.APP-B-FN-1)])
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[91](#ftn.APP-B-FN-1)])
- en: ^([[92](#ftn.APP-B-FN-2)])
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[92](#ftn.APP-B-FN-2)])
- en: ^([[93](#ftn.APP-B-FN-3)])
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[93](#APP-B-FN-3)])
- en: ^([[94](#ftn.APP-B-FN-4)])
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[94](#ftn.APP-B-FN-4)])
- en: ^([[95](#ftn.APP-B-FN-5)])
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[95](#ftn.APP-B-FN-5)])
- en: ^([[96](#ftn.APP-B-FN-6)])
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[96](#ftn.APP-B-FN-6)])
- en: ^([[97](#ftn.APP-B-FN-7)])
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[97](#ftn.APP-B-FN-7)])
- en: ^([[98](#ftn.APP-B-FN-8)])
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[98](#ftn.APP-B-FN-8)])
- en: ^([[99](#ftn.APP-B-FN-9)])
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[99](#ftn.APP-B-FN-9)])
- en: '* * *'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: ^([[91](#APP-B-FN-1)]) See the *Solaris Modular Debugger Guide* at [http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html](http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html).
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[91](#APP-B-FN-1)]) 查看 *Solaris Modular Debugger Guide* 在 [http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html](http://dlc.sun.com/osol/docs/content/MODDEBUG/moddebug.html).
- en: ^([[92](#APP-B-FN-2)]) See [http://www.vmware.com/](http://www.vmware.com/).
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[92](#APP-B-FN-2)]) 查看 [http://www.vmware.com/](http://www.vmware.com/).
- en: ^([[93](#APP-B-FN-3)]) See [http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx](http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx).
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[93](#APP-B-FN-3)]) 查看 [http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx](http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx).
- en: ^([[94](#APP-B-FN-4)]) See [http://www.gnu.org/software/gdb/documentation/](http://www.gnu.org/software/gdb/documentation/).
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[94](#APP-B-FN-4))) 查看 [http://www.gnu.org/software/gdb/documentation/](http://www.gnu.org/software/gdb/documentation/)。
- en: '^([[95](#APP-B-FN-5)]) There are still a few download mirror sites available
    where you can get the Red Hat 7.3 ISO images. Here are a few, as of this writing:
    [http://ftp-stud.hs-esslingen.de/Mirrors/archive.download.redhat.com/redhat/linux/7.3/de/iso/i386/](http://ftp-stud.hs-esslingen.de/Mirrors/archive.download.redhat.com/redhat/linux/7.3/de/iso/i386/),
    [http://mirror.fraunhofer.de/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/](http://mirror.fraunhofer.de/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/),
    and [http://mirror.cs.wisc.edu/pub/mirrors/linux/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/](http://mirror.cs.wisc.edu/pub/mirrors/linux/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/).'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[95](#APP-B-FN-5))) 仍然有一些可用的下载镜像站点，您可以从那里获取 Red Hat 7.3 ISO 镜像。以下是一些，截至本文撰写时：[http://ftp-stud.hs-esslingen.de/Mirrors/archive.download.redhat.com/redhat/linux/7.3/de/iso/i386/](http://ftp-stud.hs-esslingen.de/Mirrors/archive.download.redhat.com/redhat/linux/7.3/de/iso/i386/)，[http://mirror.fraunhofer.de/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/](http://mirror.fraunhofer.de/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/)，以及
    [http://mirror.cs.wisc.edu/pub/mirrors/linux/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/](http://mirror.cs.wisc.edu/pub/mirrors/linux/archive.download.redhat.com/redhat/linux/7.3/en/iso/i386/)。
- en: ^([[96](#APP-B-FN-6)]) Apple’s custom gdb version can be downloaded at [http://www.opensource.apple.com/tarballs/gdb/gdb-292.tar.gz](http://www.opensource.apple.com/tarballs/gdb/gdb-292.tar.gz).
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[96](#APP-B-FN-6)]) 您可以从 [http://www.opensource.apple.com/tarballs/gdb/gdb-292.tar.gz](http://www.opensource.apple.com/tarballs/gdb/gdb-292.tar.gz)
    下载苹果定制的 gdb 版本。
- en: ^([[97](#APP-B-FN-7)]) The standard gdb version from GNU can be downloaded at
    [http://ftp.gnu.org/pub/gnu/gdb/gdb-5.3.tar.gz](http://ftp.gnu.org/pub/gnu/gdb/gdb-5.3.tar.gz).
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[97](#APP-B-FN-7))) 您可以从 [http://ftp.gnu.org/pub/gnu/gdb/gdb-5.3.tar.gz](http://ftp.gnu.org/pub/gnu/gdb/gdb-5.3.tar.gz)
    下载 GNU 的标准 gdb 版本。
- en: ^([[98](#APP-B-FN-8)]) The patch for Apple’s GNU debugger is available at [http://www.trapkit.de/books/bhd/osx_gdb.patch](http://www.trapkit.de/books/bhd/osx_gdb.patch).
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[98](#APP-B-FN-8))) 苹果 GNU 调试器的补丁可以在 [http://www.trapkit.de/books/bhd/osx_gdb.patch](http://www.trapkit.de/books/bhd/osx_gdb.patch)
    获取。
- en: ^([[99](#APP-B-FN-9)]) The XNU version 792.13.8 can be downloaded at [http://www.opensource.apple.com/tarballs/xnu/xnu-792.13.8.tar.gz](http://www.opensource.apple.com/tarballs/xnu/xnu-792.13.8.tar.gz).
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[99](#APP-B-FN-9))) XNU 版本 792.13.8 可以从 [http://www.opensource.apple.com/tarballs/xnu/xnu-792.13.8.tar.gz](http://www.opensource.apple.com/tarballs/xnu/xnu-792.13.8.tar.gz)
    下载。
