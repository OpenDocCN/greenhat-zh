- en: Chapter 19. DEFENDING THE NEST
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第19章。保护巢穴
- en: Security
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安全性
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages656092.png.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图片](httpatomoreillycomsourcenostarchimages656092.png.jpg)'
- en: Many a Windows user has entered the Linux fold after a host of bad experiences
    with *malware* in the Windows world—viruses, spyware, and all sorts of other malicious
    bits of software code, too numerous to imagine. Windows is also plagued by a seemingly
    endless array of security vulnerabilities, leaving the system easy prey to invaders
    with less than noble intentions. Every trip out into cyberspace thus becomes something
    like a run through the infectious diseases ward of a hospital. For a Windows user,
    it can sometimes seem that more time is spent ridding the system of viral pests
    and defending it from invaders than is actually spent getting things done.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 许多Windows用户在经历了Windows世界中的大量*恶意软件*（病毒、间谍软件以及各种其他恶意软件代码）的糟糕经历后，进入了Linux阵营——这些恶意软件数量繁多，难以想象。Windows还受到似乎无穷无尽的安全漏洞的困扰，使系统容易成为心怀不轨的入侵者的猎物。因此，每次进入网络空间都像是在医院的传染病科跑一趟。对于Windows用户来说，有时似乎花在清除系统中的病毒害虫和防御入侵者身上的时间比实际完成任务的时间还要多。
- en: Fortunately, Linux does not suffer greatly from such problems, leading to the
    much-touted claim that Linux is practically virus free and quite secure. Numerous
    lines of reasoning have been proffered to explain Linux's malware-and exploit-resistant
    nature. One reason is simply popularity—or lack thereof. Because Linux is not
    as widespread a system as Windows is, it is also a much less attractive target
    of digital evil-doers, who very often seem to be motivated by the challenge and
    headline-catching glory that comes with creating a truly global virus or finding
    a theretofore unknown back door.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，Linux并没有遭受如此严重的问题，这导致了人们广泛宣扬的Linux几乎无病毒且非常安全的说法。已经提出了许多理由来解释Linux对恶意软件和漏洞的抵抗力。一个原因仅仅是流行度——或者说缺乏流行度。因为Linux不像Windows那样广泛使用，它也远不是一个吸引数字恶棍的目标，他们往往被创造真正全球性的病毒或找到迄今为止未知的后门所带来的挑战和头条新闻的荣耀所驱动。
- en: Another reason is that Linux users, as a general rule, work on their computers
    in a nonprivilege mode, one in which the user does not have the right to install
    software without a password. This is not the case in some versions of Windows.
    A virus or other form of malware attached to an email or piggybacked upon another
    file or application cannot, therefore, install itself in your Linux system without
    that password . . . well, theoretically, at least. Of course, now that more recent
    versions of Windows use a privilege structure by default, this point is a bit
    less of an issue.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个原因是，一般来说，Linux用户在非特权模式下使用他们的计算机，在这种模式下，用户没有密码安装软件的权利。在某些Windows版本中并非如此。因此，附着在电子邮件上或寄生在其他文件或应用程序上的病毒或其他形式的恶意软件无法在没有密码的情况下安装到您的Linux系统中……至少在理论上是这样。当然，现在较新版本的Windows默认使用权限结构，这个点的问题就小多了。
- en: There is also the matter of structural design. Every system has security holes
    that can be exploited by digital and human foe alike. Windows might well be called
    the Swiss cheese of operating systems in this regard. Of course, Linux has its
    holes too, though far fewer of them than Windows does; and Linux plugs them through
    downloadable updates faster, once they are found.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还有结构设计的问题。每个系统都有可以被数字和人类敌人利用的安全漏洞。在这方面，Windows可能被称作操作系统的瑞士奶酪。当然，Linux也有其漏洞，但比Windows少得多；一旦发现，Linux通过可下载的更新更快地填补这些漏洞。
- en: Finally, Ubuntu's preconfigured security policy brings a defensive edge—there
    are no open incoming ports in Ubuntu desktop systems. This means your Ubuntu Linux
    system is even less susceptible to unwanted intrusions.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，Ubuntu的预配置安全策略带来了防御优势——Ubuntu桌面系统中没有开放的入站端口。这意味着您的Ubuntu Linux系统对未授权入侵的抵抗力甚至更低。
- en: Does My System Need Protection?
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我的系统需要保护吗？
- en: So, with all this talk about Linux's great security, you may wonder whether
    you need to bother worrying about it at all. Well, if you take a look at the Ubuntu
    forums, you might find yourself a bit confused. When asked whether Linux users
    need to install antivirus software or firewalls, most users answer with an emphatic
    *no*. On the other hand, you'll find that an awful lot of people have installed
    or are trying to install that software. Hmmm.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，关于Linux出色安全性的所有这些讨论，你可能想知道你是否真的需要担心它。嗯，如果你查看Ubuntu论坛，你可能会感到有些困惑。当被问及Linux用户是否需要安装杀毒软件或防火墙时，大多数用户都会断然回答“不”。另一方面，你会发现很多人已经安装或正在尝试安装那种软件。嗯嗯。
- en: So, what's a Linux user to do?
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，Linux用户该怎么办呢？
- en: If you are on a network where you transfer a lot of files among a lot of Windows
    machines, you might want to think about installing some antivirus software, if
    for nothing more than the good of the Windows systems involved and the users of
    those systems—your unenlightened (i.e., Windows-using) email pals, for example.
    You might also want to give it a go if you are, by nature, on the cautious side
    of the spectrum. Basically, if it makes you feel safer to install some protection,
    go ahead. If it makes you feel safer to go whole-hog and install the full line
    of defense mechanisms I cover in this chapter, go ahead. After all, either way
    you go, it isn't going to cost you anything, and it certainly isn't going to hurt
    you any.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在一个网络环境中，需要在很多Windows机器之间传输大量文件，你可能需要考虑安装一些杀毒软件，即使只是为了保护涉及的Windows系统和那些系统用户——比如你的那些未开化的（即使用Windows的）电子邮件朋友。如果你天生就比较谨慎，你也可能想试一试。基本上，如果你觉得安装一些保护措施会让你感觉更安全，那就去做吧。如果你觉得安装我在本章中提到的完整防御机制会让你感觉更安全，那就去做吧。毕竟，无论你选择哪种方式，都不会让你付出任何代价，当然也不会伤害到你。
- en: The First Line of Defense
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一道防线
- en: Regardless of the system you happen to be using (though I am assuming that you
    have become a Linux devotee by now), the first line of defense for any computer
    permanently hooked up to the Internet is a *router*—an electronic device that
    allows a number of computers on a local network (such as in your home or at your
    office) to connect to and share a single connection from your Internet service
    provider (ISP). While the router is connected to your modem via cable, the connection
    from the router to the computers on your local network can be wired, wireless,
    or both.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你使用的是哪种系统（尽管我假设你现在已经成为了一名Linux信徒），任何永久连接到互联网的计算机的第一道防线都是一个**路由器**——一种电子设备，它允许本地网络（如你的家庭或办公室）中的多台计算机连接并共享来自你的互联网服务提供商（ISP）的单个连接。虽然路由器通过电缆连接到你的调制解调器，但路由器与本地网络中的计算机之间的连接可以是有线、无线或两者兼有。
- en: What does a router have to do with the defense of your computer? Well, most
    routers include a *firewall*, which essentially functions to keep all of the bad
    stuff on the Web away from your computer, much in the way that the firewall in
    your car keeps the heat, fumes, and noise from your engine out of the passenger
    compartment. This built-in firewall is one reason that even people with only one
    computer, who could just as easily connect their computer directly to their cable
    or DSL modem, use a router. Of course, just how much security the firewall in
    your router provides depends on which filters you select in the firewall setup
    software. For example, a very common and useful filter (particularly for those
    with a wireless network) limits Internet access to those machines specified on
    the firewall's access list. This prevents your next-door neighbors from hitching
    a wireless ride via your ISP connection. They aren't paying the bill, after all.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 路由器与保护你的计算机有什么关系呢？嗯，大多数路由器都包含一个**防火墙**，它本质上起到将网络上的所有不良内容隔离在你的计算机之外的作用，就像你的汽车中的防火墙将发动机的热量、烟雾和噪音隔离在乘客舱外一样。这个内置的防火墙是即使只有一台计算机的人，他们本可以直接将计算机连接到他们的电缆或DSL调制解调器，也会使用路由器的原因之一。当然，你的路由器中的防火墙提供的安全性取决于你在防火墙设置软件中选择的哪些过滤器。例如，一个非常常见且有用的过滤器（尤其是对于无线网络用户来说）限制了只有防火墙访问列表上指定的机器才能访问互联网。这阻止了你的邻居通过你的ISP连接使用无线网络。毕竟，他们没有支付账单。
- en: The setup software for a router is built into the router, so you don't have
    to worry about software installation and system compatibility. Using your router
    with Linux is no different from using it with Windows. You can access the software
    and modify your settings via a simple web browser, as you can see in [Figure 19-1](ch19s02.html#setting_up_a_router
    "Figure 19-1. Setting up a router"). Just type the IP address of the router (usually
    provided in the owner's manual) in the browser's location bar, press **enter**,
    and you'll be ready to go.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 路由器的设置软件内置在路由器中，因此你不必担心软件安装和系统兼容性问题。使用Linux与使用Windows一样使用路由器。你可以通过简单的网页浏览器访问软件并修改设置，就像你在[图19-1](ch19s02.html#setting_up_a_router
    "图19-1. 设置路由器")中看到的那样。只需在浏览器的地址栏中输入路由器的IP地址（通常在用户手册中提供），按**Enter**键，你就可以开始了。
- en: '![Setting up a router](httpatomoreillycomsourcenostarchimages656689.png.jpg)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![设置路由器](httpatomoreillycomsourcenostarchimages656689.png.jpg)'
- en: Figure 19-1. Setting up a router
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-1. 设置路由器
- en: Software Firewalls
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 软件防火墙
- en: If you don't have a router and don't plan on getting one or if you have one
    but are bordering on paranoia, you might want to consider using a software firewall,
    in particular one of the most popular software firewalls available for Linux,
    Firestarter.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有路由器，也不打算购买，或者你有一个但几乎到了偏执的地步，你可能想考虑使用软件防火墙，特别是Linux上最受欢迎的软件防火墙之一，Firestarter。
- en: You can get Firestarter via the Ubuntu Software Center by searching for *firestarter*
    and installing it. Once it is installed, run it by selecting **System** ▸ **Administration**
    ▸ **Firestarter** (you might be asked for your password). Firestarter will open
    with a self-explanatory setup wizard the first time. Just read each screen carefully;
    make whatever selection are suggested, if any; and click the **Forward** button
    in each of the wizard screens until you get to the last one (shown in [Figure 19-2](ch19s03.html#the_last_screen_of_the_firestarter_setup
    "Figure 19-2. The last screen of the Firestarter setup wizard")). On that screen,
    make sure that the box next to *Start firewall now* is checked, and then click
    the **Save** button. The wizard window will then close, and the main Firestarter
    window will appear. Assuming the correct network device was detected and selected
    and the correct wizard choice made, the firewall will be up and running.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在Ubuntu软件中心搜索*firestarter*并安装它来获取Firestarter。安装完成后，通过选择**系统** ▸ **管理**
    ▸ **Firestarter**（你可能需要输入密码）来运行它。Firestarter将打开一个自解释的设置向导，第一次使用时。只需仔细阅读每一屏；如果有的话，按照建议进行选择；然后在向导的每个屏幕上点击**前进**按钮，直到到达最后一个（如图19-2所示）。在该屏幕上，确保*现在启动防火墙*旁边的框被勾选，然后点击**保存**按钮。向导窗口将关闭，主Firestarter窗口将出现。假设正确检测并选择了正确的网络设备，并且正确选择了向导选项，防火墙将启动并运行。
- en: '![The last screen of the Firestarter setup wizard](httpatomoreillycomsourcenostarchimages656691.png.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![Firestarter设置向导的最后屏幕](httpatomoreillycomsourcenostarchimages656691.png.jpg)'
- en: Figure 19-2. The last screen of the Firestarter setup wizard
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-2. Firestarter设置向导的最后屏幕
- en: If the wrong network device was selected, a warning window will appear telling
    you so. In that case, you can do a bit of trial-and-error manipulation by selecting
    **Edit** ▸ **Preferences** in the main Firestarter window and then clicking **Network
    Settings** in the Preferences window that appears ([Figure 19-3](ch19s03.html#selecting_network_devices_in_firestarter
    "Figure 19-3. Selecting network devices in Firestarter")). In that window, select
    one of the other devices listed in the Detected device(s) drop-down menu, and
    then click the **Accept** button. Once back at the main Firestarter window, click
    the **Start Firewall** button (which looks like a Play button), and see what happens.
    If you still can't start the firewall, repeat the process I've just described,
    this time selecting a different network device.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 如果选择了错误的网络设备，将出现一个警告窗口告诉你这一点。在这种情况下，你可以在主Firestarter窗口中选择**编辑** ▸ **首选项**进行一些尝试和错误操作，然后在出现的首选项窗口中点击**网络设置**（如图19-3所示）。在该窗口中，从“检测到的设备”下拉菜单中选择其他设备之一，然后点击**接受**按钮。一旦回到主Firestarter窗口，点击**启动防火墙**按钮（看起来像一个播放按钮），看看会发生什么。如果你仍然无法启动防火墙，重复我刚才描述的过程，这次选择不同的网络设备。
- en: '![Selecting network devices in Firestarter](httpatomoreillycomsourcenostarchimages656693.png.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![在Firestarter中选择网络设备](httpatomoreillycomsourcenostarchimages656693.png.jpg)'
- en: Figure 19-3. Selecting network devices in Firestarter
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-3. 在Firestarter中选择网络设备
- en: Once your firewall is up and running, there is nothing more that you really
    need to do. You can simply look at the Firestarter window ([Figure 19-4](ch19s03.html#firestarter_in_action
    "Figure 19-4. Firestarter in action")) to see what is going on network-wise on
    your computer—which active connections you have, how much information has been
    coming and going, and whether there have been any events in which, for example,
    the firewall has blocked an intruder. If you click the **Events** tab, you can
    then see the details of those events, such as what connection attempts were blocked,
    where they came from, and when they happened.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你的防火墙启动并运行，你实际上不需要做任何事情。你可以简单地查看Firestarter窗口（[图19-4](ch19s03.html#firestarter_in_action
    "图19-4. Firestarter运行中的截图"））来了解你的电脑在网络上的情况——你有哪些活动连接，有多少信息进出，以及是否发生了例如防火墙阻止入侵者的事件。如果你点击**事件**标签，你就可以看到这些事件的详细信息，例如哪些连接尝试被阻止，它们来自哪里，以及它们何时发生。
- en: '![Firestarter in action](httpatomoreillycomsourcenostarchimages656695.png.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![Firestarter运行中的截图](httpatomoreillycomsourcenostarchimages656695.png.jpg)'
- en: Figure 19-4. Firestarter in action
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-4. Firestarter运行中的截图
- en: Taking Control of Firestarter
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 掌控Firestarter
- en: You can control how Firestarter deals with various network events by creating
    your own *policies*. The default policy set in Firestarter allows you to do whatever
    you normally do via the Internet, while it blocks new connections to your computer
    from the Internet or any other computer on your network.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过创建自己的*策略*来控制Firestarter如何处理各种网络事件。Firestarter中默认设置的策略允许你通过互联网做你通常做的事情，同时它阻止来自互联网或你网络上的任何其他计算机到你的电脑的新连接。
- en: To make things a bit more draconian, you can click the **Policy** tab, select
    **Outbound traffic policy** in the Editing drop-down menu, and then select **Restrictive
    by default, whitelist traffic**. If you just want to deny anyone working on your
    computer access to a specific website, for instance, simply select **Permissive
    by default, blacklist traffic**, right-click the **Deny connections to host**
    field, and select **Add Rule** in the pop-up menu. In the Add new outbound rule
    window, enter the domain name for the targeted site (as in *example.com*), click
    **Add**, and then click the **Apply Policy** button in the main Firestarter window
    (it's the one that looks like a green check mark).
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 要使事情变得更为严格，你可以点击**策略**标签，在编辑下拉菜单中选择**默认限制性，白名单流量**。如果你只想拒绝任何在电脑上工作的人访问特定的网站，例如，只需选择**默认允许，黑名单流量**，右键单击**拒绝连接到主机**字段，并在弹出菜单中选择**添加规则**。在添加新出站规则窗口中，输入目标网站的域名（如*example.com*），点击**添加**，然后在Firestarter主窗口中点击**应用策略**按钮（它看起来像绿色的勾号）。
- en: Confirming That Firestarter Runs Automatically
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 确认Firestarter自动运行
- en: After you run Firestarter the first time, it will set itself to automatically
    start up whenever you start your system. Don't be concerned when you don't see
    the graphical interface you saw when you first started it; Firestarter will be
    running in the background, silently protecting your computer.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次运行Firestarter后，它将自动设置为每次启动系统时启动。当你没有看到第一次启动时看到的图形界面时，不要担心；Firestarter将在后台运行，默默地保护你的电脑。
- en: If you are the doubting type, you can check to see whether Firestarter actually
    is running in the background by opening a Terminal window, typing **`sudo /etc/init.d/firestarter
    status`**, and then pressing **enter**. If Firestarter is running, you will see
    the message `* Firestarter is running...` in the Terminal window. Worries over.
    If Firestarter isn't running, the response will read `* Firestarter is stopped`.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你属于怀疑型的人，你可以通过打开一个终端窗口，输入**`sudo /etc/init.d/firestarter status`**，然后按**enter**键来检查Firestarter是否实际上在后台运行。如果Firestarter正在运行，你将在终端窗口中看到消息`*
    Firestarter is running...`。不用担心。如果Firestarter没有运行，响应将显示`* Firestarter is stopped`。
- en: Finding Out More
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 获取更多信息
- en: If the world of firewalls is new to you, you can check out the Firestarter home
    page to learn a bit more. To check out the online manual, just to go to the Firestarter
    **Help** menu, and select **Online Users' Manual**, which will open the page in
    your web browser. If you prefer to check out the manual before installing Firestarter,
    point your browser to [http://www.fs-security.com/docs/](http://www.fs-security.com/docs/).
    You will also find a pretty good quick tutorial there.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果防火墙的世界对您来说是新的，您可以查看Firestarter的主页以了解更多信息。要查看在线手册，只需转到Firestarter的**帮助**菜单，并选择**在线用户手册**，它将在您的网络浏览器中打开页面。如果您想在安装Firestarter之前查看手册，请将浏览器指向[http://www.fs-security.com/docs/](http://www.fs-security.com/docs/)。您在那里还可以找到一个相当不错的快速教程。
- en: 'ClamAV: Antivirus Software, Linux Style'
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ClamAV：Linux风格的杀毒软件
- en: 'Despite the lack of viruses that can wreak havoc upon your Linux system, your
    computer could still act as a transmitter of Windows viruses. As a result, a number
    of free antivirus scanners are available for Linux users interested in helping
    protect Windows users from viruses. These include Panda Desktop Secure ([http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/](http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/)),
    f-Prot ([http://www.f-prot.com/](http://www.f-prot.com/)), and numerous others.
    For most Linux users, however, the virus scanner of choice is the open source
    contender: ClamAV.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管没有病毒可以对您的Linux系统造成破坏，但您的计算机仍然可能成为Windows病毒的传播者。因此，为那些希望帮助保护Windows用户免受病毒侵害的Linux用户提供了一些免费的杀毒扫描器。这些包括Panda
    Desktop Secure ([http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/](http://www.pandasecurity.com/usa/homeusers/downloads/desktopsecure/))、f-Prot
    ([http://www.f-prot.com/](http://www.f-prot.com/))以及许多其他软件。然而，对于大多数Linux用户来说，首选的病毒扫描器是开源的竞争者：ClamAV。
- en: Although it can be used on a number of operating systems, ClamAV is considered
    to be *the* Linux antivirus software package. It is open source and totally free,
    and you don't have to worry about licenses or suffer the bother of renewing them.
    Unfortunately, on its own, ClamAV is a command-driven application, which makes
    it a bit less user-friendly. Fortunately for all involved, a graphical interface,
    albeit a simple one, is available; it goes by the name of ClamTk. Both ClamAV
    and ClamTk are available via the Ubuntu Software Center—just search for *clamtk*,
    and install Virus Scanner. The Ubuntu Software Center will then automatically
    install ClamAV and all other packages it needs in order to run.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然它可以在多个操作系统上使用，但ClamAV被认为是**Linux**的杀毒软件包。它是开源的，完全免费，您不必担心许可证或忍受续订的麻烦。不幸的是，ClamAV本身是一个基于命令的应用程序，这使得它稍微不太用户友好。幸运的是，对于所有相关人员来说，尽管是一个简单的图形界面，但ClamTk是可用的；它被称为ClamTk。ClamAV和ClamTk都可以通过Ubuntu软件中心获得——只需搜索*clamtk*，然后安装病毒扫描器。然后，Ubuntu软件中心将自动安装ClamAV以及它运行所需的所有其他包。
- en: Once ClamAV is installed, you can perform a virus scan by selecting **Applications**
    ▸ **Accessories** ▸ **Virus Scanner**. This will open the ClamTk Virus Scanner
    window ([Figure 19-5](ch19s04.html#clamtkmthe_graphical_interface_for_clama "Figure 19-5. ClamTk—the
    graphical interface for ClamAV")).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦安装了ClamAV，您可以通过选择**应用程序** ▸ **附件** ▸ **病毒扫描器**来执行病毒扫描。这将打开ClamTk病毒扫描器窗口（[图19-5](ch19s04.html#clamtkmthe_graphical_interface_for_clama
    "图19-5. ClamTk——ClamAV的图形界面")）。
- en: Once up and running, you can scan your system on demand from the Scan menu.
    To scan a single folder, select **A Directory**. To scan a directory and everything
    within it, choose **Recursive Scan**. In either case, the Select a Directory window
    will appear. Select the folder or disc you want to scan, and click **OK**. ClamAV
    will then start scanning your system. ClamTk will let you know what it is scanning
    at any given moment in the empty space just below the button bar. If it finds
    anything suspicious, it will list that item in the main pane of the window.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦启动并运行，您可以从扫描菜单中按需扫描您的系统。要扫描单个文件夹，请选择**一个目录**。要扫描目录及其所有内容，请选择**递归扫描**。在两种情况下，都会出现选择目录窗口。选择您想要扫描的文件夹或磁盘，然后点击**确定**。ClamAV将开始扫描您的系统。ClamTk将在按钮栏下方空白的区域通知您正在扫描的内容。如果它发现任何可疑内容，它将在窗口的主面板中列出该条目。
- en: '![ClamTk—the graphical interface for ClamAV](httpatomoreillycomsourcenostarchimages656697.png.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![ClamTk——ClamAV的图形界面](httpatomoreillycomsourcenostarchimages656697.png.jpg)'
- en: Figure 19-5. ClamTk—the graphical interface for ClamAV
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-5. ClamTk——ClamAV的图形界面
- en: ClamAV is set up by default to check for *signature updates* when it starts.
    These signature updates tell ClamAV what new viruses to be on the lookout for.
    If you leave your machine on for days and days at a time, it is probably also
    a good idea to set things up so that ClamAV will automatically check for signature
    updates daily rather than just on startup. To do this, go to the **Advanced**
    menu, and select **Scheduler**. In the Schedule window, select a time for ClamAV
    to do its update check in the bottom half of the window. Click the **Add** button
    when done. You can also use this window to set up a time to regularly scan the
    system—just select the time you'd like the scan to occur, and click **Add**. When
    you're finished, click **Close**.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ClamAV 默认设置为在启动时检查 *签名更新*。这些签名更新告诉 ClamAV 应该注意哪些新病毒。如果你连续几天不关机，那么设置 ClamAV 每天自动检查签名更新而不是仅在启动时检查可能也是一个好主意。为此，转到
    **高级** 菜单，并选择 **调度程序**。在调度窗口中，选择 ClamAV 进行更新检查的时间，位于窗口的下半部分。完成后点击 **添加** 按钮。你还可以使用此窗口设置定期扫描系统的时间——只需选择你希望扫描发生的时间，然后点击
    **添加**。完成操作后，点击 **关闭**。
- en: As I mentioned, the only viruses you are likely to encounter during a virus
    scan are those designed for Windows systems, which cannot affect your Linux system.
    Although it won't hurt you any to scan your entire system for viruses, it is probably
    better to focus your virus-scanning activities on your Windows partition, if you
    have one, and on any files that you will be sending as email attachments, particularly
    to Windows users.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我提到的，你在病毒扫描过程中可能遇到的唯一病毒是针对 Windows 系统设计的，它们不会影响你的 Linux 系统。尽管扫描整个系统以查找病毒不会对你造成任何伤害，但如果你有
    Windows 分区，并且会发送文件作为电子邮件附件，尤其是给 Windows 用户，那么将病毒扫描活动集中在你的 Windows 分区上可能更好。
- en: 'Project 19A: Virus Scanning with avast!'
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '项目 19A: 使用 avast! 进行病毒扫描'
- en: Although ClamAV may be the virus scanner of choice in the Linux world, my personal
    favorite is still avast!, which defended me during my Windows years. I think it
    is easier to use and, for what it's worth, nicer to look at. On the downside,
    it does require you to register every year so that you can get a license key,
    but that is hardly a monumental task, and it is still free.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然在 Linux 世界中 ClamAV 可能是首选的病毒扫描器，但我的个人最爱仍然是 avast!，它在我的 Windows 年代保护了我。我认为它更容易使用，而且就其价值而言，看起来也更美观。缺点是它确实要求你每年注册一次，以便获取许可证密钥，但这几乎不是一项艰巨的任务，而且它仍然是免费的。
- en: '19A-1: Downloading the avast! DEB Package and License Key'
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '19A-1: 下载 avast! DEB 包和许可证密钥'
- en: First you have to get the avast! file and license key. You can do this by opening
    your web browser and going to [http://www.avast.com/linux-home-edition/](http://www.avast.com/linux-home-edition/).
    Once you're there, click the **Download** tab, and then download the DEB package
    of the avast! Linux Edition.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你必须获取 avast! 文件和许可证密钥。你可以通过打开你的网络浏览器并访问 [http://www.avast.com/linux-home-edition/](http://www.avast.com/linux-home-edition/)
    来完成此操作。一旦你到达那里，点击 **下载** 选项卡，然后下载 avast! Linux 版本的 DEB 包。
- en: Once the download is complete, double-click the DEB package, and when the Package
    Installer window appears, click the **Install Package** button. You will then
    be prompted for your password, so provide that, and click **OK**. The download
    and installation will then begin. When these processes are complete, close the
    notification window and the Package Installer. Once you've downloaded and installed
    avast!, you'll need a license key in order to use it. Just go back to the avast!
    Download page in Firefox, click the **registration form** link, and then fill
    out and submit that form. You should receive your license key by email a few minutes
    later (though the page says it could take up to 24 hours).
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 下载完成后，双击 DEB 包，当出现软件包安装窗口时，点击 **安装软件包** 按钮。然后系统会提示你输入密码，请提供该密码，并点击 **确定**。下载和安装过程将开始。当这些过程完成后，关闭通知窗口和软件包安装器。一旦你下载并安装了
    avast!，你将需要一个许可证密钥才能使用它。只需回到 Firefox 中的 avast! 下载页面，点击 **注册表单** 链接，然后填写并提交该表单。几分钟后你应该会通过电子邮件收到你的许可证密钥（尽管页面说可能需要长达
    24 小时）。
- en: '19A-2: Running and Using avast!'
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '19A-2: 运行和使用 avast!'
- en: Once avast! is installed, you can run it by selecting **Applications** ▸ **Accessories**
    ▸ **avast! Antivirus**. The first time you run avast!, a small window ([Figure 19-6](ch19s05.html#entering_your_avast_exclamation_license
    "Figure 19-6. Entering your avast! license key")) will appear asking you to input
    your license code. Assuming you registered your free copy of avast! at the beginning
    of the project as I instructed you to do, your registration key should already
    be waiting for you in your email inbox. Copy the key, and paste it into the text
    field in the Registration window using **ctrl**-V or by right-clicking in the
    box and selecting **Paste**. Once the license key is in place, click the **OK**
    button.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 安装avast!后，你可以通过选择**应用程序** ▸ **附件** ▸ **avast!杀毒软件**来运行它。第一次运行avast!时，将出现一个小窗口（[图19-6](ch19s05.html#entering_your_avast_exclamation_license
    "图19-6. 输入你的avast!许可证密钥"）），要求你输入许可证代码。假设你在项目开始时按照我的指示注册了免费的avast!，你的注册密钥应该已经在你的电子邮件收件箱中等待。复制密钥，然后使用**ctrl**-V或通过在框内右键单击并选择**粘贴**将其粘贴到注册窗口中的文本字段。一旦许可证密钥就位，点击**确定**按钮。
- en: The main avast! window ([Figure 19-7](ch19s05.html#avast_exclamation_virus_scanner
    "Figure 19-7. avast! virus scanner")) will now appear, but before you get started
    scanning away, it is a good idea to check for any updates to your virus database.
    New viruses are constantly appearing in cyberspace, so you should keep avast!'s
    virus database up-to-date so that it recognizes any viral newcomers. To perform
    the update, just click the **Update database** button, and let avast! do its thing.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 主界面（[图19-7](ch19s05.html#avast_exclamation_virus_scanner "图19-7. avast!病毒扫描器"））现在将显示出来，但在你开始扫描之前，检查病毒数据库的更新是个好主意。网络空间中病毒不断出现，因此你应该保持avast!的病毒数据库更新，以便识别任何新的病毒。要执行更新，只需点击**更新数据库**按钮，让avast!完成其工作。
- en: '![Entering your avast! license key](httpatomoreillycomsourcenostarchimages656699.png.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![输入你的avast!许可证密钥](httpatomoreillycomsourcenostarchimages656699.png.jpg)'
- en: Figure 19-6. Entering your avast! license key
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-6. 输入你的avast!许可证密钥
- en: '![avast! virus scanner](httpatomoreillycomsourcenostarchimages656701.png.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![avast!病毒扫描器](httpatomoreillycomsourcenostarchimages656701.png.jpg)'
- en: Figure 19-7. avast! virus scanner
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-7. avast!病毒扫描器
- en: 'When avast! is done updating the virus database, you can get on to the work
    of virus scanning by first deciding whether you want to scan just your home directory,
    the entire system, or selected folders. You can also decide how thorough a scan
    you want to perform via the three choices available in the middle of the window:
    Quick, Standard, or Thorough.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 当avast!完成病毒数据库的更新后，你可以通过首先决定是否只想扫描你的家目录、整个系统或选定的文件夹来开始病毒扫描工作。你还可以通过窗口中间提供的三个选项来决定你想要进行多彻底的扫描：快速、标准或彻底。
- en: Which one of these sensitivity modes you choose depends on how thorough you
    want the scan to be. The Quick scan just scans files that end in certain extensions
    (*.exe*, *.scr*, *.com*, *.doc*, and so on), because these are the file types
    that are most often virus carriers. The Standard scan targets more files, ignoring
    extensions but still limiting the scan to those file types that are usually associated
    with viruses. Finally, the Thorough scan scans everything and searches for every
    type of virus.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 你选择哪种灵敏度模式取决于你希望扫描有多彻底。快速扫描仅扫描以某些扩展名结尾的文件（如*.exe*、*.scr*、*.com*、*.doc*等），因为这些是病毒最常携带的文件类型。标准扫描针对更多文件，忽略扩展名，但仍然限制扫描到通常与病毒关联的文件类型。最后，彻底扫描扫描一切，并搜索所有类型的病毒。
- en: Once you have made your selections, click the **Start scan** button, and avast!
    will start doing exactly that—showing its progress within the same window. When
    the scan is complete, a small window will pop up telling you, ideally, that no
    viruses were found. When was the last time you got a message like that on your
    Windows machine?
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你做出了选择，点击**开始扫描**按钮，avast!将开始执行——在同一个窗口中显示其进度。当扫描完成时，将弹出一个小窗口告诉你，理想情况下，没有发现病毒。你上次在Windows机器上收到这样的消息是什么时候？
- en: 'Project 19B: Encrypting Your Files'
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 项目19B：加密你的文件
- en: Protecting yourself against Internet nasties is all well and good, but what
    if someone gains physical access to your computer? Data theft is a serious business,
    so if you have any sensitive files, you should think about protecting them. A
    good way of doing this is to *encrypt* your sensitive files. Encryption is a way
    of taking a file and scrambling it in such a way that only a person with the right
    *decryption key* will be able to recover the original information. If someone
    tries to look at the file while it's still encrypted, all they will be able to
    see is a bunch of nonsense characters.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 保护自己免受互联网恶意软件的侵害是件好事，但如果有人获得了对你的电脑的物理访问权限怎么办？数据盗窃是一项严肃的业务，所以如果你有任何敏感文件，你应该考虑保护它们。一种很好的方法是
    *加密* 你的敏感文件。加密是一种将文件打乱的方式，只有拥有正确 *解密密钥* 的人才能恢复原始信息。如果有人试图在文件加密时查看它，他们所能看到的只是一堆无意义的字符。
- en: '19B-1: Creating an Encrypted File Folder'
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 19B-1：创建加密文件文件夹
- en: 'Ubuntu has a nice way of encrypting files, but you should take care when using
    it! The whole point of encrypting your files is that no one but you will be able
    to access them, so there''s little chance of recovering them if you forget your
    password. Here are the steps you need to follow to get encrypted:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: Ubuntu 有一种加密文件的好方法，但使用时你应该小心！加密文件的全部意义在于，除了你之外没有人能够访问它们，所以如果你忘记了密码，几乎没有恢复的机会。以下是你需要遵循的步骤来获取加密：
- en: Open the Ubuntu Software Center, and search for and install *ecryptfs-utils*.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 Ubuntu 软件中心，搜索并安装 *ecryptfs-utils*。
- en: Once installation has completed, open a Terminal by clicking **Applications**
    ▸ **Accessories** ▸ **Terminal**, type **`ecryptfs-setup-private`**, and press
    **enter**.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，通过点击 **应用程序** ▸ **附件** ▸ **终端** 打开一个终端，输入 **`ecryptfs-setup-private`**
    并按 **enter** 键。
- en: You'll be prompted for the password that you use to log in to Ubuntu. Type it,
    and press **enter**. (The letters won't show up on the screen, but that's normal.)
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将被提示输入用于登录 Ubuntu 的密码。输入它，并按 **enter** 键。（字母不会显示在屏幕上，这是正常的。）
- en: You'll be asked to enter your mount passphrase (password). Pick something *very*
    memorable—there's no recovering this password if you forget it! Press **enter**,
    retype the password (to make sure there were no typos), and press **enter** again.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将被要求输入你的挂载密码（密码）。选择一个 *非常* 好记的东西——如果你忘记了密码，将无法恢复！按 **enter** 键，重新输入密码（以确保没有打字错误），然后再次按
    **enter** 键。
- en: Close the Terminal window, log out of your user account, and log back in again.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭终端窗口，注销你的用户账户，然后再次登录。
- en: When you log in, an Update information window will appear ([Figure 19-8](ch19s06.html#checking_your_encryption_passphrase
    "Figure 19-8. Checking your encryption passphrase")). Click **Run this action
    now**, type your login password into the window that appears (it will look as
    if nothing is being typed again), and press **enter**.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录时，将出现一个更新信息窗口（[图19-8](ch19s06.html#checking_your_encryption_passphrase "图19-8.
    检查你的加密口令"））。点击 **立即执行此操作**，在出现的窗口中输入你的登录密码（看起来好像又没有输入），然后按 **enter** 键。
- en: Your mount password (also referred to as *encryption passphrase*) will be displayed
    on the screen. Make a careful note of it, press **enter**, and then click **Close**
    in the Update information window to continue logging in.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的挂载密码（也称为 *加密口令*）将显示在屏幕上。请仔细记下它，按 **enter** 键，然后在更新信息窗口中点击 **关闭** 以继续登录。
- en: '![Checking your encryption passphrase](httpatomoreillycomsourcenostarchimages656703.png.jpg)'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![检查你的加密口令](httpatomoreillycomsourcenostarchimages656703.png.jpg)'
- en: Figure 19-8. Checking your encryption passphrase
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图19-8. 检查你的加密口令
- en: If you open your home folder, you'll now see a folder called *Private*. Anything
    you put in this folder will be encrypted and will be safe from prying eyes. This
    is especially useful if your computer gets stolen—only someone with your mount
    password will be able to look at the files, and ideally the only person who knows
    it is you!
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你打开你的个人文件夹，你现在会看到一个名为 *Private* 的文件夹。你放入这个文件夹中的任何东西都将被加密，并且会安全地避开好奇的目光。如果你的电脑被盗，这尤其有用——只有拥有你的挂载密码的人才能查看文件，理想情况下，只有你知道这个密码！
- en: '19B-2: Recovering Encrypted Files If Something Goes Wrong'
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 19B-2：如果出现问题恢复加密文件
- en: If you have problems with your computer and need to recover the files in the
    encrypted *Private* directory, use the following steps after you get Ubuntu up
    and running again. If you don't feel confident following these instructions, you
    should definitely ask for advice on the Ubuntu forums first.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的电脑出现问题，需要从加密的*Private*目录中恢复文件，在Ubuntu重新启动并运行后，请按照以下步骤操作。如果你不自信按照这些说明操作，你绝对应该在Ubuntu论坛上先寻求建议。
- en: Open a Terminal, type **`sudo mount -t ecryptfs /home/`****``*`username`*``****`/.Private
    /home/`****``*`username`*``****`/Private`**, and press **enter**. You should,
    of course, replace **``*`username`*``** with your own username.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个终端，输入**`sudo mount -t ecryptfs /home/`****``*`username`*``****`/.Private
    /home/`****``*`username`*``****`/Private`**，然后按**enter**。当然，你应该用你的用户名替换**``*`username`*``**。
- en: You'll be asked for your passphrase. Type your mount passphrase (password),
    and press **enter**.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将被要求输入密码短语。输入你的挂载密码短语（密码），然后按**enter**。
- en: Now you'll be prompted a few times to make a section. Hit **enter** a few times
    until you're given a `WARNING` message.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你将多次被提示创建一个部分。连续按**enter**键几次，直到你收到一个`WARNING`消息。
- en: Type **`yes`**, and press **enter**; then type **`no`**, and press **enter**.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入**`yes`**，然后按**enter**；然后输入**`no`**，然后按**enter**。
- en: If you entered the right mount password, the *Private* folder will be decrypted,
    and you'll be able to access your files. Copy them from that folder to somewhere
    safe!
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你输入了正确的挂载密码，*Private*文件夹将被解密，你将能够访问你的文件。将它们从该文件夹复制到安全的地方！
- en: If you have no luck recovering your files, take a look at [https://help.ubuntu.com/community/EncryptedPrivateDirectory/](https://help.ubuntu.com/community/EncryptedPrivateDirectory/)
    to see whether there's anything further you can try.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有成功恢复文件，请查看[https://help.ubuntu.com/community/EncryptedPrivateDirectory/](https://help.ubuntu.com/community/EncryptedPrivateDirectory/)，看看是否还有其他可以尝试的方法。
- en: 'Project 19C: Shredding Documents Digitally'
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 项目19C：数字销毁文档
- en: Although most people are satisfied with deleting their files when they no longer
    need them, they may not realize that the deleted file data is still retrievable.
    This may pose little concern when it comes to photos of your summer trip to Maryland
    or reports you may have written for a class on Thai cooking, but it is a completely
    different situation if you've been storing bank details or other confidential
    information on your hard disk. Even if you reformat that disk, the data stays.
    That is great news if you want to retrieve any files you may have accidentally
    deleted (or formatted away), but it isn't such good news if your computer gets
    lost or stolen or if you just decide to give it away. In such cases, it might
    not be a bad idea to do some digital shredding.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管大多数人认为，当他们不再需要文件时删除文件就足够了，但他们可能没有意识到被删除的文件数据仍然可以恢复。当涉及到你在马里兰州夏季旅行的照片或为泰国烹饪课程写的报告时，这可能不会引起太多关注，但如果你已经在硬盘上存储了银行详情或其他机密信息，情况就完全不同了。即使你重新格式化该磁盘，数据仍然存在。如果你想要恢复任何可能意外删除（或格式化）的文件，这当然是个好消息，但如果你的电脑丢失或被盗，或者你只是决定将其赠送出去，这就不那么好了。在这种情况下，进行一些数字销毁可能不是一个坏主意。
- en: '19C-1: Trying the shred Command'
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '19C-1: 尝试使用shred命令'
- en: Digital shredding in Linux is done with the `shred` command. Its usage is very
    similar to the `rm` command you learned to use in [Chapter 9](ch09.html "Chapter 9. SIMPLE
    KITTEN WAYS"), though in terms of removal, `shred` is much more thorough. To give
    it a try, create a dummy file by going to the **File** menu of a Nautilus window,
    and selecting **Create Document** ▸ **Empty File**. Name the new document **`myShredExp.txt`**,
    and then double-click the file. This will open gedit. Type a couple of sentences
    in the document—anything will do—and then save it. Close gedit. The first couple
    of words you typed should now appear on the icon of the new dummy file you created
    (as shown in the example on the left side of [Figure 19-9](ch19s07.html#files_change_their_appearances_after_bei
    "Figure 19-9. Files change their appearances after being shredded.")).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在Linux中，使用`shred`命令进行数字销毁。它的用法与你学过的`rm`命令非常相似，尽管在删除方面，`shred`要彻底得多。要尝试一下，打开一个Nautilus窗口的**文件**菜单，选择**创建文档**
    ▸ **空文件**。将新文档命名为**`myShredExp.txt`**，然后双击该文件。这将打开gedit。在文档中输入几句话——任何内容都可以——然后保存。关闭gedit。你现在应该能在你创建的新虚拟文件的图标上看到你输入的前几个单词（如图19-9左侧的示例所示）。
- en: '![Files change their appearances after being shredded.](httpatomoreillycomsourcenostarchimages656705.png.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![文件在被切碎后外观发生变化。](httpatomoreillycomsourcenostarchimages656705.png.jpg)'
- en: Figure 19-9. Files change their appearances after being shredded.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-9. 文件在被切碎后外观发生变化。
- en: 'With your new file in hand and placed in your home folder to make it easier
    to follow along, you are ready to try `shred`. Open a Terminal window, type **`shred
    myShredExp.txt`**, and then press **enter**. If you now look in your home folder,
    you will notice the difference right away: Your original file is still there,
    but the text on the icon now looks like gibberish (as you can see in the example
    on the right side of [Figure 19-8](ch19s06.html#checking_your_encryption_passphrase
    "Figure 19-8. Checking your encryption passphrase")), which is what your file
    has become. If you double-click the file, gedit will open like it did before,
    but this time around, it won''t be able to read your file, and it will tell you
    so ([Figure 19-10](ch19s07.html#gedit_can_apostrophy_t_open_your_shredde "Figure 19-10. gedit
    can''t open your shredded files.")).'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 拿着你的新文件，放在你的家目录中以便更容易跟随，你现在可以尝试使用`shred`了。打开一个终端窗口，输入**`shred myShredExp.txt`**，然后按**enter**。如果你现在查看你的家目录，你会立即注意到差异：你的原始文件还在那里，但图标上的文本现在看起来像乱码（如[图19-8](ch19s06.html#checking_your_encryption_passphrase
    "图19-8. 检查你的加密密码短语")右边的示例中所示），这就是你的文件变成了的样子。如果你双击该文件，gedit会像以前一样打开，但这次它将无法读取你的文件，并会告诉你（[图19-10](ch19s07.html#gedit_can_apostrophy_t_open_your_shredde
    "图19-10. gedit无法打开你的切碎文件.")）。
- en: '![gedit can''t open your shredded files.](httpatomoreillycomsourcenostarchimages656707.png.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![gedit无法打开你的切碎文件。](httpatomoreillycomsourcenostarchimages656707.png.jpg)'
- en: Figure 19-10. gedit can't open your shredded files.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-10. gedit无法打开你的切碎文件。
- en: So, now you've got yourself a shredded file sitting in your folder, but it sure
    would be handy to get rid of the file rather than just have it sitting there littering
    things up, wouldn't it? Of course, you can remove the file via the Terminal by
    using the `rm` command, but it would be easier to get future shredded files deleted
    immediately after being shredded. Fortunately, this is easy enough to do by using
    the `shred` command with the `-u` flag. You can try it on the file you've already
    shredded by opening a Terminal window, typing **`shred -u myShredExp.txt`**, and
    then pressing **enter**. Your file will then be further shredded and deleted.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，现在你文件夹里有一个被切碎的文件，但把它删除而不是让它在那里乱糟糟地堆放会方便得多，不是吗？当然，你可以通过终端使用`rm`命令来删除文件，但要在切碎后立即删除未来的切碎文件会更容易。幸运的是，通过使用带有`-u`标志的`shred`命令，这很容易做到。你可以通过打开一个终端窗口，输入**`shred
    -u myShredExp.txt`**，然后按**enter**来尝试它。然后你的文件将被进一步切碎并删除。
- en: '19C-2: Taking the shred Command Graphical in Nautilus'
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '19C-2: 在Nautilus中图形化使用shred命令'
- en: 'Although using the `shred` command isn''t all that difficult, most average
    users would prefer to do things graphically. After all, you don''t *have* to type
    commands to delete or move a file, right? You can do all of that easily enough
    through Nautilus, and it''s the same with `shred`. The only difference is that
    `shred`''s functionality does not come bundled into Nautilus out of the box—you
    have to add it yourself. Here are the steps you need to follow:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然使用`shred`命令并不困难，但大多数普通用户更喜欢图形化操作。毕竟，你不必*必须*输入命令来删除或移动文件，对吧？你可以通过Nautilus轻松完成所有这些操作，`shred`也是一样。唯一的区别是，`shred`的功能不是Nautilus自带的功能——你必须自己添加。以下是你需要遵循的步骤：
- en: From the Ubuntu Software Center, search for *nautilus-actions*, and install
    Nautilus Actions Configuration. This package allows you to add commands and other
    functionality to Nautilus.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Ubuntu软件中心中搜索*nautilus-actions*，并安装Nautilus动作配置。这个软件包允许你向Nautilus添加命令和其他功能。
- en: Once the installation is complete, select **System** ▸ **Preferences** ▸ **Nautilus
    Actions Configuration**.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，选择**系统** ▸ **首选项** ▸ **Nautilus动作配置**。
- en: When the Nautilus Actions windows appears, click the **Add** button.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当Nautilus动作窗口出现时，点击**添加**按钮。
- en: In the Add a New Action window that appears, type **`Shred`** in the Label box
    and **`Erase files more securely`** in the Tooltip box.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在出现的添加新动作窗口中，在标签框中输入**`Shred`**，在工具提示框中输入**`更安全地擦除文件`**。
- en: If you want to choose an icon for your Shred menu entry in Nautilus, click the
    arrow button to the left of the Browse button, and then select an icon of your
    choosing (I just used the delete icon). When you're finished, your window should
    look like that in [Figure 19-11](ch19s07.html#making_the_shred_command_graphical_via_n
    "Figure 19-11. Making the shred command graphical via Nautilus").
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你想为Nautilus中的Shred菜单项选择一个图标，点击浏览按钮左侧的箭头按钮，然后选择你想要的图标（我使用了删除图标）。完成后，你的窗口应该看起来像[图19-11](ch19s07.html#making_the_shred_command_graphical_via_n
    "图19-11. 通过Nautilus使shred命令图形化")中的那样。
- en: '![Making the shred command graphical via Nautilus](httpatomoreillycomsourcenostarchimages656709.png.jpg)'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![通过Nautilus使shred命令图形化](httpatomoreillycomsourcenostarchimages656709.png.jpg)'
- en: Figure 19-11. Making the `shred` command graphical via Nautilus
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图19-11. 通过Nautilus使`shred`命令图形化
- en: Next, click the **Command** tab, and type **`shred`** in the Path box, and **`-f
    -u -v -z %M`** in the Parameters box (making sure you use an uppercase *M*).
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击**命令**标签页，在路径框中输入**`shred`**，在参数框中输入**`-f -u -v -z %M`**（确保使用大写字母*M*）。
- en: Now click the **Conditions** tab. In the Appears if selection contains section
    of that tab, choose whether you want the new Shred menu to appear only when you
    have selected a file, only when you've selected a folder, or both. To play it
    safe at first, you might want to stick with the default, Only files, so you don't
    inadvertently shred a whole folder full of important files. Once done, check the
    **Appears if selection has multiple files or folders** box, and then save your
    work by going to the **File** menu and selecting **Save**.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击**条件**标签页。在该标签页的“如果选择包含”部分，选择你希望新的Shred菜单仅在选中文件时出现、仅在选中文件夹时出现，还是两者都出现。为了安全起见，一开始你可能想坚持默认设置，即“仅文件”，这样你就不会意外地粉碎一个包含重要文件的整个文件夹。完成设置后，勾选**如果选择包含多个文件或文件夹时出现**复选框，然后通过访问**文件**菜单并选择**保存**来保存你的工作。
- en: The label for the `shred` command in the left pane of the still-open Nautilus
    Actions window will now no longer be in italics. Click the **Close** button in
    that window.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Nautilus Actions窗口左侧面板中`shred`命令的标签现在将不再使用斜体。点击该窗口中的**关闭**按钮。
- en: To put `shred` to work in its new graphical manifestation, you must first log
    out and log back in to your account. After, that just right-click a file you want
    to shred, and then select **Shred** from the pop-up menu ([Figure 19-12](ch19s07.html#invoking_the_shred_command_via_nautilus
    "Figure 19-12. Invoking the shred command via Nautilus")). The file will be securely,
    and permanently, deleted. Decidedly cool.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 要在新的图形界面中使用`shred`命令，你必须首先注销并重新登录你的账户。之后，只需右键点击你想要粉碎的文件，然后从弹出菜单中选择**Shred**（[图19-12](ch19s07.html#invoking_the_shred_command_via_nautilus
    "图19-12. 通过Nautilus调用shred命令")）。文件将被安全且永久地删除。这确实很酷。
- en: '![Invoking the shred command via Nautilus](httpatomoreillycomsourcenostarchimages656711.png.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![通过Nautilus调用`shred`命令](httpatomoreillycomsourcenostarchimages656711.png.jpg)'
- en: Figure 19-12. Invoking the `shred` command via Nautilus
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图19-12. 通过Nautilus调用`shred`命令
