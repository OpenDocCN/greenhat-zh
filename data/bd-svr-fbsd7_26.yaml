- en: Chapter 9\. DRUPAL 5.5
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 9 章. DRUPAL 5.5
- en: '[HTTP://DRUPAL.ORG](HTTP://DRUPAL.ORG)'
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[HTTP://DRUPAL.ORG](HTTP://DRUPAL.ORG)'
- en: 9.1\. SUMMARY
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.1. 摘要
- en: Drupal is an open source web-based Content Management System (CMS). Content
    management systems can be used to organize, store, and distribute various kinds
    of content, including web pages, images, audio, and documents. Modern CMS applications
    like Drupal make it relatively easy for users to add, remove, and modify content.
    This provides a viable platform for company intranet sites and even personal blogs.
    Drupal is written in PHP and stores content in a MySQL (or PostgreSQL) database.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 是一个开源的基于网络的 内容管理系统 (CMS)。内容管理系统可以用来组织、存储和分发各种类型的内容，包括网页、图片、音频和文档。现代 CMS
    应用程序如 Drupal 使得用户能够相对容易地添加、删除和修改内容。这为公司内部网站甚至个人博客提供了一个可行的平台。Drupal 使用 PHP 编写，并将内容存储在
    MySQL（或 PostgreSQL）数据库中。
- en: Some of Drupal's features include role-based permissions, a template/theme system,
    version control, and built-in site analytics. It also has a powerful module/plug-in
    system that allows third-party developers to extend the default feature set. If
    you need functionality that isn't included with Drupal's default feature set,
    it is probably available as a module.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 的一些功能包括基于角色的权限、模板/主题系统、版本控制和内置网站分析。它还有一个强大的模块/插件系统，允许第三方开发者扩展默认功能集。如果您需要的功能不在
    Drupal 的默认功能集中，它可能作为模块提供。
- en: Early Drupal development began in 2000 when Dries Buytaert, a student at the
    University of Antwerp, built a web-based bulletin board system that he and his
    friends used to share notes. After graduation, Buytaert continued to add features,
    and in 2001, he released Drupal as an open source project. Drupal's popularity
    has increased steadily over the years; it is now deployed on many sites, such
    as those for The Onion, Forbes magazine, and the Electronic Frontier Foundation.
    In 2006, Drupal's developers numbered over 400, with Buytaert serving as the project
    lead.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 的早期开发始于 2000 年，当时安特卫普大学的 Dries Buytaert 学生构建了一个基于网络的公告板系统，他和他的朋友们用它来分享笔记。毕业后，Buytaert
    继续添加功能，并于 2001 年将 Drupal 作为开源项目发布。Drupal 的受欢迎程度逐年稳步上升；它现在部署在许多网站上，例如洋葱报、福布斯杂志和电子前沿基金会。到
    2006 年，Drupal 的开发者人数超过 400 人，Buytaert 担任项目负责人。
- en: 9.2\. RESOURCES
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.2. 资源
- en: Drupal Handbooks (documentation and video tutorials on using Drupal)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: Drupal 手册（关于使用 Drupal 的文档和视频教程）
- en: '[http://drupal.org/handbooks](http://drupal.org/handbooks)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[Drupal 手册](http://drupal.org/handbooks)'
- en: 9.3\. REQUIRED
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3. 必需条件
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD 7.0-RELEASE
    (see "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)")'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD 7.0-RELEASE（参见
    "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)"）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Updated ports
    collection (see "[FreeBSD Ports Collection](freebsd_ports_collection.html#freebsd_ports_collection)")'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 更新的端口集合（参见
    "[FreeBSD 端口集合](freebsd_ports_collection.html#freebsd_ports_collection)"）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Apache HTTP
    server (see "[Apache HTTP Server 2.2.8](apache_http_server_2.2.8_split_000.html#apache_http_server_2.2.8)")'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Apache HTTP
    服务器（参见 "[Apache HTTP 服务器 2.2.8](apache_http_server_2.2.8_split_000.html#apache_http_server_2.2.8)"）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) PHP 5 (see
    "[PHP 5.2.5](php_5.2.5.html#php_5.2.5)")'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) PHP 5（参见
    "[PHP 5.2.5](php_5.2.5.html#php_5.2.5)"）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) MySQL 5 (see
    "[MySQL Server 5.0.51](mysql_server_5.0.51.html#mysql_server_5.0.51)")'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) MySQL 5（参见
    "[MySQL 服务器 5.0.51](mysql_server_5.0.51.html#mysql_server_5.0.51)"）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Lynx (see
    "[Lynx 2.8.6](lynx_2.8.6.html#lynx_2.8.6)")'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Lynx（参见 "[Lynx
    2.8.6](lynx_2.8.6.html#lynx_2.8.6)"）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Internet
    connection'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 互联网连接'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Registered
    domain name'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 注册的域名'
- en: 9.4\. PREPARATION
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.4. 准备工作
- en: Become the superuser.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 成为超级用户。
- en: 'Create a database in MySQL named drupal. Next, create a user named drupal and
    assign full privileges to this user:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 MySQL 中创建一个名为 drupal 的数据库。接下来，创建一个名为 drupal 的用户，并授予此用户全部权限：
- en: '[PRE0]'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Replace `*password*` with a password of your choice (the single quotes are required).
    You'll need this password later.
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`*password*`替换为你选择的密码（需要使用单引号）。你稍后需要使用此密码。
- en: 9.5\. INSTALL
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.5\. 安装
- en: 'Enter the following commands to begin the Drupal installation:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 输入以下命令以开始Drupal安装：
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: A menu with options for Drupal will appear. We will leave them at their defaults,
    so press [tab] to highlight OK and then press [enter] to start the installation.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 将显示一个包含Drupal选项的菜单。我们将保留它们的默认设置，因此按[tab]键高亮显示“确定”，然后按[enter]键开始安装。
- en: 9.6\. CONFIGURE
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.6\. 配置
- en: Once installation is complete, it's time to configure Drupal for use on your
    system.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，是时候为你的系统配置Drupal了。
- en: 'Create a Drupal-specific Apache configuration file. This file points Apache
    to the correct location of the Drupal files and makes administration easier by
    keeping Drupal-specific options separate from the main httpd.conf file. By default,
    Apache searches the /usr/local/etc/apache22/Includes directory for configuration
    files. Here''s how to create one for Drupal:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个针对Drupal的特定Apache配置文件。此文件将Apache指向Drupal文件的正确位置，并通过将Drupal特定的选项与主httpd.conf文件分开来简化管理。默认情况下，Apache在/usr/local/etc/apache22/Includes目录中搜索配置文件。以下是创建一个用于Drupal的配置文件的步骤：
- en: '[PRE2]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Add the following lines:'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 添加以下行：
- en: '[PRE3]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '* * *'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** By default, Drupal is set up as a subdirectory of your web server''s
    root site. This means you would enter [http://host.example.com/drupal](http://host.example.com/drupal)
    into your web browser. To change this default directory, replace `drupal` (in
    italics) with a different name.'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** 默认情况下，Drupal被设置为你的网站服务器根目录下的子目录。这意味着你需要在网络浏览器中输入[http://host.example.com/drupal](http://host.example.com/drupal)。要更改此默认目录，将（斜体）中的`drupal`替换为不同的名称。'
- en: '* * *'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'Save and exit. Restart Apache to commit the changes:'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 保存并退出。重新启动Apache以提交更改：
- en: '[PRE4]'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: A line needs to be added to /etc/crontab to allow Drupal's maintenance tasks
    to run automatically. Crontab is a system service that allows automatic execution
    of scripts or programs according to a schedule specified in the /etc/crontab file.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 需要在/etc/crontab中添加一行，以允许Drupal的维护任务自动运行。Crontab是一个系统服务，它允许根据在/etc/crontab文件中指定的计划自动执行脚本或程序。
- en: '[PRE5]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Add the following line:'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 添加以下行：
- en: 'Code View:'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 代码视图：
- en: '[PRE6]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Replace [host.example.com/drupal](http://host.example.com/drupal) with your
    hostname and Drupal directory. This line will run the Drupal maintenance script
    every four hours.
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将[host.example.com/drupal](http://host.example.com/drupal)替换为你的主机名和Drupal目录。此行将每四小时运行一次Drupal维护脚本。
- en: '* * *'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** Make sure Lynx is installed or this won''t execute properly.'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** 确保已安装Lynx，否则此命令将无法正确执行。'
- en: '* * *'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: Save and exit.
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 保存并退出。
- en: Open [http://host.example.com/drupal/install.php](http://host.example.com/drupal/install.php)
    in your favorite web browser, substituting your hostname and directory (if you
    modified it).
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你喜欢的网络浏览器中打开[http://host.example.com/drupal/install.php](http://host.example.com/drupal/install.php)，替换你的主机名和目录（如果你已修改）。
- en: Change the database type to mysqli then enter the database name, username, and
    password that you set in "[Preparation](preparation.html#preparation)". Click
    Save configuration.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据库类型更改为mysqli，然后输入你在“[准备](preparation.html#preparation)”中设置的数据库名称、用户名和密码。点击“保存配置”。
- en: You should see a Drupal Installation Complete page. Click the your new site
    link and follow the instructions to complete your Drupal installation.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该看到Drupal安装完成页面。点击“你的新站点”链接，按照说明完成Drupal安装。
- en: 9.7\. CONFIG FILES
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.7\. 配置文件
- en: usr/local/www/drupal5/sites/default/settings.php
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: usr/local/www/drupal5/sites/default/settings.php
- en: Holds the username, password, and database information for Drupal
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 存储Drupal的用户名、密码和数据库信息
- en: 9.8\. NOTES
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.8\. 备注
- en: When logging in as the Drupal site administrator for the first time, you may
    notice Cron maintenance tasks in red on the status report page. This indicates
    a possible misconfiguration. The crontab entry we made in step 2 will eventually
    run and correct this error condition. You may click the manually run link if you
    wish to execute the script sooner, and thus remove the warning.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 当第一次以Drupal网站管理员身份登录时，你可能会在状态报告页面上注意到红色的Cron维护任务。这表明可能存在配置错误。我们在第2步中创建的crontab条目最终将运行并纠正此错误状态。如果你希望更早地执行脚本，可以点击手动运行链接，从而移除警告。
