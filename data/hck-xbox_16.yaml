- en: Appendix C -
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录C -
- en: Getting into PCB Layout
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 进入PCB布局
- en: This appendix will introduce you to the PCB design and layout process, and will
    survey available tools that you may need to achieve your design goals, featuring
    products and techniques for those on a shoestring budget. I conclude by presenting
    some simple designs to get you started in your hardware adventures.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录将介绍PCB设计和布局过程，并概述你为实现设计目标可能需要的工具，包括针对预算有限的产品和技术。我通过展示一些简单的设计来帮助你开始你的硬件冒险。
- en: '**Philosophy and Design Flow**'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**哲学和设计流程**'
- en: Printed circuit boards are the canvas of the hardware hacker, and CAD tools
    are the brushes. Like any engineering or artistic discipline, building profi-ciency
    in printed circuit board design and layout takes practice. Fortunately, the advent
    of inexpensive PCB prototyping services and free (or nearly free) CAD tools have
    made PCB design and layout an inexpensive and accessible hobby.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 印刷电路板是硬件黑客的画布，CAD工具是画笔。像任何工程或艺术学科一样，在印刷电路板设计和布局方面建立专业水平需要实践。幸运的是，低成本PCB原型制作服务和免费（或几乎免费）的CAD工具使得PCB设计和布局成为一种既经济又容易接触的爱好。
- en: The design and layout of PCBs are two intimately coupled tasks. Trade-offs give
    and take throughout the design and layout phases. Sometimes a component may not
    fit, or a part may not be available, and you’ll have to change the schematic design
    to allow for this shortfall. Other times, you may make a high-level design change
    or you may catch a bug, and the PCB will have to be updated to reflect these changes.
    In my experience, the key to rapidly cranking out a successful PCB design is to
    be flexible on all design fronts.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: PCB的设计和布局是两个紧密相连的任务。在设计布局的各个阶段，都需要进行权衡取舍。有时一个组件可能无法安装，或者某个部件可能不可用，这时你将不得不修改原理图设计以适应这种短缺。在其他时候，你可能需要进行高级设计变更，或者发现一个错误，PCB将需要更新以反映这些变更。根据我的经验，快速完成成功的PCB设计的关键在于在设计各方面保持灵活性。
- en: '**Refining Your Idea**'
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**细化你的想法**'
- en: The PCB design process always starts with your idea. The first thing you need
    to do is to get a very clear vision of what you are trying to build. The more
    specifics you have up front, the easier you will find the design process. You
    should have an idea of how big you want the final board to be, how much it should
    cost, and of course what it should do. I always find it helpful to draw sketches
    and, in the case of large projects, to write design documents that help me organize
    and record my thoughts.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: PCB设计过程始终从你的想法开始。你需要做的第一件事是清楚地了解你试图构建的内容。你前期了解的越具体，设计过程就会越容易。你应该有一个关于最终板子大小、成本以及当然是什么功能的想法。我总是发现绘制草图很有帮助，在大型项目中，编写设计文档来帮助我组织和记录我的想法也很有用。
- en: 'For the first few designs, one of the most difficult steps will be nailing
    down an idea, because you won’t know what kinds of components are available to
    implement your idea, and what sorts of real-world constraints you will have to
    design around. The best way to get started is to find an existing idea that is
    very similar to yours and to model your idea after it. (Many chip manufacturers
    offer free application notes and design samples that form a great starting point.)
    Another way to define your ideas is to learn from existing products: If you want
    to build an alarm clock, take an existing clock apart to see how it was built.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 对于前几个设计，最困难的步骤之一将是确定一个想法，因为你不知道有哪些类型的元件可以用来实现你的想法，以及你将不得不设计哪些现实世界的约束。开始的最佳方式是找到一个与你想法非常相似的想法，并在此基础上构建你的想法。（许多芯片制造商提供免费的应用说明和设计样本，这是一个很好的起点。）另一种定义你的想法的方式是学习现有产品：如果你想制作一个闹钟，拆解一个现有的闹钟看看它是如何制作的。
- en: '**Schematic Capture**'
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**原理图捕获**'
- en: Once you have your idea, you need to create a *schematic* diagram. A schematic
    is a symbolic representation of your idea, expressed as a collection of part symbols
    and virtual wires.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你有了你的想法，你需要创建一个*原理图*。原理图是你想法的符号表示，以一系列元件符号和虚拟线表示。
- en: Most schematic capture software comes with a library of parts to help accelerate
    the schematic capture process. However, if you do not find the part you need in
    the library, you will have to build your own schematic symbol. All schematic symbols
    are linked to a PCB component footprint, which is a pattern of copper on a PC
    board that mates to a component.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数原理图捕获软件都附带一个元件库，以帮助加速原理图捕获过程。然而，如果您在库中找不到所需的元件，您将不得不自己构建原理图符号。所有原理图符号都与PCB组件封装相链接，这是PCB板上与组件配合的铜质图案。
- en: 'One common source of errors stems from not checking the link between the symbol
    and the footprint: A 16-pin DIP footprint does not fit a 16-pin in-line surface
    mount connector, and most design tools cannot tell the difference between the
    two. Therefore, check to make sure that your footprint assignments are all correct,
    and double and triple check the schematic symbol. In particular, always check
    and recheck power pins, since they can cause the most difficult and destructive
    kinds of errors. Consider having a friend double check the symbols as well, to
    avoid repeating errors or allowing errors to pass unknowingly. (This amount of
    redundancy may sound silly for simple parts, but it becomes absolutely essential
    for hundred and thousand-pin parts where your brain becomes mush halfway through
    the checking process.)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 错误的一个常见来源是没有检查符号与封装之间的链接：16引脚DIP封装不适合16引脚表面贴装连接器，而大多数设计工具无法区分这两者。因此，请确保您的封装分配都是正确的，并且对原理图符号进行双重和三重检查。特别是，始终检查和重新检查电源引脚，因为它们可能引起最困难和最具破坏性的错误。考虑让朋友也检查符号，以避免重复错误或无意中让错误通过。（对于简单的元件，这种冗余可能听起来很愚蠢，但对于有数百甚至数千个引脚的元件，在检查过程中你的大脑可能已经变成了一团糟，这时这种冗余变得绝对必要。）
- en: Attention to detail from the very beginning is the most important skill for
    capturing a schematic, and can save you from the headache of frustrating bugs
    later on. Every pin on every component is there for a reason, and if any pin is
    left unconnected you should understand why that is or is not okay. To this end,
    read the product data sheets, including every single page and footnote. Don’t
    ignore the fine print that requires a pull-up resistor to set startup conditions,
    or a capacitor to filter noise or stabilize the system or you’re likely to end
    up with more frustrating bugs.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 从一开始就注重细节是捕获原理图最重要的技能，这可以让你避免后期遇到令人头疼的故障。每个组件上的每个引脚都有其存在的理由，如果任何引脚未连接，你应该理解为什么这样做或那样做是不合适的。为此，阅读产品数据表，包括每一页和脚注。不要忽视需要上拉电阻来设置启动条件、电容来滤波或稳定系统等细节，否则你很可能会遇到更多令人沮丧的故障。
- en: '![figure_C-1](../Images/figure_C-1.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![figure_C-1](../Images/figure_C-1.png)'
- en: '**Figure C-1:** The board design process, from idea to finished product.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**图C-1：** 从想法到成品的设计过程。'
- en: Design rule checkers are helpful in finding some errors in schematics, but the
    checks they perform are usually quite elementary, and thus catch only the grossest
    of errors. A typical set of checks might include catching duplicate part designators,
    dangling nets, and floating inputs.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 设计规则检查器有助于发现原理图中的某些错误，但它们执行的检查通常非常基础，因此只能捕获最明显的错误。典型的检查可能包括捕获重复的元件标识符、悬空网络和浮动输入。
- en: In addition to conventional design rule checkers, you can also devise your own
    simple checks. For example, many design tools *do not* perform “netlist parity
    checks,” which can be generated fairly easily using a perl script or a spreadsheet
    program. Netlist parity checks are heuristic checks that tally the number of components
    connected to each netlist, then sort the tal y by the number of connections. The
    “single-pin nets” will be at the top of the sorted list. A single-pin net is almost
    always an indication of a typographical error (misspelled netlist name) during
    schematic capture. It can be useful to browse through the whole sorted list briefly,
    to see that all groups of signals have the same number of connections. Most signal
    busses have the same number of connections to every signal in the bus. You can
    create a tool that enables netlist connection tally checks for your schematic
    capture program in an afternoon, and you will undoubtedly save yourself countless
    hours of effort and money by finding the bugs it will catch.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 除了传统的设计规则检查器之外，你还可以设计自己的简单检查。例如，许多设计工具*不*执行“网表奇偶校验”，这可以通过使用Perl脚本或电子表格程序相对容易地生成。网表奇偶校验是一种启发式检查，它统计连接到每个网表的组件数量，然后按连接数量排序。排序列表顶部的“单引脚网表”几乎总是原理图捕获期间出现的打字错误（拼写错误的网表名称）的指示。快速浏览整个排序列表可能会有所帮助，以确保所有信号组具有相同数量的连接。大多数信号总线与总线中每个信号连接的数量相同。你可以在一个下午创建一个工具，使你的原理图捕获程序能够进行网表连接计数检查，通过找到它将捕获的错误，你无疑将节省无数的时间和金钱。
- en: Before exporting the schematic to the board layout tool, you should order all
    of the parts in the schematic’s bill of materials. Often, critical parts will
    be in short supply and the schematic capture wil have to be redesigned to account
    for the shortage. Frequently, a change in a component footprint assignment is
    the only redesign necessary. Modifying the schematic design to account for manufacturer’s
    shortages avoids the difficult task of making the change on a finished board layout.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在将原理图导出到板级布局工具之前，你应该对原理图物料清单中的所有部件进行排序。通常，关键部件可能会出现短缺，这时原理图捕获需要重新设计以应对短缺。通常，更改组件封装分配是唯一必要的重新设计。修改原理图设计以应对制造商的短缺，可以避免在完成的板级布局上做出更改的困难任务。
- en: '**Board Layout**'
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**板级布局**'
- en: The input to a board layout program is a netlist that is annotated with component
    footprint information. A netlist is an intermediate representation of every component
    and pin, and their connectivity. Netlist extraction is a well-automated process,
    but the correlation of schematic symbols to PC board footprints is not always
    well-managed.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 板级布局程序的输入是一个带有组件封装信息的网表。网表是每个组件和引脚及其连接的中间表示。网表提取是一个高度自动化的过程，但将原理图符号与PC板封装相关联并不总是得到很好的管理。
- en: The difficulty of symbol-to-footprint correlation stems from the availability
    of multiple packaging options for a single part. For example, the symbol for a
    transistor could equally imply a tiny SOT-23 packaged device or an enormous TO-3
    packaged device, and it is up to you to ensure that the proper package is chosen
    during netlist extraction. It’s always good to check the implied footprint *when
    the component is placed in a schematic*, rather than checking all at once during
    the netlist translation, or, worse yet, during placement or final design review.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 符号到封装相关联的困难源于单个部件的多种封装选项。例如，晶体管的符号可以同样表示一个微小的SOT-23封装设备或一个巨大的TO-3封装设备，确保在网表提取期间选择正确的封装取决于你。始终在组件放置在原理图中时检查隐含的封装*，而不是在网表转换期间一次性检查，或者更糟糕的是，在放置或最终设计审查期间检查。
- en: Once you have a finished netlist, you are ready to do the board layout.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你有了完成的网表，你就可以进行板级布局了。
- en: The other external input to a board layout program are the design rules. Design
    rules are set by the board fabrication company and include specifications for
    the minimum trace width and minimum trace to trace spacing, minimum hole size,
    minimum through-hole annulus, and the number of power and routing layers. The
    exact design rules depend on the process you choose, which in turn is driven by
    what you can afford. The best processes offer traces as fine as 2 mils (a mil
    is 1/1000th of an inch or 25.4 microns) and laser-drilled blind/buried vias with
    a diameter of about the same, but the price for fabrication is well outside the
    typical hobbyist’s budget of less than one hundred dollars. A more typical hobbyist’s
    process features 6 mil trace/space design rules with 15 mil minimum finished hole
    sizes, with either two or four layers of copper. (You’ll find a list of board
    fabrication companies toward the end of this appendix.)
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 板布局程序的另一个外部输入是设计规则。设计规则由板制造公司设定，包括最小走线宽度、最小走线间距、最小孔径、最小通孔环和电源及布线层的数量。具体的设计规则取决于你选择的过程，而这又取决于你能承担的费用。最佳工艺可以提供2密耳（1密耳等于1/1000英寸或25.4微米）细的走线，以及直径大致相同的激光钻孔盲孔/埋孔，但制造费用远远超出了典型爱好者预算的不到一百美元。更典型的爱好者工艺具有6密耳的走线/间距设计规则，以及15密耳的最小完成孔径，采用两层或四层铜。（你可以在附录末尾找到板制造公司的列表。）
- en: 'Board layout consists of two phases: placement and routing. Intelligent parts
    placement will greatly simplify the routing task. In general, the goal is to place
    all parts so as to keep connections as short as possible, with as few vias as
    possible, in order to minimize noise, delay, and signal losses. The placement
    of some parts, such as connectors, switches, and power components, are well-constrained,
    leaving you little choice. For the remainder of the parts, an understanding of
    the design will help you to determine which parts should get the best placement.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 板布局包括两个阶段：放置和布线。智能组件放置将大大简化布线任务。一般来说，目标是放置所有组件，以使连接尽可能短，使用尽可能少的通孔，以最小化噪声、延迟和信号损失。某些组件的放置，如连接器、开关和电源组件，受到很好的约束，给你留下的选择很少。对于其余的组件，对设计的理解将帮助你确定哪些组件应该获得最佳的放置。
- en: Once your placement is finished, print the design at a scale of 1:1 and verify
    that the components fit in their respective footprints by populating the printed
    layout with the actual components. If you intend to use a socket with a component,
    be sure to use the socket for verifying the 1:1 plot, as sockets require more
    space than the component itself. This check guarantees that you have all the components
    in the correct package type, that all your component outlines are correct, and
    that there is sufficient clearance between each component to facilitate easy assembly.
    Another important thing to check on the 1:1 plot is the orientation and pinout
    of all the connectors because it is very easy to invert a connector or to have
    used the wrong gender’s footprint on the circuit board. Be careful when handling
    chips too, especially those with fine-pitch surface mount leads. Be sure not to
    bend the leads, and observe proper static electricity control protocol.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 完成放置后，以1:1的比例打印设计，并通过将实际组件填充到打印布局中来验证组件是否适合其相应的焊盘。如果你打算使用带有组件的插座，务必使用插座来验证1:1的绘图，因为插座比组件本身需要更多的空间。这项检查确保你所有组件都采用了正确的封装类型，所有组件轮廓都是正确的，并且每个组件之间有足够的间隙，以便于组装。在1:1的绘图上还需要检查所有连接器的方向和引脚排列，因为很容易颠倒连接器或在使用电路板上的错误性别焊盘。在处理芯片时也要小心，尤其是那些具有细间距表面贴装引脚的芯片。确保不要弯曲引脚，并遵守正确的静电控制协议。
- en: '**General Placement and Routing** **Guidelines**'
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**一般放置和布线** **指南**'
- en: Here is a short list of some placement and routing guidelines. Remember, these
    are just general suggestions, and there will undoubtedly be situations where they
    do not apply.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些放置和布线指南的简短列表。记住，这些只是一般建议，无疑会有一些情况不适用。
- en: '**Leave Space for Via Fanouts on Surface** **Mount Devices**'
  id: totrans-28
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**在表面贴装器件上留出通孔扇出空间** **指南**'
- en: Surface mount devices offer a great density advantage when compared with the
    older through-hole componentry that used to be the de facto standard. However,
    surface mount components still require through-hole vias for routability, especially
    in complex and/or auto-routed designs. These routing vias are referred to as “fan-out”
    vias for SMD pads. Figures C-2 and C-3 demonstrate the use of fan-out vias on
    a surface mount part.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 与曾经是事实标准的旧式通孔元件相比，表面贴装元件提供了更大的密度优势。然而，表面贴装元件仍然需要通孔过孔来实现布线，尤其是在复杂和/或自动布线设计中。这些布线过孔被称为“扇出”过孔，用于SMD焊盘。图
    C-2 和图 C-3 展示了在表面贴装元件上使用扇出过孔的应用。
- en: '**Decoupling Capacitors Fit Nicely Under** **SMD Pads**'
  id: totrans-30
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**解耦电容器完美地安装在** **SMD 焊盘** **下**'
- en: The most common passive component in a typical digital design is the decoupling
    capacitor. These tiny capacitors are everywhere, and they can consume valuable
    routing and via fan-out space if they are not properly placed. If you are willing
    to create a double-sided surface-mount board, decoupling capacitors can be placed
    on the board side opposite the target component’s pads. By placing these components
    under the component’s pad space, you are not consuming any via fan-out area. In
    fact, a well-placed decoupling capacitor can share the power via used by the component’s
    power pins. The view in the lower left hand corner of Figure C-2 provides a clear
    illustration of this technique. (There are some special cases where you may not
    want to do this, as noted in the next section.)
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在典型的数字设计中，最常见的无源元件是解耦电容器。这些微小的电容器无处不在，如果它们放置不当，可能会消耗宝贵的布线和过孔扇出空间。如果你愿意创建双面表面贴装板，解耦电容器可以放置在目标元件焊盘相对的板面上。通过将这些元件放置在元件焊盘空间下方，你不会消耗任何过孔扇出区域。实际上，一个放置得当的解耦电容器可以共享元件电源引脚使用的电源走线。图
    C-2 左下角的视图清楚地说明了这一技术。（在某些特殊情况下，你可能不想这样做，下一节将说明。）
- en: '**![](../Images/index-246_1.png)**'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**![](../Images/index-246_1.png)**'
- en: '**Figure C-2**: Four views of a circuit board layout. From the top left, clockwise:
    fabricated circuit board with components; top-layer circuit board view in PCB
    layout program; all-layers circuit board view in PCB layout program; top and bottom
    only layers view demonstrating two-sided SMT layout.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 C-2**: 电路板布局的四个视图。从左上角开始，顺时针方向：带有元件的制造电路板；PCB 布局程序中的顶层电路板视图；PCB 布局程序中的所有层电路板视图；仅顶层和底层视图，展示了双面
    SMT 布局。'
- en: '**![figure_c-3](../Images/figure_c-3.png)Figure C-3**: Fan-out regions around
    an SMD component’s footprint.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**![figure_c-3](../Images/figure_c-3.png)图 C-3**: SMD 元件焊盘周围的扇出区域。'
- en: '**Know Your Special Traces**'
  id: totrans-35
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**了解你的特殊走线**'
- en: 'The good news about laying out digital circuit boards is that most traces require
    little thought, unlike a typical analog board. The bad news is that if you don’t
    do the rest of the traces correctly, your board will exhibit strange and frustrating
    behavior that will be hard to debug. As a result, routing these special traces
    is a little bit of a black art. This section gives just a few guidelines for coping
    with these special traces, but I encourage interested readers to find a text dedicated
    to board layout to really learn and appreciate these techniques. Two texts that
    I recommend are *Digital Systems Engineering* by William J. Dally and John W.
    Poulton (Cambridge University Press), and *High Speed Digital Design: A Handbook
    of Black Magic* by Howard W. Johnson and Martin Graham (Prentice-Hal PTR).'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 关于数字电路板布局的好消息是，大多数走线不需要太多思考，与典型的模拟板不同。坏消息是，如果你没有正确地完成其余的走线，你的板将表现出奇怪且令人沮丧的行为，这将很难调试。因此，这些特殊走线的布线有点像一门黑艺术。本节仅提供了一些应对这些特殊走线的指南，但我鼓励感兴趣的读者寻找一本专门介绍板级布局的书籍，以真正学习和欣赏这些技术。我推荐的两本书是威廉·J·达利和约翰·W·波尔顿合著的《数字系统工程》（剑桥大学出版社），以及霍华德·W·约翰逊和马丁·格雷厄姆合著的《高速数字设计：黑魔法手册》（Prentice-Hal
    PTR）。
- en: 'Typically, the kinds of traces that require special attention when routing
    a circuit board are:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，在布线电路板时需要特别注意的走线类型包括：
- en: Power traces
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电源走线
- en: Timing reference (clock) traces
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时钟参考（时钟）走线
- en: High speed traces
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高速走线
- en: Analog/mixed signal traces
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模拟/混合信号走线
- en: As a general rule, power traces should be thicker than your average signal trace,
    especially if you are using one of the higher-end fabrication processes that offer
    narrow (~ 5 mil) trace widths. Power traces need to be thickened to counter both
    resistive heating and parasitic inductance. Narrow power traces, especially near
    the key power distribution points, will act like resistors and heat up, dropping
    the supply voltage to a level that causes indeterminate malfunctions in your circuits.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一般规则，电源走线应比平均信号走线更粗，尤其是如果您正在使用提供窄（约5毫英寸）走线宽度的高端制造工艺。电源走线需要加粗以抵消电阻加热和寄生电感。窄电源走线，尤其是在关键电源分配点附近，会像电阻一样发热，导致供电电压下降到引起电路不确定故障的水平。
- en: The proper sizing of a power trace depends upon the thickness of the copper.
    Typical boards use “1-oz copper” that is 1.35 mils thick (one square foot of 1.35
    mil thick copper foil weights one ounce). An exterior 12 mil wide trace in 1 oz
    copper is required to pass 1 ampere of current with a 10 degree Celsius temperature
    rise. Thicker traces are required for buried layers for a similar current handling
    capacity.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 电源走线的适当尺寸取决于铜的厚度。典型的板使用“1盎司铜”，厚度为1.35毫英寸（一平方英尺1.35毫英寸厚的铜箔重一盎司）。在1盎司铜中，外部12毫英寸宽的走线需要通过1安培的电流，温度上升10摄氏度。对于类似的电流处理能力，埋层需要更粗的走线。
- en: When routing power traces between layers, remember that vias have resistance
    as well. A single via is insufficient to connect critical power traces between
    layers. Critical power traces should have multiple vias connecting them between
    layers to keep parasitic resistances and inductances down. Distributed power planes
    on multiple layers should also have vias generously distributed throughout to
    ensure that a common potential is preserved.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在层与层之间布线电源走线时，请记住，过孔也有电阻。单个过孔不足以连接层之间的关键电源走线。关键电源走线应在层之间通过多个过孔连接，以降低寄生电阻和电感。多层上的分布式电源平面也应广泛分布过孔，以确保保持共同电位。
- en: Note
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '![](../Images/index-248_1.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../Images/index-248_1.png)'
- en: '**In high performance or low noise applications, placing a** **via between
    a decoupling capacitor and the power pin** **may carry too high an electrical
    integrity price for the** **routing convenience. Vias disrupt the propagation
    of high-****speed (hundreds of megahertz) electrical waves. Thus,** **the optimal
    location of a decoupling capacitor in these applications is between the component
    pin and the power** **via.**'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**在高性能或低噪声应用中，在去耦电容器和电源引脚之间放置** **过孔可能对** **布线便利性** **的电学完整性代价过高**。过孔会干扰高速（数百兆赫兹）电波的传播。因此，**在这些应用中，去耦电容器的最佳位置是在元件引脚和电源**
    **过孔之间**。'
- en: Timing reference signals include clocks and strobes. Many memory devices require
    asynchronous control strobes that have sensitive timing requirements. These signals
    should be properly terminated and routed in a manner consistent with the termination
    strategy, typically a “daisy chain” route. Daisy chain routes have no branches,
    so there is only one path for the wavefront of the signal to travel.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 定时参考信号包括时钟和选通信号。许多存储设备需要具有敏感定时要求的异步控制选通信号。这些信号应按与终止策略一致的方式进行正确终止和布线，通常采用“菊花链”布线。菊花链布线没有分支，因此信号波前只有一条路径可以传播。
- en: Electric signals travel at about 1/4 the speed of light on a circuit board,
    or about three inches in a nanosecond. Thus, high speed traces must have matched
    lengths, or signals can arrive significantly out of phase with respect to the
    timing reference. Trace lengths are matched by extending shorter traces to the
    length of the longest trace. Trace length extension is accomplished using serpentine
    traces that meander and increase the effective length of a trace without changing
    the placement of the trace’s endpoints.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 电信号在电路板上的传播速度约为光速的四分之一，或约每纳秒三英寸。因此，高速走线必须具有匹配的长度，否则信号可能会相对于定时参考出现显著的时间相位差。通过延长较短的走线到最长走线的长度来匹配走线长度。通过使用蜿蜒的走线来延长走线长度，这些走线蜿蜒曲折，增加了走线的有效长度，而不改变走线端点的位置。
- en: Analog and mixed-signal routing is well beyond the scope of this appendix. In
    an average hobbyist’s digital design, most of the analog circuitry will be isolated
    to the power supplies. Any special layout requirements for a particular power
    supply component is typically well-documented in the component’s datasheet.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟和混合信号布线远远超出了本附录的范围。在一个普通爱好者的数字设计中，大部分模拟电路将被隔离在电源部分。对于特定电源组件的特殊布局要求通常在组件的数据表中得到了很好的记录。
- en: 'Keep in mind that electrical signals are lazy and promiscuous: signal current
    will always follow the path of least resistance, and signals will couple into
    adjacent traces. Furthermore, current must be conserved, so every signal current
    path must have a return current path, whether it is explicit or not. Keep these
    simple rules in mind as you layout any analog sections on your circuit board.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，电气信号是懒惰且杂乱的：信号电流总是沿着阻力最小的路径流动，并且信号会耦合到相邻的迹线中。此外，电流必须守恒，因此每个信号电流路径都必须有一个返回电流路径，无论它是明确的还是隐含的。在你布线电路板上的任何模拟部分时，请记住这些简单的规则。
- en: '**Circuit Boards Make Fine Heatsinks**'
  id: totrans-52
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**电路板是优秀的散热器**'
- en: When routing high-power components, such as power regulators and high-performance
    microprocessors, remember that the copper in a circuitboard is an excellent conductor
    of heat. You can save yourself a heat sink under certain conditions by simply
    laying out a large region of copper connected to the heat slug or ground pins
    of the target part. If you are using a multilayer board design with power planes,
    use multiple vias to help conduct heat into the internal layers.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 当布线高功率组件，如电源调节器和高性能微处理器时，请记住电路板上的铜是一种极好的导热材料。在特定条件下，通过简单地布设一个连接到目标部件的热连接或接地引脚的大面积铜区域，你可以节省一个散热器。如果你使用的是带有电源平面的多层板设计，请使用多个过孔来帮助将热量传导到内部层。
- en: The heatsinking capabilities of a circuitboard can also be a nuisance during
    hand assembly. The good thermal conductivity of copper makes it difficult to heat
    up a component pin that is also connected to a large region of copper. When connecting
    low-power components to the power planes, consider using vias with *thermal reliefs*.
    A thermal relief is a set of small gaps in a via connection to a power plane that
    reduces thermal conductivity without significantly impacting the connection’s
    electrical performance. (Note that a large group of densely packed thermally relieved
    power vias around a region of copper can result in unconnected or poorly connected
    islands of copper.)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 电路板的散热能力在手装配过程中也可能是一个麻烦。铜的良好导热性使得加热同时连接到大面积铜区域上的组件引脚变得困难。当将低功率组件连接到电源平面时，请考虑使用带有*热缓解*的过孔。热缓解是在过孔连接到电源平面时的一系列小间隙，它可以减少热导率，而不会显著影响连接的电气性能。（请注意，在铜区域周围大量密集的热缓解电源过孔可能导致未连接或连接不良的铜岛。）
- en: '**Establish Preferred Routing Directions for** **Each Layer**'
  id: totrans-55
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**为每一层** **建立首选布线方向**'
- en: 'Establishing a dominant routing direction for each layer can simplify the routing
    of dense boards. For example, make the top layer the horizontal routing layer,
    and the bottom one the vertical routing layer. If you need to route a signal between
    two components located diagonally across the board, first run a horizontal trace
    on the top and then a vertical trace on the bottom to connect the two components.
    The alternative strategy of just running a trace diagonal y across the top layer
    of the board, for example, reduces the overall routability between the two halves
    of the board by one-half: The only way to get from one half to the other is now
    to go on the bottom.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 为每一层建立主导布线方向可以简化密集板布线。例如，使顶层成为水平布线层，底层成为垂直布线层。如果你需要在位于板对角线两侧的两个组件之间布线，首先在顶层运行一条水平迹线，然后在底层运行一条垂直迹线以连接这两个组件。例如，仅在板的顶层直接运行一条对角线迹线的替代策略，将使板两半之间的整体布线可行性减少一半：现在从一半到另一半的唯一方法就是通过底层。
- en: Exceptions to this rule are acceptable, especially if you have to make a signal
    integrity versus routability trade-off.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个规则的特殊情况是可以接受的，尤其是如果你必须做出信号完整性与布线可行性的权衡。
- en: '**Stack a Board with Orthogonal Layers**'
  id: totrans-58
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**堆叠具有正交层的电路板**'
- en: After establishing the preferred routing directions for each layer, stack the
    layers such that no two layers have parallel preferred routing directions. This
    orthogonality helps keep the interference of signals between layers to a minimum.
    If you have power layers, try to stack them between layers to help shield interference
    between signal layers.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在确定每层的首选布线方向后，堆叠层以确保没有两层具有平行的首选布线方向。这种正交性有助于将层间信号的干扰降至最低。如果你有电源层，尝试在信号层之间堆叠它们，以帮助屏蔽信号层之间的干扰。
- en: '**On Two-Layer Boards, Use Fingers to Bus** **Power**'
  id: totrans-60
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**在双层板上，使用手指布** **电源**'
- en: On a two-layer board, it is often tempting to just run power and ground as a
    ring around the outside of the board. This is not an ideal situation, because
    the ring starves the heart of the board and also increases the potential for large
    parasitic current loops that will degrade circuit performance. Instead, use interdigitated
    and/or stacked power fingers.These fingers will establish the dominant routing
    direction of each layer, and should be laid out before routing any signals.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在双层板上，通常很容易将电源和地线作为环绕板外部的环形布线。这不是一个理想的情况，因为环形会剥夺板的核心，并增加了形成大型寄生电流环的可能性，这将降低电路性能。相反，使用交错和/或堆叠的电源手指。这些手指将确定每层的占主导地位的布线方向，应该在布线任何信号之前布局。
- en: '**Hints on Using an Auto-Router**'
  id: totrans-62
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**使用自动布线器的提示**'
- en: 'Auto-routers are a mixed blessing: they can save hours of routing time, but
    they can also cause hours of frustrating problems. The first rule of using an
    auto-router is to never allow it to work on your only copy of a circuit board
    design file. Instead, create a copy of your design and let the auto-router perform
    its magic on the copy.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 自动布线器是一把双刃剑：它们可以节省数小时的布线时间，但它们也可能导致数小时的令人沮丧的问题。使用自动布线器的第一条规则是永远不要让它工作在你的电路板设计文件的唯一副本上。相反，创建设计的一个副本，并让自动布线器在副本上施展其魔法。
- en: The second rule is to learn the auto-router’s bugs using simple test designs
    before applying it to your final design. Auto-routers frequently have critical
    bugs or limitations that must be understood before using the tool. When learning
    an auto-router’s bugs, pay particular attention to how it handles locked traces,
    poured polygons, and awkward trace sizes. Some auto-routers will actually remove
    locked traces (traces laid down by hand and marked as unmovable), while others
    ignore them or do not function in their presence. This can be particularly frustrating
    if you have spent hours laying out the critical power and timing nets before turning
    on the auto-router.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 第二条规则是在将自动布线器应用于最终设计之前，使用简单的测试设计来学习自动布线器的缺陷。自动布线器通常存在关键的缺陷或限制，在使用工具之前必须了解这些缺陷。在学习自动布线器的缺陷时，特别关注它如何处理锁定轨迹、填充多边形和尴尬的轨迹尺寸。一些自动布线器实际上会移除锁定轨迹（手动放置并标记为不可移动的轨迹），而其他则忽略它们或在它们存在时无法正常工作。如果你在开启自动布线器之前花费数小时布置关键电源和时序网络，这可能会特别令人沮丧。
- en: Finally, don’t count on an auto-router to fully route a complex board. Auto-routers
    are great for quickly routing the first 90 percent of a board, but they really
    slow down as the board gets more congested. Note that subtle changes in component
    placement can make or break an auto-router. Many auto-routers will not recognize
    busses or straight-through connections without special annotation or ideal component
    placement.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，不要指望自动布线器能够完全布线一个复杂的电路板。自动布线器在快速布线电路板的前90%时非常出色，但随着电路板变得更加拥挤，它们会变得非常缓慢。请注意，组件放置的细微变化可能会使自动布线器失效。许多自动布线器在没有特殊注释或理想组件放置的情况下，不会识别总线或直通连接。
- en: '**CAD Tools**'
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**CAD工具**'
- en: Board design tools have dropped in price significantly over the past few years.
    The tool I use most frequently for board design is Protel 99SE. (I have yet to
    purchase the newer version, Protel DXP.) Protel is a highly integrated tool, featuring
    schematic capture, simulation, library management, and board layout with design
    rule checking and auto-routing, all integrated in one tool. (It seems like every
    software release some new feature is integrated into the design environment, for
    better or for worse.)
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 过去几年中，电路板设计工具的价格显著下降。我用于电路板设计的最常用工具是Protel 99SE。（我尚未购买更新的版本，即Protel DXP。）Protel是一个高度集成的工具，包括原理图捕获、仿真、库管理以及带有设计规则检查和自动布线的电路板布局，所有这些功能都集成在一个工具中。（似乎每次软件发布都会将一些新功能集成到设计环境中，无论好坏。）
- en: You can download a 30-day fully functional demo of the Protel software from
    their website at www.protel.com. While a full-fledged license for the product
    is in the thousands of dollars, this still compares favorably with many other
    software packages that offer the same depth of functionality and number of features.
    Other high-end PCB CAD vendors include
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从他们的网站www.protel.com下载Protel软件的30天全功能演示版。虽然该产品的完整许可证价格在数千美元，但这与其他提供相同深度功能和数量功能的软件包相比仍然具有竞争力。其他高端PCB
    CAD供应商包括
- en: Mentor (PADS), Cadence (OrCAD), and Altium (P-CAD). Interestingly, Altium also
    owns the Protel software suite.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Mentor (PADS), Cadence (OrCAD), and Altium (P-CAD)。有趣的是，Altium还拥有Protel软件套件。
- en: If you are are just starting out and want to do some casual board layout, some
    board fabrication companies offer full-function captive design tools for free.
    ExpressPCB (www.expresspcb.com) offers a free schematic capture and PCB layout
    tool for clients who use their fabrication service. Their tool is functional,
    but a little limited in terms of the design rule checks and the practical complexity
    for which you can realistically use it. ExpressPCB is a great starter tool for
    beginners, however, and is capable of implementing almost any weekend hardware
    project.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您是初学者，想做一些随意的板级布局，一些板级制造公司提供免费的全功能捕获设计工具。ExpressPCB（www.expresspcb.com）为使用其制造服务的客户提供免费的原理图捕获和PCB布局工具。他们的工具功能齐全，但在设计规则检查和实际复杂性方面略显局限。然而，ExpressPCB是初学者的绝佳入门工具，能够实现几乎任何周末硬件项目。
- en: Before submitting any finished design for production, preview your exported
    files with a third-party file viewer to help protect your fabrication investment
    against bugs in your design tools. The most common file format used for board
    fabrication is the “Gerber” file format. A good, free Gerber previewer that I
    trust is made by Graphicode (http://www.graphicode.com/).
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在提交任何用于生产的完成设计之前，使用第三方文件查看器预览您的导出文件，以帮助保护您的制造投资免受设计工具中的错误影响。用于板级制造的常见文件格式是“Gerber”文件格式。我信任的一个优秀的免费Gerber预览器是由Graphicode（http://www.graphicode.com/）制作的。
- en: '**Board Fabrication Companies**'
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**板级制造公司**'
- en: Board fabrication companies come in as wide a range of capabilities as the CAD
    tools. Some companies only do large production orders, while others earn their
    bread and butter servicing the quick-turn prototype and hobbyist market. Here
    are a few of my favorite board fabrication companies, along with a brief description
    of their basic offerings.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 板级制造公司的能力范围与CAD工具一样广泛。一些公司只做大型生产订单，而其他公司通过服务快速原型和爱好者市场赚取生计。以下是我最喜欢的几家板级制造公司，以及它们基本服务的简要描述。
- en: '**Sierra Proto Express**'
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**Sierra Proto Express**'
- en: Located in San Jose, California, Sierra Proto Express offers some of the most
    competitive quick-turn prototype rates. As of this writing, Sierra Proto Express
    offers a line of “No Touch Product” processes. These fabrication processes have
    strict design rule requirements, but they are very affordable. For example, you
    can have a two-layer circuit board fabricated in four days for $34 per board (minimun
    order of two boards), or you can have a four-layer circuit board fabricated in
    four days for $51 per board (minimum order of two boards). The technology offered
    at these prices is a 6 mil trace/space design rule with 15 mil finished hole sizes.
    Sierra Proto Express also offers faster turn-time processes with trace widths
    down to 5 mils and 10 mil finished hole sizes. For more information, visit www.sierraprotoexpress.com.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 位于加利福尼亚州圣何塞的Sierra Proto Express提供了一些最具竞争力的快速原型制作率。截至本文撰写时，Sierra Proto Express提供了一系列“无触点产品”工艺。这些制造工艺有严格的设计规则要求，但价格非常实惠。例如，您可以在四天内以每块34美元的价格（最小订单为两块）制作双层电路板，或者以每块51美元的价格（最小订单为两块）在四天内制作四层电路板。这些价格提供的工艺技术是6
    mil迹/空间设计规则和15 mil完成的孔径大小。Sierra Proto Express还提供更快周转时间的工艺，迹宽低至5 mils，完成孔径大小为10
    mil。有关更多信息，请访问www.sierraprotoexpress.com。
- en: '**Data Circuit Systems**'
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**Data Circuit Systems**'
- en: Data Circuit Systems, also located in San Jose, California, is my vendor of
    choice for designs that require aggressive design rules or special processing
    options that don’t fit well with the cheaper quick-turn companies’ offerings.
    Their comprehensive “Process Capabilities Survey” (available for download at their
    website) is comprehensive and clearly written, so it takes a lot of guesswork
    out of interpreting the design rules. They also do a fairly rigorous set of factory
    checks on your submitted design, which often catch subtle layout errors that can
    cause problems later. I have found their staff to be competent and friendly and,
    though their prices are slightly higher than most engineering prototype manufacturers,
    their well-documented process and design rule checks help reduce the risk of aggressive
    designs, and in the end the extra cost is probably worth it. Visit www.datacircuits.com.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 数据电路系统（Data Circuit Systems），也位于加利福尼亚州圣何塞，是我首选的供应商，用于需要激进的设计规则或与较便宜快速制造公司提供的选项不太匹配的特殊加工选项的设计。他们网站上的全面“工艺能力调查”（可在其网站上下载）内容详尽且书写清晰，因此减少了在设计规则解释中的猜测工作。他们还对您提交的设计进行了一系列相当严格的工厂检查，这些检查通常可以发现可能导致后期问题的细微布局错误。我发现他们的员工既熟练又友好，尽管他们的价格略高于大多数工程原型制造商，但他们的详细记录的工艺和设计规则检查有助于降低激进设计的风险，最终额外的成本可能是值得的。请访问www.datacircuits.com。
- en: '**Advanced Circuits**'
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**先进电路**'
- en: Advanced Circuits of Aurora, Colorado (www.4pcb.com) features an instant quotation
    feature at their website. This feature alone makes them a good choice for boards
    of intermediate-complexity that do not fit any of the discount, quick-turn process
    guidelines. You can use the instant quote feature to optimize your choice of implementation
    technology for price. In addition, they frequently offer discount, quick-turn
    specials.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 科罗拉多州奥罗拉的先进电路（Advanced Circuits，www.4pcb.com）在其网站上提供即时报价功能。仅此一项功能就使他们成为适合中等复杂度的板子的好选择，这些板子不符合任何折扣或快速制造工艺指南。您可以使用即时报价功能来优化您的实施技术选择以降低价格。此外，他们经常提供折扣和快速制造特价。
- en: '**Alberta Printed Circuits**'
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**阿尔伯塔印刷电路**'
- en: Alberta Printed Circuits (AP Circuits), located in Alberta, Canada, is one of
    the original quick-turn prototype PCB houses, with prompt service. The P1 process
    they offer is a basic one, with no soldermask or silkscreen. As a result, it is
    difficult to execute fine-pitch surface mount designs because solder tends to
    get everywhere during the assembly phase. However, they will fabricate and ship
    your board in the P1 process in just one day for an unheard of price, with no
    minimum order requirements. The base fee for a production run is about $45 at
    the time of writing, with approximately a $0.65 per square inch charge on top
    of the base fee. The technology is an 8 mil trace/space with a minimum drill size
    of 20 mil (28 mil if you want to stick with the cheapest process option). AP Circuits
    is great for boards that have to get done in a pinch and on a strict budget, especially
    if you are using through-hole or coarse SMT components that are easy to assemble
    without a soldermask. Visit www.apcircuits.com.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 阿尔伯塔印刷电路（AP Circuits），位于加拿大阿尔伯塔省，是原始快速原型PCB制造商之一，提供快速服务。他们提供的P1工艺是一个基本的工艺，没有阻焊膜或丝印。因此，在组装阶段，由于焊料容易到处流动，很难执行细间距表面贴装设计。然而，他们将以难以置信的价格，在一天内完成P1工艺的板子并发货，没有任何最低订单要求。撰写本文时，生产运行的基准费用约为45美元，加上基准费用之上的每平方英寸约0.65美元的费用。该技术是8密耳的走线/间距，最小钻孔尺寸为20密耳（如果您想坚持最便宜的工艺选项，则为28密耳）。AP
    Circuits非常适合需要在紧迫的时间和严格的预算下完成的板子，尤其是如果您使用的是无需阻焊膜即可轻松组装的通孔或粗SMT组件。请访问www.apcircuits.com。
- en: '**Starter Projects**'
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**入门项目**'
- en: In Chapter 5, “Replacing a Broken Power Supply,” you are instructed on how to
    replace an Xbox power supply with a standard ATX power supply. The one problem
    is that the polarity of the power on signal is inverted between the Xbox and the
    standard ATX supply. The hack solution proposed in the chapter is to always leave
    the supply on, and to instead switch the Xbox on and off by first turning on the
    power supply and then pressing the Xbox’s power button.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在第5章“更换损坏的电源”中，您将学习如何用标准ATX电源替换Xbox电源。唯一的问题是，Xbox和标准ATX电源之间的电源信号极性是相反的。章节中提出的解决方案是始终保持电源开启，并通过首先开启电源然后按下Xbox的电源按钮来开关Xbox。
- en: It is fairly easy to design and layout a board that enables you to invert the
    polarity of the power signal so that you can control the power state of the Xbox
    from just the front panel of the Xbox. You can also properly regulate the standby
    power supply, instead of using two diodes. Such a board would consist of an inverter
    chip, such as the 74HCT04, and a regulator, such as the LM317K. The LM317K is
    an adjustable regulator that can be set to reduce the +5V standby voltage provided
    by the ATX supply down to the +3.3V standby voltage demanded by the Xbox. An example
    schematic diagram of this board is shown in Figure C-4.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 设计和布局一个能够使您反转电源信号极性的板子相当容易，这样您就可以仅通过Xbox的前面板来控制Xbox的电源状态。您还可以正确调节待机电源，而不是使用两个二极管。这样的板子将包括一个反相器芯片，例如74HCT04，和一个稳压器，例如LM317K。LM317K是一个可调稳压器，可以将ATX电源提供的+5V待机电压降低到Xbox要求的+3.3V待机电压。本板的一个示例原理图如图C-4所示。
- en: 'The choice of connectors to this board is up to you. The simplest solution
    would be to just use holes and solder the wires through the holes. There are only
    five connections on this board. Three go to the power supply: the +5VSB (violet)
    wire, a ground (black) wire, and the power on output (green) wire. The remaining
    two, +3.3VSB (pin 6 on the power connector) and power on input (pin 11 on the
    power connector), go to the Xbox.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 连接到该板的选择由您决定。最简单的解决方案就是直接使用孔位并焊接电线通过孔位。该板上只有五个连接点。其中三个连接到电源：+5VSB（紫色）电线、一个地线（黑色）电线和电源开启输出（绿色）电线。剩下的两个，+3.3VSB（电源连接器的第6针）和电源输入（电源连接器的第11针），连接到Xbox。
- en: Be sure to test the voltage output of the regulator before installing your finished
    board. It is fairly easy to get a resistor value wrong or a pin swapped, and both
    of these conditions could lead to dangerously high voltages going into the Xbox.
    Also, when installing the board permanently, be sure to insulate the bottom and
    top of the board from accidental contact with the Xbox case or other Xbox components.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装您完成的板子之前，务必测试稳压器的电压输出。很容易出错电阻值或引脚交换，这两种情况都可能导致Xbox进入危险的高电压状态。另外，在永久安装板子时，务必确保板子的底部和顶部与Xbox外壳或其他Xbox组件的意外接触绝缘。
- en: '![figure_c-4](../Images/figure_c-4.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![figure_c-4](../Images/figure_c-4.png)'
- en: '**Figure C-4**: Example schematic diagram of the ATX power supply replacement
    adapter board. Resistors R1 and R2 program the output voltage of the voltage regulator,
    U1, to be +3.3V.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**图C-4**：ATX电源替换适配器板的示例原理图。电阻R1和R2设置稳压器U1的输出电压为+3.3V。'
