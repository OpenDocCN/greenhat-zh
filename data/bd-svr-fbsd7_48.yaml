- en: Chapter 20\. PHP 5.2.5
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 20 章. PHP 5.2.5
- en: '[HTTP://PHP.NET](HTTP://PHP.NET)'
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[HTTP://PHP.NET](HTTP://PHP.NET)'
- en: 20.1\. SUMMARY
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.1. 摘要
- en: 'PHP (PHP: Hypertext Preprocessor) is a server-side scripting language that
    can be embedded into HTML. It is commonly used to create dynamically generated
    websites and is the foundation of applications like WordPress (blogging software),
    MediaWiki (which underlies Wikipedia), and phpBB (a web-based bulletin board system).
    PHP is also known for its easy integration with relational database management
    systems. These applications all use a combination of PHP and a relational database
    system like MySQL.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: PHP（PHP：超文本预处理器）是一种可以嵌入到 HTML 中的服务器端脚本语言。它通常用于创建动态网站，是像 WordPress（博客软件）、MediaWiki（支撑维基百科）和
    phpBB（一个基于网络的论坛系统）这样的应用程序的基础。PHP 还以其易于与关系型数据库管理系统集成而闻名。这些应用程序都使用 PHP 和像 MySQL
    这样的关系型数据库系统组合。
- en: Unlike JavaScript, which executes functions in a user's web browser, PHP handles
    functions on the web server. Websites that use JavaScript must send full blocks
    of code to clients' web browsers, which can eat up bandwidth, especially with
    large sites. PHP, on the other hand, executes code on the web server and then
    sends only the necessary HTML to the client to produce the completed page, thus
    eliminating the need to send lengthy code to web browsers.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 与在用户浏览器中执行函数的 JavaScript 不同，PHP 在 Web 服务器上处理函数。使用 JavaScript 的网站必须将完整的代码块发送到客户端的浏览器，这可能会消耗带宽，尤其是在大型网站上。另一方面，PHP
    在 Web 服务器上执行代码，然后只向客户端发送必要的 HTML 以生成完成的页面，从而消除了向浏览器发送长代码的需求。
- en: PHP began as a small set of Perl scripts written by Rasmus Lerdorf. He used
    them to monitor traffic to his online resume. In 1995, after adding features,
    Lerdorf publicly released a tool written in C called PHP/FI (Personal Home Page/Forms
    Interpreter). In 1997 two Israeli developers, Zeev Suraski and Andi Gutmans, rewrote
    PHP/FI to accommodate their eCommerce project. This rewrite was released in mid-1998
    as PHP 3\. That winter, Suraski and Gutmans began another rewrite, this time of
    PHP's core. The product of this work became the Zend Engine, on which current
    versions of PHP are based.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: PHP 最初是由 Rasmus Lerdorf 编写的一组小的 Perl 脚本。他使用它们来监控他的在线简历的流量。1995 年，在添加了新功能后，Lerdorf
    公开发布了一个用 C 语言编写的工具，称为 PHP/FI（个人主页/表单解释器）。1997 年，两位以色列开发者 Zeev Suraski 和 Andi Gutmans
    将 PHP/FI 重写以适应他们的电子商务项目。这次重写在 1998 年中旬作为 PHP 3 发布。那年冬天，Suraski 和 Gutmans 开始了另一轮重写，这次是
    PHP 核心的重写。这项工作的成果是 Zend 引擎，它是当前 PHP 版本的基础。
- en: 20.2\. RESOURCES
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.2. 资源
- en: Official PHP Manual
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 官方 PHP 手册
- en: '[http://us3.php.net/manual/en](http://us3.php.net/manual/en)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://us3.php.net/manual/en](http://us3.php.net/manual/en)'
- en: 20.3\. REQUIRED
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.3. 必需的
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) FreeBSD 7.0-RELEASE
    (see "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)")'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![图片](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) FreeBSD
    7.0-RELEASE（见 "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)"）'
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Updated ports
    collection (see "[FreeBSD Ports Collection](freebsd_ports_collection.html#freebsd_ports_collection)")'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![图片](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) 更新的端口集合（见
    "[FreeBSD 端口集合](freebsd_ports_collection.html#freebsd_ports_collection)"）'
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Apache HTTP
    server (see "[Apache HTTP Server 2.2.8](apache_http_server_2.2.8_split_000.html#apache_http_server_2.2.8)")'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![图片](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Apache
    HTTP 服务器（见 "[Apache HTTP 服务器 2.2.8](apache_http_server_2.2.8_split_000.html#apache_http_server_2.2.8)"）'
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Internet
    connection'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) 互联网连接'
- en: 20.4\. OPTIONAL
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.4. 可选的
- en: '![](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) Lynx (see
    "[Lynx 2.8.6](lynx_2.8.6.html#lynx_2.8.6)") for testing PHP installation from
    the command line'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](OWlnMmQvN2ZtYXI4dGMvaWVnL3MxOTU5MzE0NTdwc3BuVTAvLjNnMA--.jpg) 使用 Lynx（见
    "[Lynx 2.8.6](lynx_2.8.6.html#lynx_2.8.6)"）从命令行测试 PHP 安装'
- en: 20.5\. PREPARATION
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.5. 准备
- en: Become the superuser.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 成为超级用户。
- en: 20.6\. INSTALL
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.6. 安装
- en: 'To begin the PHP installation process, enter the following commands:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始 PHP 安装过程，请输入以下命令：
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: A menu will appear with options for php5\. Scroll to APACHE and press [spacebar]
    to install the Apache module. Leave the other options at their defaults, then
    press [tab] to select OK and [enter] to begin the install.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 将出现一个菜单，其中包含 php5 的选项。滚动到 APACHE 并按 [空格键] 安装 Apache 模块。将其他选项保留在默认设置，然后按 [Tab]
    键选择 OK 并按 [Enter] 键开始安装。
- en: 20.7\. CONFIGURE
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.7. 配置
- en: Once the installation is complete, it's time to configure PHP for use on your
    system.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，是时候为您的系统配置 PHP 了。
- en: 'Edit the httpd.conf file to configure Apache to work with the PHP module. Open
    httpd.conf:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑httpd.conf文件以配置Apache与PHP模块一起工作。打开httpd.conf：
- en: '[PRE1]'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Scroll down to the `DirectoryIndex` declaration (~216) and insert `**index.php**`
    prior to `index.html` like this:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到`DirectoryIndex`声明（~216）并在`index.html`之前插入`**index.php**`，如下所示：
- en: '[PRE2]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This setting directs Apache to give priority to index.php over index.html, if
    a requested directory contains both files.
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此设置指示Apache在请求的目录包含这两个文件时，优先考虑index.php而不是index.html。
- en: 'Scroll down to the bottom of httpd.conf and add these lines:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到httpd.conf的底部并添加以下行：
- en: '[PRE3]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Save and exit.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存并退出。
- en: Copy the php.ini-recommended file to php.ini in /usr/local/etc. This will set
    the options in PHP recommended for production server environments.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将php.ini-recommended文件复制到/usr/local/etc目录下的php.ini。这将设置PHP在生产服务器环境中所推荐使用的选项。
- en: '[PRE4]'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Specify the PHP session save path. This directive tells PHP where to store
    temporary session files and is commented off by default. Uncomment the `session.save_path`
    as follows. First, open php.ini:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定PHP会话保存路径。此指令告诉PHP在哪里存储临时会话文件，默认情况下是注释掉的。按照以下方式取消注释`session.save_path`。首先，打开php.ini：
- en: '[PRE5]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Scroll down to the `session.save_path` declaration (~1050) and remove its preceding
    semicolon. It should appear like this after the edit:'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 滚动到`session.save_path`声明（~1050）并移除其前面的分号。编辑后应如下所示：
- en: '[PRE6]'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Save, exit, and restart Apache:'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存，退出，并重新启动Apache：
- en: '[PRE7]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 20.8\. TESTING
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.8\. 测试
- en: To test your installation of PHP, we'll use the built-in `phpinfo()` function
    to display a variety of information about your PHP installation. We will create
    a file named phpinfo.php in your web server's root directory and enter a single
    line of PHP code.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 要测试您的PHP安装，我们将使用内置的`phpinfo()`函数来显示有关您的PHP安装的多种信息。我们将在您的Web服务器根目录下创建一个名为phpinfo.php的文件，并输入一行PHP代码。
- en: 'Create phpinfo.php in the Apache''s default data directory:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Apache的默认数据目录中创建phpinfo.php：
- en: '[PRE8]'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'and add this line:'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 并添加此行：
- en: '[PRE9]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Save and exit.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存并退出。
- en: 'Use a web browser to request phpinfo.php from your Apache server. If you have
    Lynx installed, the command would look like this for a webserver with the hostname
    [host.example.com](http://host.example.com):'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用网络浏览器从您的Apache服务器请求phpinfo.php。如果您已安装Lynx，对于具有主机名[host.example.com](http://host.example.com)的Web服务器，命令如下所示：
- en: '[PRE10]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: You should see several tables of information if PHP is configured properly.
    If you see a blank page, either PHP is incorrectly installed or there may be a
    problem with the phpinfo.php file. (Check for typos and so on.)
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果PHP配置正确，你应该会看到几个信息表。如果你看到一个空白页面，那么PHP可能安装不正确，或者phpinfo.php文件可能存在问题。（检查是否有拼写错误等。）
- en: 'Delete the phpinfo.php file when testing is complete:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 测试完成后删除phpinfo.php文件：
- en: '[PRE11]'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 20.9\. UTILITIES
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.9\. 工具
- en: Following is brief information on the PHP command-line interface.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对PHP命令行界面的简要信息。
- en: 20.9.1\. php
  id: totrans-54
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 20.9.1\. php
- en: The PHP command-line program is useful for testing and development.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: PHP命令行程序对于测试和开发非常有用。
- en: Command
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 命令
- en: '`php`'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '`php`'
- en: Syntax
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 语法
- en: '`php -``*options arguments*`'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '`php -``*options arguments*`'
- en: Options
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 选项
- en: '[PRE12]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Runs PHP in interactive mode
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 以交互模式运行PHP
- en: '[PRE13]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Parses and executes a file
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 解析并执行一个文件
- en: '[PRE14]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Specifies a configuration file instead of the default php.ini
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 指定一个配置文件而不是默认的php.ini
- en: '[PRE15]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Displays PHP version
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 显示PHP版本
- en: '[PRE16]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Tests for syntax errors
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 检查语法错误
- en: Examples
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: 'To run PHP in interactive mode, enter:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 要在交互模式下运行PHP，请输入：
- en: '[PRE17]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'To parse and execute a PHP file named test.php in the current working directory
    using an alternate configuration file named php-test.ini, enter:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用名为php-test.ini的备用配置文件解析并执行当前工作目录中名为test.php的PHP文件，请输入：
- en: '[PRE18]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'To test a file named example.php for syntax errors, enter:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 要测试名为example.php的文件是否存在语法错误，请输入：
- en: '[PRE19]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 20.10\. CONFIG FILES
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 20.10\. 配置文件
- en: /usr/local/etc/php.ini-dist
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: /usr/local/etc/php.ini-dist
- en: Contains options suited for developers
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 包含适合开发者的选项
- en: /usr/local/etc/php.ini-recommended
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: /usr/local/etc/php.ini-recommended
- en: Contains options better suited for production server environments
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 包含更适合生产服务器环境的选项
- en: '* * *'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** The configuration file that you choose to use must be renamed php.ini
    and reside in the /usr/local/etc directory.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '***注意：*** 您选择的配置文件必须重命名为php.ini，并位于/usr/local/etc目录中。'
- en: '* * *'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
