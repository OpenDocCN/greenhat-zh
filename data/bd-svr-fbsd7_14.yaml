- en: Chapter 3\. APACHE HTTP SERVER 2.2.8
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第3章\. APACHE HTTP SERVER 2.2.8
- en: '[HTTP://HTTPD.APACHE.ORG](HTTP://HTTPD.APACHE.ORG)'
  id: totrans-1
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[HTTP://HTTPD.APACHE.ORG](HTTP://HTTPD.APACHE.ORG)'
- en: 3.1\. SUMMARY
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.1\. 摘要
- en: Apache HTTP Server is an open source web server application regarded as one
    of the most efficient, scalable, and feature-rich web servers available. Apache
    is also highly customizable, with numerous third-party modules available to extend
    its functionality. You'll find modules that add support for SSL (Secure Sockets
    Layer) encryption over HTTP (HyperText Transfer Protocol), PHP support (PHP is
    a server-side scripting language), and authentication support for password protecting
    a site or page.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Apache HTTP Server是一个开源的Web服务器应用程序，被认为是效率最高、可扩展性最强、功能最丰富的Web服务器之一。Apache还高度可定制，有众多第三方模块可供扩展其功能。您会发现一些模块增加了对HTTP（超文本传输协议）上SSL（安全套接字层）加密的支持、PHP支持（PHP是一种服务器端脚本语言），以及用于密码保护网站或页面的身份验证支持。
- en: Apache was born at the NCSA (National Center for Supercomputing Applications)
    in 1993 when Rob McCool developed a public domain HTTP daemon (background process)
    that would later become the foundation of the Apache project. Apache version 1.3
    still contains code from the original NCSA-developed HTTP daemon, while version
    2 was rewritten from scratch and contains no NCSA code.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Apache诞生于1993年的NCSA（国家超级计算应用中心），当时Rob McCool开发了一个公共领域的HTTP守护进程（后台进程），这个进程后来成为了Apache项目的基石。Apache
    1.3版本仍然包含来自原始NCSA开发的HTTP守护进程的代码，而版本2则是从头开始重写的，不包含任何NCSA代码。
- en: Apache HTTP Server is installed on nearly 53 percent of the world's web servers.
    Microsoft's Internet Information Server is in second place, with more than a 32
    percent share of the server market.^([[]](#CHP-3-1))
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Apache HTTP Server几乎安装在世界上53%的Web服务器上。微软的Internet Information Server位居第二，服务器市场份额超过32%。^([[]](#CHP-3-1))
- en: '^([]) Netcraft Ltd., "Netcraft: July 2007 Web Server Survey," [http://news.netcraft.com/archives/2007/07/09/july_2007_web_server_survey.html](http://news.netcraft.com/archives/2007/07/09/july_2007_web_server_survey.html)'
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '^([]) Netcraft Ltd.，“Netcraft: July 2007 Web Server Survey,” [http://news.netcraft.com/archives/2007/07/09/july_2007_web_server_survey.html](http://news.netcraft.com/archives/2007/07/09/july_2007_web_server_survey.html)'
- en: The FreeBSD port of the Apache HTTP server documented here includes support
    for SSL over HTTP using the `mod_ssl` module. The module was created by Ralf S.
    Engelschall in 1998; it is based on software developed by Ben Laurie.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这里记录的FreeBSD版本的Apache HTTP服务器支持使用`mod_ssl`模块在HTTP上使用SSL。该模块由Ralf S. Engelschall于1998年创建；它基于Ben
    Laurie开发的软件。
- en: 3.2\. RESOURCES
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2\. 资源
- en: Official Apache HTTP Server Online Documentation
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 官方Apache HTTP Server在线文档
- en: '[http://httpd.apache.org/docs/2.2](http://httpd.apache.org/docs/2.2)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://httpd.apache.org/docs/2.2](http://httpd.apache.org/docs/2.2)'
- en: RFC 2616 - Hypertext Transfer Protocol - HTTP/1.1
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: RFC 2616 - 超文本传输协议 - HTTP/1.1
- en: '[http://tools.ietf.org/html/rfc2616](http://tools.ietf.org/html/rfc2616)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://tools.ietf.org/html/rfc2616](http://tools.ietf.org/html/rfc2616)'
- en: 3.3\. REQUIRED
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.3\. 必需的
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD 7.0-RELEASE
    (see "[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)")'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![图片](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) FreeBSD
    7.0-RELEASE（见“[FreeBSD 7.0](freebsd_7.0_split_000.html#freebsd_7.0)”）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Updated ports
    collection (see "[FreeBSD Ports Collection](freebsd_ports_collection.html#freebsd_ports_collection)")'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![图片](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 更新的端口集合（见“[FreeBSD端口集合](freebsd_ports_collection.html#freebsd_ports_collection)”）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Internet
    connection'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 互联网连接'
- en: 3.4\. OPTIONAL
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.4\. 可选
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) OpenSSL with
    a signed SSL Certificate (if you wish to enable secure HTTP connections; see "[OpenSSL
    0.9.8g](openssl_0.9.8g.html#openssl_0.9.8g)")'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![图片](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) OpenSSL与已签名的SSL证书（如果您想启用安全的HTTP连接；见“[OpenSSL
    0.9.8g](openssl_0.9.8g.html#openssl_0.9.8g)”）'
- en: '![](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) Registered
    domain name'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](bTM3ZzJkLzhzNHRnOS9lL3BjMWk1OTU3MWk5ZmFycHMwZzMvMC5uVQ--.jpg) 注册的域名'
- en: 3.5\. PREPARATION
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.5\. 准备
- en: Become the superuser and then make sure your server's hostname is resolvable
    locally. This should already be the case if you are running your own DNS server
    and have it configured properly.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 成为超级用户，然后确保您的服务器的主机名可以在本地解析。如果您运行自己的DNS服务器并且已正确配置，这应该已经是这种情况了。
- en: 'If you aren''t running your own DNS server, make sure you have an entry in
    your /etc/hosts file that points to your server''s IP address; this will ensure
    that your server''s hostname is resolvable locally. To do so, open the hosts file
    in a text editor:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有运行自己的 DNS 服务器，请确保您在 /etc/hosts 文件中有一个指向您服务器 IP 地址的条目；这将确保您的服务器主机名可以在本地解析。为此，请使用文本编辑器打开
    hosts 文件：
- en: '[PRE0]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You should find something like the following around line 14 of the /etc/hosts
    file; replace [example.com](http://example.com) with your domain name, [host.example.com](http://host.example.com)
    with your hostname, and `*192.168.1.11*` with your server''s local IP address:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该在 /etc/hosts 文件的第 14 行附近找到类似以下内容；将 [example.com](http://example.com) 替换为您的域名，[host.example.com](http://host.example.com)
    替换为您的服务器主机名，并将 `*192.168.1.11*` 替换为您的服务器的本地 IP 地址：
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 3.6\. INSTALL
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.6\. 安装
- en: 'To begin the Apache installation process, enter the following commands:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始 Apache 安装过程，请输入以下命令：
- en: '[PRE2]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: A menu should appear showing options for Apache. We'll leave the settings at
    their defaults, so press [tab] to highlight OK and then press [enter].
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 应该会弹出一个菜单，显示 Apache 的选项。我们将保留默认设置，因此按 [tab] 键高亮显示“确定”，然后按 [enter] 键。
- en: 3.7\. CONFIGURE
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.7\. 配置
- en: Once the installation process completes, it is time to configure Apache for
    use on your system.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 安装过程完成后，是时候为您的系统配置 Apache 了。
- en: 'Open the httpd.conf file located in /usr/local/etc/apache22:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开位于 /usr/local/etc/apache22 的 httpd.conf 文件：
- en: '[PRE3]'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'We''ll edit a few entries in httpd.conf to get the HTTP daemon up and running.
    To do so, scroll to the `ServerAdmin` declaration (~138) and replace [you@example.com](mailto:you@example.com.html)
    with the email address of the person who will be maintaining the server. The line
    should appear as follows:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将编辑 httpd.conf 中的几个条目，以便让 HTTP 守护进程启动并运行。为此，滚动到 `ServerAdmin` 声明 (~138) 并将
    [you@example.com](mailto:you@example.com.html) 替换为将维护服务器的人员的电子邮件地址。该行应如下所示：
- en: '[PRE4]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Scroll to the `ServerName` declaration (~147), uncomment (remove the leading
    hash mark), and replace [host.example.com](http://host.example.com)`:80` with
    the hostname of your server. The line should now appear as follows:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到 `ServerName` 声明 (~147)，取消注释（移除前面的井号），并将 [host.example.com](http://host.example.com):80
    替换为您的服务器的主机名。现在该行应如下所示：
- en: '[PRE5]'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '* * *'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** If you do not wish to set up SSL over HTTP, save, exit, and proceed
    to "[Testing](testing.html#testing)".'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** 如果您不想在 HTTP 上设置 SSL，请保存、退出，然后继续到 "[测试](testing.html#testing)"。'
- en: '* * *'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'To enable SSL support, uncomment the Secure (SSL/TLS) connections declaration
    (~449) by removing the hash mark. The line should now appear as follows:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要启用 SSL 支持，取消注释 Secure (SSL/TLS) 连接声明 (~449)（移除井号）。现在该行应如下所示：
- en: '[PRE6]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Save, exit, and open Apache''s SSL configuration file:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存、退出，并打开 Apache 的 SSL 配置文件：
- en: '[PRE7]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Scroll to the `ServerName` and `ServerAdmin` declarations (~78) and replace
    [host.example.com](http://host.example.com) with your server''s hostname. Replace
    [you@example.com](mailto:you@example.com.html) with the email address of the person
    who will be maintaining the server. The two lines should now appear as follows:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动到 `ServerName` 和 `ServerAdmin` 声明 (~78) 并将 [host.example.com](http://host.example.com)
    替换为您的服务器的主机名。将 [you@example.com](mailto:you@example.com.html) 替换为将维护服务器的人员的电子邮件地址。这两行现在应如下所示：
- en: '[PRE8]'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Go to the `SSLCertificateFile` declaration (~99) and input the path and filename
    of your server''s SSL Certificate. The line should now appear as follows (replacing
    the path and filename shown in italics with the path and filename of your SSL
    Certificate):'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 `SSLCertificateFile` 声明 (~99) 并输入您服务器 SSL 证书的路径和文件名。现在该行应如下所示（将斜体中的路径和文件名替换为您的
    SSL 证书的路径和文件名）：
- en: '[PRE9]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Go to the `SSLCertificateKeyFile` declaration (~107) and input the path and
    filename of your server''s private SSL key. The line should now appear as follows
    (replacing the path and filename shown in italics with the path and filename of
    your private key):'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 `SSLCertificateKeyFile` 声明 (~107) 并输入您服务器私钥的路径和文件名。现在该行应如下所示（将斜体中的路径和文件名替换为您的私钥的路径和文件名）：
- en: 'Code View:'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 代码视图：
- en: '[PRE10]'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '* * *'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** It is highly recommended that you specify your unencrypted key
    file here. An encrypted key file will cause Apache to prompt for a password that
    may interfere with the startup of other critical services. See "[OpenSSL 0.9.8g](openssl_0.9.8g.html#openssl_0.9.8g)"
    for details on decrypting your key file if you haven''t already done so.'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '***注意：*** 强烈建议您在此处指定未加密的密钥文件。加密的密钥文件会导致 Apache 提示输入密码，这可能会干扰其他关键服务的启动。有关解密密钥文件的详细信息，请参阅
    "[OpenSSL 0.9.8g](openssl_0.9.8g.html#openssl_0.9.8g)"。'
- en: '* * *'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '* * *'
- en: Save and exit.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存并退出。
- en: 3.8\. TESTING
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.8\. 测试
- en: In this section, we'll perform some basic tests to confirm that Apache answers
    HTTP requests properly.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将执行一些基本测试以确认Apache能够正确响应HTTP请求。
- en: 'Apache includes a utility called apachectl that is capable of testing your
    configuration files for syntax errors. Let''s run this program to check for syntax
    errors:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Apache包含一个名为apachectl的实用程序，可以测试您的配置文件是否存在语法错误。让我们运行此程序来检查语法错误：
- en: '[PRE11]'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: If apachectl returns `Syntax OK`, continue below. If apachectl finds a problem,
    it will list the filename, line number, and possible reasons for the error. Be
    sure to resolve any issues prior to continuing below.
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果apachectl返回`Syntax OK`，请继续以下步骤。如果apachectl发现问题，它将列出文件名、行号和错误的可能原因。在继续以下步骤之前，请确保解决任何问题。
- en: 'We''ll configure Apache to start automatically at boot time. To do so, open
    the rc.conf file located in /etc:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将配置Apache在启动时自动启动。为此，打开位于`/etc`的rc.conf文件：
- en: '[PRE12]'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Then add the following lines in /etc/rc.conf:'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后在`/etc/rc.conf`中添加以下行：
- en: '[PRE13]'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Save, exit, and start Apache with this command:'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用以下命令保存、退出并启动Apache：
- en: '[PRE14]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'You can choose to conduct your tests via a standard web browser, but the instructions
    below will conduct tests via the command line. Enter the following commands to
    connect directly to the HTTP service listening on port 80:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以选择通过标准网络浏览器进行测试，但下面的说明将通过命令行进行测试。输入以下命令直接连接到监听端口80的HTTP服务：
- en: '[PRE15]'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The `GET` command below is case sensitive. Be sure to press [enter] twice and
    input a space before and after the first slash:'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下`GET`命令是区分大小写的。请确保按两次[Enter]键，并在第一个斜杠前后输入一个空格：
- en: 'Code View:'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 代码视图：
- en: '[PRE16]'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: If you see the `It works!` text in the last line of output then Apache does
    indeed work!
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您在输出的最后一行看到`It works!`文本，那么Apache确实工作正常！
- en: 'If you configured Apache SSL support, enter the following command to connect
    to the HTTP server via SSL:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您已配置Apache SSL支持，请输入以下命令通过SSL连接到HTTP服务器：
- en: '[PRE17]'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'The `GET` command is case sensitive; press [enter] twice:'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`GET`命令是区分大小写的；按两次[Enter]键：'
- en: '[PRE18]'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The output should be identical to the output you received over the unencrypted
    connection.
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出应该与您通过未加密连接收到的输出相同。
- en: 3.9\. UTILITIES
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.9\. 工具
- en: Following is brief information on the apache22 script that should be used to
    control the Apache daemon on FreeBSD.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对应用于在FreeBSD上控制Apache守护进程的apache22脚本的简要信息。
- en: 3.9.1\. apache22
  id: totrans-80
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.9.1\. apache22
- en: This script is used to control the HTTP daemon.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 此脚本用于控制HTTP守护进程。
- en: Command
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 命令
- en: '`/usr/local/etc/rc.d/apache22`'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '`/usr/local/etc/rc.d/apache22`'
- en: Syntax
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 语法
- en: '`/usr/local/etc/rc.d/apache22` `*option*`'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '`/usr/local/etc/rc.d/apache22` `*选项*`'
- en: Options
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 选项
- en: '[PRE19]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Launches the Apache HTTP server
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 启动Apache HTTP服务器
- en: '[PRE20]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Stops the Apache server
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 停止Apache服务器
- en: '[PRE21]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Parses the configuration files for syntax errors
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 解析配置文件以查找语法错误
- en: '[PRE22]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Restarts the Apache server
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 重启Apache服务器
- en: Example
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: 'To start the HTTP daemon, issue the following command at the prompt:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 要启动HTTP守护进程，请在提示符下输入以下命令：
- en: '[PRE23]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '* * *'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '***Note:*** `apache22_enable="YES"` must exist in /etc/rc.conf in order for
    this script to function.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '***注意：*** `/etc/rc.conf`中必须存在`apache22_enable="YES"`，以便此脚本能够正常工作。'
- en: '* * *'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 3.10\. CONFIG FILES
  id: totrans-101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.10\. 配置文件
- en: /usr/local/etc/apache22/httpd.conf
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '`/usr/local/etc/apache22/httpd.conf`'
- en: The Apache HTTP server's main configuration file
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: Apache HTTP服务器的主要配置文件
- en: /usr/local/etc/apache22/extra/httpd-ssl.conf
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '`/usr/local/etc/apache22/extra/httpd-ssl.conf`'
- en: The Apache HTTP server's SSL configuration file
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: Apache HTTP服务器的SSL配置文件
- en: 3.11\. LOG FILES
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.11\. 日志文件
- en: /var/log/httpd-access.log
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '`/var/log/httpd-access.log`'
- en: Contains a log of IP addresses, times, and activity on the HTTP server
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 包含IP地址、时间和HTTP服务器上的活动日志
- en: /var/log/httpd-error.log
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '`/var/log/httpd-error.log`'
- en: Contains a log of error messages produced by the HTTP server
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 包含由HTTP服务器产生的错误消息日志
- en: /var/log/httpd-ssl_request.log
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '`/var/log/httpd-ssl_request.log`'
- en: Contains a log of IP addresses, times, and activity on the HTTPS server
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 包含HTTPS服务器上的IP地址、时间和活动日志
- en: 3.12\. NOTES
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.12\. 备注
- en: The HTTP server uses the default port 80 for non-secure communications. The
    SSL-enabled HTTP server uses the default port 443 for secure communications. If
    you are behind a NAT router, be sure to forward these ports to your server. (Refer
    to your router's documentation for details on port forwarding.)
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTTP服务器使用默认端口80进行非安全通信。启用SSL的HTTP服务器使用默认端口443进行安全通信。如果您位于NAT路由器后面，请确保将这些端口转发到您的服务器。（有关端口转发的详细信息，请参阅路由器文档。）
- en: The default root folder of the HTTP server is /usr/local/www/apache22/data.
    Web content must be placed here unless you change the document root directory
    in httpd.conf.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTTP服务器的默认根目录是/usr/local/www/apache22/data。除非你在httpd.conf中更改文档根目录，否则网页内容必须放置在此处。
