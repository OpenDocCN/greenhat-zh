- en: INTRODUCTION
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**引言**'
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages671943.png.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图片](httpatomoreillycomsourcenostarchimages671943.png.jpg)'
- en: The Web has changed our lives in many ways. The first online, on-demand driving
    directions from MapQuest very nearly rendered traditional road atlases obsolete.
    Today, many websites that provide driving directions also make their maps available
    to developers. Using these mapping APIs, you can plot your own points or make
    a mashup with geo-data from other websites.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网以许多方式改变了我们的生活。MapQuest提供的第一个在线、按需驾驶方向几乎使传统的道路地图变得过时。今天，许多提供驾驶方向的网站也向开发者提供他们的地图。使用这些地图API，您可以绘制自己的点或与其他网站的地理数据混合。
- en: This book shows you how to take advantage of these services and include their
    maps on your site. Instead of limiting you to one provider, I'll show you how
    to use all of them via an open source library called *Mapstraction*. Write your
    code once and watch it work in Google Maps, Bing, MapQuest, Yahoo!, OpenStreetMap,
    and more.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本书向您展示如何利用这些服务并在您的网站上包含它们的地图。而不是限制您使用一个提供商，我会向您展示如何通过一个名为*Mapstraction*的开源库来使用所有这些服务。编写一次代码，然后观察它在Google
    Maps、Bing、MapQuest、Yahoo!、OpenStreetMap等地图上运行。
- en: In addition to teaching you how to work with maps from these providers, I'll
    show you many other common geographic projects. You'll learn how to calculate
    the distance between locations and embed driving directions on your own site.
    You'll also learn how to customize the way your map looks by adding your own icons,
    adding large graphic overlays, or even completely changing the underlying map
    imagery.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 除了教您如何使用这些提供商的地图外，我还会向您展示许多其他常见的地理项目。您将学习如何计算地点之间的距离，并在您自己的网站上嵌入驾驶方向。您还将学习如何通过添加自己的图标、添加大型图形覆盖层，甚至完全更改底层地图图像来自定义地图的外观。
- en: Bringing location to the Web by embedding maps is an important part of most
    sites now, but there's also an increasing need to bring the Web "on location"
    to smartphones running mobile browsers. You can add maps to mobile versions of
    your site using the techniques shown in this book. And I'll show you how to use
    a convenient geolocation standard to find your user's location, whether he's using
    a phone, a tablet, or even a regular computer.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 通过嵌入地图将位置信息引入网络是现在大多数网站的一个重要组成部分，但同时也越来越需要将网络“带到”运行移动浏览器的智能手机上。您可以使用本书中展示的技术将地图添加到您网站的移动版本中。我还会向您展示如何使用方便的地理位置标准来定位用户的位置，无论他是在使用手机、平板电脑，还是普通电脑。
- en: You are just pages away from adding some *where* to your website. This book
    is designed to help you quickly get to work on an application you already have
    in mind or inspire your next map. To that end, I've organized the book into projects.
    And once you become a map scripting wizard, I hope this book will be useful enough
    as a reference to earn a spot on your bookshelf.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 您只需几页就能在您的网站上添加一些“位置”。本书旨在帮助您快速开始您已经构思的应用程序，或者激发您下一个地图的灵感。为此，我将本书组织成项目。一旦您成为地图脚本大师，我希望这本书足够有用，可以作为参考书籍放在您的书架上。
- en: About This Book
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**本书简介**'
- en: The book's project-based approach starts off with basic examples then picks
    up speed quickly. If you're one to jump ahead, I'd recommend you at least read
    [Create a Mapstraction Map](ch01s03.html#create_a_mapstraction_map "Create a Mapstraction
    Map") in [Create a Mapstraction Map](ch01s03.html#create_a_mapstraction_map "Create
    a Mapstraction Map") first. Almost every example in the book builds upon the map
    you will create in that section.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本书基于项目的方法从基本示例开始，然后迅速加快速度。如果您喜欢跳过，我建议您至少先阅读[创建Mapstraction地图](ch01s03.html#create_a_mapstraction_map
    "创建Mapstraction地图")。本书中的几乎所有示例都是基于您在该部分创建的地图。
- en: In [Chapter 1](ch01.html "Chapter 1. MAPPING BASICS") you'll learn the basics
    of constructing online maps. I'll introduce Mapstraction and show how to add controls,
    such as a zoom interface, to your maps.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第1章](ch01.html "第1章。在线地图基础")中，您将学习构建在线地图的基础知识。我将介绍Mapstraction并展示如何向您的地图添加控件，例如缩放界面。
- en: In [Chapter 2](ch02.html "Chapter 2. PLOTTING MARKERS AND MESSAGE BOXES") you'll
    start adding your own points to the map. You'll create custom icons and add message
    boxes to describe locations.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第2章](ch02.html "第2章。绘制标记和信息框")中，您将开始向地图添加自己的点。您将创建自定义图标并添加信息框来描述位置。
- en: In [Chapter 3](ch03.html "Chapter 3. GEOCODING") you'll learn many ways to convert
    addresses and city names to coordinates that mapping providers can understand.
    This process, called *geocoding*, is a big part of making mapping human-friendly.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 3 章](ch03.html "第 3 章. 地理编码")中，您将学习许多将地址和城市名称转换为地图提供商可以理解的坐标的方法。这个过程称为*地理编码*，是使地图对人类友好的重要部分。
- en: In [Chapter 4](ch04.html "Chapter 4. LAYER IT ON") you'll add more complex layers
    to your map. You'll learn how to draw lines to describe routes and shapes to outline
    borders. You'll even see how to take large graphics, geo-reference them, and then
    add them as a map overlay.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 4 章](ch04.html "第 4 章. 添加图层")中，您将为您的地图添加更复杂的图层。您将学习如何绘制线条来描述路线和形状来勾勒边界。您甚至将看到如何将大型图形地理编码，然后将其作为地图叠加层添加。
- en: In [Chapter 5](ch05.html "Chapter 5. HANDLE MAP EVENTS") you'll make your maps
    respond to events, such as drags, clicks, and zooms. These hooks allow you to
    create an even more interactive experience for your users.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 5 章](ch05.html "第 5 章. 处理地图事件")中，您将使您的地图对事件做出响应，例如拖动、点击和缩放。这些钩子允许您为用户提供更互动的体验。
- en: In [Chapter 6](ch06.html "Chapter 6. EXPLORE PROXIMITY") we'll explore proximity.
    You'll learn how to create driving directions or search around a point. You'll
    also dive into some more advanced topics, such as determining whether a location
    is within a shape (known as a *hit test*).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 6 章](ch06.html "第 6 章. 探索邻近性")中，我们将探索邻近性。您将学习如何创建驾驶方向或围绕一个点进行搜索。您还将深入了解一些更高级的主题，例如确定一个位置是否在形状内（称为*碰撞测试*）。
- en: In [Chapter 7](ch07.html "Chapter 7. USER LOCATION") you'll learn several simple
    ways to access your user's location with various degrees of accuracy. I'll cover
    using the geolocation standard, falling back on IP address data, and integrating
    with location sharing services.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 7 章](ch07.html "第 7 章. 用户位置")中，您将学习几种简单的方法以不同精度访问用户的位置。我将介绍使用地理位置标准、回退到
    IP 地址数据以及与位置共享服务集成。
- en: In [Chapter 8](ch08.html "Chapter 8. DATA FORMATS") you'll focus on common location
    data formats used on the Web. You'll learn to parse GeoRSS, Google Earth's KML,
    and XML output from most GPS devices.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 8 章](ch08.html "第 8 章. 数据格式")中，您将专注于在网络上使用的常见定位数据格式。您将学习如何解析 GeoRSS、Google
    Earth 的 KML 以及大多数 GPS 设备的 XML 输出。
- en: In [Chapter 9](ch09.html "Chapter 9. GO SERVER-SIDE") it's time to go server
    side. You'll get a crash course in PHP and MySQL, two technologies provided by
    many web hosts. We'll then use these languages for common location tasks, such
    as finding the closest points from your own database.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 9 章](ch09.html "第 9 章. 服务器端")中，是时候转向服务器端了。您将获得 PHP 和 MySQL 的快速课程，这两种技术由许多网络托管商提供。然后我们将使用这些语言进行常见的定位任务，例如从您的数据库中查找最近的点。
- en: In [Chapter 10](ch10.html "Chapter 10. MASHUP PROJECTS") you'll put it all together
    with five fun mashups. You'll create a Twitter tweet finder, an interactive weather
    map, and a way to find a coffee shop between two locations (so you can meet a
    friend in the middle). There's also a local concert finder and a way to visualize
    earthquakes around the world.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 10 章](ch10.html "第 10 章. 混合项目")中，您将通过五个有趣的项目将所有内容整合在一起。您将创建一个 Twitter 推文查找器、一个交互式天气地图，以及一种在两个地点之间查找咖啡馆的方法（这样您就可以在中间与朋友见面）。还有本地音乐会查找器和可视化全球地震的方法。
- en: How to Use This Book
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何使用本书
- en: This book introduces cartography to web developers, and shows cartographers
    and other geo-folks how to move their maps online. It is written for beginning
    and advanced programmers alike—your skill level and knowledge of mapping will
    impact how you use the book. [Chapter 1](ch01.html "Chapter 1. MAPPING BASICS")
    is a good place for everyone to start, because most of the later examples build
    upon the basic maps presented there.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 本书向网络开发者介绍了制图学，并展示了制图师和其他地理爱好者如何将他们的地图上线。本书适合初学者和高级程序员阅读——您的技能水平和地图知识将影响您如何使用本书。[第
    1 章](ch01.html "第 1 章. 地图基础")是每个人开始的好地方，因为大多数后续示例都是基于那里展示的基本地图构建的。
- en: If you haven't used JavaScript before, or if you need a refresher, be sure to
    read [Appendix A](apa.html "Appendix A. JAVASCRIPT QUICK START"). This will give
    you a primer on the concepts used throughout the book and provide a quick introduction
    to the JavaScript framework jQuery.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您之前没有使用过 JavaScript，或者需要复习，请务必阅读[附录 A](apa.html "附录 A. JAVASCRIPT 快速入门")。这将为您介绍本书中使用的概念，并提供对
    JavaScript 框架 jQuery 的快速介绍。
- en: Each chapter builds upon earlier chapters, so you can read from beginning to
    end as you expand your mapping knowledge. This book also works well as a reference—you
    can skip around to find the concepts you want to learn, or find the chapter or
    project you need for your current application.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 每一章都是基于前一章的内容构建的，因此你可以从开始读到结束，随着你对地图知识的扩展。这本书也很好地作为参考书使用——你可以跳过一些内容，找到你想要学习的概念，或者找到你当前应用所需的章节或项目。
- en: Another part of the book that you'll find useful is [Appendix B](apb.html "Appendix B. MAPSTRACTION
    REFERENCE"), a reference that details the classes and functions within Mapstraction.
    This reference serves as a quick way to check syntax and gives examples of how
    to use each function.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 书中另一个有用的部分是[附录B](apb.html "附录B. MAPSTRACTION 参考")，它详细介绍了 Mapstraction 中的类和函数。这个参考可以作为快速检查语法的方式，并提供如何使用每个函数的示例。
- en: About the Website
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 关于网站
- en: I encourage you to take advantage of this book's companion website at [http://mapscripting101.com/](http://mapscripting101.com/)
    ([Figure 1](pr02s03.html#the_companion_website "Figure 1. The companion website")).
    Among other things, you'll find live examples of every project in the book—so
    you can save yourself some typing by downloading or copying the code.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 我鼓励你利用这本书的配套网站[http://mapscripting101.com/](http://mapscripting101.com/) ([图1](pr02s03.html#the_companion_website
    "图1. 配套网站")). 在其他方面，你将找到书中每个项目的实时示例——这样你就可以通过下载或复制代码来节省一些打字时间。
- en: '![The companion website](httpatomoreillycomsourcenostarchimages671945.png.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![配套网站](httpatomoreillycomsourcenostarchimages671945.png.jpg)'
- en: Figure 1. The companion website
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图1. 配套网站
- en: Also, since map scripting technology and the Web are both changing so quickly,
    you'll want to check the website to see what's new so you can keep your chops
    fresh. I'll be posting updates and tutorials to help you take your knowledge beyond
    the pages of this book.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，由于地图脚本技术和网络都在迅速变化，你需要查看网站以了解最新动态，这样你就可以保持你的技能更新。我将发布更新和教程，帮助你将知识扩展到这本书的页面之外。
