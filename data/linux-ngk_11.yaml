- en: 'Chapter 11: Dining on Tarballs'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第11章：享用tar包
- en: Overview
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 概述
- en: '*Compiling Programs from Source (Made Kind of Easy)*'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*从源代码编译程序（变得有点简单）*'
- en: For the beginner, just the mention of compiling a program from source seems
    off-putting enough. The words *compile* and *source* seem to instill a sense of
    foreboding in the heart of the new user. That certainly was the case for me, anyway.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 对于初学者来说，仅仅提到从源代码编译程序就足以让人望而却步。*编译*和*源*这两个词似乎在新用户心中灌输了一种恐惧感。至少对我来说是这样的。
- en: However, this method of installing programs is a lot easier than it sounds.
    In fact, now that you have some experience in using the Terminal and command line,
    it is just plain easy — a sort of one, two, three, and you’re done process.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，安装程序的方法比听起来容易得多。实际上，现在你已经有了一些使用终端和命令行的经验，这简直太简单了——一种一、二、三，就完成了的过程。
- en: Of course, you can live long and prosper without ever bothering to compile anything
    on your system. You can move along quite happily with your system as is, or you
    can just install programs by means of the very straightforward RPM method.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，你可以不费心在你的系统上编译任何东西而长寿繁荣。你可以带着你的系统这样继续快乐地使用，或者你可以通过非常直接的RPM方法安装程序。
- en: However, not every bit of software out there is available in RPM format; and,
    if you are filled with natural human curiosity, there will come a time when you
    will want to move just one step beyond. After working through this short chapter,
    you will be able to do just that, and I am sure you will find that your initial
    worries will have been for naught.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，并非所有的软件都以RPM格式提供；如果你充满自然的人类好奇心，总会有那么一天你想迈出一步。在完成这一章的简短内容后，你将能够做到这一点，我相信你会发现你最初的担忧是多余的。
- en: '* * *'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '* * *'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: What Is Source?
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 什么是源？
- en: In order to understand what *source* is, you should understand a bit about how
    a program actually gets from its primitive state on the programmer’s computer
    to an up-and-running application on your machine. First the programmer writes
    a program in a programming language. You have probably heard of programming languages
    such as Basic or C, and there are many others. What the programmer actually writes
    with such a language is a set of instructions called the *source code*, or *source*.
    Your computer, however, cannot actually understand any of that source on its own.
    It is as if the computer speaks ancient Greek, and the source code is all written
    in French. The computer therefore needs some sort of interpreter to help it out.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解*源*是什么，你应该了解一点程序实际上是如何从程序员电脑上的原始状态变成你机器上的运行应用程序的。首先，程序员用一种编程语言编写程序。你可能听说过像Basic或C这样的编程语言，还有很多其他的。程序员实际上用这样的语言编写的是一组称为*源代码*或*源*的指令。然而，你的电脑实际上无法理解任何这些源代码。这就像电脑说古希腊语，而源代码都是用法语写的。因此，电脑需要某种解释器来帮助它。
- en: The various languages that programmers use are called *high-level languages*
    — they are relatively easy for programmers to read. The computer, on the other
    hand, only understands what are called *low-level languages*, which are quite
    difficult for most mere mortal programmers to deal with. To convert the high-level
    language instructions to a low-level language, the computer needs some other program
    to translate.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 程序员使用的各种语言被称为*高级语言*——它们对程序员来说相对容易阅读。然而，计算机只理解被称为*低级语言*的东西，这对大多数普通程序员来说处理起来相当困难。为了将高级语言指令转换为低级语言，计算机需要一些其他程序来翻译。
- en: This can be done while a program is running, in which case the translator program
    is called an *interpreter*. Applications that run using an interpreter are usually
    called *scripts*. The pyWings application in [Chapter 9](DDU0068_split_000.html#372)
    is an example of such a script application.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以在程序运行时完成，在这种情况下，翻译程序被称为*解释器*。使用解释器运行的应用程序通常被称为*脚本*。第9章中的pyWings应用程序就是一个这样的脚本应用程序。
- en: The problem with such script applications is that they can be slower, because
    the computer must run an interpreter, interpret the source code, and run the actual
    application all at the same time. This is like having a French book translated
    to a Greek speaker by a live interpreter — very slow indeed.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这种脚本应用程序的问题在于它们可能会更慢，因为计算机必须同时运行解释器、解释源代码以及运行实际应用程序。这就像让一个法语书籍被一个现场翻译员翻译给一个希腊语使用者——确实非常慢。
- en: As an alternative, many programs use a *compiler* instead of an interpreter.
    A compiler translates the high-level source code into low-level *machine code*,
    or *object code*, that the computer can understand before the application is actually
    run. Once this translation is done, the computer never has to bother with the
    high- level instructions again; it can merely read the translated version each
    and every time it runs the program. This is like reading a translated version
    of a foreign book that you can read any time you want to without assistance. Because
    computers can run compiled programs without simultaneously using an interpreter,
    compiled programs run faster. Most applications for all operating systems are,
    therefore, compiled.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一种替代方案，许多程序使用 *编译器* 而不是解释器。编译器将高级源代码翻译成计算机在应用程序实际运行之前可以理解的低级 *机器代码* 或 *目标代码*。一旦完成这种翻译，计算机就再也不必担心高级指令了；它每次运行程序时只需读取翻译后的版本即可。这就像阅读一本你可以随时阅读且无需帮助的外国书的翻译版本一样。因为计算机可以在不同时使用解释器的情况下运行编译程序，所以编译程序运行得更快。因此，所有操作系统的应用程序大多数都是编译的。
- en: '* * *'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '* * *'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'Tarballs: The Containers of Source'
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Tarballs：源代码的容器
- en: Almost all source packages come in the form of tarballs (tarballs and RPM files
    are both referred to as *packages,* which is why the icon for such files looks
    like a little parcel-post box). Tarballs, like ZIP files on Windows systems or
    StuffIt files on the Mac, consist of a group of files, or even a single file,
    which have been compressed into one space-saving archive file. In Linux, the most
    common method of creating such archives is through the tar program, from which
    the tarball gets its name. Tar files, or tarballs, can be recognized by their
    file endings, which are .tar.gz or tar.bz2.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 几乎所有的源代码包都是以 tarballs 的形式提供的（tarballs 和 RPM 文件都被称为 *packages*，这就是为什么这类文件的图标看起来像一个小包裹）。Tarballs，就像
    Windows 系统上的 ZIP 文件或 Mac 上的 StuffIt 文件一样，由一组文件组成，甚至是一个单独的文件，这些文件被压缩成一个节省空间的归档文件。在
    Linux 中，创建此类归档最常见的方法是通过 tar 程序，tarballs 因此得名。Tar 文件或 tarballs 可以通过它们的文件扩展名来识别，这些扩展名是
    .tar.gz 或 tar.bz2。
- en: You may or may not realize it, but you have already used tarballs in two of
    the previous chapters. In [Chapter 5](DDU0040_split_000.html#213) you dragged
    tarballs into your Theme Preferences window to install new window borders and
    control sets, and in [Chapter 9](DDU0068_split_000.html#372) you untarred a tarball
    (extracted the archived files) in order to set up and use the pyWings application.
    The files archived in tarballs can be extracted by using the command line, but
    to keep things easy, you can just use the simple double- click method that you
    used in [Chapter 9](DDU0068_split_000.html#372).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经意识到，也可能没有意识到，但你已经在前两个章节中使用了 tarballs。在[第 5 章](DDU0040_split_000.html#213)中，你将
    tarballs 拖入主题偏好设置窗口以安装新的窗口边框和控制集，而在[第 9 章](DDU0068_split_000.html#372)中，你解压了一个
    tarball（提取了归档文件）以设置和使用 pyWings 应用程序。tarballs 中的文件可以通过使用命令行提取，但为了方便起见，你只需使用在第 9
    章中使用的简单双击方法即可。
- en: '* * *'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '* * *'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'Project 11A: Compiling and Installing Xmahjongg'
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目 11A：编译和安装 Xmahjongg
- en: To get some hands-on experience with compiling a program from source, you will
    be working with a game called Xmahjongg. Now, you may think that, as you already
    have a GNOME mahjongg game and a KDE mahjongg game (not listed in the Main menu)
    installed on your system, having yet another mahjongg game is a tad redundant,
    to say the least. Maybe so, but in terms of gaming, the Xmahjongg game is easier
    on the eyes and snappier in performance. It looks prettier too, in my opinion.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 为了获得一些从源代码编译程序的实际经验，你将使用一个名为 Xmahjongg 的游戏。现在，你可能认为，既然你已经在系统上安装了 GNOME mahjongg
    游戏 和 KDE mahjongg 游戏（未列在主菜单中），再有一个 mahjongg 游戏有点多余。也许是这样，但就游戏而言，Xmahjongg 游戏在视觉上更易于接受，性能更敏捷。在我看来，它看起来也更漂亮。
- en: More important than these gaming points, though, is the fact that the Xmahjongg
    package provides a perfect opportunity to learn to compile a program from source
    and then install it. It is not too big, it doesn’t take too much time to do, and
    it requires no tinkering.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这些游戏点很重要，但更重要的是，Xmahjongg 软件包提供了一个完美的机会来学习从源代码编译程序然后安装它。它并不太大，不需要太多时间来完成，而且不需要调整。
- en: You can see what the final product will look like in [Figure 11-1](#figure.DDU112).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在[图 11-1](#figure.DDU112)中看到最终产品的样子。
- en: '[![Click To expand](1101.jpg)](1101_0.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '[![点击展开](1101.jpg)](1101_0.jpg)'
- en: 'Figure 11-1: The Xmahjongg game'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-1：Xmahjongg 游戏
- en: As you can see, it is all very simple and clearly laid out. In case you are
    not already familiar with this genre of mahjongg game, the idea is simple enough.
    Basically there are four of each tile in the pile. You must match pairs of like
    tiles that are open to one side. When you click the two matching open tiles, they
    will dis- appear. The object of the game is, thus, to remove all the tiles from
    the board. A very simple solitaire game.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，一切都非常简单且布局清晰。如果你还不熟悉这种麻将游戏类型，其想法足够简单。基本上，堆叠中有每种牌四张。你必须匹配一对面向一侧的相同牌面。当你点击两个匹配的开放牌面时，它们将消失。因此，游戏的目标就是从棋盘上移除所有牌面。这是一个非常简单的单人游戏。
- en: 'To compile and install Xmahjongg, you are going to use seven commands: **cd**
    (to get into the xmahjongg folder), **./configure** (to configure a makefile,
    which provides instructions for the next command), **make** (to translate the
    source code into object code that the computer can understand), **su** (to become
    root), **make install** (to install the program), **exit** (to get out of root
    mode), and **make clean** (to clean up the mess). I know that sounds like a lot
    of commands, but as I always say, it is easier to actually do than it looks like
    on the page, so fear not.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 要编译和安装 Xmahjongg，你将使用七个命令：**cd**（进入 xmahjongg 文件夹），**./configure**（配置 makefile，为下一个命令提供指令），**make**（将源代码转换为计算机可以理解的目标代码），**su**（成为
    root 用户），**make install**（安装程序），**exit**（退出 root 模式），以及 **make clean**（清理混乱）。我知道这听起来像很多命令，但正如我经常说的，实际上做起来比看起来容易，所以不要害怕。
- en: '*Getting the Xmahjongg Files*'
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*获取 Xmahjongg 文件*'
- en: 'To get started, you will first have to download the Xmahjongg file. You can
    get this from the Xmahjongg project page at: [http://www.lcdf.org/~eddietwo/](http://www.lcdf.org/~eddietwo/)
    xmahjongg/. Download the tarball **xmahjongg-3.6.1.tar.gz** or a newer version
    if there is one. Do not download any of the RPM files, even those that say they
    are for Red Hat.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，你首先需要下载 Xmahjongg 文件。你可以从 Xmahjongg 项目页面获取：[http://www.lcdf.org/~eddietwo/](http://www.lcdf.org/~eddietwo/)
    xmahjongg/。下载 tarball **xmahjongg-3.6.1.tar.gz** 或更高版本（如果有的话）。不要下载任何 RPM 文件，即使它们声称是为
    Red Hat 准备的。
- en: Once you have the file on your hard disk, you are ready to roll.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你将文件放在你的硬盘上，你就可以开始了。
- en: '*11A-1: Untarring, Compiling, and Installing*'
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*11A-1：解压、编译和安装*'
- en: Before you actually compile and install Xmahjongg, you have to extract the tarball’s
    source files, or *untar* the tarball.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在你实际编译和安装 Xmahjongg 之前，你必须提取 tarball 的源文件，或者说是 *解压* 这个 tarball。
- en: Untar the **xmahjongg-3.6.1.tar.gz** file by double-clicking the file icon.
    This will bring up the File Roller program.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击文件图标来解压 **xmahjongg-3.6.1.tar.gz** 文件。这将打开文件滚动程序。
- en: In the File Roller program window, click the **Extract** button.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文件滚动程序窗口中，点击 **解压** 按钮。
- en: When File Roller’s Extract window opens, click the **OK** button. Once File
    Roller is done, you can close the File Roller window. A new folder, xmahjongg-3.6.1,
    will now appear in your Home folder. [Figure 11-2](#figure.DDU113) shows the contents
    of the xmahjongg-3.6.1 folder.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当文件滚动程序的解压窗口打开时，点击 **确定** 按钮。一旦文件滚动程序完成，你可以关闭文件滚动程序窗口。现在，一个新的文件夹，名为 xmahjongg-3.6.1，将出现在你的主文件夹中。[图
    11-2](#figure.DDU113) 展示了 xmahjongg-3.6.1 文件夹的内容。
- en: '[![Click To expand](1102.jpg)](1102_0.jpg)'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[![点击展开](1102.jpg)](1102_0.jpg)'
- en: 'Figure 11-2: The contents of the folder created by extracting the Xmahjongg
    tarball'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-2：解压 Xmahjongg tarball 创建的文件夹内容
- en: Scroll down through the xmahjongg-3.6.1 folder contents and look for a file
    called **INSTALL**. The INSTALL file is actually just a text file with a set of
    instructions on how to install the program. To read the INSTALL file, just double-click
    it, and it will open in the same Nautilus window, as shown in [Figure 11-3](#figure.DDU114).
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动查看 xmahjongg-3.6.1 文件夹的内容，寻找一个名为 **INSTALL** 的文件。实际上，INSTALL 文件只是一个包含如何安装程序指令的文本文件。要阅读
    INSTALL 文件，只需双击它，它将在相同的 Nautilus 窗口中打开，如图 [11-3](#figure.DDU114) 所示。
- en: '[![Click To expand](1103.jpg)](1103_0.jpg)'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[![点击展开](1103.jpg)](1103_0.jpg)'
- en: 'Figure 11-3: Reading a tarball’s INSTALL file in a Nautilus window'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-3：在 Nautilus 窗口中阅读 tarball 的 INSTALL 文件
- en: In this case, you can simply close the INSTALL file, as it prescribes the same
    steps as I’ve listed below. However, in the future, when you install other programs
    from source, you will need to follow the instructions in the INSTALL files that
    come with the source files for those programs. With most INSTALL files, the instructions
    will match those that follow.
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这个例子中，你可以简单地关闭 INSTALL 文件，因为它规定的步骤与我下面列出的步骤相同。然而，在未来，当你从源代码安装其他程序时，你需要遵循随源代码文件提供的
    INSTALL 文件中的说明。对于大多数 INSTALL 文件，说明将与以下说明相匹配。
- en: Open a Terminal window by clicking the Terminal launcher on the GNOME Panel,
    and then move into the new folder by typing cd xmahjongg-3.6.1 and pressing ENTER.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击 GNOME 面板上的终端启动器来打开一个终端窗口，然后通过输入 cd xmahjongg-3.6.1 并按回车键进入新文件夹。
- en: The next step is sort of a setup phase that runs the configure script in the
    xmahjongg-3.6.1 folder. The configure script checks what files, compilers, and
    other things it needs, and then it searches your computer to see if those things
    are there, and if so, where. Based on this information, it then writes a file
    called **makefile**, which is a set of instructions that will tell the **make**
    command in the subsequent step how to set things up specifically for your system
    configuration.
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 下一个步骤类似于设置阶段，它会在 xmahjongg-3.6.1 文件夹中运行配置脚本。配置脚本检查它需要哪些文件、编译器和其他东西，然后搜索你的计算机以查看这些是否已经存在，以及它们在哪里。基于这些信息，它随后会写一个名为
    **makefile** 的文件，这是一个指令集，将在后续步骤中告诉 **make** 命令如何针对你的系统配置进行具体设置。
- en: While you are running **configure**, you will see lots of odd and mysterious
    things flowing down your Terminal window; this is essentially a running account
    of what is going on, each step of the way. Depending on the program you are dealing
    with, this could take a bit of time — a few seconds or a few minutes. Either way,
    you needn’t worry. As long as the mysterious text keeps flowing and you don’t
    get an error message at the very end of the whole process, all will be well.
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当你在运行 **configure** 时，你会在终端窗口中看到很多奇怪和神秘的事物流下来；这实际上是正在进行的记录，每一步都在进行。根据你处理的程序，这可能需要一点时间——几秒钟或几分钟。无论如何，你无需担心。只要神秘的文本继续流动，并且在整个过程的最后没有错误信息，一切都会顺利。
- en: Compile the program by typing ./configure and pressing ENTER.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过输入 ./configure 并按回车键来编译程序。
- en: When **configure** has done its thing, you will see your prompt again, and you
    can go on to the next step, which is the translation step. The **make** command
    reads the makefile that **configure** created to see how things need to be set
    up on your machine. Then it proceeds to call on the compiler to translate the
    high-level source code into low-level, machine-readable files that can be installed
    in the subsequent step.
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当 **configure** 完成其工作后，你将再次看到提示符，然后你可以继续到下一个步骤，即翻译步骤。**make** 命令读取 **configure**
    创建的 makefile，以查看在你的机器上需要如何设置。然后它继续调用编译器将高级源代码翻译成低级、机器可读的文件，这些文件可以在后续步骤中安装。
- en: To perform this translation, type make and press ENTER.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要执行此翻译，输入 make 并按回车键。
- en: Again, you will be treated to more mysterious text flowing down the screen and
    a short wait, usually a tad longer than for the configure process.
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 再次，你将看到更多神秘文本在屏幕上流动，以及一段短暂的等待，通常比配置过程稍长。
- en: Once **make** has done its job and you see your prompt again, you are ready
    to install the program. However, because some of these files created by **make**
    must go into places guarded by root permissions, you must first become root by
    using the **su** command before doing anything else.
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一旦 **make** 完成其工作并且你再次看到提示符，你就可以安装程序了。然而，由于一些由 **make** 创建的文件必须放入由 root 权限保护的区域，你必须在执行其他任何操作之前，使用
    **su** 命令首先成为 root 用户。
- en: Become root by typing su and pressing ENTER.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过输入 su 并按回车键来成为 root 用户。
- en: Type your root password when prompted to do so, and then press ENTER.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当提示输入 root 密码时，输入你的 root 密码，然后按回车键。
- en: Up to this point, you have not changed your system in any way. All the changes
    thus far have taken place in the xmahjongg-3.6.1 folder only. Your system is still
    as pure as the day you started. Of course, all that is going to end now, as you
    are about to install into your system the files that **make** created.
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 到目前为止，你还没有以任何方式改变你的系统。迄今为止的所有更改都只发生在 xmahjongg-3.6.1 文件夹中。你的系统仍然像你开始时一样纯净。当然，现在这一切都将结束，因为你即将将
    **make** 创建的文件安装到你的系统中。
- en: Type make install and then press ENTER.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入 make install 并按回车键。
- en: Once **make install** is done installing the program, your prompt will reappear.
    Now type exit and press ENTER to exit root mode.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦**make install**完成程序的安装，你的提示符将重新出现。现在输入exit并按回车键退出root模式。
- en: Type cd and press ENTER to return to user’s Home, and leave your Terminal window
    open for the time being.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入cd并按回车键返回用户的主目录，暂时保持终端窗口打开。
- en: '*11A-2: Running Xmahjongg*'
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*11A-2：运行Xmahjongg*'
- en: As a general rule, programs compiled from source do not automatically install
    a launcher in your Main menu. Although you can run a program for the first time
    by going to the Main menu, selecting **Run Program**, and then typing the program
    name in the dialog box, it is better to run the program for the first time by
    typing the command for the new program in your Terminal window. If anything has
    gone amiss during installation, the Terminal will tell you what the problem is,
    whereas the Run Program method would just leave you wondering what’s going on.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 通常情况下，从源代码编译的程序不会自动在主菜单中安装启动器。虽然你可以通过前往主菜单，选择**运行程序**，然后在对话框中输入程序名称来首次运行程序，但最好是通过在终端窗口中输入新程序的命令来首次运行程序。如果在安装过程中出现任何问题，终端会告诉你问题是什么，而运行程序的方法只会让你感到困惑，不知道发生了什么。
- en: Usually the program’s command name is written in the INSTALL file or the README
    file within the directory that was created when you extracted the source files
    from the tarball (xmahjongg-3.6.1 in this case). Sometimes you won’t find it there,
    but you can find it on the project page for that application on the Internet.
    Other times, however, you can’t find it there either, so you’ll just have to resort
    to guessing. Sometimes the hardest part of compiling a program from source is
    not, as you now know, compiling it, but rather finding out what the command to
    run it is. Usually, it is just the name of the tarball, minus the file endings.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，程序的命令名称写在从tar包（在这种情况下是xmahjongg-3.6.1）中提取源文件时创建的目录中的INSTALL文件或README文件中。有时你可能会在那里找不到它，但你可以在网上该应用程序的项目页面上找到它。然而，有时你甚至在那里也找不到它，所以你只能求助于猜测。有时从源代码编译程序最难的部分不是编译它，而是找出运行它的命令是什么。通常，它只是tar包的名称，减去文件扩展名。
- en: It is time to make sure that all went well with the Xmahjongg program installation.
    In your Terminal window, type xmahjongg and press ENTER. If all is as it should
    be, and there is no reason it shouldn’t, the Xmahjongg program will open within
    seconds and all will be well. You can now goof around with the game for a while,
    if you like, or get straight back to cleaning up, which is an easy enough process.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候确保Xmahjongg程序安装一切顺利了。在你的终端窗口中输入xmahjongg并按回车键。如果一切如预期，没有理由不应该是这样，Xmahjongg程序将在几秒钟内打开，一切都会顺利。如果你喜欢，现在可以玩一会儿游戏，或者直接回到清理工作，这是一个足够简单的过程。
- en: '*11A-3: Cleaning Up*'
  id: totrans-62
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*11A-3：清理*'
- en: Once you are all done compiling and installing your new application, you will
    find that you have a lot of extra files in your original source folder that you
    no longer need. As I mentioned before, the **make** command created translations
    of all the source code files, and those low-level language versions of the files
    were then installed in the **make install** step. Now that your installation is
    complete, you don’t need those files anymore; they have all been copied elsewhere.
    The translated files in your source folder are just sitting there rudely wasting
    disk space.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你完成编译和安装你的新应用程序，你会在原始源文件夹中发现很多不再需要的额外文件。正如我之前提到的，**make**命令创建了所有源代码文件的翻译版本，然后在**make
    install**步骤中安装了这些低级语言版本的文件。现在你的安装已经完成，你不再需要这些文件了；它们已经被复制到其他地方。你源文件夹中的翻译文件只是在那里粗鲁地浪费磁盘空间。
- en: Getting rid of these space wasters is simple enough, fortunately. The **make
    clean** command will remove all the extraneous translated versions of your source
    files. However, it sometimes happens that **make clean** will also clean out your
    makefile, which is bad, because the makefile often allows you to uninstall the
    program you’ve installed with it. Before running the **make clean** command, therefore,
    it is a good idea to copy the makefile to the desktop. Then, once you are done
    with **make clean**, you can check to see if the makefile is still in the project
    folder or not. If it is, you can trash the makefile on your desktop. If the makefile
    is not in the project folder, you can move the desktop makefile back into that
    folder.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 清除这些空间占用者很简单，幸运的是。**make clean**命令将删除你源文件的所有额外翻译版本。然而，有时**make clean**也会清理你的makefile，这是不好的，因为makefile通常允许你使用它卸载你安装的程序。因此，在运行**make
    clean**命令之前，将makefile复制到桌面是一个好主意。然后，一旦你完成了**make clean**，你可以检查makefile是否仍然在项目文件夹中。如果是，你可以在桌面上删除makefile。如果makefile不在项目文件夹中，你可以将桌面上的makefile移回该文件夹。
- en: 'Here are the steps:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是步骤：
- en: Type cd xmahjongg-3.6.1 and hit ENTER to return to the xmahjongg-3.6.1 folder.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`cd xmahjongg-3.6.1`并按回车键返回到xmahjongg-3.6.1文件夹。
- en: Type make clean and press ENTER. You needn’t be root to do this.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`make clean`并按回车键。你不需要是root用户来做这件事。
- en: After **make clean** is finished with its tidying chores, you are done, and
    you will have saved a bit of disk space. In the case of the xmahjongg-3.6.1 directory,
    you will find that it will shrink from 4.2MB to only 867KB (under one megabyte)
    or thereabouts.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**make clean**完成其整理工作后，你就完成了，你将节省一点磁盘空间。在xmahjongg-3.6.1目录的情况下，你会发现它将从4.2MB缩小到仅867KB（不到一兆字节）左右。
- en: Close your Terminal window by typing exit and then pressing ENTER.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过输入`exit`并按回车键关闭你的终端窗口。
- en: If Xmahjongg is running as it should and you are satisfied with it to the extent
    that you are sure that you do not want to uninstall it, you can now haul the xmahjongg-3.6.1
    folder to the Trash. If you aren’t all that impressed and wouldn’t mind dumping
    it right away, move on to 11A-4.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果Xmahjongg运行正常，并且你对它的满意程度足以确信你不想卸载它，你现在可以将xmahjongg-3.6.1文件夹拖到垃圾桶。如果你并不那么印象深刻，并且不介意立即删除它，请继续到11A-4。
- en: And that is that! You have compiled a program from source, installed it, and
    even cleaned up after yourself. As you can see, there’s really nothing to it!
    It is most definitely time for a self-administered pat on the back.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样！你已经从源代码编译了一个程序，安装了它，甚至清理了现场。正如你所看到的，这真的没什么难的！现在确实是时候给自己一个自我表扬了。
- en: '*11A-4: Second Thoughts — Uninstalling Xmahjongg*'
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*11A-4：重新考虑——卸载Xmahjongg*'
- en: Let’s say that you installed a program through this compiling process, and you
    don’t like or need it — you just want to get it out of there. Usually you can
    uninstall the program, provided the pesky makefile is still there in the project
    folder (hence my warning in the previous “Cleaning Up” section), with the **make
    uninstall** command. You might first want to check out the INSTALL or README file
    to see if **make uninstall** is supported or if there is another uninstall method.
    Sometimes, however, the uninstall method is not specified, so you will just have
    to give it a go to find out if **make uninstall** works or not. There is no danger
    in this, because if it isn’t supported, nothing will happen.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你通过这个编译过程安装了一个程序，但你不喜欢或不需要它——你只是想把它从那里移除。通常，如果你在项目文件夹中仍然有那个讨厌的makefile，你可以使用**make
    uninstall**命令来卸载程序。你可能首先想查看INSTALL或README文件，看看是否支持**make uninstall**或者是否有其他卸载方法。然而，有时卸载方法并没有指定，所以你只能试一试，看看**make
    uninstall**是否有效。这没有危险，因为如果不支持，什么也不会发生。
- en: 'Anyway, Xmahjongg is a good example. There is no information in either the
    INSTALL or README files about uninstalling the program, so to find out if you
    can use **make uninstall***,* you have to go through the more or less standard
    steps:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 无论如何，Xmahjongg是一个很好的例子。在INSTALL或README文件中都没有关于卸载程序的信息，所以为了找出你是否可以使用**make uninstall**，你必须经过或多或少标准的步骤：
- en: Open a Terminal window and become root by typing su and pressing ENTER. Then
    type your root password and press ENTER.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个终端窗口，通过输入`su`并按回车键成为root用户。然后输入你的root密码并按回车键。
- en: Use the **cd** command to move over to the xmahjongg-3.6.1 folder by typing
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**cd**命令通过输入
- en: '[PRE0]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Type make uninstall and press ENTER.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`make uninstall`并按回车键。
- en: 'When you’re done, you should see a stream of text flowing down your Terminal
    window for a few seconds. If you take a look at the text after it has stopped
    flowing and you are back at the root prompt, you will see that it actually consists
    of information that you now more or less understand: a series of **cd**, **rm**,
    and **rmdir** commands.'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当你完成时，你应该会在你的终端窗口中看到一段文本流下几秒钟。如果你在它停止流动并回到root提示符后查看文本，你会发现它实际上是由你现在或多或少理解的信息组成：一系列**cd**、**rm**和**rmdir**命令。
- en: To make sure that Xmahjongg really is uninstalled, type exit and press ENTER
    to get yourself out of root mode, and then type xmahjongg and press ENTER to try
    to run the program. You should be told that the command cannot be found. If this
    is the case, you have successfully rid your computer of Xmahjongg.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了确保Xmahjongg确实被卸载，请输入exit并按回车键退出root模式，然后输入xmahjongg并按回车键尝试运行程序。你应该会被告知找不到该命令。如果是这种情况，你已成功从你的电脑中移除了Xmahjongg。
- en: This is basically the same way you would go about uninstalling any other package
    that you originally installed in this non-RPM manner. If it works, it works, and
    if it doesn’t . . . well, then you will have to read the makefile (by double-clicking
    it) to see where everything was placed, and then trash all the files one by one.
    That’s a big pain, and you might screw something up in the process, so I recommend
    you just ignore the program instead, at least at this stage of the game.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这基本上是你以这种方式卸载任何其他最初以非RPM方式安装的软件包的方法。如果它有效，那就有效，如果它不有效的话……好吧，那么你将不得不通过双击它来阅读makefile，看看所有东西都放在了哪里，然后逐个删除所有文件。这真的很痛苦，你可能在过程中搞砸了某些东西，所以我建议你至少在这个游戏的这个阶段忽略这个程序。
- en: '* * *'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '* * *'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'Project 11B: XPenguins (Optional)'
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目11B：XPenguins（可选）
- en: Aha! Just as I expected; you are so overwhelmed by your sense of accomplishment
    that you’ve become hungry for more. To satisfy your desires, I will give you another
    little project that you can do on your own. It is a two-parter that will put more
    of your skills to work.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 哎呀！正如我所预料的那样；你被自己的成就感冲昏了头脑，渴望更多。为了满足你的愿望，我将给你另一个小项目，你可以自己完成。这是一个分两部分的项目，将让你更多地运用你的技能。
- en: This do-it-yourself project is a goofy little desktop amusement called XPenguins.
    The program releases an absolute swarm of penguins upon your desktop, where they
    drop down by balloon, read books, march atop your windows and Panel, and even
    drill holes in things (see [Figure 11-4](#figure.DDU115)). Admittedly, XPenguins
    is another one of those system resource wasters; it’s absolutely useless, but,
    depending on your view of things, quite cute and amusing. If nothing else, having
    all those penguins goofing around on your screen will give your system a more
    Linux-ish look.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 这个DIY项目是一个叫做XPenguins的有趣的小桌面娱乐程序。该程序在你的桌面上释放了一群企鹅，它们通过气球降下，读书，走在你的窗口和面板上，甚至还在东西上钻孔（见图11-4）。诚然，XPenguins是那些系统资源浪费者之一；它完全无用，但根据你的观点，相当可爱和有趣。至少，所有这些企鹅在你的屏幕上闲逛会给你的系统带来更Linux化的外观。
- en: '[![Click To expand](1104.jpg)](1104_0.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '[![点击展开](1104.jpg)](1104_0.jpg)'
- en: 'Figure 11-4: XPenguins in action'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图11-4：XPenguins在行动
- en: '*Getting the XPenguins Files*'
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*获取XPenguins文件*'
- en: You will need two different files for this project. The first is the actual
    XPenguins program, which you can get from [http://dag.wieers.com/packages/xpenguins.](http://dag.wieers.com/packages/xpenguins)
    On that page, just download the newest XPenguins file appropriate for your system.
    If you added DAG to Synaptic’s list of repositories as I explained in [Chapter
    10](DDU0076_split_000.html#452), you can also download the file by running Synaptic,
    typing xpenguins in Synaptic’s **Find** box, and then following the standard Synaptic
    installation procedures.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要两个不同的文件来完成这个项目。第一个是实际的XPenguins程序，你可以从[http://dag.wieers.com/packages/xpenguins.](http://dag.wieers.com/packages/xpenguins)获取。在那个页面上，只需下载适合你系统的最新XPenguins文件。如果你像我在第10章中解释的那样将DAG添加到Synaptic的仓库列表中，你也可以通过运行Synaptic，在Synaptic的**查找**框中输入xpenguins，然后遵循标准的Synaptic安装程序来下载文件。
- en: The other file you will need is a GNOME Panel applet with which you can release
    the penguins to scamper about your screen when you’re in the mood and then get
    rid of them once they begin to annoy you. To get this file, go to the XPenguins
    project homepage at [http://www.xpenguins.seul.org.](http://www.xpenguins.seul.org)
    Once there, download **xpenguins-applet-2.1.0.tar.gz** (the GNOME Panel applet).
    If you happen to be using Red Hat Linux 8, get **xpenguins-applet-2.0.1.tar.gz**
    instead of 2.1.0.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 你还需要另一个文件，这是一个GNOME面板小程序，你可以用它来在你心情好的时候让企鹅在你的屏幕上四处乱跑，一旦它们开始让你烦恼，你就可以把它们清除掉。要获取这个文件，请访问XPenguins项目主页[http://www.xpenguins.seul.org.](http://www.xpenguins.seul.org)。一旦到达那里，下载**xpenguins-applet-2.1.0.tar.gz**（GNOME面板小程序）。如果你恰好在使用Red
    Hat Linux 8，请使用**xpenguins-applet-2.0.1.tar.gz**而不是2.1.0。
- en: '*11B-1: The General Steps*'
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*11B-1: 一般步骤*'
- en: 'The first step is to install the **xpenguins RPM** as you learned to do in
    [Chapter 8](DDU0064_split_000.html#345). Once you’ve done that, extract the **xpenguins-applet-2.1.0.tar.gz**
    tarball, cd to the new folder that was created when you extracted the tarball,
    and then follow the steps you’ve learned in this chapter: **./configure**, **make**,
    **make install**, and **make clean**, but in this case, per the instructions in
    the INSTALL file, instead of just typing ./configure, type this:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是安装**xpenguins RPM**，就像你在[第8章](DDU0064_split_000.html#345)中学到的那样。一旦完成，解压**xpenguins-applet-2.1.0.tar.gz**压缩包，切换到解压后创建的新文件夹，然后按照本章学到的步骤进行：**./configure**，**make**，**make
    install**，和**make clean**，但在此情况下，根据INSTALL文件中的说明，不要只是输入./configure，而是输入以下内容：
- en: '[PRE1]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '*11B-2: Running XPenguins*'
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*11B-2: 运行XPenguins*'
- en: You could simply run XPenguins by typing xpenguins in the Run Command window
    or the Command Terminal, but if you did that, getting rid of your new, pesky little
    friends would be more of a chore. Instead, add the XPenguins applet, which you’ve
    just compiled, to the GNOME Panel by right-clicking the Panel and selecting **Add
    to Panel** > **Amusements** > **XPenguins** in the pop-up menu. If XPenguins doesn’t
    appear in the menu straightaway, try again the next time you restart your machine.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以直接在运行命令窗口或命令终端中输入xpenguins来运行XPenguins，但如果你这样做，清除你新添的讨厌的小朋友们将会变成一项更加繁琐的任务。相反，通过右键点击面板，在弹出菜单中选择**添加到面板**
    > **娱乐** > **XPenguins**，将你刚刚编译的XPenguins小程序添加到GNOME面板中。如果XPenguins没有立即出现在菜单中，请在下次重启机器时再次尝试。
- en: With this Panel applet (see [Figure 11-5](#figure.DDU116)), you can bring on
    the penguins by clicking the top button, and then send them back where they came
    from by clicking the bottom button. A very convenient arrangement, to be sure.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个面板小程序（见图11-5），你可以通过点击顶部按钮来召唤企鹅，然后通过点击底部按钮将它们送回原来的地方。这确实是一个非常方便的安排。
- en: '![](1105.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](1105.jpg)'
- en: 'Figure 11-5: The XPenguins Panel applet (and some more penguins in action)'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图11-5：XPenguins面板小程序（和一些正在活动的企鹅）
- en: '*11B-3: Installing Themes for XPenguins*'
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '*11B-3: 为XPenguins安装主题*'
- en: If you like the concept of XPenguins, but not the penguins themselves, right-
    click the XPenguins Panel applet and select **Properties** in the pop-up menu.
    In the Properties window, click the **Themes** tab, and you will find a few non-
    penguin alternatives. If none of these satisfies you, you can go back to the XPenguins
    project page and download an additional package that contains several cartoon-character
    themes, such as the Simpsons. The theme package is available as a tarball, but
    for convenience’s sake, just download the RPM file **xpenguins_themes-1.0-1.noarch.rpm**
    and install it.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你喜欢XPenguins的概念，但不喜欢企鹅本身，请右键点击XPenguins面板小程序，并在弹出菜单中选择**属性**。在属性窗口中，点击**主题**标签，你将找到一些非企鹅的替代选项。如果这些选项中没有令你满意的，你可以回到XPenguins项目页面并下载一个包含几个卡通角色主题的附加包，例如辛普森一家。主题包可以作为压缩包提供，但为了方便起见，只需下载RPM文件**xpenguins_themes-1.0-1.noarch.rpm**并安装它。
- en: '* * *'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
