- en: Chapter 10. CONNECTING YOUR NETWORK TO THE INTERNET
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第10章。连接您的网络到互联网
- en: All of the other benefits of a home network—file sharing, internal web hosting,
    and so forth—are handy, but the main reason that most people want to connect all
    of their household computers together is to share a high-speed Internet connection.
    In a business, those other services are more important than they are at home,
    but Internet access for everybody is still important. This chapter explains how
    to connect a network to the Internet and how to set up each computer to connect
    to the Internet through the network.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 家庭网络的所有其他好处——文件共享、内部网站托管等等——都很方便，但大多数人想要将所有家庭计算机连接在一起的主要原因是为了共享高速互联网连接。在企业中，这些其他服务比在家中的更重要，但每个人的互联网接入仍然很重要。本章解释了如何将网络连接到互联网以及如何设置每台计算机通过网络连接到互联网。
- en: The Internet is often described as a "network of networks." In other words,
    the Internet provides a way to exchange data between your own LAN and millions
    of other networks. Before you can exchange data between your local network and
    the Internet, however, you (or your network manager) must configure your network
    gateway, and before you can connect a computer to the Internet through that gateway,
    you must configure that computer's Internet settings.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网通常被描述为“网络的网络”。换句话说，互联网为您自己的局域网和数百万其他网络之间交换数据提供了一种方式。然而，在您可以在本地网络和互联网之间交换数据之前，您（或您的网络管理员）必须配置您的网络网关，并且您必须配置计算机的互联网设置，才能通过该网关将计算机连接到互联网。
- en: 'The Internet: From the Cloud to You'
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 互联网：从云端到您
- en: Network diagrams traditionally show the Internet as a big cloud. Inside that
    cloud are millions of computers, routers, and other equipment located all over
    the world, but the internal operation of that equipment is Somebody Else's Problem;
    when you're hooking up your own network, the Internet is simply a huge, shapeless
    *thing* that performs in a predictable manner.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 网络图传统上显示互联网为一个巨大的云。在这个云内部有数百万台计算机、路由器和位于世界各地的其他设备，但该设备的内部操作是别人的问题；当您连接自己的网络时，互联网只是一个巨大、无形的*东西*，以可预测的方式运行。
- en: '[Figure 10-1](ch10.html#the_internet_communicates_with_your_com "Figure 10-1. The
    Internet communicates with your computer through a local network.") shows the
    connection from the Internet through your local network to individual computers.
    Those computers can be any kind of network-attached device, such as a printer,
    a network-attached storage (NAS) device disk drive, or a pocket-size smartphone,
    but for the sake of this discussion, let''s think of all those things as types
    of computers. In order to send and receive data between your computer and the
    Internet, you must supply certain information to the Internet, and the Internet
    provides other information to you.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[图10-1](ch10.html#the_internet_communicates_with_your_com "图10-1. 互联网通过本地网络与您的计算机通信。")展示了从互联网通过您的本地网络到个别计算机的连接。这些计算机可以是任何类型的网络连接设备，例如打印机、网络连接存储(NAS)设备硬盘驱动器或口袋大小的智能手机，但为了讨论方便，让我们将这些视为计算机的类型。为了在您的计算机和互联网之间发送和接收数据，您必须向互联网提供某些信息，而互联网则向您提供其他信息。'
- en: '![The Internet communicates with your computer through a local network.](tagoreillycom20090324nostarchimages266312.png.jpg)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![互联网通过本地网络与您的计算机通信。](tagoreillycom20090324nostarchimages266312.png.jpg)'
- en: '**Figure 10-1. The Internet communicates with your computer through a local
    network.**'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '**图10-1. 互联网通过本地网络与您的计算机通信。**'
- en: The Modem
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 调制解调器
- en: Your LAN probably connects to the Internet through a high-speed telephone line
    or a cable TV system. The device that converts digital data to and from the LAN
    to signals that can move through the phone line or cable is a *modem (*mo*dulator/*dem*odulator)*.
    In most cases, the modem is combined with a gateway router, but some cable TV
    companies and telephone companies provide stand-alone modems that can connect
    either directly to a single computer or through a router or switch to a LAN.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 您的局域网可能通过高速电话线或有线电视系统连接到互联网。将数字数据从局域网转换到可以通过电话线或电缆传输的信号的设备是*调制解调器（*调制器/解调器）*。在大多数情况下，调制解调器与网关路由器结合使用，但一些有线电视公司和电话公司提供独立的调制解调器，可以直接连接到单个计算机，或者通过路由器或交换机连接到局域网。
- en: For the purposes of this chapter, you can think of a modem as a type of router.
    The differences between a modem and a router are that a modem includes the internal
    hardware that performs *modulation* and *demodulation* activities along with the
    software that provides the connection settings. The configuration settings that
    control the connections between the Internet and your local network are generally
    the same in both modems and routers.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的目的上，您可以将调制解调器视为一种路由器。调制解调器和路由器之间的区别在于，调制解调器包括执行*调制*和*解调*活动的内部硬件以及提供连接设置的软件。控制互联网和您的本地网络之间连接的配置设置在调制解调器和路由器中通常是相同的。
- en: Note
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: A dial-up modem that uses the voice telephone network to connect your computer
    to the Internet operates in a similar manner to a high-speed modem, but it uses
    a much slower connection.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 使用语音电话网络连接您的计算机到互联网的拨号调制解调器以类似的方式运行，但它的连接速度要慢得多。
- en: The Gateway Router
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网关路由器
- en: 'As [Chapter 3](ch03.html "Chapter 3. HUBS, SWITCHES, AND ROUTERS") explained,
    the router that connects the Internet to your local network has a point of presence
    in two different networks: your Internet service provider''s wide area network
    (WAN) and your own local area network (LAN). The WAN is part of the much larger
    Internet cloud.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如[第3章](ch03.html "第3章。交换机、路由器和网关")所述，连接互联网到您本地网络的网关路由器在两个不同的网络中都有一个存在点：您的互联网服务提供商的广域网（WAN）和您自己的局域网（LAN）。WAN是更大的互联网云的一部分。
- en: 'Therefore, the router has two different addresses: one address on the WAN and
    a different address on the LAN. The router''s job is to exchange data in both
    directions between these two networks. In certain respects, the Internet treats
    the router the same way that the router treats the other computers on the network,
    but the Internet uses different addresses to accomplish those goals. One of the
    important activities that occurs inside the router is network address translation.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，路由器有两个不同的地址：WAN上的一个地址和LAN上的另一个地址。路由器的任务是在这两个网络之间交换数据。在某种程度上，互联网对待路由器的方式与路由器对待网络上的其他计算机的方式相同，但互联网使用不同的地址来实现这些目标。在路由器内部发生的重要活动之一是网络地址转换。
- en: 'Your router''s Setup utility shows two groups of settings: one for the WAN
    and one for the LAN. The WAN side identifies the router to the Internet with a
    unique numeric address. That address can be either *fixed* or *static*, which
    means that it is always exactly the same, or *dynamic*, which means that a server
    at the WAN assigns the next available address from a pool every time the router
    connects to the WAN. Dynamic address assignment uses a process called Dynamic
    Host Configuration Protocol (DHCP), which is described in "DHCP Servers On or
    Off" in [DHCP Servers On or Off](ch10.html#dhcp_servers_on_or_off "DHCP Servers
    On or Off").'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 您的路由器设置实用程序显示了两组设置：一组用于WAN，另一组用于LAN。WAN端使用一个唯一的数字地址来识别路由器到互联网。该地址可以是*固定*的或*静态*的，这意味着它始终完全相同，或者*动态*的，这意味着每次路由器连接到WAN时，WAN上的服务器都会从地址池中分配下一个可用的地址。动态地址分配使用称为动态主机配置协议（DHCP）的过程，这在[DHCP服务器开启或关闭](ch10.html#dhcp_servers_on_or_off
    "DHCP服务器开启或关闭")中进行了描述。
- en: The gateway router typically specifies the numeric address of one or more *Domain
    Name System (DNS)* servers that convert Internet addresses that use words (such
    as [nostarch.com](http://nostarch.com)) into numeric addresses. Without a DNS
    server to consult, the WAN won't know where to direct email messages, requests
    for web pages, or any other attempts to communicate with a destination on the
    Internet. Your Internet service provider will provide the addresses of one or
    more DNS servers.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 网关路由器通常指定一个或多个*域名系统（DNS）*服务器的数字地址，这些服务器将使用单词（如[nostarch.com](http://nostarch.com)）的互联网地址转换为数字地址。如果没有DNS服务器进行查询，WAN将不知道将电子邮件消息、网页请求或任何其他与互联网上的目标通信的尝试发送到何处。您的互联网服务提供商将提供一个或多个DNS服务器的地址。
- en: The router also needs a *gateway address* and a *subnet mask*. The *gateway*
    is the next router in line between the WAN and the rest of the Internet; the subnet
    mask tells the WAN which numbers in the router's IP address identify the router
    and which generic numbers identify the WAN. For example, the most common subnet
    mask is 255.255.255.0, which means that the last of the four numbers is different
    for each node. In other words, if your WAN controls all the addresses in the 123.223.123.*XXX*
    group, your address might be 123.223.123.103, and another customer's address on
    the same WAN might be 123.223.123.117.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 路由器还需要一个 *网关地址* 和一个 *子网掩码*。*网关* 是 WAN 和互联网其他部分之间的下一个路由器；子网掩码告诉 WAN 路由器 IP 地址中的哪些数字标识路由器，哪些通用数字标识
    WAN。例如，最常用的子网掩码是 255.255.255.0，这意味着四个数字中的最后一个对每个节点都是不同的。换句话说，如果你的 WAN 控制着 123.223.123.*XXX*
    组中的所有地址，那么你的地址可能是 123.223.123.103，而在同一 WAN 上的另一个客户的地址可能是 123.223.123.117。
- en: The specific numbers your router uses are absolutely essential; if you don't
    have them exactly correct, the router won't connect to the Internet. But understanding
    what they mean is less important than getting them right. Your Internet service
    provider will supply the numbers to use when you set up a new account. Write the
    numbers in the same place where you keep account numbers and other important computer-related
    information.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 路由器使用的具体数字绝对至关重要；如果你没有完全正确，路由器将无法连接到互联网。但理解它们的意义不如正确使用它们重要。当你设置新账户时，你的互联网服务提供商将提供要使用的数字。将这些数字写在保存账户号码和其他重要计算机相关信息的同一地方。
- en: Note
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: When a separate DSL or cable modem is between the gateway router and the Internet,
    the modem often provides the static IP address and other information to the Internet
    and the local network. In this situation, the gateway router relays the necessary
    addresses between the modem and the rest of the local network.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 当在网关路由器和互联网之间有一个独立的 DSL 或电缆调制解调器时，调制解调器通常向互联网和本地网络提供静态 IP 地址和其他信息。在这种情况下，网关路由器在调制解调器和本地网络的其他部分之间中继必要的地址。
- en: The LAN settings for your router or modem control the way your local network
    operates. The specific settings in each computer connected to the network must
    be within the ranges defined by the router or modem. The next section explains
    how each of these LAN-side settings works.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 你路由器或调制解调器的局域网设置控制着你的本地网络如何运行。连接到网络的每台计算机的具体设置必须在路由器或调制解调器定义的范围内。下一节将解释这些局域网设置中的每一个是如何工作的。
- en: Individual Computers
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 单独的计算机
- en: 'Each computer connected to a LAN must have the same configuration settings
    in relation to the router that the router has with the WAN: a numeric IP address,
    a network mask, and addresses for a gateway to the Internet and one or more DNS
    servers. As the person responsible for your network, you must set up a DHCP server
    and either provide these values to each of your users and make sure they enter
    them correctly or type them into each computer and network device yourself.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 连接到局域网的每台计算机都必须在与路由器的关系上具有相同的配置设置：一个数字 IP 地址、一个网络掩码以及指向互联网的网关地址和一个或多个 DNS 服务器。作为你网络的责任人，你必须设置一个
    DHCP 服务器，或者将这些值提供给每个用户并确保他们正确输入，或者亲自将它们输入到每台计算机和网络设备中。
- en: The differences between setting up a router to talk to the Internet and setting
    up a computer to talk to the local area network are (1) the router has two groups
    of settings (the WAN and the LAN), but the computer has only one; and (2) the
    router obtains its WAN settings from your Internet service provider, but the local
    computer gets many of the same settings from the router. Therefore, you should
    almost always set up the gateway router in your network first—before you add computers
    to the network.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 设置路由器与互联网通信和设置计算机与局域网通信之间的区别是：(1) 路由器有两个设置组（WAN 和 LAN），但计算机只有一个；以及(2) 路由器从你的互联网服务提供商那里获取其
    WAN 设置，但本地计算机从路由器那里获得许多相同的设置。因此，你应该几乎总是首先设置你的网络中的网关路由器——在你向网络添加计算机之前。
- en: Note
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: When you connect a single computer directly to the Internet through a high-speed
    (DSL or cable) modem, you must use the settings supplied by your ISP or the modem.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 当你通过高速（DSL 或电缆）调制解调器直接将一台计算机连接到互联网时，你必须使用你的 ISP 或调制解调器提供的设置。
- en: The essential settings for connecting a computer to the Internet through a LAN
    are similar to the ones that you use to set up the modem and the router. The next
    sections explain how to deal with each of them.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 通过局域网连接计算机到互联网的基本设置与您用来设置调制解调器和路由器的设置类似。接下来的几节将解释如何处理每个设置。
- en: DHCP Servers On or Off
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: DHCP服务器开启或关闭
- en: A DHCP server automatically assigns IP addresses and other configuration information
    to all of the devices in a network. In a LAN, the DHCP server is most often part
    of the router or modem that connects that network to the Internet or built into
    a network hub. In most small networks, using a DHCP server is more convenient
    than assigning a static IP address to each network device one at a time.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: DHCP服务器会自动将IP地址和其他配置信息分配给网络中的所有设备。在局域网（LAN）中，DHCP服务器通常是连接该网络到互联网的路由器或调制解调器的一部分，或者集成在网络集线器中。在大多数小型网络中，使用DHCP服务器比逐个为网络设备分配静态IP地址更方便。
- en: The DHCP setting is a common cause of connection problems. If a computer is
    configured to obtain its IP address and other settings from a DHCP server, the
    DHCP server on the router or modem must be active. Other (less common) DHCP problems
    can occur when more than one server is active at the same time. In some cases,
    the other network devices will obtain DHCP settings from the "wrong" server, or
    the settings will not allow you to connect to the Internet. If you can't successfully
    connect a computer to the Internet through your LAN when testing your network,
    you should always check the DHCP server settings.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: DHCP设置是连接问题的一个常见原因。如果计算机配置为从DHCP服务器获取其IP地址和其他设置，则路由器或调制解调器上的DHCP服务器必须处于活动状态。当同时有多个服务器处于活动状态时，可能会出现其他（较少见）的DHCP问题。在某些情况下，其他网络设备将从“错误的”服务器获取DHCP设置，或者设置不允许您连接到互联网。如果在测试网络时无法通过您的局域网成功连接计算机到互联网，您应该始终检查DHCP服务器设置。
- en: 'There are several important things to know about using DHCP in a LAN:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在局域网中使用DHCP时，有几个重要的事项需要了解：
- en: A network can have just one active DHCP server.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络只能有一个活动的DHCP服务器。
- en: When a network is using a DHCP server, each computer and other device (such
    as a printer or game console) connected to the network must be configured to accept
    an address from the DHCP server. In Windows, the Obtain an IP address automatically
    option, shown in [Figure 10-2](ch10.html#when_the_obtain_an_ip_address_automatic
    "Figure 10-2. When the Obtain an IP address automatically option is active, Windows
    uses the network's DHCP server to set its IP address."), must be active.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当网络使用DHCP服务器时，连接到网络的每台计算机和其他设备（如打印机或游戏机）都必须配置为接受来自DHCP服务器的地址。在Windows中，必须激活“自动获取IP地址”选项，如图[图10-2](ch10.html#when_the_obtain_an_ip_address_automatic
    "图10-2. 当自动获取IP地址选项激活时，Windows使用网络的DHCP服务器设置其IP地址")所示。
- en: '![When the Obtain an IP address automatically option is active, Windows uses
    the network''s DHCP server to set its IP address.](tagoreillycom20090324nostarchimages266314.png.jpg)'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![当自动获取IP地址选项激活时，Windows使用网络的DHCP服务器设置其IP地址。](tagoreillycom20090324nostarchimages266314.png.jpg)'
- en: '**Figure 10-2. When the Obtain an IP address automatically option is active,
    Windows uses the network''s DHCP server to set its IP address.**'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图10-2. 当自动获取IP地址选项激活时，Windows使用网络的DHCP服务器设置其IP地址。**'
- en: In Macintosh OS X, the Configure IPv4 option, shown in [Figure 10-3](ch10.html#in_os_x_comma_choose_the_using_dhcp_opt
    "Figure 10-3. In OS X, choose the Using DHCP option to obtain an IP address from
    a server."), must be set to Using DHCP.
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在Macintosh OS X中，必须将“配置IPv4”选项设置为“使用DHCP”，如图[图10-3](ch10.html#in_os_x_comma_choose_the_using_dhcp_opt
    "图10-3. 在OS X中，选择使用DHCP选项从服务器获取IP地址")所示。
- en: The IP address number assigned by the DHCP server must be within one of the
    reserved ranges. In almost all cases, you don't have to change the server's default
    values.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DHCP服务器分配的IP地址必须位于保留范围之一。在几乎所有情况下，您都不需要更改服务器的默认值。
- en: Most hubs, routers, modems, and Wi-Fi access points use one or more web-based
    pages (such as the one shown in [Figure 10-4](ch10.html#the_dhcp_server_sets_the_ip_addresses_f
    "Figure 10-4. The DHCP server sets the IP addresses for the entire network."))
    to display and change the DHCP server's settings. However, the pages supplied
    with just about every make and model of network control device are organized slightly
    differently. So you must consult the manual supplied with your device or the manufacturer's
    website for specific instructions.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数集线器、路由器、调制解调器和Wi-Fi接入点使用一个或多个基于网页的页面（例如[图10-4](ch10.html#the_dhcp_server_sets_the_ip_addresses_f
    "图10-4. DHCP服务器为整个网络设置IP地址。")所示）来显示和更改DHCP服务器的设置。然而，几乎每种网络控制设备的页面组织方式都有所不同。因此，您必须查阅您设备的说明书或制造商的网站以获取具体说明。
- en: '![In OS X, choose the Using DHCP option to obtain an IP address from a server.](tagoreillycom20090324nostarchimages266316.png.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![在OS X中，选择使用DHCP选项从服务器获取IP地址。](tagoreillycom20090324nostarchimages266316.png.jpg)'
- en: '**Figure 10-3. In OS X, choose the Using DHCP option to obtain an IP address
    from a server.**'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**图10-3. 在OS X中，选择使用DHCP选项从服务器获取IP地址。**'
- en: In this example, the important settings are DHCP Server and Starting IP Address.
    When the DHCP server is enabled, the server provides IP addresses for the entire
    network. When the server is disabled, each computer and network node uses a static
    address that you must set on that computer or node.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，重要的设置是DHCP服务器和起始IP地址。当DHCP服务器启用时，服务器为整个网络提供IP地址。当服务器禁用时，每个计算机和网络节点使用静态地址，您必须在计算机或节点上设置该地址。
- en: '![The DHCP server sets the IP addresses for the entire network.](tagoreillycom20090324nostarchimages266318.png.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![DHCP服务器为整个网络设置IP地址。](tagoreillycom20090324nostarchimages266318.png.jpg)'
- en: '**Figure 10-4. The DHCP server sets the IP addresses for the entire network.**'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**图10-4. DHCP服务器为整个网络设置IP地址。**'
- en: The Starting IP Address setting specifies the lowest IP address number that
    the server will assign to a client device. The Number of DHCP Users setting defines
    the highest number in the address range (in this case, 192.168.1.149). In some
    systems, the server asks for a range of numbers instead of the starting number
    and the number of users. In either case, allow for more DHCP users than the number
    of machines currently connected to the network, so the server can continue to
    support your network after you add more devices.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 起始IP地址设置指定了服务器将分配给客户端设备的最低IP地址编号。DHCP用户数量设置定义了地址范围中的最高编号（在本例中为192.168.1.149）。在某些系统中，服务器要求输入一个数字范围而不是起始编号和用户数量。在任何情况下，请确保DHCP用户数量多于当前连接到网络的计算机数量，以便服务器在您添加更多设备后仍能继续支持您的网络。
- en: Subnet Masks
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 子网掩码
- en: The subnet mask setting specifies which part of the IP address changes for each
    device connected to the network. Unless you have a reason to use a different mask,
    set the subnet mask to 255.255.255.0\. If the network uses DHCP to assign IP addresses,
    you don't have to enter a subnet mask on each client device.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 子网掩码设置指定了网络中每个连接到网络的设备IP地址的哪一部分会发生变化。除非您有使用不同掩码的理由，否则将子网掩码设置为255.255.255.0。如果网络使用DHCP分配IP地址，您不需要在每个客户端设备上输入子网掩码。
- en: For most of us, the subnet mask is another of those settings that we have to
    enter correctly to make the network work properly, but we really don't need to
    know what it means. In a large or complex network, however, you can use subnet
    masking to separate the network into smaller subsidiary networks, or *subnets*.
    Computers and other network nodes within the same subnet can exchange data more
    quickly because they don't have to go all the way out to the larger WAN or the
    Internet and back again to locate one another.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们大多数人来说，子网掩码是那些我们必须正确输入以使网络正常工作的设置之一，但我们实际上并不需要知道它的含义。然而，在大型或复杂的网络中，您可以使用子网掩码将网络划分为更小的辅助网络，或称为*子网*。同一子网内的计算机和其他网络节点可以更快地交换数据，因为它们不需要完全到达更大的WAN或互联网然后再返回来定位彼此。
- en: As you know, numeric IP addresses are divided into four groups of numbers, each
    of them within the range from 0 to 255\. One part of the address identifies the
    network, and the other identifies a specific computer. For example, your ISP might
    use a WAN with the network address 203.23.145.*XXX*; the individual computers
    and LANs connected to that WAN would have addresses from 203.23.145.000 to 203.23.145.255\.
    In this case, the subnet mask would be 255.255.255.0 because the local address
    is limited to the last part of the address (the zero). A maximum of 256 devices
    (numbered 0 through 255) can be connected to this subnet.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所知，数字 IP 地址被分为四组数字，每组数字的范围从 0 到 255。地址的一部分标识网络，另一部分标识特定的计算机。例如，您的 ISP 可能使用具有网络地址
    203.23.145.*XXX* 的广域网；连接到该广域网的个别计算机和局域网将具有从 203.23.145.000 到 203.23.145.255 的地址。在这种情况下，子网掩码将是
    255.255.255.0，因为本地地址仅限于地址的最后一部分（零）。最多可以连接 256 个设备（编号从 0 到 255）到这个子网。
- en: Within your own LAN, you can use subnet masking to divide the network into two
    or more subnets. Dividing the network into subnets is useful when you want to
    separate your wired connections from the Wi-Fi access point or when you want to
    use an internal firewall to isolate computers that contain sensitive personnel
    or financial data from the rest of the network. To divide your LAN into two equal-size
    subnets, assign the subnet mask *XXX*.*XXX*.*XXX*.0 to one subnet and use local
    addresses from 1 to 126 (use 0 for the router). For the other subnet, use the
    subnet mask *XXX*.*XXX*.*XXX*.128 and assign addresses between 129 and 255\. You
    will need a separate router for each subnet.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的局域网内部，您可以使用子网掩码将网络划分为两个或更多个子网。当您想要将有线连接与 Wi-Fi 接入点分开，或者您想要使用内部防火墙将包含敏感人员或财务数据的计算机与网络的其他部分隔离开来时，将网络划分为子网非常有用。要将您的局域网划分为两个大小相等的子网，将子网掩码
    *XXX*.*XXX*.*XXX*.0 分配给一个子网，并使用从 1 到 126 的本地地址（路由器使用 0）。对于另一个子网，使用子网掩码 *XXX*.*XXX*.*XXX*.128
    并分配从 129 到 255 的地址。您需要为每个子网配备一个单独的路由器。
- en: Note
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Using subnets to split a LAN into separate groups counts as an advanced networking
    practice; you're not likely to see this setup in a simple home or very small business
    network.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 使用子网将局域网划分为独立的组是一种高级网络实践；你不太可能在简单的家庭网络或非常小的商业网络中看到这种配置。
- en: IP Addresses
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IP 地址
- en: As [Chapter 4](ch04.html "Chapter 4. HOW COMPUTER NETWORKS ARE ORGANIZED") explained,
    several groups of numeric IP addresses have been reserved for computers and other
    devices connected to LANs. Because these addresses are only visible within each
    LAN, it's practical to use the same addresses in different networks. Every computer
    and every other device connected to your network must have a different address
    within one of these reserved number ranges.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如[第 4 章](ch04.html "第 4 章. 计算机网络的组织方式")所述，已经为连接到局域网的计算机和其他设备预留了几个数字 IP 地址组。因为这些地址仅在各自的局域网内可见，所以在不同的网络中使用相同的地址是实用的。连接到您的网络中的每台计算机和每个其他设备都必须在这些预留的数字范围内有一个不同的地址。
- en: Each network device, including the LAN side of the router itself, must have
    a different IP address from one of the reserved groups. A DHCP server (usually
    part of the router or modem) will take care of this automatically and assign new
    addresses whenever users connect another computer to the network. This can be
    especially convenient if users connect and disconnect laptops and other portable
    devices to and from the network.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 每个网络设备，包括路由器本身的局域网部分，必须从预留组中有一个不同的 IP 地址。一个 DHCP 服务器（通常是路由器或调制解调器的一部分）会自动处理此事，并在用户将另一台计算机连接到网络时分配新的地址。如果用户将笔记本电脑和其他便携式设备连接到网络并断开连接，这会特别方便。
- en: If you're *not* using a DHCP server, you'll have to set the address for each
    device, one machine at a time. The LAN side of your router or modem usually has
    a default address that you use to reach its configuration utility (look in the
    device's manual to find the address). You do *not* have to change the default
    address on a router or other control device unless another device (such as a Wi-Fi
    access point) has the same default address. To make sure that you haven't assigned
    the same address to more than one device, keep a master list of IP addresses that
    includes every device connected to the network, including laptops and other portable
    devices that use part-time connections. You can keep the list in a text file stored
    on your own computer, but you should also print a copy of the current list (including
    the date) and keep it separately from the computer. When it's time to add one
    or more additional devices, consult the list to find and add a new address that
    isn't already assigned.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不使用DHCP服务器，您将必须逐个为每个设备设置地址。路由器或调制解调器的局域网通常有一个默认地址，您可以使用它来访问其配置实用程序（请在设备的手册中查找地址）。您不需要更改路由器或其他控制设备上的默认地址，除非另一个设备（例如Wi-Fi接入点）具有相同的默认地址。为了确保您没有为多个设备分配相同的地址，请保留一个包含网络中每个设备的IP地址的主列表，包括笔记本电脑和其他使用临时连接的可携带设备。您可以将列表保存在您自己的计算机上的文本文件中，但也应该打印当前列表（包括日期）并单独保存。当需要添加一个或多个额外设备时，请查阅列表以找到并添加一个尚未分配的新地址。
- en: DNS Servers
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: DNS服务器
- en: Your LAN needs one or more DNS servers to convert Internet addresses to numeric
    IP addresses, but the DNS servers don't have to be part of the LAN; you can use
    a DNS server anywhere on the Internet. Use the same DNS server addresses for each
    computer that you used for the WAN side of the router.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 您的局域网需要一个或多个DNS服务器将互联网地址转换为数字IP地址，但DNS服务器不必是局域网的一部分；您可以在互联网上的任何地方使用DNS服务器。为每个计算机使用与路由器WAN端相同的DNS服务器地址。
- en: Note
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you can't get a DNS server address from your ISP, run a web search for *public
    DNS server* to find addresses for alternative servers. One widely-used public
    DNS is OpenDNS ([http://www.openDNS.com/](http://www.openDNS.com/)).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您无法从您的ISP那里获取DNS服务器地址，请运行网络搜索以查找*公共DNS服务器*以找到替代服务器的地址。一个广泛使用的公共DNS是OpenDNS
    ([http://www.openDNS.com/](http://www.openDNS.com/))。
- en: Gateways
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网关
- en: The *gateway* address is the address of the router or other control device that
    relays data between computers on a LAN and the Internet. This gateway is sometimes
    called the *default gateway*. The gateway address is the same as the numeric address
    used for the LAN side of the router. Consult the router manual to find the correct
    address for your network.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '*网关*地址是路由器或其他控制设备的地址，该设备在局域网上的计算机和互联网之间中继数据。这个网关有时被称为*默认网关*。网关地址与路由器局域网端使用的数字地址相同。请查阅路由器手册以找到您网络的正确地址。'
- en: Computers connected to the network don't use the same gateway address as the
    router or modem. The router/modem is the gateway between your network and the
    ISP's WAN. Your ISP's gateway address identifies the path between their WAN and
    the rest of the Internet.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 连接到网络的计算机不使用与路由器或调制解调器相同的网关地址。路由器/调制解调器是您网络和ISP的WAN之间的网关。您的ISP的网关地址标识了它们WAN与互联网其余部分之间的路径。
- en: Configuring the Network Gateway
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置网络网关
- en: The best place to find specific instructions for configuring the WAN side of
    a modem, router, or other network control device is in the information provided
    by your ISP. Specifically, when you set up a new ISP account, you should obtain
    your connection's static IP address or DHCP setting, the DNS server addresses,
    the subnet mask, and the gateway address. The ISP will probably give you addresses
    and a password for your email account at the same time, but you don't need them
    to configure the network connection (although you will need them to send and receive
    messages).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 要找到配置调制解调器、路由器或其他网络控制设备WAN端的特定说明，最佳地点是您的ISP提供的信息。具体来说，当您设置新的ISP账户时，您应该获取您的连接的静态IP地址或DHCP设置、DNS服务器地址、子网掩码和网关地址。ISP可能会同时为您提供电子邮件账户的地址和密码，但您不需要它们来配置网络连接（尽管您需要它们来发送和接收消息）。
- en: If your ISP requires a login and password every time you connect, you will need
    a router or modem that uses the same set of connection rules (the *protocol*)
    that your ISP's equipment expects. If your ISP does not provide a modem, ask them
    for a list of compatible makes and models.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的ISP每次连接时都需要登录名和密码，您将需要一个使用与ISP的设备期望的相同连接规则（即*协议*）的路由器或调制解调器。如果您的ISP不提供调制解调器，请向他们索取兼容的品牌和型号列表。
- en: The LAN side of the router uses addresses and other settings that don't extend
    beyond your own network, so your network can use the same settings as your neighbor's
    network. Therefore, many manufacturers ship their routers with preset addresses
    that should work for most networks. The user's manual or setup guide supplied
    with the device usually contains step-by-step instructions for changing the settings.
    If you can't find a printed copy of the manual, look for one on the manufacturer's
    website.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 路由器的局域网端使用地址和其他设置，这些设置不会超出您的网络范围，因此您的网络可以使用与邻居网络相同的设置。因此，许多制造商在路由器中预设了应该适用于大多数网络的地址。设备附带的用户手册或设置指南通常包含更改设置的逐步说明。如果您找不到打印的手册副本，请在网上制造商的网站上查找。
- en: Note
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '[Chapter 11](ch11.html "Chapter 11. CONNECTING YOUR COMPUTER TO A NETWORK")
    contains detailed instructions for connecting routers using Windows, Macintosh
    OS X, and Linux or Unix to a LAN. To connect a NAS device, printer, or other device
    to the network, follow the instructions supplied with each device.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](ch11.html "第11章。将您的计算机连接到网络")包含了使用Windows、Macintosh OS X、Linux或Unix连接路由器的详细说明。要将NAS设备、打印机或其他设备连接到网络，请遵循每个设备提供的说明。'
- en: Summary
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Your network connects to the Internet through a gateway router that appears
    as a node on both your own LAN and your ISP's WAN. In order to exchange data between
    a network computer and the Internet, you must configure the WAN side of the router
    with addresses and options supplied by your ISP.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 您的网络通过一个网关路由器连接到互联网，该路由器在您的局域网和ISP的广域网（WAN）上均表现为一个节点。为了在网络上的一台计算机和互联网之间交换数据，您必须使用ISP提供的地址和选项配置路由器的广域网（WAN）端。
- en: The LAN side of the router controls the way your own network handles communication
    with the Internet. Therefore, the router's LAN-side settings must be compatible
    with the settings on each computer and other device connected to the LAN.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 路由器的局域网（LAN）端控制着您的网络如何与互联网进行通信。因此，路由器的局域网端设置必须与连接到局域网的每台计算机和其他设备的设置兼容。
